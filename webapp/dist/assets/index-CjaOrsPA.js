(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const g of d)if(g.type==="childList")for(const _ of g.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&c(_)}).observe(document,{childList:!0,subtree:!0});function s(d){const g={};return d.integrity&&(g.integrity=d.integrity),d.referrerPolicy&&(g.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?g.credentials="include":d.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function c(d){if(d.ep)return;d.ep=!0;const g=s(d);fetch(d.href,g)}})();var Ds=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ff={exports:{}},Zl={},jf={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var va=Symbol.for("react.element"),bg=Symbol.for("react.portal"),Ig=Symbol.for("react.fragment"),Tg=Symbol.for("react.strict_mode"),Ng=Symbol.for("react.profiler"),Mg=Symbol.for("react.provider"),Og=Symbol.for("react.context"),kg=Symbol.for("react.forward_ref"),Lg=Symbol.for("react.suspense"),Rg=Symbol.for("react.memo"),Dg=Symbol.for("react.lazy"),ld=Symbol.iterator;function Pg(e){return e===null||typeof e!="object"?null:(e=ld&&e[ld]||e["@@iterator"],typeof e=="function"?e:null)}var zf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Uf=Object.assign,Hf={};function co(e,n,s){this.props=e,this.context=n,this.refs=Hf,this.updater=s||zf}co.prototype.isReactComponent={};co.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};co.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vf(){}Vf.prototype=co.prototype;function Qc(e,n,s){this.props=e,this.context=n,this.refs=Hf,this.updater=s||zf}var Kc=Qc.prototype=new Vf;Kc.constructor=Qc;Uf(Kc,co.prototype);Kc.isPureReactComponent=!0;var ud=Array.isArray,Zf=Object.prototype.hasOwnProperty,qc={current:null},Wf={key:!0,ref:!0,__self:!0,__source:!0};function Gf(e,n,s){var c,d={},g=null,_=null;if(n!=null)for(c in n.ref!==void 0&&(_=n.ref),n.key!==void 0&&(g=""+n.key),n)Zf.call(n,c)&&!Wf.hasOwnProperty(c)&&(d[c]=n[c]);var A=arguments.length-2;if(A===1)d.children=s;else if(1<A){for(var S=Array(A),v=0;v<A;v++)S[v]=arguments[v+2];d.children=S}if(e&&e.defaultProps)for(c in A=e.defaultProps,A)d[c]===void 0&&(d[c]=A[c]);return{$$typeof:va,type:e,key:g,ref:_,props:d,_owner:qc.current}}function Bg(e,n){return{$$typeof:va,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function Jc(e){return typeof e=="object"&&e!==null&&e.$$typeof===va}function Fg(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return n[s]})}var cd=/\/+/g;function Eu(e,n){return typeof e=="object"&&e!==null&&e.key!=null?Fg(""+e.key):n.toString(36)}function rl(e,n,s,c,d){var g=typeof e;(g==="undefined"||g==="boolean")&&(e=null);var _=!1;if(e===null)_=!0;else switch(g){case"string":case"number":_=!0;break;case"object":switch(e.$$typeof){case va:case bg:_=!0}}if(_)return _=e,d=d(_),e=c===""?"."+Eu(_,0):c,ud(d)?(s="",e!=null&&(s=e.replace(cd,"$&/")+"/"),rl(d,n,s,"",function(v){return v})):d!=null&&(Jc(d)&&(d=Bg(d,s+(!d.key||_&&_.key===d.key?"":(""+d.key).replace(cd,"$&/")+"/")+e)),n.push(d)),1;if(_=0,c=c===""?".":c+":",ud(e))for(var A=0;A<e.length;A++){g=e[A];var S=c+Eu(g,A);_+=rl(g,n,s,S,d)}else if(S=Pg(e),typeof S=="function")for(e=S.call(e),A=0;!(g=e.next()).done;)g=g.value,S=c+Eu(g,A++),_+=rl(g,n,s,S,d);else if(g==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return _}function Fa(e,n,s){if(e==null)return e;var c=[],d=0;return rl(e,c,"","",function(g){return n.call(s,g,d++)}),c}function jg(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var Dn={current:null},il={transition:null},zg={ReactCurrentDispatcher:Dn,ReactCurrentBatchConfig:il,ReactCurrentOwner:qc};function Yf(){throw Error("act(...) is not supported in production builds of React.")}et.Children={map:Fa,forEach:function(e,n,s){Fa(e,function(){n.apply(this,arguments)},s)},count:function(e){var n=0;return Fa(e,function(){n++}),n},toArray:function(e){return Fa(e,function(n){return n})||[]},only:function(e){if(!Jc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};et.Component=co;et.Fragment=Ig;et.Profiler=Ng;et.PureComponent=Qc;et.StrictMode=Tg;et.Suspense=Lg;et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zg;et.act=Yf;et.cloneElement=function(e,n,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var c=Uf({},e.props),d=e.key,g=e.ref,_=e._owner;if(n!=null){if(n.ref!==void 0&&(g=n.ref,_=qc.current),n.key!==void 0&&(d=""+n.key),e.type&&e.type.defaultProps)var A=e.type.defaultProps;for(S in n)Zf.call(n,S)&&!Wf.hasOwnProperty(S)&&(c[S]=n[S]===void 0&&A!==void 0?A[S]:n[S])}var S=arguments.length-2;if(S===1)c.children=s;else if(1<S){A=Array(S);for(var v=0;v<S;v++)A[v]=arguments[v+2];c.children=A}return{$$typeof:va,type:e.type,key:d,ref:g,props:c,_owner:_}};et.createContext=function(e){return e={$$typeof:Og,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Mg,_context:e},e.Consumer=e};et.createElement=Gf;et.createFactory=function(e){var n=Gf.bind(null,e);return n.type=e,n};et.createRef=function(){return{current:null}};et.forwardRef=function(e){return{$$typeof:kg,render:e}};et.isValidElement=Jc;et.lazy=function(e){return{$$typeof:Dg,_payload:{_status:-1,_result:e},_init:jg}};et.memo=function(e,n){return{$$typeof:Rg,type:e,compare:n===void 0?null:n}};et.startTransition=function(e){var n=il.transition;il.transition={};try{e()}finally{il.transition=n}};et.unstable_act=Yf;et.useCallback=function(e,n){return Dn.current.useCallback(e,n)};et.useContext=function(e){return Dn.current.useContext(e)};et.useDebugValue=function(){};et.useDeferredValue=function(e){return Dn.current.useDeferredValue(e)};et.useEffect=function(e,n){return Dn.current.useEffect(e,n)};et.useId=function(){return Dn.current.useId()};et.useImperativeHandle=function(e,n,s){return Dn.current.useImperativeHandle(e,n,s)};et.useInsertionEffect=function(e,n){return Dn.current.useInsertionEffect(e,n)};et.useLayoutEffect=function(e,n){return Dn.current.useLayoutEffect(e,n)};et.useMemo=function(e,n){return Dn.current.useMemo(e,n)};et.useReducer=function(e,n,s){return Dn.current.useReducer(e,n,s)};et.useRef=function(e){return Dn.current.useRef(e)};et.useState=function(e){return Dn.current.useState(e)};et.useSyncExternalStore=function(e,n,s){return Dn.current.useSyncExternalStore(e,n,s)};et.useTransition=function(){return Dn.current.useTransition()};et.version="18.3.1";jf.exports=et;var he=jf.exports;const ml=Bf(he);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug=he,Hg=Symbol.for("react.element"),Vg=Symbol.for("react.fragment"),Zg=Object.prototype.hasOwnProperty,Wg=Ug.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gg={key:!0,ref:!0,__self:!0,__source:!0};function Xf(e,n,s){var c,d={},g=null,_=null;s!==void 0&&(g=""+s),n.key!==void 0&&(g=""+n.key),n.ref!==void 0&&(_=n.ref);for(c in n)Zg.call(n,c)&&!Gg.hasOwnProperty(c)&&(d[c]=n[c]);if(e&&e.defaultProps)for(c in n=e.defaultProps,n)d[c]===void 0&&(d[c]=n[c]);return{$$typeof:Hg,type:e,key:g,ref:_,props:d,_owner:Wg.current}}Zl.Fragment=Vg;Zl.jsx=Xf;Zl.jsxs=Xf;Ff.exports=Zl;var w=Ff.exports,qu={},Qf={exports:{}},rr={},Kf={exports:{}},qf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(ne,Oe){var oe=ne.length;ne.push(Oe);e:for(;0<oe;){var Pe=oe-1>>>1,De=ne[Pe];if(0<d(De,Oe))ne[Pe]=Oe,ne[oe]=De,oe=Pe;else break e}}function s(ne){return ne.length===0?null:ne[0]}function c(ne){if(ne.length===0)return null;var Oe=ne[0],oe=ne.pop();if(oe!==Oe){ne[0]=oe;e:for(var Pe=0,De=ne.length,ht=De>>>1;Pe<ht;){var je=2*(Pe+1)-1,Qe=ne[je],le=je+1,Gt=ne[le];if(0>d(Qe,oe))le<De&&0>d(Gt,Qe)?(ne[Pe]=Gt,ne[le]=oe,Pe=le):(ne[Pe]=Qe,ne[je]=oe,Pe=je);else if(le<De&&0>d(Gt,oe))ne[Pe]=Gt,ne[le]=oe,Pe=le;else break e}}return Oe}function d(ne,Oe){var oe=ne.sortIndex-Oe.sortIndex;return oe!==0?oe:ne.id-Oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;e.unstable_now=function(){return g.now()}}else{var _=Date,A=_.now();e.unstable_now=function(){return _.now()-A}}var S=[],v=[],O=1,k=null,U=3,Y=!1,te=!1,H=!1,ye=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(ne){for(var Oe=s(v);Oe!==null;){if(Oe.callback===null)c(v);else if(Oe.startTime<=ne)c(v),Oe.sortIndex=Oe.expirationTime,n(S,Oe);else break;Oe=s(v)}}function J(ne){if(H=!1,P(ne),!te)if(s(S)!==null)te=!0,Ge(fe);else{var Oe=s(v);Oe!==null&&_e(J,Oe.startTime-ne)}}function fe(ne,Oe){te=!1,H&&(H=!1,j(ee),ee=-1),Y=!0;var oe=U;try{for(P(Oe),k=s(S);k!==null&&(!(k.expirationTime>Oe)||ne&&!Re());){var Pe=k.callback;if(typeof Pe=="function"){k.callback=null,U=k.priorityLevel;var De=Pe(k.expirationTime<=Oe);Oe=e.unstable_now(),typeof De=="function"?k.callback=De:k===s(S)&&c(S),P(Oe)}else c(S);k=s(S)}if(k!==null)var ht=!0;else{var je=s(v);je!==null&&_e(J,je.startTime-Oe),ht=!1}return ht}finally{k=null,U=oe,Y=!1}}var ae=!1,V=null,ee=-1,$=5,Se=-1;function Re(){return!(e.unstable_now()-Se<$)}function ge(){if(V!==null){var ne=e.unstable_now();Se=ne;var Oe=!0;try{Oe=V(!0,ne)}finally{Oe?Ze():(ae=!1,V=null)}}else ae=!1}var Ze;if(typeof D=="function")Ze=function(){D(ge)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,q=Le.port2;Le.port1.onmessage=ge,Ze=function(){q.postMessage(null)}}else Ze=function(){ye(ge,0)};function Ge(ne){V=ne,ae||(ae=!0,Ze())}function _e(ne,Oe){ee=ye(function(){ne(e.unstable_now())},Oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_continueExecution=function(){te||Y||(te=!0,Ge(fe))},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return U},e.unstable_getFirstCallbackNode=function(){return s(S)},e.unstable_next=function(ne){switch(U){case 1:case 2:case 3:var Oe=3;break;default:Oe=U}var oe=U;U=Oe;try{return ne()}finally{U=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ne,Oe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var oe=U;U=ne;try{return Oe()}finally{U=oe}},e.unstable_scheduleCallback=function(ne,Oe,oe){var Pe=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Pe+oe:Pe):oe=Pe,ne){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=oe+De,ne={id:O++,callback:Oe,priorityLevel:ne,startTime:oe,expirationTime:De,sortIndex:-1},oe>Pe?(ne.sortIndex=oe,n(v,ne),s(S)===null&&ne===s(v)&&(H?(j(ee),ee=-1):H=!0,_e(J,oe-Pe))):(ne.sortIndex=De,n(S,ne),te||Y||(te=!0,Ge(fe))),ne},e.unstable_shouldYield=Re,e.unstable_wrapCallback=function(ne){var Oe=U;return function(){var oe=U;U=Oe;try{return ne.apply(this,arguments)}finally{U=oe}}}})(qf);Kf.exports=qf;var Yg=Kf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg=he,nr=Yg;function de(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jf=new Set,ia={};function As(e,n){ro(e,n),ro(e+"Capture",n)}function ro(e,n){for(ia[e]=n,e=0;e<n.length;e++)Jf.add(n[e])}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ju=Object.prototype.hasOwnProperty,Qg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hd={},dd={};function Kg(e){return Ju.call(dd,e)?!0:Ju.call(hd,e)?!1:Qg.test(e)?dd[e]=!0:(hd[e]=!0,!1)}function qg(e,n,s,c){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return c?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Jg(e,n,s,c){if(n===null||typeof n>"u"||qg(e,n,s,c))return!0;if(c)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Pn(e,n,s,c,d,g,_){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=g,this.removeEmptyString=_}var xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xn[e]=new Pn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];xn[n]=new Pn(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xn[e]=new Pn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xn[e]=new Pn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xn[e]=new Pn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xn[e]=new Pn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xn[e]=new Pn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xn[e]=new Pn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xn[e]=new Pn(e,5,!1,e.toLowerCase(),null,!1,!1)});var $c=/[\-:]([a-z])/g;function eh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace($c,eh);xn[n]=new Pn(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace($c,eh);xn[n]=new Pn(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace($c,eh);xn[n]=new Pn(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xn[e]=new Pn(e,1,!1,e.toLowerCase(),null,!1,!1)});xn.xlinkHref=new Pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xn[e]=new Pn(e,1,!1,e.toLowerCase(),null,!0,!0)});function th(e,n,s,c){var d=xn.hasOwnProperty(n)?xn[n]:null;(d!==null?d.type!==0:c||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(Jg(n,s,d,c)&&(s=null),c||d===null?Kg(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):d.mustUseProperty?e[d.propertyName]=s===null?d.type===3?!1:"":s:(n=d.attributeName,c=d.attributeNamespace,s===null?e.removeAttribute(n):(d=d.type,s=d===3||d===4&&s===!0?"":""+s,c?e.setAttributeNS(c,n,s):e.setAttribute(n,s))))}var yi=Xg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ja=Symbol.for("react.element"),Ps=Symbol.for("react.portal"),Bs=Symbol.for("react.fragment"),nh=Symbol.for("react.strict_mode"),$u=Symbol.for("react.profiler"),$f=Symbol.for("react.provider"),e0=Symbol.for("react.context"),rh=Symbol.for("react.forward_ref"),ec=Symbol.for("react.suspense"),tc=Symbol.for("react.suspense_list"),ih=Symbol.for("react.memo"),Ri=Symbol.for("react.lazy"),t0=Symbol.for("react.offscreen"),fd=Symbol.iterator;function Ro(e){return e===null||typeof e!="object"?null:(e=fd&&e[fd]||e["@@iterator"],typeof e=="function"?e:null)}var jt=Object.assign,Au;function Ho(e){if(Au===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Au=n&&n[1]||""}return`
`+Au+e}var Su=!1;function bu(e,n){if(!e||Su)return"";Su=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(v){var c=v}Reflect.construct(e,[],n)}else{try{n.call()}catch(v){c=v}e.call(n.prototype)}else{try{throw Error()}catch(v){c=v}e()}}catch(v){if(v&&c&&typeof v.stack=="string"){for(var d=v.stack.split(`
`),g=c.stack.split(`
`),_=d.length-1,A=g.length-1;1<=_&&0<=A&&d[_]!==g[A];)A--;for(;1<=_&&0<=A;_--,A--)if(d[_]!==g[A]){if(_!==1||A!==1)do if(_--,A--,0>A||d[_]!==g[A]){var S=`
`+d[_].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=_&&0<=A);break}}}finally{Su=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Ho(e):""}function $g(e){switch(e.tag){case 5:return Ho(e.type);case 16:return Ho("Lazy");case 13:return Ho("Suspense");case 19:return Ho("SuspenseList");case 0:case 2:case 15:return e=bu(e.type,!1),e;case 11:return e=bu(e.type.render,!1),e;case 1:return e=bu(e.type,!0),e;default:return""}}function nc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bs:return"Fragment";case Ps:return"Portal";case $u:return"Profiler";case nh:return"StrictMode";case ec:return"Suspense";case tc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case e0:return(e.displayName||"Context")+".Consumer";case $f:return(e._context.displayName||"Context")+".Provider";case rh:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ih:return n=e.displayName||null,n!==null?n:nc(e.type)||"Memo";case Ri:n=e._payload,e=e._init;try{return nc(e(n))}catch{}}return null}function ep(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nc(n);case 8:return n===nh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Xi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function n0(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function tp(e){var n=n0(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),c=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,g=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,g.call(this,_)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function za(e){e._valueTracker||(e._valueTracker=tp(e))}function r0(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),c="";return e&&(c=n0(e)?e.checked?"true":"false":e.value),e=c,e!==s?(n.setValue(e),!0):!1}function xl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rc(e,n){var s=n.checked;return jt({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function gd(e,n){var s=n.defaultValue==null?"":n.defaultValue,c=n.checked!=null?n.checked:n.defaultChecked;s=Xi(n.value!=null?n.value:s),e._wrapperState={initialChecked:c,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function i0(e,n){n=n.checked,n!=null&&th(e,"checked",n,!1)}function ic(e,n){i0(e,n);var s=Xi(n.value),c=n.type;if(s!=null)c==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?sc(e,n.type,s):n.hasOwnProperty("defaultValue")&&sc(e,n.type,Xi(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function pd(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var c=n.type;if(!(c!=="submit"&&c!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function sc(e,n,s){(n!=="number"||xl(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Vo=Array.isArray;function Qs(e,n,s,c){if(e=e.options,n){n={};for(var d=0;d<s.length;d++)n["$"+s[d]]=!0;for(s=0;s<e.length;s++)d=n.hasOwnProperty("$"+e[s].value),e[s].selected!==d&&(e[s].selected=d),d&&c&&(e[s].defaultSelected=!0)}else{for(s=""+Xi(s),n=null,d=0;d<e.length;d++){if(e[d].value===s){e[d].selected=!0,c&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function oc(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(de(91));return jt({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function md(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(de(92));if(Vo(s)){if(1<s.length)throw Error(de(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:Xi(s)}}function s0(e,n){var s=Xi(n.value),c=Xi(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),c!=null&&(e.defaultValue=""+c)}function xd(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function o0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ac(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?o0(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ua,a0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,c,d){MSApp.execUnsafeLocalFunction(function(){return e(n,s,c,d)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Ua=Ua||document.createElement("div"),Ua.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Ua.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function sa(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Yo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},np=["Webkit","ms","Moz","O"];Object.keys(Yo).forEach(function(e){np.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Yo[n]=Yo[e]})});function l0(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Yo.hasOwnProperty(e)&&Yo[e]?(""+n).trim():n+"px"}function u0(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var c=s.indexOf("--")===0,d=l0(s,n[s],c);s==="float"&&(s="cssFloat"),c?e.setProperty(s,d):e[s]=d}}var rp=jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lc(e,n){if(n){if(rp[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(de(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(de(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(de(61))}if(n.style!=null&&typeof n.style!="object")throw Error(de(62))}}function uc(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cc=null;function sh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hc=null,Ks=null,qs=null;function yd(e){if(e=Aa(e)){if(typeof hc!="function")throw Error(de(280));var n=e.stateNode;n&&(n=Ql(n),hc(e.stateNode,e.type,n))}}function c0(e){Ks?qs?qs.push(e):qs=[e]:Ks=e}function h0(){if(Ks){var e=Ks,n=qs;if(qs=Ks=null,yd(e),n)for(e=0;e<n.length;e++)yd(n[e])}}function d0(e,n){return e(n)}function f0(){}var Iu=!1;function g0(e,n,s){if(Iu)return e(n,s);Iu=!0;try{return d0(e,n,s)}finally{Iu=!1,(Ks!==null||qs!==null)&&(f0(),h0())}}function oa(e,n){var s=e.stateNode;if(s===null)return null;var c=Ql(s);if(c===null)return null;s=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(de(231,n,typeof s));return s}var dc=!1;if(gi)try{var Do={};Object.defineProperty(Do,"passive",{get:function(){dc=!0}}),window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{dc=!1}function ip(e,n,s,c,d,g,_,A,S){var v=Array.prototype.slice.call(arguments,3);try{n.apply(s,v)}catch(O){this.onError(O)}}var Xo=!1,yl=null,_l=!1,fc=null,sp={onError:function(e){Xo=!0,yl=e}};function op(e,n,s,c,d,g,_,A,S){Xo=!1,yl=null,ip.apply(sp,arguments)}function ap(e,n,s,c,d,g,_,A,S){if(op.apply(this,arguments),Xo){if(Xo){var v=yl;Xo=!1,yl=null}else throw Error(de(198));_l||(_l=!0,fc=v)}}function Ss(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function p0(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _d(e){if(Ss(e)!==e)throw Error(de(188))}function lp(e){var n=e.alternate;if(!n){if(n=Ss(e),n===null)throw Error(de(188));return n!==e?null:e}for(var s=e,c=n;;){var d=s.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){s=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===s)return _d(d),e;if(g===c)return _d(d),n;g=g.sibling}throw Error(de(188))}if(s.return!==c.return)s=d,c=g;else{for(var _=!1,A=d.child;A;){if(A===s){_=!0,s=d,c=g;break}if(A===c){_=!0,c=d,s=g;break}A=A.sibling}if(!_){for(A=g.child;A;){if(A===s){_=!0,s=g,c=d;break}if(A===c){_=!0,c=g,s=d;break}A=A.sibling}if(!_)throw Error(de(189))}}if(s.alternate!==c)throw Error(de(190))}if(s.tag!==3)throw Error(de(188));return s.stateNode.current===s?e:n}function m0(e){return e=lp(e),e!==null?x0(e):null}function x0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=x0(e);if(n!==null)return n;e=e.sibling}return null}var y0=nr.unstable_scheduleCallback,wd=nr.unstable_cancelCallback,up=nr.unstable_shouldYield,cp=nr.unstable_requestPaint,Wt=nr.unstable_now,hp=nr.unstable_getCurrentPriorityLevel,oh=nr.unstable_ImmediatePriority,_0=nr.unstable_UserBlockingPriority,wl=nr.unstable_NormalPriority,dp=nr.unstable_LowPriority,w0=nr.unstable_IdlePriority,Wl=null,qr=null;function fp(e){if(qr&&typeof qr.onCommitFiberRoot=="function")try{qr.onCommitFiberRoot(Wl,e,void 0,(e.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:mp,gp=Math.log,pp=Math.LN2;function mp(e){return e>>>=0,e===0?32:31-(gp(e)/pp|0)|0}var Ha=64,Va=4194304;function Zo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vl(e,n){var s=e.pendingLanes;if(s===0)return 0;var c=0,d=e.suspendedLanes,g=e.pingedLanes,_=s&268435455;if(_!==0){var A=_&~d;A!==0?c=Zo(A):(g&=_,g!==0&&(c=Zo(g)))}else _=s&~d,_!==0?c=Zo(_):g!==0&&(c=Zo(g));if(c===0)return 0;if(n!==0&&n!==c&&!(n&d)&&(d=c&-c,g=n&-n,d>=g||d===16&&(g&4194240)!==0))return n;if(c&4&&(c|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=c;0<n;)s=31-Rr(n),d=1<<s,c|=e[s],n&=~d;return c}function xp(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yp(e,n){for(var s=e.suspendedLanes,c=e.pingedLanes,d=e.expirationTimes,g=e.pendingLanes;0<g;){var _=31-Rr(g),A=1<<_,S=d[_];S===-1?(!(A&s)||A&c)&&(d[_]=xp(A,n)):S<=n&&(e.expiredLanes|=A),g&=~A}}function gc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function v0(){var e=Ha;return Ha<<=1,!(Ha&4194240)&&(Ha=64),e}function Tu(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Ca(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Rr(n),e[n]=s}function _p(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<s;){var d=31-Rr(s),g=1<<d;n[d]=0,c[d]=-1,e[d]=-1,s&=~g}}function ah(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var c=31-Rr(s),d=1<<c;d&n|e[c]&n&&(e[c]|=n),s&=~d}}var mt=0;function C0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var E0,lh,A0,S0,b0,pc=!1,Za=[],zi=null,Ui=null,Hi=null,aa=new Map,la=new Map,Pi=[],wp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vd(e,n){switch(e){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":aa.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":la.delete(n.pointerId)}}function Po(e,n,s,c,d,g){return e===null||e.nativeEvent!==g?(e={blockedOn:n,domEventName:s,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},n!==null&&(n=Aa(n),n!==null&&lh(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function vp(e,n,s,c,d){switch(n){case"focusin":return zi=Po(zi,e,n,s,c,d),!0;case"dragenter":return Ui=Po(Ui,e,n,s,c,d),!0;case"mouseover":return Hi=Po(Hi,e,n,s,c,d),!0;case"pointerover":var g=d.pointerId;return aa.set(g,Po(aa.get(g)||null,e,n,s,c,d)),!0;case"gotpointercapture":return g=d.pointerId,la.set(g,Po(la.get(g)||null,e,n,s,c,d)),!0}return!1}function I0(e){var n=gs(e.target);if(n!==null){var s=Ss(n);if(s!==null){if(n=s.tag,n===13){if(n=p0(s),n!==null){e.blockedOn=n,b0(e.priority,function(){A0(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=mc(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var c=new s.constructor(s.type,s);cc=c,s.target.dispatchEvent(c),cc=null}else return n=Aa(s),n!==null&&lh(n),e.blockedOn=s,!1;n.shift()}return!0}function Cd(e,n,s){sl(e)&&s.delete(n)}function Cp(){pc=!1,zi!==null&&sl(zi)&&(zi=null),Ui!==null&&sl(Ui)&&(Ui=null),Hi!==null&&sl(Hi)&&(Hi=null),aa.forEach(Cd),la.forEach(Cd)}function Bo(e,n){e.blockedOn===n&&(e.blockedOn=null,pc||(pc=!0,nr.unstable_scheduleCallback(nr.unstable_NormalPriority,Cp)))}function ua(e){function n(d){return Bo(d,e)}if(0<Za.length){Bo(Za[0],e);for(var s=1;s<Za.length;s++){var c=Za[s];c.blockedOn===e&&(c.blockedOn=null)}}for(zi!==null&&Bo(zi,e),Ui!==null&&Bo(Ui,e),Hi!==null&&Bo(Hi,e),aa.forEach(n),la.forEach(n),s=0;s<Pi.length;s++)c=Pi[s],c.blockedOn===e&&(c.blockedOn=null);for(;0<Pi.length&&(s=Pi[0],s.blockedOn===null);)I0(s),s.blockedOn===null&&Pi.shift()}var Js=yi.ReactCurrentBatchConfig,Cl=!0;function Ep(e,n,s,c){var d=mt,g=Js.transition;Js.transition=null;try{mt=1,uh(e,n,s,c)}finally{mt=d,Js.transition=g}}function Ap(e,n,s,c){var d=mt,g=Js.transition;Js.transition=null;try{mt=4,uh(e,n,s,c)}finally{mt=d,Js.transition=g}}function uh(e,n,s,c){if(Cl){var d=mc(e,n,s,c);if(d===null)Fu(e,n,c,El,s),vd(e,c);else if(vp(d,e,n,s,c))c.stopPropagation();else if(vd(e,c),n&4&&-1<wp.indexOf(e)){for(;d!==null;){var g=Aa(d);if(g!==null&&E0(g),g=mc(e,n,s,c),g===null&&Fu(e,n,c,El,s),g===d)break;d=g}d!==null&&c.stopPropagation()}else Fu(e,n,c,null,s)}}var El=null;function mc(e,n,s,c){if(El=null,e=sh(c),e=gs(e),e!==null)if(n=Ss(e),n===null)e=null;else if(s=n.tag,s===13){if(e=p0(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return El=e,null}function T0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hp()){case oh:return 1;case _0:return 4;case wl:case dp:return 16;case w0:return 536870912;default:return 16}default:return 16}}var Fi=null,ch=null,ol=null;function N0(){if(ol)return ol;var e,n=ch,s=n.length,c,d="value"in Fi?Fi.value:Fi.textContent,g=d.length;for(e=0;e<s&&n[e]===d[e];e++);var _=s-e;for(c=1;c<=_&&n[s-c]===d[g-c];c++);return ol=d.slice(e,1<c?1-c:void 0)}function al(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Wa(){return!0}function Ed(){return!1}function ir(e){function n(s,c,d,g,_){this._reactName=s,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(s=e[A],this[A]=s?s(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Wa:Ed,this.isPropagationStopped=Ed,this}return jt(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Wa)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Wa)},persist:function(){},isPersistent:Wa}),n}var ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hh=ir(ho),Ea=jt({},ho,{view:0,detail:0}),Sp=ir(Ea),Nu,Mu,Fo,Gl=jt({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fo&&(Fo&&e.type==="mousemove"?(Nu=e.screenX-Fo.screenX,Mu=e.screenY-Fo.screenY):Mu=Nu=0,Fo=e),Nu)},movementY:function(e){return"movementY"in e?e.movementY:Mu}}),Ad=ir(Gl),bp=jt({},Gl,{dataTransfer:0}),Ip=ir(bp),Tp=jt({},Ea,{relatedTarget:0}),Ou=ir(Tp),Np=jt({},ho,{animationName:0,elapsedTime:0,pseudoElement:0}),Mp=ir(Np),Op=jt({},ho,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kp=ir(Op),Lp=jt({},ho,{data:0}),Sd=ir(Lp),Rp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bp(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Pp[e])?!!n[e]:!1}function dh(){return Bp}var Fp=jt({},Ea,{key:function(e){if(e.key){var n=Rp[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=al(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dh,charCode:function(e){return e.type==="keypress"?al(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?al(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jp=ir(Fp),zp=jt({},Gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bd=ir(zp),Up=jt({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dh}),Hp=ir(Up),Vp=jt({},ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zp=ir(Vp),Wp=jt({},Gl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gp=ir(Wp),Yp=[9,13,27,32],fh=gi&&"CompositionEvent"in window,Qo=null;gi&&"documentMode"in document&&(Qo=document.documentMode);var Xp=gi&&"TextEvent"in window&&!Qo,M0=gi&&(!fh||Qo&&8<Qo&&11>=Qo),Id=" ",Td=!1;function O0(e,n){switch(e){case"keyup":return Yp.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fs=!1;function Qp(e,n){switch(e){case"compositionend":return k0(n);case"keypress":return n.which!==32?null:(Td=!0,Id);case"textInput":return e=n.data,e===Id&&Td?null:e;default:return null}}function Kp(e,n){if(Fs)return e==="compositionend"||!fh&&O0(e,n)?(e=N0(),ol=ch=Fi=null,Fs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return M0&&n.locale!=="ko"?null:n.data;default:return null}}var qp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!qp[e.type]:n==="textarea"}function L0(e,n,s,c){c0(c),n=Al(n,"onChange"),0<n.length&&(s=new hh("onChange","change",null,s,c),e.push({event:s,listeners:n}))}var Ko=null,ca=null;function Jp(e){Z0(e,0)}function Yl(e){var n=Us(e);if(r0(n))return e}function $p(e,n){if(e==="change")return n}var R0=!1;if(gi){var ku;if(gi){var Lu="oninput"in document;if(!Lu){var Md=document.createElement("div");Md.setAttribute("oninput","return;"),Lu=typeof Md.oninput=="function"}ku=Lu}else ku=!1;R0=ku&&(!document.documentMode||9<document.documentMode)}function Od(){Ko&&(Ko.detachEvent("onpropertychange",D0),ca=Ko=null)}function D0(e){if(e.propertyName==="value"&&Yl(ca)){var n=[];L0(n,ca,e,sh(e)),g0(Jp,n)}}function em(e,n,s){e==="focusin"?(Od(),Ko=n,ca=s,Ko.attachEvent("onpropertychange",D0)):e==="focusout"&&Od()}function tm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yl(ca)}function nm(e,n){if(e==="click")return Yl(n)}function rm(e,n){if(e==="input"||e==="change")return Yl(n)}function im(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Pr=typeof Object.is=="function"?Object.is:im;function ha(e,n){if(Pr(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),c=Object.keys(n);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var d=s[c];if(!Ju.call(n,d)||!Pr(e[d],n[d]))return!1}return!0}function kd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ld(e,n){var s=kd(e);e=0;for(var c;s;){if(s.nodeType===3){if(c=e+s.textContent.length,e<=n&&c>=n)return{node:s,offset:n-e};e=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=kd(s)}}function P0(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?P0(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function B0(){for(var e=window,n=xl();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=xl(e.document)}return n}function gh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function sm(e){var n=B0(),s=e.focusedElem,c=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&P0(s.ownerDocument.documentElement,s)){if(c!==null&&gh(s)){if(n=c.start,e=c.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var d=s.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!e.extend&&g>c&&(d=c,c=g,g=d),d=Ld(s,g);var _=Ld(s,c);d&&_&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==_.node||e.focusOffset!==_.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),e.removeAllRanges(),g>c?(e.addRange(n),e.extend(_.node,_.offset)):(n.setEnd(_.node,_.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var om=gi&&"documentMode"in document&&11>=document.documentMode,js=null,xc=null,qo=null,yc=!1;function Rd(e,n,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;yc||js==null||js!==xl(c)||(c=js,"selectionStart"in c&&gh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),qo&&ha(qo,c)||(qo=c,c=Al(xc,"onSelect"),0<c.length&&(n=new hh("onSelect","select",null,n,s),e.push({event:n,listeners:c}),n.target=js)))}function Ga(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var zs={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionend:Ga("Transition","TransitionEnd")},Ru={},F0={};gi&&(F0=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Xl(e){if(Ru[e])return Ru[e];if(!zs[e])return e;var n=zs[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in F0)return Ru[e]=n[s];return e}var j0=Xl("animationend"),z0=Xl("animationiteration"),U0=Xl("animationstart"),H0=Xl("transitionend"),V0=new Map,Dd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qi(e,n){V0.set(e,n),As(n,[e])}for(var Du=0;Du<Dd.length;Du++){var Pu=Dd[Du],am=Pu.toLowerCase(),lm=Pu[0].toUpperCase()+Pu.slice(1);qi(am,"on"+lm)}qi(j0,"onAnimationEnd");qi(z0,"onAnimationIteration");qi(U0,"onAnimationStart");qi("dblclick","onDoubleClick");qi("focusin","onFocus");qi("focusout","onBlur");qi(H0,"onTransitionEnd");ro("onMouseEnter",["mouseout","mouseover"]);ro("onMouseLeave",["mouseout","mouseover"]);ro("onPointerEnter",["pointerout","pointerover"]);ro("onPointerLeave",["pointerout","pointerover"]);As("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));As("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));As("onBeforeInput",["compositionend","keypress","textInput","paste"]);As("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));As("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));As("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),um=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wo));function Pd(e,n,s){var c=e.type||"unknown-event";e.currentTarget=s,ap(c,n,void 0,e),e.currentTarget=null}function Z0(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var c=e[s],d=c.event;c=c.listeners;e:{var g=void 0;if(n)for(var _=c.length-1;0<=_;_--){var A=c[_],S=A.instance,v=A.currentTarget;if(A=A.listener,S!==g&&d.isPropagationStopped())break e;Pd(d,A,v),g=S}else for(_=0;_<c.length;_++){if(A=c[_],S=A.instance,v=A.currentTarget,A=A.listener,S!==g&&d.isPropagationStopped())break e;Pd(d,A,v),g=S}}}if(_l)throw e=fc,_l=!1,fc=null,e}function Nt(e,n){var s=n[Ec];s===void 0&&(s=n[Ec]=new Set);var c=e+"__bubble";s.has(c)||(W0(n,e,2,!1),s.add(c))}function Bu(e,n,s){var c=0;n&&(c|=4),W0(s,e,c,n)}var Ya="_reactListening"+Math.random().toString(36).slice(2);function da(e){if(!e[Ya]){e[Ya]=!0,Jf.forEach(function(s){s!=="selectionchange"&&(um.has(s)||Bu(s,!1,e),Bu(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ya]||(n[Ya]=!0,Bu("selectionchange",!1,n))}}function W0(e,n,s,c){switch(T0(n)){case 1:var d=Ep;break;case 4:d=Ap;break;default:d=uh}s=d.bind(null,n,s,e),d=void 0,!dc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),c?d!==void 0?e.addEventListener(n,s,{capture:!0,passive:d}):e.addEventListener(n,s,!0):d!==void 0?e.addEventListener(n,s,{passive:d}):e.addEventListener(n,s,!1)}function Fu(e,n,s,c,d){var g=c;if(!(n&1)&&!(n&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var A=c.stateNode.containerInfo;if(A===d||A.nodeType===8&&A.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var S=_.tag;if((S===3||S===4)&&(S=_.stateNode.containerInfo,S===d||S.nodeType===8&&S.parentNode===d))return;_=_.return}for(;A!==null;){if(_=gs(A),_===null)return;if(S=_.tag,S===5||S===6){c=g=_;continue e}A=A.parentNode}}c=c.return}g0(function(){var v=g,O=sh(s),k=[];e:{var U=V0.get(e);if(U!==void 0){var Y=hh,te=e;switch(e){case"keypress":if(al(s)===0)break e;case"keydown":case"keyup":Y=jp;break;case"focusin":te="focus",Y=Ou;break;case"focusout":te="blur",Y=Ou;break;case"beforeblur":case"afterblur":Y=Ou;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Ad;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Ip;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Hp;break;case j0:case z0:case U0:Y=Mp;break;case H0:Y=Zp;break;case"scroll":Y=Sp;break;case"wheel":Y=Gp;break;case"copy":case"cut":case"paste":Y=kp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=bd}var H=(n&4)!==0,ye=!H&&e==="scroll",j=H?U!==null?U+"Capture":null:U;H=[];for(var D=v,P;D!==null;){P=D;var J=P.stateNode;if(P.tag===5&&J!==null&&(P=J,j!==null&&(J=oa(D,j),J!=null&&H.push(fa(D,J,P)))),ye)break;D=D.return}0<H.length&&(U=new Y(U,te,null,s,O),k.push({event:U,listeners:H}))}}if(!(n&7)){e:{if(U=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",U&&s!==cc&&(te=s.relatedTarget||s.fromElement)&&(gs(te)||te[pi]))break e;if((Y||U)&&(U=O.window===O?O:(U=O.ownerDocument)?U.defaultView||U.parentWindow:window,Y?(te=s.relatedTarget||s.toElement,Y=v,te=te?gs(te):null,te!==null&&(ye=Ss(te),te!==ye||te.tag!==5&&te.tag!==6)&&(te=null)):(Y=null,te=v),Y!==te)){if(H=Ad,J="onMouseLeave",j="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(H=bd,J="onPointerLeave",j="onPointerEnter",D="pointer"),ye=Y==null?U:Us(Y),P=te==null?U:Us(te),U=new H(J,D+"leave",Y,s,O),U.target=ye,U.relatedTarget=P,J=null,gs(O)===v&&(H=new H(j,D+"enter",te,s,O),H.target=P,H.relatedTarget=ye,J=H),ye=J,Y&&te)t:{for(H=Y,j=te,D=0,P=H;P;P=Rs(P))D++;for(P=0,J=j;J;J=Rs(J))P++;for(;0<D-P;)H=Rs(H),D--;for(;0<P-D;)j=Rs(j),P--;for(;D--;){if(H===j||j!==null&&H===j.alternate)break t;H=Rs(H),j=Rs(j)}H=null}else H=null;Y!==null&&Bd(k,U,Y,H,!1),te!==null&&ye!==null&&Bd(k,ye,te,H,!0)}}e:{if(U=v?Us(v):window,Y=U.nodeName&&U.nodeName.toLowerCase(),Y==="select"||Y==="input"&&U.type==="file")var fe=$p;else if(Nd(U))if(R0)fe=rm;else{fe=tm;var ae=em}else(Y=U.nodeName)&&Y.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(fe=nm);if(fe&&(fe=fe(e,v))){L0(k,fe,s,O);break e}ae&&ae(e,U,v),e==="focusout"&&(ae=U._wrapperState)&&ae.controlled&&U.type==="number"&&sc(U,"number",U.value)}switch(ae=v?Us(v):window,e){case"focusin":(Nd(ae)||ae.contentEditable==="true")&&(js=ae,xc=v,qo=null);break;case"focusout":qo=xc=js=null;break;case"mousedown":yc=!0;break;case"contextmenu":case"mouseup":case"dragend":yc=!1,Rd(k,s,O);break;case"selectionchange":if(om)break;case"keydown":case"keyup":Rd(k,s,O)}var V;if(fh)e:{switch(e){case"compositionstart":var ee="onCompositionStart";break e;case"compositionend":ee="onCompositionEnd";break e;case"compositionupdate":ee="onCompositionUpdate";break e}ee=void 0}else Fs?O0(e,s)&&(ee="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ee="onCompositionStart");ee&&(M0&&s.locale!=="ko"&&(Fs||ee!=="onCompositionStart"?ee==="onCompositionEnd"&&Fs&&(V=N0()):(Fi=O,ch="value"in Fi?Fi.value:Fi.textContent,Fs=!0)),ae=Al(v,ee),0<ae.length&&(ee=new Sd(ee,e,null,s,O),k.push({event:ee,listeners:ae}),V?ee.data=V:(V=k0(s),V!==null&&(ee.data=V)))),(V=Xp?Qp(e,s):Kp(e,s))&&(v=Al(v,"onBeforeInput"),0<v.length&&(O=new Sd("onBeforeInput","beforeinput",null,s,O),k.push({event:O,listeners:v}),O.data=V))}Z0(k,n)})}function fa(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Al(e,n){for(var s=n+"Capture",c=[];e!==null;){var d=e,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=oa(e,s),g!=null&&c.unshift(fa(e,g,d)),g=oa(e,n),g!=null&&c.push(fa(e,g,d))),e=e.return}return c}function Rs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bd(e,n,s,c,d){for(var g=n._reactName,_=[];s!==null&&s!==c;){var A=s,S=A.alternate,v=A.stateNode;if(S!==null&&S===c)break;A.tag===5&&v!==null&&(A=v,d?(S=oa(s,g),S!=null&&_.unshift(fa(s,S,A))):d||(S=oa(s,g),S!=null&&_.push(fa(s,S,A)))),s=s.return}_.length!==0&&e.push({event:n,listeners:_})}var cm=/\r\n?/g,hm=/\u0000|\uFFFD/g;function Fd(e){return(typeof e=="string"?e:""+e).replace(cm,`
`).replace(hm,"")}function Xa(e,n,s){if(n=Fd(n),Fd(e)!==n&&s)throw Error(de(425))}function Sl(){}var _c=null,wc=null;function vc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Cc=typeof setTimeout=="function"?setTimeout:void 0,dm=typeof clearTimeout=="function"?clearTimeout:void 0,jd=typeof Promise=="function"?Promise:void 0,fm=typeof queueMicrotask=="function"?queueMicrotask:typeof jd<"u"?function(e){return jd.resolve(null).then(e).catch(gm)}:Cc;function gm(e){setTimeout(function(){throw e})}function ju(e,n){var s=n,c=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(c===0){e.removeChild(d),ua(n);return}c--}else s!=="$"&&s!=="$?"&&s!=="$!"||c++;s=d}while(s);ua(n)}function Vi(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function zd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),Kr="__reactFiber$"+fo,ga="__reactProps$"+fo,pi="__reactContainer$"+fo,Ec="__reactEvents$"+fo,pm="__reactListeners$"+fo,mm="__reactHandles$"+fo;function gs(e){var n=e[Kr];if(n)return n;for(var s=e.parentNode;s;){if(n=s[pi]||s[Kr]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=zd(e);e!==null;){if(s=e[Kr])return s;e=zd(e)}return n}e=s,s=e.parentNode}return null}function Aa(e){return e=e[Kr]||e[pi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Us(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(de(33))}function Ql(e){return e[ga]||null}var Ac=[],Hs=-1;function Ji(e){return{current:e}}function Mt(e){0>Hs||(e.current=Ac[Hs],Ac[Hs]=null,Hs--)}function St(e,n){Hs++,Ac[Hs]=e.current,e.current=n}var Qi={},bn=Ji(Qi),Hn=Ji(!1),_s=Qi;function io(e,n){var s=e.type.contextTypes;if(!s)return Qi;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===n)return c.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in s)d[g]=n[g];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=d),d}function Vn(e){return e=e.childContextTypes,e!=null}function bl(){Mt(Hn),Mt(bn)}function Ud(e,n,s){if(bn.current!==Qi)throw Error(de(168));St(bn,n),St(Hn,s)}function G0(e,n,s){var c=e.stateNode;if(n=n.childContextTypes,typeof c.getChildContext!="function")return s;c=c.getChildContext();for(var d in c)if(!(d in n))throw Error(de(108,ep(e)||"Unknown",d));return jt({},s,c)}function Il(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qi,_s=bn.current,St(bn,e),St(Hn,Hn.current),!0}function Hd(e,n,s){var c=e.stateNode;if(!c)throw Error(de(169));s?(e=G0(e,n,_s),c.__reactInternalMemoizedMergedChildContext=e,Mt(Hn),Mt(bn),St(bn,e)):Mt(Hn),St(Hn,s)}var ui=null,Kl=!1,zu=!1;function Y0(e){ui===null?ui=[e]:ui.push(e)}function xm(e){Kl=!0,Y0(e)}function $i(){if(!zu&&ui!==null){zu=!0;var e=0,n=mt;try{var s=ui;for(mt=1;e<s.length;e++){var c=s[e];do c=c(!0);while(c!==null)}ui=null,Kl=!1}catch(d){throw ui!==null&&(ui=ui.slice(e+1)),y0(oh,$i),d}finally{mt=n,zu=!1}}return null}var Vs=[],Zs=0,Tl=null,Nl=0,gr=[],pr=0,ws=null,ci=1,hi="";function ds(e,n){Vs[Zs++]=Nl,Vs[Zs++]=Tl,Tl=e,Nl=n}function X0(e,n,s){gr[pr++]=ci,gr[pr++]=hi,gr[pr++]=ws,ws=e;var c=ci;e=hi;var d=32-Rr(c)-1;c&=~(1<<d),s+=1;var g=32-Rr(n)+d;if(30<g){var _=d-d%5;g=(c&(1<<_)-1).toString(32),c>>=_,d-=_,ci=1<<32-Rr(n)+d|s<<d|c,hi=g+e}else ci=1<<g|s<<d|c,hi=e}function ph(e){e.return!==null&&(ds(e,1),X0(e,1,0))}function mh(e){for(;e===Tl;)Tl=Vs[--Zs],Vs[Zs]=null,Nl=Vs[--Zs],Vs[Zs]=null;for(;e===ws;)ws=gr[--pr],gr[pr]=null,hi=gr[--pr],gr[pr]=null,ci=gr[--pr],gr[pr]=null}var tr=null,er=null,Lt=!1,Lr=null;function Q0(e,n){var s=mr(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function Vd(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,tr=e,er=Vi(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,tr=e,er=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=ws!==null?{id:ci,overflow:hi}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=mr(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,tr=e,er=null,!0):!1;default:return!1}}function Sc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bc(e){if(Lt){var n=er;if(n){var s=n;if(!Vd(e,n)){if(Sc(e))throw Error(de(418));n=Vi(s.nextSibling);var c=tr;n&&Vd(e,n)?Q0(c,s):(e.flags=e.flags&-4097|2,Lt=!1,tr=e)}}else{if(Sc(e))throw Error(de(418));e.flags=e.flags&-4097|2,Lt=!1,tr=e}}}function Zd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tr=e}function Qa(e){if(e!==tr)return!1;if(!Lt)return Zd(e),Lt=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!vc(e.type,e.memoizedProps)),n&&(n=er)){if(Sc(e))throw K0(),Error(de(418));for(;n;)Q0(e,n),n=Vi(n.nextSibling)}if(Zd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(de(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){er=Vi(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}er=null}}else er=tr?Vi(e.stateNode.nextSibling):null;return!0}function K0(){for(var e=er;e;)e=Vi(e.nextSibling)}function so(){er=tr=null,Lt=!1}function xh(e){Lr===null?Lr=[e]:Lr.push(e)}var ym=yi.ReactCurrentBatchConfig;function jo(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(de(309));var c=s.stateNode}if(!c)throw Error(de(147,e));var d=c,g=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===g?n.ref:(n=function(_){var A=d.refs;_===null?delete A[g]:A[g]=_},n._stringRef=g,n)}if(typeof e!="string")throw Error(de(284));if(!s._owner)throw Error(de(290,e))}return e}function Ka(e,n){throw e=Object.prototype.toString.call(n),Error(de(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Wd(e){var n=e._init;return n(e._payload)}function q0(e){function n(j,D){if(e){var P=j.deletions;P===null?(j.deletions=[D],j.flags|=16):P.push(D)}}function s(j,D){if(!e)return null;for(;D!==null;)n(j,D),D=D.sibling;return null}function c(j,D){for(j=new Map;D!==null;)D.key!==null?j.set(D.key,D):j.set(D.index,D),D=D.sibling;return j}function d(j,D){return j=Yi(j,D),j.index=0,j.sibling=null,j}function g(j,D,P){return j.index=P,e?(P=j.alternate,P!==null?(P=P.index,P<D?(j.flags|=2,D):P):(j.flags|=2,D)):(j.flags|=1048576,D)}function _(j){return e&&j.alternate===null&&(j.flags|=2),j}function A(j,D,P,J){return D===null||D.tag!==6?(D=Yu(P,j.mode,J),D.return=j,D):(D=d(D,P),D.return=j,D)}function S(j,D,P,J){var fe=P.type;return fe===Bs?O(j,D,P.props.children,J,P.key):D!==null&&(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Ri&&Wd(fe)===D.type)?(J=d(D,P.props),J.ref=jo(j,D,P),J.return=j,J):(J=gl(P.type,P.key,P.props,null,j.mode,J),J.ref=jo(j,D,P),J.return=j,J)}function v(j,D,P,J){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Xu(P,j.mode,J),D.return=j,D):(D=d(D,P.children||[]),D.return=j,D)}function O(j,D,P,J,fe){return D===null||D.tag!==7?(D=ys(P,j.mode,J,fe),D.return=j,D):(D=d(D,P),D.return=j,D)}function k(j,D,P){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Yu(""+D,j.mode,P),D.return=j,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ja:return P=gl(D.type,D.key,D.props,null,j.mode,P),P.ref=jo(j,null,D),P.return=j,P;case Ps:return D=Xu(D,j.mode,P),D.return=j,D;case Ri:var J=D._init;return k(j,J(D._payload),P)}if(Vo(D)||Ro(D))return D=ys(D,j.mode,P,null),D.return=j,D;Ka(j,D)}return null}function U(j,D,P,J){var fe=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return fe!==null?null:A(j,D,""+P,J);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case ja:return P.key===fe?S(j,D,P,J):null;case Ps:return P.key===fe?v(j,D,P,J):null;case Ri:return fe=P._init,U(j,D,fe(P._payload),J)}if(Vo(P)||Ro(P))return fe!==null?null:O(j,D,P,J,null);Ka(j,P)}return null}function Y(j,D,P,J,fe){if(typeof J=="string"&&J!==""||typeof J=="number")return j=j.get(P)||null,A(D,j,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case ja:return j=j.get(J.key===null?P:J.key)||null,S(D,j,J,fe);case Ps:return j=j.get(J.key===null?P:J.key)||null,v(D,j,J,fe);case Ri:var ae=J._init;return Y(j,D,P,ae(J._payload),fe)}if(Vo(J)||Ro(J))return j=j.get(P)||null,O(D,j,J,fe,null);Ka(D,J)}return null}function te(j,D,P,J){for(var fe=null,ae=null,V=D,ee=D=0,$=null;V!==null&&ee<P.length;ee++){V.index>ee?($=V,V=null):$=V.sibling;var Se=U(j,V,P[ee],J);if(Se===null){V===null&&(V=$);break}e&&V&&Se.alternate===null&&n(j,V),D=g(Se,D,ee),ae===null?fe=Se:ae.sibling=Se,ae=Se,V=$}if(ee===P.length)return s(j,V),Lt&&ds(j,ee),fe;if(V===null){for(;ee<P.length;ee++)V=k(j,P[ee],J),V!==null&&(D=g(V,D,ee),ae===null?fe=V:ae.sibling=V,ae=V);return Lt&&ds(j,ee),fe}for(V=c(j,V);ee<P.length;ee++)$=Y(V,j,ee,P[ee],J),$!==null&&(e&&$.alternate!==null&&V.delete($.key===null?ee:$.key),D=g($,D,ee),ae===null?fe=$:ae.sibling=$,ae=$);return e&&V.forEach(function(Re){return n(j,Re)}),Lt&&ds(j,ee),fe}function H(j,D,P,J){var fe=Ro(P);if(typeof fe!="function")throw Error(de(150));if(P=fe.call(P),P==null)throw Error(de(151));for(var ae=fe=null,V=D,ee=D=0,$=null,Se=P.next();V!==null&&!Se.done;ee++,Se=P.next()){V.index>ee?($=V,V=null):$=V.sibling;var Re=U(j,V,Se.value,J);if(Re===null){V===null&&(V=$);break}e&&V&&Re.alternate===null&&n(j,V),D=g(Re,D,ee),ae===null?fe=Re:ae.sibling=Re,ae=Re,V=$}if(Se.done)return s(j,V),Lt&&ds(j,ee),fe;if(V===null){for(;!Se.done;ee++,Se=P.next())Se=k(j,Se.value,J),Se!==null&&(D=g(Se,D,ee),ae===null?fe=Se:ae.sibling=Se,ae=Se);return Lt&&ds(j,ee),fe}for(V=c(j,V);!Se.done;ee++,Se=P.next())Se=Y(V,j,ee,Se.value,J),Se!==null&&(e&&Se.alternate!==null&&V.delete(Se.key===null?ee:Se.key),D=g(Se,D,ee),ae===null?fe=Se:ae.sibling=Se,ae=Se);return e&&V.forEach(function(ge){return n(j,ge)}),Lt&&ds(j,ee),fe}function ye(j,D,P,J){if(typeof P=="object"&&P!==null&&P.type===Bs&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case ja:e:{for(var fe=P.key,ae=D;ae!==null;){if(ae.key===fe){if(fe=P.type,fe===Bs){if(ae.tag===7){s(j,ae.sibling),D=d(ae,P.props.children),D.return=j,j=D;break e}}else if(ae.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Ri&&Wd(fe)===ae.type){s(j,ae.sibling),D=d(ae,P.props),D.ref=jo(j,ae,P),D.return=j,j=D;break e}s(j,ae);break}else n(j,ae);ae=ae.sibling}P.type===Bs?(D=ys(P.props.children,j.mode,J,P.key),D.return=j,j=D):(J=gl(P.type,P.key,P.props,null,j.mode,J),J.ref=jo(j,D,P),J.return=j,j=J)}return _(j);case Ps:e:{for(ae=P.key;D!==null;){if(D.key===ae)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(j,D.sibling),D=d(D,P.children||[]),D.return=j,j=D;break e}else{s(j,D);break}else n(j,D);D=D.sibling}D=Xu(P,j.mode,J),D.return=j,j=D}return _(j);case Ri:return ae=P._init,ye(j,D,ae(P._payload),J)}if(Vo(P))return te(j,D,P,J);if(Ro(P))return H(j,D,P,J);Ka(j,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,D!==null&&D.tag===6?(s(j,D.sibling),D=d(D,P),D.return=j,j=D):(s(j,D),D=Yu(P,j.mode,J),D.return=j,j=D),_(j)):s(j,D)}return ye}var oo=q0(!0),J0=q0(!1),Ml=Ji(null),Ol=null,Ws=null,yh=null;function _h(){yh=Ws=Ol=null}function wh(e){var n=Ml.current;Mt(Ml),e._currentValue=n}function Ic(e,n,s){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===s)break;e=e.return}}function $s(e,n){Ol=e,yh=Ws=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(Un=!0),e.firstContext=null)}function yr(e){var n=e._currentValue;if(yh!==e)if(e={context:e,memoizedValue:n,next:null},Ws===null){if(Ol===null)throw Error(de(308));Ws=e,Ol.dependencies={lanes:0,firstContext:e}}else Ws=Ws.next=e;return n}var ps=null;function vh(e){ps===null?ps=[e]:ps.push(e)}function $0(e,n,s,c){var d=n.interleaved;return d===null?(s.next=s,vh(n)):(s.next=d.next,d.next=s),n.interleaved=s,mi(e,c)}function mi(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Di=!1;function Ch(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function e1(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fi(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Zi(e,n,s){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,at&2){var d=c.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),c.pending=n,mi(e,s)}return d=c.interleaved,d===null?(n.next=n,vh(c)):(n.next=d.next,d.next=n),c.interleaved=n,mi(e,s)}function ll(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var c=n.lanes;c&=e.pendingLanes,s|=c,n.lanes=s,ah(e,s)}}function Gd(e,n){var s=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var d=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var _={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};g===null?d=g=_:g=g.next=_,s=s.next}while(s!==null);g===null?d=g=n:g=g.next=n}else d=g=n;s={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,effects:c.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function kl(e,n,s,c){var d=e.updateQueue;Di=!1;var g=d.firstBaseUpdate,_=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var S=A,v=S.next;S.next=null,_===null?g=v:_.next=v,_=S;var O=e.alternate;O!==null&&(O=O.updateQueue,A=O.lastBaseUpdate,A!==_&&(A===null?O.firstBaseUpdate=v:A.next=v,O.lastBaseUpdate=S))}if(g!==null){var k=d.baseState;_=0,O=v=S=null,A=g;do{var U=A.lane,Y=A.eventTime;if((c&U)===U){O!==null&&(O=O.next={eventTime:Y,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var te=e,H=A;switch(U=n,Y=s,H.tag){case 1:if(te=H.payload,typeof te=="function"){k=te.call(Y,k,U);break e}k=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=H.payload,U=typeof te=="function"?te.call(Y,k,U):te,U==null)break e;k=jt({},k,U);break e;case 2:Di=!0}}A.callback!==null&&A.lane!==0&&(e.flags|=64,U=d.effects,U===null?d.effects=[A]:U.push(A))}else Y={eventTime:Y,lane:U,tag:A.tag,payload:A.payload,callback:A.callback,next:null},O===null?(v=O=Y,S=k):O=O.next=Y,_|=U;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;U=A,A=U.next,U.next=null,d.lastBaseUpdate=U,d.shared.pending=null}}while(!0);if(O===null&&(S=k),d.baseState=S,d.firstBaseUpdate=v,d.lastBaseUpdate=O,n=d.shared.interleaved,n!==null){d=n;do _|=d.lane,d=d.next;while(d!==n)}else g===null&&(d.shared.lanes=0);Cs|=_,e.lanes=_,e.memoizedState=k}}function Yd(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var c=e[n],d=c.callback;if(d!==null){if(c.callback=null,c=s,typeof d!="function")throw Error(de(191,d));d.call(c)}}}var Sa={},Jr=Ji(Sa),pa=Ji(Sa),ma=Ji(Sa);function ms(e){if(e===Sa)throw Error(de(174));return e}function Eh(e,n){switch(St(ma,n),St(pa,e),St(Jr,Sa),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ac(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=ac(n,e)}Mt(Jr),St(Jr,n)}function ao(){Mt(Jr),Mt(pa),Mt(ma)}function t1(e){ms(ma.current);var n=ms(Jr.current),s=ac(n,e.type);n!==s&&(St(pa,e),St(Jr,s))}function Ah(e){pa.current===e&&(Mt(Jr),Mt(pa))}var Bt=Ji(0);function Ll(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Uu=[];function Sh(){for(var e=0;e<Uu.length;e++)Uu[e]._workInProgressVersionPrimary=null;Uu.length=0}var ul=yi.ReactCurrentDispatcher,Hu=yi.ReactCurrentBatchConfig,vs=0,Ft=null,tn=null,dn=null,Rl=!1,Jo=!1,xa=0,_m=0;function En(){throw Error(de(321))}function bh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Pr(e[s],n[s]))return!1;return!0}function Ih(e,n,s,c,d,g){if(vs=g,Ft=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ul.current=e===null||e.memoizedState===null?Em:Am,e=s(c,d),Jo){g=0;do{if(Jo=!1,xa=0,25<=g)throw Error(de(301));g+=1,dn=tn=null,n.updateQueue=null,ul.current=Sm,e=s(c,d)}while(Jo)}if(ul.current=Dl,n=tn!==null&&tn.next!==null,vs=0,dn=tn=Ft=null,Rl=!1,n)throw Error(de(300));return e}function Th(){var e=xa!==0;return xa=0,e}function Xr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?Ft.memoizedState=dn=e:dn=dn.next=e,dn}function _r(){if(tn===null){var e=Ft.alternate;e=e!==null?e.memoizedState:null}else e=tn.next;var n=dn===null?Ft.memoizedState:dn.next;if(n!==null)dn=n,tn=e;else{if(e===null)throw Error(de(310));tn=e,e={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},dn===null?Ft.memoizedState=dn=e:dn=dn.next=e}return dn}function ya(e,n){return typeof n=="function"?n(e):n}function Vu(e){var n=_r(),s=n.queue;if(s===null)throw Error(de(311));s.lastRenderedReducer=e;var c=tn,d=c.baseQueue,g=s.pending;if(g!==null){if(d!==null){var _=d.next;d.next=g.next,g.next=_}c.baseQueue=d=g,s.pending=null}if(d!==null){g=d.next,c=c.baseState;var A=_=null,S=null,v=g;do{var O=v.lane;if((vs&O)===O)S!==null&&(S=S.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),c=v.hasEagerState?v.eagerState:e(c,v.action);else{var k={lane:O,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};S===null?(A=S=k,_=c):S=S.next=k,Ft.lanes|=O,Cs|=O}v=v.next}while(v!==null&&v!==g);S===null?_=c:S.next=A,Pr(c,n.memoizedState)||(Un=!0),n.memoizedState=c,n.baseState=_,n.baseQueue=S,s.lastRenderedState=c}if(e=s.interleaved,e!==null){d=e;do g=d.lane,Ft.lanes|=g,Cs|=g,d=d.next;while(d!==e)}else d===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function Zu(e){var n=_r(),s=n.queue;if(s===null)throw Error(de(311));s.lastRenderedReducer=e;var c=s.dispatch,d=s.pending,g=n.memoizedState;if(d!==null){s.pending=null;var _=d=d.next;do g=e(g,_.action),_=_.next;while(_!==d);Pr(g,n.memoizedState)||(Un=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),s.lastRenderedState=g}return[g,c]}function n1(){}function r1(e,n){var s=Ft,c=_r(),d=n(),g=!Pr(c.memoizedState,d);if(g&&(c.memoizedState=d,Un=!0),c=c.queue,Nh(o1.bind(null,s,c,e),[e]),c.getSnapshot!==n||g||dn!==null&&dn.memoizedState.tag&1){if(s.flags|=2048,_a(9,s1.bind(null,s,c,d,n),void 0,null),fn===null)throw Error(de(349));vs&30||i1(s,n,d)}return d}function i1(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Ft.updateQueue,n===null?(n={lastEffect:null,stores:null},Ft.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function s1(e,n,s,c){n.value=s,n.getSnapshot=c,a1(n)&&l1(e)}function o1(e,n,s){return s(function(){a1(n)&&l1(e)})}function a1(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Pr(e,s)}catch{return!0}}function l1(e){var n=mi(e,1);n!==null&&Dr(n,e,1,-1)}function Xd(e){var n=Xr();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:e},n.queue=e,e=e.dispatch=Cm.bind(null,Ft,e),[n.memoizedState,e]}function _a(e,n,s,c){return e={tag:e,create:n,destroy:s,deps:c,next:null},n=Ft.updateQueue,n===null?(n={lastEffect:null,stores:null},Ft.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(c=s.next,s.next=e,e.next=c,n.lastEffect=e)),e}function u1(){return _r().memoizedState}function cl(e,n,s,c){var d=Xr();Ft.flags|=e,d.memoizedState=_a(1|n,s,void 0,c===void 0?null:c)}function ql(e,n,s,c){var d=_r();c=c===void 0?null:c;var g=void 0;if(tn!==null){var _=tn.memoizedState;if(g=_.destroy,c!==null&&bh(c,_.deps)){d.memoizedState=_a(n,s,g,c);return}}Ft.flags|=e,d.memoizedState=_a(1|n,s,g,c)}function Qd(e,n){return cl(8390656,8,e,n)}function Nh(e,n){return ql(2048,8,e,n)}function c1(e,n){return ql(4,2,e,n)}function h1(e,n){return ql(4,4,e,n)}function d1(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function f1(e,n,s){return s=s!=null?s.concat([e]):null,ql(4,4,d1.bind(null,n,e),s)}function Mh(){}function g1(e,n){var s=_r();n=n===void 0?null:n;var c=s.memoizedState;return c!==null&&n!==null&&bh(n,c[1])?c[0]:(s.memoizedState=[e,n],e)}function p1(e,n){var s=_r();n=n===void 0?null:n;var c=s.memoizedState;return c!==null&&n!==null&&bh(n,c[1])?c[0]:(e=e(),s.memoizedState=[e,n],e)}function m1(e,n,s){return vs&21?(Pr(s,n)||(s=v0(),Ft.lanes|=s,Cs|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,Un=!0),e.memoizedState=s)}function wm(e,n){var s=mt;mt=s!==0&&4>s?s:4,e(!0);var c=Hu.transition;Hu.transition={};try{e(!1),n()}finally{mt=s,Hu.transition=c}}function x1(){return _r().memoizedState}function vm(e,n,s){var c=Gi(e);if(s={lane:c,action:s,hasEagerState:!1,eagerState:null,next:null},y1(e))_1(n,s);else if(s=$0(e,n,s,c),s!==null){var d=Rn();Dr(s,e,c,d),w1(s,n,c)}}function Cm(e,n,s){var c=Gi(e),d={lane:c,action:s,hasEagerState:!1,eagerState:null,next:null};if(y1(e))_1(n,d);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var _=n.lastRenderedState,A=g(_,s);if(d.hasEagerState=!0,d.eagerState=A,Pr(A,_)){var S=n.interleaved;S===null?(d.next=d,vh(n)):(d.next=S.next,S.next=d),n.interleaved=d;return}}catch{}finally{}s=$0(e,n,d,c),s!==null&&(d=Rn(),Dr(s,e,c,d),w1(s,n,c))}}function y1(e){var n=e.alternate;return e===Ft||n!==null&&n===Ft}function _1(e,n){Jo=Rl=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function w1(e,n,s){if(s&4194240){var c=n.lanes;c&=e.pendingLanes,s|=c,n.lanes=s,ah(e,s)}}var Dl={readContext:yr,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useInsertionEffect:En,useLayoutEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useMutableSource:En,useSyncExternalStore:En,useId:En,unstable_isNewReconciler:!1},Em={readContext:yr,useCallback:function(e,n){return Xr().memoizedState=[e,n===void 0?null:n],e},useContext:yr,useEffect:Qd,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,cl(4194308,4,d1.bind(null,n,e),s)},useLayoutEffect:function(e,n){return cl(4194308,4,e,n)},useInsertionEffect:function(e,n){return cl(4,2,e,n)},useMemo:function(e,n){var s=Xr();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var c=Xr();return n=s!==void 0?s(n):n,c.memoizedState=c.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},c.queue=e,e=e.dispatch=vm.bind(null,Ft,e),[c.memoizedState,e]},useRef:function(e){var n=Xr();return e={current:e},n.memoizedState=e},useState:Xd,useDebugValue:Mh,useDeferredValue:function(e){return Xr().memoizedState=e},useTransition:function(){var e=Xd(!1),n=e[0];return e=wm.bind(null,e[1]),Xr().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var c=Ft,d=Xr();if(Lt){if(s===void 0)throw Error(de(407));s=s()}else{if(s=n(),fn===null)throw Error(de(349));vs&30||i1(c,n,s)}d.memoizedState=s;var g={value:s,getSnapshot:n};return d.queue=g,Qd(o1.bind(null,c,g,e),[e]),c.flags|=2048,_a(9,s1.bind(null,c,g,s,n),void 0,null),s},useId:function(){var e=Xr(),n=fn.identifierPrefix;if(Lt){var s=hi,c=ci;s=(c&~(1<<32-Rr(c)-1)).toString(32)+s,n=":"+n+"R"+s,s=xa++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=_m++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Am={readContext:yr,useCallback:g1,useContext:yr,useEffect:Nh,useImperativeHandle:f1,useInsertionEffect:c1,useLayoutEffect:h1,useMemo:p1,useReducer:Vu,useRef:u1,useState:function(){return Vu(ya)},useDebugValue:Mh,useDeferredValue:function(e){var n=_r();return m1(n,tn.memoizedState,e)},useTransition:function(){var e=Vu(ya)[0],n=_r().memoizedState;return[e,n]},useMutableSource:n1,useSyncExternalStore:r1,useId:x1,unstable_isNewReconciler:!1},Sm={readContext:yr,useCallback:g1,useContext:yr,useEffect:Nh,useImperativeHandle:f1,useInsertionEffect:c1,useLayoutEffect:h1,useMemo:p1,useReducer:Zu,useRef:u1,useState:function(){return Zu(ya)},useDebugValue:Mh,useDeferredValue:function(e){var n=_r();return tn===null?n.memoizedState=e:m1(n,tn.memoizedState,e)},useTransition:function(){var e=Zu(ya)[0],n=_r().memoizedState;return[e,n]},useMutableSource:n1,useSyncExternalStore:r1,useId:x1,unstable_isNewReconciler:!1};function Mr(e,n){if(e&&e.defaultProps){n=jt({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function Tc(e,n,s,c){n=e.memoizedState,s=s(c,n),s=s==null?n:jt({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Jl={isMounted:function(e){return(e=e._reactInternals)?Ss(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var c=Rn(),d=Gi(e),g=fi(c,d);g.payload=n,s!=null&&(g.callback=s),n=Zi(e,g,d),n!==null&&(Dr(n,e,d,c),ll(n,e,d))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var c=Rn(),d=Gi(e),g=fi(c,d);g.tag=1,g.payload=n,s!=null&&(g.callback=s),n=Zi(e,g,d),n!==null&&(Dr(n,e,d,c),ll(n,e,d))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Rn(),c=Gi(e),d=fi(s,c);d.tag=2,n!=null&&(d.callback=n),n=Zi(e,d,c),n!==null&&(Dr(n,e,c,s),ll(n,e,c))}};function Kd(e,n,s,c,d,g,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,_):n.prototype&&n.prototype.isPureReactComponent?!ha(s,c)||!ha(d,g):!0}function v1(e,n,s){var c=!1,d=Qi,g=n.contextType;return typeof g=="object"&&g!==null?g=yr(g):(d=Vn(n)?_s:bn.current,c=n.contextTypes,g=(c=c!=null)?io(e,d):Qi),n=new n(s,g),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Jl,e.stateNode=n,n._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=g),n}function qd(e,n,s,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,c),n.state!==e&&Jl.enqueueReplaceState(n,n.state,null)}function Nc(e,n,s,c){var d=e.stateNode;d.props=s,d.state=e.memoizedState,d.refs={},Ch(e);var g=n.contextType;typeof g=="object"&&g!==null?d.context=yr(g):(g=Vn(n)?_s:bn.current,d.context=io(e,g)),d.state=e.memoizedState,g=n.getDerivedStateFromProps,typeof g=="function"&&(Tc(e,n,g,s),d.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(n=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),n!==d.state&&Jl.enqueueReplaceState(d,d.state,null),kl(e,s,d,c),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function lo(e,n){try{var s="",c=n;do s+=$g(c),c=c.return;while(c);var d=s}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:e,source:n,stack:d,digest:null}}function Wu(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function Mc(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var bm=typeof WeakMap=="function"?WeakMap:Map;function C1(e,n,s){s=fi(-1,s),s.tag=3,s.payload={element:null};var c=n.value;return s.callback=function(){Bl||(Bl=!0,zc=c),Mc(e,n)},s}function E1(e,n,s){s=fi(-1,s),s.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var d=n.value;s.payload=function(){return c(d)},s.callback=function(){Mc(e,n)}}var g=e.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(s.callback=function(){Mc(e,n),typeof c!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var _=n.stack;this.componentDidCatch(n.value,{componentStack:_!==null?_:""})}),s}function Jd(e,n,s){var c=e.pingCache;if(c===null){c=e.pingCache=new bm;var d=new Set;c.set(n,d)}else d=c.get(n),d===void 0&&(d=new Set,c.set(n,d));d.has(s)||(d.add(s),e=zm.bind(null,e,n,s),n.then(e,e))}function $d(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function ef(e,n,s,c,d){return e.mode&1?(e.flags|=65536,e.lanes=d,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=fi(-1,1),n.tag=2,Zi(s,n,1))),s.lanes|=1),e)}var Im=yi.ReactCurrentOwner,Un=!1;function Ln(e,n,s,c){n.child=e===null?J0(n,null,s,c):oo(n,e.child,s,c)}function tf(e,n,s,c,d){s=s.render;var g=n.ref;return $s(n,d),c=Ih(e,n,s,c,g,d),s=Th(),e!==null&&!Un?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~d,xi(e,n,d)):(Lt&&s&&ph(n),n.flags|=1,Ln(e,n,c,d),n.child)}function nf(e,n,s,c,d){if(e===null){var g=s.type;return typeof g=="function"&&!Fh(g)&&g.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=g,A1(e,n,g,c,d)):(e=gl(s.type,null,c,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,!(e.lanes&d)){var _=g.memoizedProps;if(s=s.compare,s=s!==null?s:ha,s(_,c)&&e.ref===n.ref)return xi(e,n,d)}return n.flags|=1,e=Yi(g,c),e.ref=n.ref,e.return=n,n.child=e}function A1(e,n,s,c,d){if(e!==null){var g=e.memoizedProps;if(ha(g,c)&&e.ref===n.ref)if(Un=!1,n.pendingProps=c=g,(e.lanes&d)!==0)e.flags&131072&&(Un=!0);else return n.lanes=e.lanes,xi(e,n,d)}return Oc(e,n,s,c,d)}function S1(e,n,s){var c=n.pendingProps,d=c.children,g=e!==null?e.memoizedState:null;if(c.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(Ys,Jn),Jn|=s;else{if(!(s&1073741824))return e=g!==null?g.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,St(Ys,Jn),Jn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:s,St(Ys,Jn),Jn|=c}else g!==null?(c=g.baseLanes|s,n.memoizedState=null):c=s,St(Ys,Jn),Jn|=c;return Ln(e,n,d,s),n.child}function b1(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function Oc(e,n,s,c,d){var g=Vn(s)?_s:bn.current;return g=io(n,g),$s(n,d),s=Ih(e,n,s,c,g,d),c=Th(),e!==null&&!Un?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~d,xi(e,n,d)):(Lt&&c&&ph(n),n.flags|=1,Ln(e,n,s,d),n.child)}function rf(e,n,s,c,d){if(Vn(s)){var g=!0;Il(n)}else g=!1;if($s(n,d),n.stateNode===null)hl(e,n),v1(n,s,c),Nc(n,s,c,d),c=!0;else if(e===null){var _=n.stateNode,A=n.memoizedProps;_.props=A;var S=_.context,v=s.contextType;typeof v=="object"&&v!==null?v=yr(v):(v=Vn(s)?_s:bn.current,v=io(n,v));var O=s.getDerivedStateFromProps,k=typeof O=="function"||typeof _.getSnapshotBeforeUpdate=="function";k||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==c||S!==v)&&qd(n,_,c,v),Di=!1;var U=n.memoizedState;_.state=U,kl(n,c,_,d),S=n.memoizedState,A!==c||U!==S||Hn.current||Di?(typeof O=="function"&&(Tc(n,s,O,c),S=n.memoizedState),(A=Di||Kd(n,s,A,c,U,S,v))?(k||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(n.flags|=4194308)):(typeof _.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=S),_.props=c,_.state=S,_.context=v,c=A):(typeof _.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{_=n.stateNode,e1(e,n),A=n.memoizedProps,v=n.type===n.elementType?A:Mr(n.type,A),_.props=v,k=n.pendingProps,U=_.context,S=s.contextType,typeof S=="object"&&S!==null?S=yr(S):(S=Vn(s)?_s:bn.current,S=io(n,S));var Y=s.getDerivedStateFromProps;(O=typeof Y=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==k||U!==S)&&qd(n,_,c,S),Di=!1,U=n.memoizedState,_.state=U,kl(n,c,_,d);var te=n.memoizedState;A!==k||U!==te||Hn.current||Di?(typeof Y=="function"&&(Tc(n,s,Y,c),te=n.memoizedState),(v=Di||Kd(n,s,v,c,U,te,S)||!1)?(O||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,te,S),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,te,S)),typeof _.componentDidUpdate=="function"&&(n.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof _.componentDidUpdate!="function"||A===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=te),_.props=c,_.state=te,_.context=S,c=v):(typeof _.componentDidUpdate!="function"||A===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),c=!1)}return kc(e,n,s,c,g,d)}function kc(e,n,s,c,d,g){b1(e,n);var _=(n.flags&128)!==0;if(!c&&!_)return d&&Hd(n,s,!1),xi(e,n,g);c=n.stateNode,Im.current=n;var A=_&&typeof s.getDerivedStateFromError!="function"?null:c.render();return n.flags|=1,e!==null&&_?(n.child=oo(n,e.child,null,g),n.child=oo(n,null,A,g)):Ln(e,n,A,g),n.memoizedState=c.state,d&&Hd(n,s,!0),n.child}function I1(e){var n=e.stateNode;n.pendingContext?Ud(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Ud(e,n.context,!1),Eh(e,n.containerInfo)}function sf(e,n,s,c,d){return so(),xh(d),n.flags|=256,Ln(e,n,s,c),n.child}var Lc={dehydrated:null,treeContext:null,retryLane:0};function Rc(e){return{baseLanes:e,cachePool:null,transitions:null}}function T1(e,n,s){var c=n.pendingProps,d=Bt.current,g=!1,_=(n.flags&128)!==0,A;if((A=_)||(A=e!==null&&e.memoizedState===null?!1:(d&2)!==0),A?(g=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),St(Bt,d&1),e===null)return bc(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(_=c.children,e=c.fallback,g?(c=n.mode,g=n.child,_={mode:"hidden",children:_},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=_):g=tu(_,c,0,null),e=ys(e,c,s,null),g.return=n,e.return=n,g.sibling=e,n.child=g,n.child.memoizedState=Rc(s),n.memoizedState=Lc,e):Oh(n,_));if(d=e.memoizedState,d!==null&&(A=d.dehydrated,A!==null))return Tm(e,n,_,c,A,d,s);if(g){g=c.fallback,_=n.mode,d=e.child,A=d.sibling;var S={mode:"hidden",children:c.children};return!(_&1)&&n.child!==d?(c=n.child,c.childLanes=0,c.pendingProps=S,n.deletions=null):(c=Yi(d,S),c.subtreeFlags=d.subtreeFlags&14680064),A!==null?g=Yi(A,g):(g=ys(g,_,s,null),g.flags|=2),g.return=n,c.return=n,c.sibling=g,n.child=c,c=g,g=n.child,_=e.child.memoizedState,_=_===null?Rc(s):{baseLanes:_.baseLanes|s,cachePool:null,transitions:_.transitions},g.memoizedState=_,g.childLanes=e.childLanes&~s,n.memoizedState=Lc,c}return g=e.child,e=g.sibling,c=Yi(g,{mode:"visible",children:c.children}),!(n.mode&1)&&(c.lanes=s),c.return=n,c.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=c,n.memoizedState=null,c}function Oh(e,n){return n=tu({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function qa(e,n,s,c){return c!==null&&xh(c),oo(n,e.child,null,s),e=Oh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Tm(e,n,s,c,d,g,_){if(s)return n.flags&256?(n.flags&=-257,c=Wu(Error(de(422))),qa(e,n,_,c)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(g=c.fallback,d=n.mode,c=tu({mode:"visible",children:c.children},d,0,null),g=ys(g,d,_,null),g.flags|=2,c.return=n,g.return=n,c.sibling=g,n.child=c,n.mode&1&&oo(n,e.child,null,_),n.child.memoizedState=Rc(_),n.memoizedState=Lc,g);if(!(n.mode&1))return qa(e,n,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var A=c.dgst;return c=A,g=Error(de(419)),c=Wu(g,c,void 0),qa(e,n,_,c)}if(A=(_&e.childLanes)!==0,Un||A){if(c=fn,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|_)?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,mi(e,d),Dr(c,e,d,-1))}return Bh(),c=Wu(Error(de(421))),qa(e,n,_,c)}return d.data==="$?"?(n.flags|=128,n.child=e.child,n=Um.bind(null,e),d._reactRetry=n,null):(e=g.treeContext,er=Vi(d.nextSibling),tr=n,Lt=!0,Lr=null,e!==null&&(gr[pr++]=ci,gr[pr++]=hi,gr[pr++]=ws,ci=e.id,hi=e.overflow,ws=n),n=Oh(n,c.children),n.flags|=4096,n)}function of(e,n,s){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),Ic(e.return,n,s)}function Gu(e,n,s,c,d){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:d}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=s,g.tailMode=d)}function N1(e,n,s){var c=n.pendingProps,d=c.revealOrder,g=c.tail;if(Ln(e,n,c.children,s),c=Bt.current,c&2)c=c&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&of(e,s,n);else if(e.tag===19)of(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if(St(Bt,c),!(n.mode&1))n.memoizedState=null;else switch(d){case"forwards":for(s=n.child,d=null;s!==null;)e=s.alternate,e!==null&&Ll(e)===null&&(d=s),s=s.sibling;s=d,s===null?(d=n.child,n.child=null):(d=s.sibling,s.sibling=null),Gu(n,!1,d,s,g);break;case"backwards":for(s=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Ll(e)===null){n.child=d;break}e=d.sibling,d.sibling=s,s=d,d=e}Gu(n,!0,s,null,g);break;case"together":Gu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function hl(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function xi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Cs|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(de(153));if(n.child!==null){for(e=n.child,s=Yi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Yi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Nm(e,n,s){switch(n.tag){case 3:I1(n),so();break;case 5:t1(n);break;case 1:Vn(n.type)&&Il(n);break;case 4:Eh(n,n.stateNode.containerInfo);break;case 10:var c=n.type._context,d=n.memoizedProps.value;St(Ml,c._currentValue),c._currentValue=d;break;case 13:if(c=n.memoizedState,c!==null)return c.dehydrated!==null?(St(Bt,Bt.current&1),n.flags|=128,null):s&n.child.childLanes?T1(e,n,s):(St(Bt,Bt.current&1),e=xi(e,n,s),e!==null?e.sibling:null);St(Bt,Bt.current&1);break;case 19:if(c=(s&n.childLanes)!==0,e.flags&128){if(c)return N1(e,n,s);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),St(Bt,Bt.current),c)break;return null;case 22:case 23:return n.lanes=0,S1(e,n,s)}return xi(e,n,s)}var M1,Dc,O1,k1;M1=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Dc=function(){};O1=function(e,n,s,c){var d=e.memoizedProps;if(d!==c){e=n.stateNode,ms(Jr.current);var g=null;switch(s){case"input":d=rc(e,d),c=rc(e,c),g=[];break;case"select":d=jt({},d,{value:void 0}),c=jt({},c,{value:void 0}),g=[];break;case"textarea":d=oc(e,d),c=oc(e,c),g=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=Sl)}lc(s,c);var _;s=null;for(v in d)if(!c.hasOwnProperty(v)&&d.hasOwnProperty(v)&&d[v]!=null)if(v==="style"){var A=d[v];for(_ in A)A.hasOwnProperty(_)&&(s||(s={}),s[_]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(ia.hasOwnProperty(v)?g||(g=[]):(g=g||[]).push(v,null));for(v in c){var S=c[v];if(A=d!=null?d[v]:void 0,c.hasOwnProperty(v)&&S!==A&&(S!=null||A!=null))if(v==="style")if(A){for(_ in A)!A.hasOwnProperty(_)||S&&S.hasOwnProperty(_)||(s||(s={}),s[_]="");for(_ in S)S.hasOwnProperty(_)&&A[_]!==S[_]&&(s||(s={}),s[_]=S[_])}else s||(g||(g=[]),g.push(v,s)),s=S;else v==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,A=A?A.__html:void 0,S!=null&&A!==S&&(g=g||[]).push(v,S)):v==="children"?typeof S!="string"&&typeof S!="number"||(g=g||[]).push(v,""+S):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(ia.hasOwnProperty(v)?(S!=null&&v==="onScroll"&&Nt("scroll",e),g||A===S||(g=[])):(g=g||[]).push(v,S))}s&&(g=g||[]).push("style",s);var v=g;(n.updateQueue=v)&&(n.flags|=4)}};k1=function(e,n,s,c){s!==c&&(n.flags|=4)};function zo(e,n){if(!Lt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function An(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,c=0;if(n)for(var d=e.child;d!==null;)s|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)s|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=c,e.childLanes=s,n}function Mm(e,n,s){var c=n.pendingProps;switch(mh(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(n),null;case 1:return Vn(n.type)&&bl(),An(n),null;case 3:return c=n.stateNode,ao(),Mt(Hn),Mt(bn),Sh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(Qa(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Lr!==null&&(Vc(Lr),Lr=null))),Dc(e,n),An(n),null;case 5:Ah(n);var d=ms(ma.current);if(s=n.type,e!==null&&n.stateNode!=null)O1(e,n,s,c,d),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!c){if(n.stateNode===null)throw Error(de(166));return An(n),null}if(e=ms(Jr.current),Qa(n)){c=n.stateNode,s=n.type;var g=n.memoizedProps;switch(c[Kr]=n,c[ga]=g,e=(n.mode&1)!==0,s){case"dialog":Nt("cancel",c),Nt("close",c);break;case"iframe":case"object":case"embed":Nt("load",c);break;case"video":case"audio":for(d=0;d<Wo.length;d++)Nt(Wo[d],c);break;case"source":Nt("error",c);break;case"img":case"image":case"link":Nt("error",c),Nt("load",c);break;case"details":Nt("toggle",c);break;case"input":gd(c,g),Nt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Nt("invalid",c);break;case"textarea":md(c,g),Nt("invalid",c)}lc(s,g),d=null;for(var _ in g)if(g.hasOwnProperty(_)){var A=g[_];_==="children"?typeof A=="string"?c.textContent!==A&&(g.suppressHydrationWarning!==!0&&Xa(c.textContent,A,e),d=["children",A]):typeof A=="number"&&c.textContent!==""+A&&(g.suppressHydrationWarning!==!0&&Xa(c.textContent,A,e),d=["children",""+A]):ia.hasOwnProperty(_)&&A!=null&&_==="onScroll"&&Nt("scroll",c)}switch(s){case"input":za(c),pd(c,g,!0);break;case"textarea":za(c),xd(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=Sl)}c=d,n.updateQueue=c,c!==null&&(n.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=o0(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=_.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=_.createElement(s,{is:c.is}):(e=_.createElement(s),s==="select"&&(_=e,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):e=_.createElementNS(e,s),e[Kr]=n,e[ga]=c,M1(e,n,!1,!1),n.stateNode=e;e:{switch(_=uc(s,c),s){case"dialog":Nt("cancel",e),Nt("close",e),d=c;break;case"iframe":case"object":case"embed":Nt("load",e),d=c;break;case"video":case"audio":for(d=0;d<Wo.length;d++)Nt(Wo[d],e);d=c;break;case"source":Nt("error",e),d=c;break;case"img":case"image":case"link":Nt("error",e),Nt("load",e),d=c;break;case"details":Nt("toggle",e),d=c;break;case"input":gd(e,c),d=rc(e,c),Nt("invalid",e);break;case"option":d=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},d=jt({},c,{value:void 0}),Nt("invalid",e);break;case"textarea":md(e,c),d=oc(e,c),Nt("invalid",e);break;default:d=c}lc(s,d),A=d;for(g in A)if(A.hasOwnProperty(g)){var S=A[g];g==="style"?u0(e,S):g==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&a0(e,S)):g==="children"?typeof S=="string"?(s!=="textarea"||S!=="")&&sa(e,S):typeof S=="number"&&sa(e,""+S):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(ia.hasOwnProperty(g)?S!=null&&g==="onScroll"&&Nt("scroll",e):S!=null&&th(e,g,S,_))}switch(s){case"input":za(e),pd(e,c,!1);break;case"textarea":za(e),xd(e);break;case"option":c.value!=null&&e.setAttribute("value",""+Xi(c.value));break;case"select":e.multiple=!!c.multiple,g=c.value,g!=null?Qs(e,!!c.multiple,g,!1):c.defaultValue!=null&&Qs(e,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=Sl)}switch(s){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return An(n),null;case 6:if(e&&n.stateNode!=null)k1(e,n,e.memoizedProps,c);else{if(typeof c!="string"&&n.stateNode===null)throw Error(de(166));if(s=ms(ma.current),ms(Jr.current),Qa(n)){if(c=n.stateNode,s=n.memoizedProps,c[Kr]=n,(g=c.nodeValue!==s)&&(e=tr,e!==null))switch(e.tag){case 3:Xa(c.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xa(c.nodeValue,s,(e.mode&1)!==0)}g&&(n.flags|=4)}else c=(s.nodeType===9?s:s.ownerDocument).createTextNode(c),c[Kr]=n,n.stateNode=c}return An(n),null;case 13:if(Mt(Bt),c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Lt&&er!==null&&n.mode&1&&!(n.flags&128))K0(),so(),n.flags|=98560,g=!1;else if(g=Qa(n),c!==null&&c.dehydrated!==null){if(e===null){if(!g)throw Error(de(318));if(g=n.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(de(317));g[Kr]=n}else so(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;An(n),g=!1}else Lr!==null&&(Vc(Lr),Lr=null),g=!0;if(!g)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(c=c!==null,c!==(e!==null&&e.memoizedState!==null)&&c&&(n.child.flags|=8192,n.mode&1&&(e===null||Bt.current&1?nn===0&&(nn=3):Bh())),n.updateQueue!==null&&(n.flags|=4),An(n),null);case 4:return ao(),Dc(e,n),e===null&&da(n.stateNode.containerInfo),An(n),null;case 10:return wh(n.type._context),An(n),null;case 17:return Vn(n.type)&&bl(),An(n),null;case 19:if(Mt(Bt),g=n.memoizedState,g===null)return An(n),null;if(c=(n.flags&128)!==0,_=g.rendering,_===null)if(c)zo(g,!1);else{if(nn!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(_=Ll(e),_!==null){for(n.flags|=128,zo(g,!1),c=_.updateQueue,c!==null&&(n.updateQueue=c,n.flags|=4),n.subtreeFlags=0,c=s,s=n.child;s!==null;)g=s,e=c,g.flags&=14680066,_=g.alternate,_===null?(g.childLanes=0,g.lanes=e,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=_.childLanes,g.lanes=_.lanes,g.child=_.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=_.memoizedProps,g.memoizedState=_.memoizedState,g.updateQueue=_.updateQueue,g.type=_.type,e=_.dependencies,g.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return St(Bt,Bt.current&1|2),n.child}e=e.sibling}g.tail!==null&&Wt()>uo&&(n.flags|=128,c=!0,zo(g,!1),n.lanes=4194304)}else{if(!c)if(e=Ll(_),e!==null){if(n.flags|=128,c=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),zo(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!Lt)return An(n),null}else 2*Wt()-g.renderingStartTime>uo&&s!==1073741824&&(n.flags|=128,c=!0,zo(g,!1),n.lanes=4194304);g.isBackwards?(_.sibling=n.child,n.child=_):(s=g.last,s!==null?s.sibling=_:n.child=_,g.last=_)}return g.tail!==null?(n=g.tail,g.rendering=n,g.tail=n.sibling,g.renderingStartTime=Wt(),n.sibling=null,s=Bt.current,St(Bt,c?s&1|2:s&1),n):(An(n),null);case 22:case 23:return Ph(),c=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(n.flags|=8192),c&&n.mode&1?Jn&1073741824&&(An(n),n.subtreeFlags&6&&(n.flags|=8192)):An(n),null;case 24:return null;case 25:return null}throw Error(de(156,n.tag))}function Om(e,n){switch(mh(n),n.tag){case 1:return Vn(n.type)&&bl(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ao(),Mt(Hn),Mt(bn),Sh(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Ah(n),null;case 13:if(Mt(Bt),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(de(340));so()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Mt(Bt),null;case 4:return ao(),null;case 10:return wh(n.type._context),null;case 22:case 23:return Ph(),null;case 24:return null;default:return null}}var Ja=!1,Sn=!1,km=typeof WeakSet=="function"?WeakSet:Set,be=null;function Gs(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(c){Ht(e,n,c)}else s.current=null}function Pc(e,n,s){try{s()}catch(c){Ht(e,n,c)}}var af=!1;function Lm(e,n){if(_c=Cl,e=B0(),gh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break e}var _=0,A=-1,S=-1,v=0,O=0,k=e,U=null;t:for(;;){for(var Y;k!==s||d!==0&&k.nodeType!==3||(A=_+d),k!==g||c!==0&&k.nodeType!==3||(S=_+c),k.nodeType===3&&(_+=k.nodeValue.length),(Y=k.firstChild)!==null;)U=k,k=Y;for(;;){if(k===e)break t;if(U===s&&++v===d&&(A=_),U===g&&++O===c&&(S=_),(Y=k.nextSibling)!==null)break;k=U,U=k.parentNode}k=Y}s=A===-1||S===-1?null:{start:A,end:S}}else s=null}s=s||{start:0,end:0}}else s=null;for(wc={focusedElem:e,selectionRange:s},Cl=!1,be=n;be!==null;)if(n=be,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,be=e;else for(;be!==null;){n=be;try{var te=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(te!==null){var H=te.memoizedProps,ye=te.memoizedState,j=n.stateNode,D=j.getSnapshotBeforeUpdate(n.elementType===n.type?H:Mr(n.type,H),ye);j.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var P=n.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(J){Ht(n,n.return,J)}if(e=n.sibling,e!==null){e.return=n.return,be=e;break}be=n.return}return te=af,af=!1,te}function $o(e,n,s){var c=n.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&e)===e){var g=d.destroy;d.destroy=void 0,g!==void 0&&Pc(n,s,g)}d=d.next}while(d!==c)}}function $l(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var c=s.create;s.destroy=c()}s=s.next}while(s!==n)}}function Bc(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function L1(e){var n=e.alternate;n!==null&&(e.alternate=null,L1(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Kr],delete n[ga],delete n[Ec],delete n[pm],delete n[mm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function R1(e){return e.tag===5||e.tag===3||e.tag===4}function lf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||R1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fc(e,n,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Sl));else if(c!==4&&(e=e.child,e!==null))for(Fc(e,n,s),e=e.sibling;e!==null;)Fc(e,n,s),e=e.sibling}function jc(e,n,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for(jc(e,n,s),e=e.sibling;e!==null;)jc(e,n,s),e=e.sibling}var pn=null,Or=!1;function ki(e,n,s){for(s=s.child;s!==null;)D1(e,n,s),s=s.sibling}function D1(e,n,s){if(qr&&typeof qr.onCommitFiberUnmount=="function")try{qr.onCommitFiberUnmount(Wl,s)}catch{}switch(s.tag){case 5:Sn||Gs(s,n);case 6:var c=pn,d=Or;pn=null,ki(e,n,s),pn=c,Or=d,pn!==null&&(Or?(e=pn,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):pn.removeChild(s.stateNode));break;case 18:pn!==null&&(Or?(e=pn,s=s.stateNode,e.nodeType===8?ju(e.parentNode,s):e.nodeType===1&&ju(e,s),ua(e)):ju(pn,s.stateNode));break;case 4:c=pn,d=Or,pn=s.stateNode.containerInfo,Or=!0,ki(e,n,s),pn=c,Or=d;break;case 0:case 11:case 14:case 15:if(!Sn&&(c=s.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var g=d,_=g.destroy;g=g.tag,_!==void 0&&(g&2||g&4)&&Pc(s,n,_),d=d.next}while(d!==c)}ki(e,n,s);break;case 1:if(!Sn&&(Gs(s,n),c=s.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=s.memoizedProps,c.state=s.memoizedState,c.componentWillUnmount()}catch(A){Ht(s,n,A)}ki(e,n,s);break;case 21:ki(e,n,s);break;case 22:s.mode&1?(Sn=(c=Sn)||s.memoizedState!==null,ki(e,n,s),Sn=c):ki(e,n,s);break;default:ki(e,n,s)}}function uf(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new km),n.forEach(function(c){var d=Hm.bind(null,e,c);s.has(c)||(s.add(c),c.then(d,d))})}}function Nr(e,n){var s=n.deletions;if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];try{var g=e,_=n,A=_;e:for(;A!==null;){switch(A.tag){case 5:pn=A.stateNode,Or=!1;break e;case 3:pn=A.stateNode.containerInfo,Or=!0;break e;case 4:pn=A.stateNode.containerInfo,Or=!0;break e}A=A.return}if(pn===null)throw Error(de(160));D1(g,_,d),pn=null,Or=!1;var S=d.alternate;S!==null&&(S.return=null),d.return=null}catch(v){Ht(d,n,v)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)P1(n,e),n=n.sibling}function P1(e,n){var s=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nr(n,e),Yr(e),c&4){try{$o(3,e,e.return),$l(3,e)}catch(H){Ht(e,e.return,H)}try{$o(5,e,e.return)}catch(H){Ht(e,e.return,H)}}break;case 1:Nr(n,e),Yr(e),c&512&&s!==null&&Gs(s,s.return);break;case 5:if(Nr(n,e),Yr(e),c&512&&s!==null&&Gs(s,s.return),e.flags&32){var d=e.stateNode;try{sa(d,"")}catch(H){Ht(e,e.return,H)}}if(c&4&&(d=e.stateNode,d!=null)){var g=e.memoizedProps,_=s!==null?s.memoizedProps:g,A=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{A==="input"&&g.type==="radio"&&g.name!=null&&i0(d,g),uc(A,_);var v=uc(A,g);for(_=0;_<S.length;_+=2){var O=S[_],k=S[_+1];O==="style"?u0(d,k):O==="dangerouslySetInnerHTML"?a0(d,k):O==="children"?sa(d,k):th(d,O,k,v)}switch(A){case"input":ic(d,g);break;case"textarea":s0(d,g);break;case"select":var U=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var Y=g.value;Y!=null?Qs(d,!!g.multiple,Y,!1):U!==!!g.multiple&&(g.defaultValue!=null?Qs(d,!!g.multiple,g.defaultValue,!0):Qs(d,!!g.multiple,g.multiple?[]:"",!1))}d[ga]=g}catch(H){Ht(e,e.return,H)}}break;case 6:if(Nr(n,e),Yr(e),c&4){if(e.stateNode===null)throw Error(de(162));d=e.stateNode,g=e.memoizedProps;try{d.nodeValue=g}catch(H){Ht(e,e.return,H)}}break;case 3:if(Nr(n,e),Yr(e),c&4&&s!==null&&s.memoizedState.isDehydrated)try{ua(n.containerInfo)}catch(H){Ht(e,e.return,H)}break;case 4:Nr(n,e),Yr(e);break;case 13:Nr(n,e),Yr(e),d=e.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(Rh=Wt())),c&4&&uf(e);break;case 22:if(O=s!==null&&s.memoizedState!==null,e.mode&1?(Sn=(v=Sn)||O,Nr(n,e),Sn=v):Nr(n,e),Yr(e),c&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!O&&e.mode&1)for(be=e,O=e.child;O!==null;){for(k=be=O;be!==null;){switch(U=be,Y=U.child,U.tag){case 0:case 11:case 14:case 15:$o(4,U,U.return);break;case 1:Gs(U,U.return);var te=U.stateNode;if(typeof te.componentWillUnmount=="function"){c=U,s=U.return;try{n=c,te.props=n.memoizedProps,te.state=n.memoizedState,te.componentWillUnmount()}catch(H){Ht(c,s,H)}}break;case 5:Gs(U,U.return);break;case 22:if(U.memoizedState!==null){hf(k);continue}}Y!==null?(Y.return=U,be=Y):hf(k)}O=O.sibling}e:for(O=null,k=e;;){if(k.tag===5){if(O===null){O=k;try{d=k.stateNode,v?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(A=k.stateNode,S=k.memoizedProps.style,_=S!=null&&S.hasOwnProperty("display")?S.display:null,A.style.display=l0("display",_))}catch(H){Ht(e,e.return,H)}}}else if(k.tag===6){if(O===null)try{k.stateNode.nodeValue=v?"":k.memoizedProps}catch(H){Ht(e,e.return,H)}}else if((k.tag!==22&&k.tag!==23||k.memoizedState===null||k===e)&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===e)break e;for(;k.sibling===null;){if(k.return===null||k.return===e)break e;O===k&&(O=null),k=k.return}O===k&&(O=null),k.sibling.return=k.return,k=k.sibling}}break;case 19:Nr(n,e),Yr(e),c&4&&uf(e);break;case 21:break;default:Nr(n,e),Yr(e)}}function Yr(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(R1(s)){var c=s;break e}s=s.return}throw Error(de(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(sa(d,""),c.flags&=-33);var g=lf(e);jc(e,g,d);break;case 3:case 4:var _=c.stateNode.containerInfo,A=lf(e);Fc(e,A,_);break;default:throw Error(de(161))}}catch(S){Ht(e,e.return,S)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Rm(e,n,s){be=e,B1(e)}function B1(e,n,s){for(var c=(e.mode&1)!==0;be!==null;){var d=be,g=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||Ja;if(!_){var A=d.alternate,S=A!==null&&A.memoizedState!==null||Sn;A=Ja;var v=Sn;if(Ja=_,(Sn=S)&&!v)for(be=d;be!==null;)_=be,S=_.child,_.tag===22&&_.memoizedState!==null?df(d):S!==null?(S.return=_,be=S):df(d);for(;g!==null;)be=g,B1(g),g=g.sibling;be=d,Ja=A,Sn=v}cf(e)}else d.subtreeFlags&8772&&g!==null?(g.return=d,be=g):cf(e)}}function cf(e){for(;be!==null;){var n=be;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Sn||$l(5,n);break;case 1:var c=n.stateNode;if(n.flags&4&&!Sn)if(s===null)c.componentDidMount();else{var d=n.elementType===n.type?s.memoizedProps:Mr(n.type,s.memoizedProps);c.componentDidUpdate(d,s.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=n.updateQueue;g!==null&&Yd(n,g,c);break;case 3:var _=n.updateQueue;if(_!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Yd(n,_,s)}break;case 5:var A=n.stateNode;if(s===null&&n.flags&4){s=A;var S=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&s.focus();break;case"img":S.src&&(s.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var v=n.alternate;if(v!==null){var O=v.memoizedState;if(O!==null){var k=O.dehydrated;k!==null&&ua(k)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}Sn||n.flags&512&&Bc(n)}catch(U){Ht(n,n.return,U)}}if(n===e){be=null;break}if(s=n.sibling,s!==null){s.return=n.return,be=s;break}be=n.return}}function hf(e){for(;be!==null;){var n=be;if(n===e){be=null;break}var s=n.sibling;if(s!==null){s.return=n.return,be=s;break}be=n.return}}function df(e){for(;be!==null;){var n=be;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{$l(4,n)}catch(S){Ht(n,s,S)}break;case 1:var c=n.stateNode;if(typeof c.componentDidMount=="function"){var d=n.return;try{c.componentDidMount()}catch(S){Ht(n,d,S)}}var g=n.return;try{Bc(n)}catch(S){Ht(n,g,S)}break;case 5:var _=n.return;try{Bc(n)}catch(S){Ht(n,_,S)}}}catch(S){Ht(n,n.return,S)}if(n===e){be=null;break}var A=n.sibling;if(A!==null){A.return=n.return,be=A;break}be=n.return}}var Dm=Math.ceil,Pl=yi.ReactCurrentDispatcher,kh=yi.ReactCurrentOwner,xr=yi.ReactCurrentBatchConfig,at=0,fn=null,Kt=null,mn=0,Jn=0,Ys=Ji(0),nn=0,wa=null,Cs=0,eu=0,Lh=0,ea=null,zn=null,Rh=0,uo=1/0,li=null,Bl=!1,zc=null,Wi=null,$a=!1,ji=null,Fl=0,ta=0,Uc=null,dl=-1,fl=0;function Rn(){return at&6?Wt():dl!==-1?dl:dl=Wt()}function Gi(e){return e.mode&1?at&2&&mn!==0?mn&-mn:ym.transition!==null?(fl===0&&(fl=v0()),fl):(e=mt,e!==0||(e=window.event,e=e===void 0?16:T0(e.type)),e):1}function Dr(e,n,s,c){if(50<ta)throw ta=0,Uc=null,Error(de(185));Ca(e,s,c),(!(at&2)||e!==fn)&&(e===fn&&(!(at&2)&&(eu|=s),nn===4&&Bi(e,mn)),Zn(e,c),s===1&&at===0&&!(n.mode&1)&&(uo=Wt()+500,Kl&&$i()))}function Zn(e,n){var s=e.callbackNode;yp(e,n);var c=vl(e,e===fn?mn:0);if(c===0)s!==null&&wd(s),e.callbackNode=null,e.callbackPriority=0;else if(n=c&-c,e.callbackPriority!==n){if(s!=null&&wd(s),n===1)e.tag===0?xm(ff.bind(null,e)):Y0(ff.bind(null,e)),fm(function(){!(at&6)&&$i()}),s=null;else{switch(C0(c)){case 1:s=oh;break;case 4:s=_0;break;case 16:s=wl;break;case 536870912:s=w0;break;default:s=wl}s=W1(s,F1.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function F1(e,n){if(dl=-1,fl=0,at&6)throw Error(de(327));var s=e.callbackNode;if(eo()&&e.callbackNode!==s)return null;var c=vl(e,e===fn?mn:0);if(c===0)return null;if(c&30||c&e.expiredLanes||n)n=jl(e,c);else{n=c;var d=at;at|=2;var g=z1();(fn!==e||mn!==n)&&(li=null,uo=Wt()+500,xs(e,n));do try{Fm();break}catch(A){j1(e,A)}while(!0);_h(),Pl.current=g,at=d,Kt!==null?n=0:(fn=null,mn=0,n=nn)}if(n!==0){if(n===2&&(d=gc(e),d!==0&&(c=d,n=Hc(e,d))),n===1)throw s=wa,xs(e,0),Bi(e,c),Zn(e,Wt()),s;if(n===6)Bi(e,c);else{if(d=e.current.alternate,!(c&30)&&!Pm(d)&&(n=jl(e,c),n===2&&(g=gc(e),g!==0&&(c=g,n=Hc(e,g))),n===1))throw s=wa,xs(e,0),Bi(e,c),Zn(e,Wt()),s;switch(e.finishedWork=d,e.finishedLanes=c,n){case 0:case 1:throw Error(de(345));case 2:fs(e,zn,li);break;case 3:if(Bi(e,c),(c&130023424)===c&&(n=Rh+500-Wt(),10<n)){if(vl(e,0)!==0)break;if(d=e.suspendedLanes,(d&c)!==c){Rn(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=Cc(fs.bind(null,e,zn,li),n);break}fs(e,zn,li);break;case 4:if(Bi(e,c),(c&4194240)===c)break;for(n=e.eventTimes,d=-1;0<c;){var _=31-Rr(c);g=1<<_,_=n[_],_>d&&(d=_),c&=~g}if(c=d,c=Wt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Dm(c/1960))-c,10<c){e.timeoutHandle=Cc(fs.bind(null,e,zn,li),c);break}fs(e,zn,li);break;case 5:fs(e,zn,li);break;default:throw Error(de(329))}}}return Zn(e,Wt()),e.callbackNode===s?F1.bind(null,e):null}function Hc(e,n){var s=ea;return e.current.memoizedState.isDehydrated&&(xs(e,n).flags|=256),e=jl(e,n),e!==2&&(n=zn,zn=s,n!==null&&Vc(n)),e}function Vc(e){zn===null?zn=e:zn.push.apply(zn,e)}function Pm(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var c=0;c<s.length;c++){var d=s[c],g=d.getSnapshot;d=d.value;try{if(!Pr(g(),d))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Bi(e,n){for(n&=~Lh,n&=~eu,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Rr(n),c=1<<s;e[s]=-1,n&=~c}}function ff(e){if(at&6)throw Error(de(327));eo();var n=vl(e,0);if(!(n&1))return Zn(e,Wt()),null;var s=jl(e,n);if(e.tag!==0&&s===2){var c=gc(e);c!==0&&(n=c,s=Hc(e,c))}if(s===1)throw s=wa,xs(e,0),Bi(e,n),Zn(e,Wt()),s;if(s===6)throw Error(de(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,fs(e,zn,li),Zn(e,Wt()),null}function Dh(e,n){var s=at;at|=1;try{return e(n)}finally{at=s,at===0&&(uo=Wt()+500,Kl&&$i())}}function Es(e){ji!==null&&ji.tag===0&&!(at&6)&&eo();var n=at;at|=1;var s=xr.transition,c=mt;try{if(xr.transition=null,mt=1,e)return e()}finally{mt=c,xr.transition=s,at=n,!(at&6)&&$i()}}function Ph(){Jn=Ys.current,Mt(Ys)}function xs(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,dm(s)),Kt!==null)for(s=Kt.return;s!==null;){var c=s;switch(mh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&bl();break;case 3:ao(),Mt(Hn),Mt(bn),Sh();break;case 5:Ah(c);break;case 4:ao();break;case 13:Mt(Bt);break;case 19:Mt(Bt);break;case 10:wh(c.type._context);break;case 22:case 23:Ph()}s=s.return}if(fn=e,Kt=e=Yi(e.current,null),mn=Jn=n,nn=0,wa=null,Lh=eu=Cs=0,zn=ea=null,ps!==null){for(n=0;n<ps.length;n++)if(s=ps[n],c=s.interleaved,c!==null){s.interleaved=null;var d=c.next,g=s.pending;if(g!==null){var _=g.next;g.next=d,c.next=_}s.pending=c}ps=null}return e}function j1(e,n){do{var s=Kt;try{if(_h(),ul.current=Dl,Rl){for(var c=Ft.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Rl=!1}if(vs=0,dn=tn=Ft=null,Jo=!1,xa=0,kh.current=null,s===null||s.return===null){nn=1,wa=n,Kt=null;break}e:{var g=e,_=s.return,A=s,S=n;if(n=mn,A.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var v=S,O=A,k=O.tag;if(!(O.mode&1)&&(k===0||k===11||k===15)){var U=O.alternate;U?(O.updateQueue=U.updateQueue,O.memoizedState=U.memoizedState,O.lanes=U.lanes):(O.updateQueue=null,O.memoizedState=null)}var Y=$d(_);if(Y!==null){Y.flags&=-257,ef(Y,_,A,g,n),Y.mode&1&&Jd(g,v,n),n=Y,S=v;var te=n.updateQueue;if(te===null){var H=new Set;H.add(S),n.updateQueue=H}else te.add(S);break e}else{if(!(n&1)){Jd(g,v,n),Bh();break e}S=Error(de(426))}}else if(Lt&&A.mode&1){var ye=$d(_);if(ye!==null){!(ye.flags&65536)&&(ye.flags|=256),ef(ye,_,A,g,n),xh(lo(S,A));break e}}g=S=lo(S,A),nn!==4&&(nn=2),ea===null?ea=[g]:ea.push(g),g=_;do{switch(g.tag){case 3:g.flags|=65536,n&=-n,g.lanes|=n;var j=C1(g,S,n);Gd(g,j);break e;case 1:A=S;var D=g.type,P=g.stateNode;if(!(g.flags&128)&&(typeof D.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Wi===null||!Wi.has(P)))){g.flags|=65536,n&=-n,g.lanes|=n;var J=E1(g,A,n);Gd(g,J);break e}}g=g.return}while(g!==null)}H1(s)}catch(fe){n=fe,Kt===s&&s!==null&&(Kt=s=s.return);continue}break}while(!0)}function z1(){var e=Pl.current;return Pl.current=Dl,e===null?Dl:e}function Bh(){(nn===0||nn===3||nn===2)&&(nn=4),fn===null||!(Cs&268435455)&&!(eu&268435455)||Bi(fn,mn)}function jl(e,n){var s=at;at|=2;var c=z1();(fn!==e||mn!==n)&&(li=null,xs(e,n));do try{Bm();break}catch(d){j1(e,d)}while(!0);if(_h(),at=s,Pl.current=c,Kt!==null)throw Error(de(261));return fn=null,mn=0,nn}function Bm(){for(;Kt!==null;)U1(Kt)}function Fm(){for(;Kt!==null&&!up();)U1(Kt)}function U1(e){var n=Z1(e.alternate,e,Jn);e.memoizedProps=e.pendingProps,n===null?H1(e):Kt=n,kh.current=null}function H1(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=Om(s,n),s!==null){s.flags&=32767,Kt=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nn=6,Kt=null;return}}else if(s=Mm(s,n,Jn),s!==null){Kt=s;return}if(n=n.sibling,n!==null){Kt=n;return}Kt=n=e}while(n!==null);nn===0&&(nn=5)}function fs(e,n,s){var c=mt,d=xr.transition;try{xr.transition=null,mt=1,jm(e,n,s,c)}finally{xr.transition=d,mt=c}return null}function jm(e,n,s,c){do eo();while(ji!==null);if(at&6)throw Error(de(327));s=e.finishedWork;var d=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(de(177));e.callbackNode=null,e.callbackPriority=0;var g=s.lanes|s.childLanes;if(_p(e,g),e===fn&&(Kt=fn=null,mn=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||$a||($a=!0,W1(wl,function(){return eo(),null})),g=(s.flags&15990)!==0,s.subtreeFlags&15990||g){g=xr.transition,xr.transition=null;var _=mt;mt=1;var A=at;at|=4,kh.current=null,Lm(e,s),P1(s,e),sm(wc),Cl=!!_c,wc=_c=null,e.current=s,Rm(s),cp(),at=A,mt=_,xr.transition=g}else e.current=s;if($a&&($a=!1,ji=e,Fl=d),g=e.pendingLanes,g===0&&(Wi=null),fp(s.stateNode),Zn(e,Wt()),n!==null)for(c=e.onRecoverableError,s=0;s<n.length;s++)d=n[s],c(d.value,{componentStack:d.stack,digest:d.digest});if(Bl)throw Bl=!1,e=zc,zc=null,e;return Fl&1&&e.tag!==0&&eo(),g=e.pendingLanes,g&1?e===Uc?ta++:(ta=0,Uc=e):ta=0,$i(),null}function eo(){if(ji!==null){var e=C0(Fl),n=xr.transition,s=mt;try{if(xr.transition=null,mt=16>e?16:e,ji===null)var c=!1;else{if(e=ji,ji=null,Fl=0,at&6)throw Error(de(331));var d=at;for(at|=4,be=e.current;be!==null;){var g=be,_=g.child;if(be.flags&16){var A=g.deletions;if(A!==null){for(var S=0;S<A.length;S++){var v=A[S];for(be=v;be!==null;){var O=be;switch(O.tag){case 0:case 11:case 15:$o(8,O,g)}var k=O.child;if(k!==null)k.return=O,be=k;else for(;be!==null;){O=be;var U=O.sibling,Y=O.return;if(L1(O),O===v){be=null;break}if(U!==null){U.return=Y,be=U;break}be=Y}}}var te=g.alternate;if(te!==null){var H=te.child;if(H!==null){te.child=null;do{var ye=H.sibling;H.sibling=null,H=ye}while(H!==null)}}be=g}}if(g.subtreeFlags&2064&&_!==null)_.return=g,be=_;else e:for(;be!==null;){if(g=be,g.flags&2048)switch(g.tag){case 0:case 11:case 15:$o(9,g,g.return)}var j=g.sibling;if(j!==null){j.return=g.return,be=j;break e}be=g.return}}var D=e.current;for(be=D;be!==null;){_=be;var P=_.child;if(_.subtreeFlags&2064&&P!==null)P.return=_,be=P;else e:for(_=D;be!==null;){if(A=be,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:$l(9,A)}}catch(fe){Ht(A,A.return,fe)}if(A===_){be=null;break e}var J=A.sibling;if(J!==null){J.return=A.return,be=J;break e}be=A.return}}if(at=d,$i(),qr&&typeof qr.onPostCommitFiberRoot=="function")try{qr.onPostCommitFiberRoot(Wl,e)}catch{}c=!0}return c}finally{mt=s,xr.transition=n}}return!1}function gf(e,n,s){n=lo(s,n),n=C1(e,n,1),e=Zi(e,n,1),n=Rn(),e!==null&&(Ca(e,1,n),Zn(e,n))}function Ht(e,n,s){if(e.tag===3)gf(e,e,s);else for(;n!==null;){if(n.tag===3){gf(n,e,s);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Wi===null||!Wi.has(c))){e=lo(s,e),e=E1(n,e,1),n=Zi(n,e,1),e=Rn(),n!==null&&(Ca(n,1,e),Zn(n,e));break}}n=n.return}}function zm(e,n,s){var c=e.pingCache;c!==null&&c.delete(n),n=Rn(),e.pingedLanes|=e.suspendedLanes&s,fn===e&&(mn&s)===s&&(nn===4||nn===3&&(mn&130023424)===mn&&500>Wt()-Rh?xs(e,0):Lh|=s),Zn(e,n)}function V1(e,n){n===0&&(e.mode&1?(n=Va,Va<<=1,!(Va&130023424)&&(Va=4194304)):n=1);var s=Rn();e=mi(e,n),e!==null&&(Ca(e,n,s),Zn(e,s))}function Um(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),V1(e,s)}function Hm(e,n){var s=0;switch(e.tag){case 13:var c=e.stateNode,d=e.memoizedState;d!==null&&(s=d.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(de(314))}c!==null&&c.delete(n),V1(e,s)}var Z1;Z1=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||Hn.current)Un=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return Un=!1,Nm(e,n,s);Un=!!(e.flags&131072)}else Un=!1,Lt&&n.flags&1048576&&X0(n,Nl,n.index);switch(n.lanes=0,n.tag){case 2:var c=n.type;hl(e,n),e=n.pendingProps;var d=io(n,bn.current);$s(n,s),d=Ih(null,n,c,e,d,s);var g=Th();return n.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Vn(c)?(g=!0,Il(n)):g=!1,n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Ch(n),d.updater=Jl,n.stateNode=d,d._reactInternals=n,Nc(n,c,e,s),n=kc(null,n,c,!0,g,s)):(n.tag=0,Lt&&g&&ph(n),Ln(null,n,d,s),n=n.child),n;case 16:c=n.elementType;e:{switch(hl(e,n),e=n.pendingProps,d=c._init,c=d(c._payload),n.type=c,d=n.tag=Zm(c),e=Mr(c,e),d){case 0:n=Oc(null,n,c,e,s);break e;case 1:n=rf(null,n,c,e,s);break e;case 11:n=tf(null,n,c,e,s);break e;case 14:n=nf(null,n,c,Mr(c.type,e),s);break e}throw Error(de(306,c,""))}return n;case 0:return c=n.type,d=n.pendingProps,d=n.elementType===c?d:Mr(c,d),Oc(e,n,c,d,s);case 1:return c=n.type,d=n.pendingProps,d=n.elementType===c?d:Mr(c,d),rf(e,n,c,d,s);case 3:e:{if(I1(n),e===null)throw Error(de(387));c=n.pendingProps,g=n.memoizedState,d=g.element,e1(e,n),kl(n,c,null,s);var _=n.memoizedState;if(c=_.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){d=lo(Error(de(423)),n),n=sf(e,n,c,s,d);break e}else if(c!==d){d=lo(Error(de(424)),n),n=sf(e,n,c,s,d);break e}else for(er=Vi(n.stateNode.containerInfo.firstChild),tr=n,Lt=!0,Lr=null,s=J0(n,null,c,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(so(),c===d){n=xi(e,n,s);break e}Ln(e,n,c,s)}n=n.child}return n;case 5:return t1(n),e===null&&bc(n),c=n.type,d=n.pendingProps,g=e!==null?e.memoizedProps:null,_=d.children,vc(c,d)?_=null:g!==null&&vc(c,g)&&(n.flags|=32),b1(e,n),Ln(e,n,_,s),n.child;case 6:return e===null&&bc(n),null;case 13:return T1(e,n,s);case 4:return Eh(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=oo(n,null,c,s):Ln(e,n,c,s),n.child;case 11:return c=n.type,d=n.pendingProps,d=n.elementType===c?d:Mr(c,d),tf(e,n,c,d,s);case 7:return Ln(e,n,n.pendingProps,s),n.child;case 8:return Ln(e,n,n.pendingProps.children,s),n.child;case 12:return Ln(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(c=n.type._context,d=n.pendingProps,g=n.memoizedProps,_=d.value,St(Ml,c._currentValue),c._currentValue=_,g!==null)if(Pr(g.value,_)){if(g.children===d.children&&!Hn.current){n=xi(e,n,s);break e}}else for(g=n.child,g!==null&&(g.return=n);g!==null;){var A=g.dependencies;if(A!==null){_=g.child;for(var S=A.firstContext;S!==null;){if(S.context===c){if(g.tag===1){S=fi(-1,s&-s),S.tag=2;var v=g.updateQueue;if(v!==null){v=v.shared;var O=v.pending;O===null?S.next=S:(S.next=O.next,O.next=S),v.pending=S}}g.lanes|=s,S=g.alternate,S!==null&&(S.lanes|=s),Ic(g.return,s,n),A.lanes|=s;break}S=S.next}}else if(g.tag===10)_=g.type===n.type?null:g.child;else if(g.tag===18){if(_=g.return,_===null)throw Error(de(341));_.lanes|=s,A=_.alternate,A!==null&&(A.lanes|=s),Ic(_,s,n),_=g.sibling}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===n){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}Ln(e,n,d.children,s),n=n.child}return n;case 9:return d=n.type,c=n.pendingProps.children,$s(n,s),d=yr(d),c=c(d),n.flags|=1,Ln(e,n,c,s),n.child;case 14:return c=n.type,d=Mr(c,n.pendingProps),d=Mr(c.type,d),nf(e,n,c,d,s);case 15:return A1(e,n,n.type,n.pendingProps,s);case 17:return c=n.type,d=n.pendingProps,d=n.elementType===c?d:Mr(c,d),hl(e,n),n.tag=1,Vn(c)?(e=!0,Il(n)):e=!1,$s(n,s),v1(n,c,d),Nc(n,c,d,s),kc(null,n,c,!0,e,s);case 19:return N1(e,n,s);case 22:return S1(e,n,s)}throw Error(de(156,n.tag))};function W1(e,n){return y0(e,n)}function Vm(e,n,s,c){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(e,n,s,c){return new Vm(e,n,s,c)}function Fh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zm(e){if(typeof e=="function")return Fh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rh)return 11;if(e===ih)return 14}return 2}function Yi(e,n){var s=e.alternate;return s===null?(s=mr(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function gl(e,n,s,c,d,g){var _=2;if(c=e,typeof e=="function")Fh(e)&&(_=1);else if(typeof e=="string")_=5;else e:switch(e){case Bs:return ys(s.children,d,g,n);case nh:_=8,d|=8;break;case $u:return e=mr(12,s,n,d|2),e.elementType=$u,e.lanes=g,e;case ec:return e=mr(13,s,n,d),e.elementType=ec,e.lanes=g,e;case tc:return e=mr(19,s,n,d),e.elementType=tc,e.lanes=g,e;case t0:return tu(s,d,g,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $f:_=10;break e;case e0:_=9;break e;case rh:_=11;break e;case ih:_=14;break e;case Ri:_=16,c=null;break e}throw Error(de(130,e==null?e:typeof e,""))}return n=mr(_,s,n,d),n.elementType=e,n.type=c,n.lanes=g,n}function ys(e,n,s,c){return e=mr(7,e,c,n),e.lanes=s,e}function tu(e,n,s,c){return e=mr(22,e,c,n),e.elementType=t0,e.lanes=s,e.stateNode={isHidden:!1},e}function Yu(e,n,s){return e=mr(6,e,null,n),e.lanes=s,e}function Xu(e,n,s){return n=mr(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Wm(e,n,s,c,d){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tu(0),this.expirationTimes=Tu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tu(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function jh(e,n,s,c,d,g,_,A,S){return e=new Wm(e,n,s,A,S),n===1?(n=1,g===!0&&(n|=8)):n=0,g=mr(3,null,null,n),e.current=g,g.stateNode=e,g.memoizedState={element:c,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ch(g),e}function Gm(e,n,s){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ps,key:c==null?null:""+c,children:e,containerInfo:n,implementation:s}}function G1(e){if(!e)return Qi;e=e._reactInternals;e:{if(Ss(e)!==e||e.tag!==1)throw Error(de(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Vn(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(de(171))}if(e.tag===1){var s=e.type;if(Vn(s))return G0(e,s,n)}return n}function Y1(e,n,s,c,d,g,_,A,S){return e=jh(s,c,!0,e,d,g,_,A,S),e.context=G1(null),s=e.current,c=Rn(),d=Gi(s),g=fi(c,d),g.callback=n??null,Zi(s,g,d),e.current.lanes=d,Ca(e,d,c),Zn(e,c),e}function nu(e,n,s,c){var d=n.current,g=Rn(),_=Gi(d);return s=G1(s),n.context===null?n.context=s:n.pendingContext=s,n=fi(g,_),n.payload={element:e},c=c===void 0?null:c,c!==null&&(n.callback=c),e=Zi(d,n,_),e!==null&&(Dr(e,d,_,g),ll(e,d,_)),_}function zl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pf(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function zh(e,n){pf(e,n),(e=e.alternate)&&pf(e,n)}function Ym(){return null}var X1=typeof reportError=="function"?reportError:function(e){console.error(e)};function Uh(e){this._internalRoot=e}ru.prototype.render=Uh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(de(409));nu(e,n,null,null)};ru.prototype.unmount=Uh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Es(function(){nu(null,e,null,null)}),n[pi]=null}};function ru(e){this._internalRoot=e}ru.prototype.unstable_scheduleHydration=function(e){if(e){var n=S0();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Pi.length&&n!==0&&n<Pi[s].priority;s++);Pi.splice(s,0,e),s===0&&I0(e)}};function Hh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function iu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mf(){}function Xm(e,n,s,c,d){if(d){if(typeof c=="function"){var g=c;c=function(){var v=zl(_);g.call(v)}}var _=Y1(n,c,e,0,null,!1,!1,"",mf);return e._reactRootContainer=_,e[pi]=_.current,da(e.nodeType===8?e.parentNode:e),Es(),_}for(;d=e.lastChild;)e.removeChild(d);if(typeof c=="function"){var A=c;c=function(){var v=zl(S);A.call(v)}}var S=jh(e,0,!1,null,null,!1,!1,"",mf);return e._reactRootContainer=S,e[pi]=S.current,da(e.nodeType===8?e.parentNode:e),Es(function(){nu(n,S,s,c)}),S}function su(e,n,s,c,d){var g=s._reactRootContainer;if(g){var _=g;if(typeof d=="function"){var A=d;d=function(){var S=zl(_);A.call(S)}}nu(n,_,e,d)}else _=Xm(s,n,e,d,c);return zl(_)}E0=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=Zo(n.pendingLanes);s!==0&&(ah(n,s|1),Zn(n,Wt()),!(at&6)&&(uo=Wt()+500,$i()))}break;case 13:Es(function(){var c=mi(e,1);if(c!==null){var d=Rn();Dr(c,e,1,d)}}),zh(e,1)}};lh=function(e){if(e.tag===13){var n=mi(e,134217728);if(n!==null){var s=Rn();Dr(n,e,134217728,s)}zh(e,134217728)}};A0=function(e){if(e.tag===13){var n=Gi(e),s=mi(e,n);if(s!==null){var c=Rn();Dr(s,e,n,c)}zh(e,n)}};S0=function(){return mt};b0=function(e,n){var s=mt;try{return mt=e,n()}finally{mt=s}};hc=function(e,n,s){switch(n){case"input":if(ic(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var c=s[n];if(c!==e&&c.form===e.form){var d=Ql(c);if(!d)throw Error(de(90));r0(c),ic(c,d)}}}break;case"textarea":s0(e,s);break;case"select":n=s.value,n!=null&&Qs(e,!!s.multiple,n,!1)}};d0=Dh;f0=Es;var Qm={usingClientEntryPoint:!1,Events:[Aa,Us,Ql,c0,h0,Dh]},Uo={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Km={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=m0(e),e===null?null:e.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance||Ym,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var el=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!el.isDisabled&&el.supportsFiber)try{Wl=el.inject(Km),qr=el}catch{}}rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qm;rr.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hh(n))throw Error(de(200));return Gm(e,n,null,s)};rr.createRoot=function(e,n){if(!Hh(e))throw Error(de(299));var s=!1,c="",d=X1;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=jh(e,1,!1,null,null,s,!1,c,d),e[pi]=n.current,da(e.nodeType===8?e.parentNode:e),new Uh(n)};rr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(de(188)):(e=Object.keys(e).join(","),Error(de(268,e)));return e=m0(n),e=e===null?null:e.stateNode,e};rr.flushSync=function(e){return Es(e)};rr.hydrate=function(e,n,s){if(!iu(n))throw Error(de(200));return su(null,e,n,!0,s)};rr.hydrateRoot=function(e,n,s){if(!Hh(e))throw Error(de(405));var c=s!=null&&s.hydratedSources||null,d=!1,g="",_=X1;if(s!=null&&(s.unstable_strictMode===!0&&(d=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),n=Y1(n,null,e,1,s??null,d,!1,g,_),e[pi]=n.current,da(e),c)for(e=0;e<c.length;e++)s=c[e],d=s._getVersion,d=d(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,d]:n.mutableSourceEagerHydrationData.push(s,d);return new ru(n)};rr.render=function(e,n,s){if(!iu(n))throw Error(de(200));return su(null,e,n,!1,s)};rr.unmountComponentAtNode=function(e){if(!iu(e))throw Error(de(40));return e._reactRootContainer?(Es(function(){su(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0):!1};rr.unstable_batchedUpdates=Dh;rr.unstable_renderSubtreeIntoContainer=function(e,n,s,c){if(!iu(s))throw Error(de(200));if(e==null||e._reactInternals===void 0)throw Error(de(38));return su(e,n,s,!1,c)};rr.version="18.3.1-next-f1338f8080-20240426";function Q1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q1)}catch(e){console.error(e)}}Q1(),Qf.exports=rr;var K1=Qf.exports,xf=K1;qu.createRoot=xf.createRoot,qu.hydrateRoot=xf.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),_t=(e,n)=>{const s=he.forwardRef(({color:c="currentColor",size:d=24,strokeWidth:g=2,absoluteStrokeWidth:_,className:A="",children:S,...v},O)=>he.createElement("svg",{ref:O,...qm,width:d,height:d,stroke:c,strokeWidth:_?Number(g)*24/Number(d):g,className:["lucide",`lucide-${Jm(e)}`,A].join(" "),...v},[...n.map(([k,U])=>he.createElement(k,U)),...Array.isArray(S)?S:[S]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=_t("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=_t("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=_t("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=_t("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=_t("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=_t("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=_t("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=_t("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=_t("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=_t("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=_t("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=_t("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=_t("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=_t("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=_t("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=_t("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=_t("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=_t("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=_t("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=_t("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=_t("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=_t("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=_t("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=_t("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=_t("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=_t("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=_t("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=_t("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function $1(e,n){const s=he.useRef(n);he.useEffect(function(){n!==s.current&&e.attributionControl!=null&&(s.current!=null&&e.attributionControl.removeAttribution(s.current),n!=null&&e.attributionControl.addAttribution(n)),s.current=n},[e,n])}const px=1;function mx(e){return Object.freeze({__version:px,map:e})}function eg(e,n){return Object.freeze({...e,...n})}const tg=he.createContext(null),ng=tg.Provider;function au(){const e=he.useContext(tg);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function rg(e){function n(s,c){const{instance:d,context:g}=e(s).current;return he.useImperativeHandle(c,()=>d),s.children==null?null:ml.createElement(ng,{value:g},s.children)}return he.forwardRef(n)}function xx(e){function n(s,c){const[d,g]=he.useState(!1),{instance:_}=e(s,g).current;he.useImperativeHandle(c,()=>_),he.useEffect(function(){d&&_.update()},[_,d,s.children]);const A=_._contentNode;return A?K1.createPortal(s.children,A):null}return he.forwardRef(n)}function yx(e){function n(s,c){const{instance:d}=e(s).current;return he.useImperativeHandle(c,()=>d),null}return he.forwardRef(n)}function Vh(e,n){const s=he.useRef();he.useEffect(function(){return n!=null&&e.instance.on(n),s.current=n,function(){s.current!=null&&e.instance.off(s.current),s.current=null}},[e,n])}function lu(e,n){const s=e.pane??n.pane;return s?{...e,pane:s}:e}function _x(e,n){return function(c,d){const g=au(),_=e(lu(c,g),g);return $1(g.map,c.attribution),Vh(_.current,c.eventHandlers),n(_.current,g,c,d),_}}var Wc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,n){(function(s,c){c(n)})(Ds,function(s){var c="1.9.4";function d(i){var u,p,y,E;for(p=1,y=arguments.length;p<y;p++){E=arguments[p];for(u in E)i[u]=E[u]}return i}var g=Object.create||function(){function i(){}return function(u){return i.prototype=u,new i}}();function _(i,u){var p=Array.prototype.slice;if(i.bind)return i.bind.apply(i,p.call(arguments,1));var y=p.call(arguments,2);return function(){return i.apply(u,y.length?y.concat(p.call(arguments)):arguments)}}var A=0;function S(i){return"_leaflet_id"in i||(i._leaflet_id=++A),i._leaflet_id}function v(i,u,p){var y,E,N,B;return B=function(){y=!1,E&&(N.apply(p,E),E=!1)},N=function(){y?E=arguments:(i.apply(p,arguments),setTimeout(B,u),y=!0)},N}function O(i,u,p){var y=u[1],E=u[0],N=y-E;return i===y&&p?i:((i-E)%N+N)%N+E}function k(){return!1}function U(i,u){if(u===!1)return i;var p=Math.pow(10,u===void 0?6:u);return Math.round(i*p)/p}function Y(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function te(i){return Y(i).split(/\s+/)}function H(i,u){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?g(i.options):{});for(var p in u)i.options[p]=u[p];return i.options}function ye(i,u,p){var y=[];for(var E in i)y.push(encodeURIComponent(p?E.toUpperCase():E)+"="+encodeURIComponent(i[E]));return(!u||u.indexOf("?")===-1?"?":"&")+y.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function D(i,u){return i.replace(j,function(p,y){var E=u[y];if(E===void 0)throw new Error("No value provided for variable "+p);return typeof E=="function"&&(E=E(u)),E})}var P=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function J(i,u){for(var p=0;p<i.length;p++)if(i[p]===u)return p;return-1}var fe="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ae(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var V=0;function ee(i){var u=+new Date,p=Math.max(0,16-(u-V));return V=u+p,window.setTimeout(i,p)}var $=window.requestAnimationFrame||ae("RequestAnimationFrame")||ee,Se=window.cancelAnimationFrame||ae("CancelAnimationFrame")||ae("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function Re(i,u,p){if(p&&$===ee)i.call(u);else return $.call(window,_(i,u))}function ge(i){i&&Se.call(window,i)}var Ze={__proto__:null,extend:d,create:g,bind:_,get lastId(){return A},stamp:S,throttle:v,wrapNum:O,falseFn:k,formatNum:U,trim:Y,splitWords:te,setOptions:H,getParamString:ye,template:D,isArray:P,indexOf:J,emptyImageUrl:fe,requestFn:$,cancelFn:Se,requestAnimFrame:Re,cancelAnimFrame:ge};function Le(){}Le.extend=function(i){var u=function(){H(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=u.__super__=this.prototype,y=g(p);y.constructor=u,u.prototype=y;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(u[E]=this[E]);return i.statics&&d(u,i.statics),i.includes&&(q(i.includes),d.apply(null,[y].concat(i.includes))),d(y,i),delete y.statics,delete y.includes,y.options&&(y.options=p.options?g(p.options):{},d(y.options,i.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var N=0,B=y._initHooks.length;N<B;N++)y._initHooks[N].call(this)}},u},Le.include=function(i){var u=this.prototype.options;return d(this.prototype,i),i.options&&(this.prototype.options=u,this.mergeOptions(i.options)),this},Le.mergeOptions=function(i){return d(this.prototype.options,i),this},Le.addInitHook=function(i){var u=Array.prototype.slice.call(arguments,1),p=typeof i=="function"?i:function(){this[i].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function q(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=P(i)?i:[i];for(var u=0;u<i.length;u++)i[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ge={on:function(i,u,p){if(typeof i=="object")for(var y in i)this._on(y,i[y],u);else{i=te(i);for(var E=0,N=i.length;E<N;E++)this._on(i[E],u,p)}return this},off:function(i,u,p){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var y in i)this._off(y,i[y],u);else{i=te(i);for(var E=arguments.length===1,N=0,B=i.length;N<B;N++)E?this._off(i[N]):this._off(i[N],u,p)}return this},_on:function(i,u,p,y){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(i,u,p)===!1){p===this&&(p=void 0);var E={fn:u,ctx:p};y&&(E.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(E)}},_off:function(i,u,p){var y,E,N;if(this._events&&(y=this._events[i],!!y)){if(arguments.length===1){if(this._firingCount)for(E=0,N=y.length;E<N;E++)y[E].fn=k;delete this._events[i];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var B=this._listens(i,u,p);if(B!==!1){var G=y[B];this._firingCount&&(G.fn=k,this._events[i]=y=y.slice()),y.splice(B,1)}}},fire:function(i,u,p){if(!this.listens(i,p))return this;var y=d({},u,{type:i,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var E=this._events[i];if(E){this._firingCount=this._firingCount+1||1;for(var N=0,B=E.length;N<B;N++){var G=E[N],K=G.fn;G.once&&this.off(i,K,G.ctx),K.call(G.ctx||this,y)}this._firingCount--}}return p&&this._propagateEvent(y),this},listens:function(i,u,p,y){typeof i!="string"&&console.warn('"string" type argument expected');var E=u;typeof u!="function"&&(y=!!u,E=void 0,p=void 0);var N=this._events&&this._events[i];if(N&&N.length&&this._listens(i,E,p)!==!1)return!0;if(y){for(var B in this._eventParents)if(this._eventParents[B].listens(i,u,p,y))return!0}return!1},_listens:function(i,u,p){if(!this._events)return!1;var y=this._events[i]||[];if(!u)return!!y.length;p===this&&(p=void 0);for(var E=0,N=y.length;E<N;E++)if(y[E].fn===u&&y[E].ctx===p)return E;return!1},once:function(i,u,p){if(typeof i=="object")for(var y in i)this._on(y,i[y],u,!0);else{i=te(i);for(var E=0,N=i.length;E<N;E++)this._on(i[E],u,p,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[S(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[S(i)],this},_propagateEvent:function(i){for(var u in this._eventParents)this._eventParents[u].fire(i.type,d({layer:i.target,propagatedFrom:i.target},i),!0)}};Ge.addEventListener=Ge.on,Ge.removeEventListener=Ge.clearAllEventListeners=Ge.off,Ge.addOneTimeEventListener=Ge.once,Ge.fireEvent=Ge.fire,Ge.hasEventListeners=Ge.listens;var _e=Le.extend(Ge);function ne(i,u,p){this.x=p?Math.round(i):i,this.y=p?Math.round(u):u}var Oe=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};ne.prototype={clone:function(){return new ne(this.x,this.y)},add:function(i){return this.clone()._add(oe(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(oe(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new ne(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new ne(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Oe(this.x),this.y=Oe(this.y),this},distanceTo:function(i){i=oe(i);var u=i.x-this.x,p=i.y-this.y;return Math.sqrt(u*u+p*p)},equals:function(i){return i=oe(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=oe(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+U(this.x)+", "+U(this.y)+")"}};function oe(i,u,p){return i instanceof ne?i:P(i)?new ne(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new ne(i.x,i.y):new ne(i,u,p)}function Pe(i,u){if(i)for(var p=u?[i,u]:i,y=0,E=p.length;y<E;y++)this.extend(p[y])}Pe.prototype={extend:function(i){var u,p;if(!i)return this;if(i instanceof ne||typeof i[0]=="number"||"x"in i)u=p=oe(i);else if(i=De(i),u=i.min,p=i.max,!u||!p)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=p.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(i){return oe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return oe(this.min.x,this.max.y)},getTopRight:function(){return oe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var u,p;return typeof i[0]=="number"||i instanceof ne?i=oe(i):i=De(i),i instanceof Pe?(u=i.min,p=i.max):u=p=i,u.x>=this.min.x&&p.x<=this.max.x&&u.y>=this.min.y&&p.y<=this.max.y},intersects:function(i){i=De(i);var u=this.min,p=this.max,y=i.min,E=i.max,N=E.x>=u.x&&y.x<=p.x,B=E.y>=u.y&&y.y<=p.y;return N&&B},overlaps:function(i){i=De(i);var u=this.min,p=this.max,y=i.min,E=i.max,N=E.x>u.x&&y.x<p.x,B=E.y>u.y&&y.y<p.y;return N&&B},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var u=this.min,p=this.max,y=Math.abs(u.x-p.x)*i,E=Math.abs(u.y-p.y)*i;return De(oe(u.x-y,u.y-E),oe(p.x+y,p.y+E))},equals:function(i){return i?(i=De(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function De(i,u){return!i||i instanceof Pe?i:new Pe(i,u)}function ht(i,u){if(i)for(var p=u?[i,u]:i,y=0,E=p.length;y<E;y++)this.extend(p[y])}ht.prototype={extend:function(i){var u=this._southWest,p=this._northEast,y,E;if(i instanceof Qe)y=i,E=i;else if(i instanceof ht){if(y=i._southWest,E=i._northEast,!y||!E)return this}else return i?this.extend(le(i)||je(i)):this;return!u&&!p?(this._southWest=new Qe(y.lat,y.lng),this._northEast=new Qe(E.lat,E.lng)):(u.lat=Math.min(y.lat,u.lat),u.lng=Math.min(y.lng,u.lng),p.lat=Math.max(E.lat,p.lat),p.lng=Math.max(E.lng,p.lng)),this},pad:function(i){var u=this._southWest,p=this._northEast,y=Math.abs(u.lat-p.lat)*i,E=Math.abs(u.lng-p.lng)*i;return new ht(new Qe(u.lat-y,u.lng-E),new Qe(p.lat+y,p.lng+E))},getCenter:function(){return new Qe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Qe(this.getNorth(),this.getWest())},getSouthEast:function(){return new Qe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof Qe||"lat"in i?i=le(i):i=je(i);var u=this._southWest,p=this._northEast,y,E;return i instanceof ht?(y=i.getSouthWest(),E=i.getNorthEast()):y=E=i,y.lat>=u.lat&&E.lat<=p.lat&&y.lng>=u.lng&&E.lng<=p.lng},intersects:function(i){i=je(i);var u=this._southWest,p=this._northEast,y=i.getSouthWest(),E=i.getNorthEast(),N=E.lat>=u.lat&&y.lat<=p.lat,B=E.lng>=u.lng&&y.lng<=p.lng;return N&&B},overlaps:function(i){i=je(i);var u=this._southWest,p=this._northEast,y=i.getSouthWest(),E=i.getNorthEast(),N=E.lat>u.lat&&y.lat<p.lat,B=E.lng>u.lng&&y.lng<p.lng;return N&&B},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,u){return i?(i=je(i),this._southWest.equals(i.getSouthWest(),u)&&this._northEast.equals(i.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function je(i,u){return i instanceof ht?i:new ht(i,u)}function Qe(i,u,p){if(isNaN(i)||isNaN(u))throw new Error("Invalid LatLng object: ("+i+", "+u+")");this.lat=+i,this.lng=+u,p!==void 0&&(this.alt=+p)}Qe.prototype={equals:function(i,u){if(!i)return!1;i=le(i);var p=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return p<=(u===void 0?1e-9:u)},toString:function(i){return"LatLng("+U(this.lat,i)+", "+U(this.lng,i)+")"},distanceTo:function(i){return dt.distance(this,le(i))},wrap:function(){return dt.wrapLatLng(this)},toBounds:function(i){var u=180*i/40075017,p=u/Math.cos(Math.PI/180*this.lat);return je([this.lat-u,this.lng-p],[this.lat+u,this.lng+p])},clone:function(){return new Qe(this.lat,this.lng,this.alt)}};function le(i,u,p){return i instanceof Qe?i:P(i)&&typeof i[0]!="object"?i.length===3?new Qe(i[0],i[1],i[2]):i.length===2?new Qe(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new Qe(i.lat,"lng"in i?i.lng:i.lon,i.alt):u===void 0?null:new Qe(i,u,p)}var Gt={latLngToPoint:function(i,u){var p=this.projection.project(i),y=this.scale(u);return this.transformation._transform(p,y)},pointToLatLng:function(i,u){var p=this.scale(u),y=this.transformation.untransform(i,p);return this.projection.unproject(y)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var u=this.projection.bounds,p=this.scale(i),y=this.transformation.transform(u.min,p),E=this.transformation.transform(u.max,p);return new Pe(y,E)},infinite:!1,wrapLatLng:function(i){var u=this.wrapLng?O(i.lng,this.wrapLng,!0):i.lng,p=this.wrapLat?O(i.lat,this.wrapLat,!0):i.lat,y=i.alt;return new Qe(p,u,y)},wrapLatLngBounds:function(i){var u=i.getCenter(),p=this.wrapLatLng(u),y=u.lat-p.lat,E=u.lng-p.lng;if(y===0&&E===0)return i;var N=i.getSouthWest(),B=i.getNorthEast(),G=new Qe(N.lat-y,N.lng-E),K=new Qe(B.lat-y,B.lng-E);return new ht(G,K)}},dt=d({},Gt,{wrapLng:[-180,180],R:6371e3,distance:function(i,u){var p=Math.PI/180,y=i.lat*p,E=u.lat*p,N=Math.sin((u.lat-i.lat)*p/2),B=Math.sin((u.lng-i.lng)*p/2),G=N*N+Math.cos(y)*Math.cos(E)*B*B,K=2*Math.atan2(Math.sqrt(G),Math.sqrt(1-G));return this.R*K}}),Br=6378137,wr={R:Br,MAX_LATITUDE:85.0511287798,project:function(i){var u=Math.PI/180,p=this.MAX_LATITUDE,y=Math.max(Math.min(p,i.lat),-p),E=Math.sin(y*u);return new ne(this.R*i.lng*u,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(i){var u=180/Math.PI;return new Qe((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*u,i.x*u/this.R)},bounds:function(){var i=Br*Math.PI;return new Pe([-i,-i],[i,i])}()};function Vt(i,u,p,y){if(P(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=u,this._c=p,this._d=y}Vt.prototype={transform:function(i,u){return this._transform(i.clone(),u)},_transform:function(i,u){return u=u||1,i.x=u*(this._a*i.x+this._b),i.y=u*(this._c*i.y+this._d),i},untransform:function(i,u){return u=u||1,new ne((i.x/u-this._b)/this._a,(i.y/u-this._d)/this._c)}};function Wn(i,u,p,y){return new Vt(i,u,p,y)}var Ke=d({},dt,{code:"EPSG:3857",projection:wr,transformation:function(){var i=.5/(Math.PI*wr.R);return Wn(i,.5,-i,.5)}()}),vr=d({},Ke,{code:"EPSG:900913"});function yn(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Cr(i,u){var p="",y,E,N,B,G,K;for(y=0,N=i.length;y<N;y++){for(G=i[y],E=0,B=G.length;E<B;E++)K=G[E],p+=(E?"L":"M")+K.x+" "+K.y;p+=u?Ie.svg?"z":"x":""}return p||"M0 0"}var Ot=document.documentElement.style,rt="ActiveXObject"in window,qe=rt&&!document.addEventListener,Fr="msLaunchUri"in navigator&&!("documentMode"in document),Ce=bt("webkit"),jr=bt("android"),_i=bt("android 2")||bt("android 3"),Bn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),wi=jr&&bt("Google")&&Bn<537&&!("AudioNode"in window),rn=!!window.opera,Ee=!Fr&&bt("chrome"),Ne=bt("gecko")&&!Ce&&!rn&&!rt,ze=!Ee&&bt("safari"),gn=bt("phantom"),es="OTransition"in Ot,hu=navigator.platform.indexOf("Win")===0,Rt=rt&&"transition"in Ot,pe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!_i,zt="MozPerspective"in Ot,ft=!window.L_DISABLE_3D&&(Rt||pe||zt)&&!es&&!gn,xt=typeof orientation<"u"||bt("mobile"),ts=xt&&Ce,po=xt&&pe,mo=!window.PointerEvent&&window.MSPointerEvent,it=!!(window.PointerEvent||mo),zr="ontouchstart"in window||!!window.TouchEvent,ba=!window.L_NO_TOUCH&&(zr||it),Ia=xt&&rn,Gn=xt&&Ne,xo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,sn=function(){var i=!1;try{var u=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",k,u),window.removeEventListener("testPassiveEventSupport",k,u)}catch{}return i}(),vi=function(){return!!document.createElement("canvas").getContext}(),Ci=!!(document.createElementNS&&yn("svg").createSVGRect),sr=!!Ci&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),du=!Ci&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var u=i.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),$r=navigator.platform.indexOf("Mac")===0,yo=navigator.platform.indexOf("Linux")===0;function bt(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var Ie={ie:rt,ielt9:qe,edge:Fr,webkit:Ce,android:jr,android23:_i,androidStock:wi,opera:rn,chrome:Ee,gecko:Ne,safari:ze,phantom:gn,opera12:es,win:hu,ie3d:Rt,webkit3d:pe,gecko3d:zt,any3d:ft,mobile:xt,mobileWebkit:ts,mobileWebkit3d:po,msPointer:mo,pointer:it,touch:ba,touchNative:zr,mobileOpera:Ia,mobileGecko:Gn,retina:xo,passiveEvents:sn,canvas:vi,svg:Ci,vml:du,inlineSvg:sr,mac:$r,linux:yo},In=Ie.msPointer?"MSPointerDown":"pointerdown",we=Ie.msPointer?"MSPointerMove":"pointermove",ei=Ie.msPointer?"MSPointerUp":"pointerup",bs=Ie.msPointer?"MSPointerCancel":"pointercancel",on={touchstart:In,touchmove:we,touchend:ei,touchcancel:bs},ti={touchstart:Ur,touchmove:rs,touchend:rs,touchcancel:rs},Er={},ns=!1;function or(i,u,p){return u==="touchstart"&&Ct(),ti[u]?(p=ti[u].bind(this,p),i.addEventListener(on[u],p,!1),p):(console.warn("wrong event specified:",u),k)}function fu(i,u,p){if(!on[u]){console.warn("wrong event specified:",u);return}i.removeEventListener(on[u],p,!1)}function gu(i){Er[i.pointerId]=i}function ar(i){Er[i.pointerId]&&(Er[i.pointerId]=i)}function an(i){delete Er[i.pointerId]}function Ct(){ns||(document.addEventListener(In,gu,!0),document.addEventListener(we,ar,!0),document.addEventListener(ei,an,!0),document.addEventListener(bs,an,!0),ns=!0)}function rs(i,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var p in Er)u.touches.push(Er[p]);u.changedTouches=[u],i(u)}}function Ur(i,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Jt(u),rs(i,u)}function _o(i){var u={},p,y;for(y in i)p=i[y],u[y]=p&&p.bind?p.bind(i):p;return i=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var re=200;function pu(i,u){i.addEventListener("dblclick",u);var p=0,y;function E(N){if(N.detail!==1){y=N.detail;return}if(!(N.pointerType==="mouse"||N.sourceCapabilities&&!N.sourceCapabilities.firesTouchEvents)){var B=Ai(N);if(!(B.some(function(K){return K instanceof HTMLLabelElement&&K.attributes.for})&&!B.some(function(K){return K instanceof HTMLInputElement||K instanceof HTMLSelectElement}))){var G=Date.now();G-p<=re?(y++,y===2&&u(_o(N))):y=1,p=G}}}return i.addEventListener("click",E),{dblclick:u,simDblclick:E}}function kt(i,u){i.removeEventListener("dblclick",u.dblclick),i.removeEventListener("click",u.simDblclick)}var Hr=W(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),is=W(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ot=is==="webkitTransition"||is==="OTransition"?is+"End":"transitionend";function st(i){return typeof i=="string"?document.getElementById(i):i}function We(i,u){var p=i.style[u]||i.currentStyle&&i.currentStyle[u];if((!p||p==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(i,null);p=y?y[u]:null}return p==="auto"?null:p}function tt(i,u,p){var y=document.createElement(i);return y.className=u||"",p&&p.appendChild(y),y}function wt(i){var u=i.parentNode;u&&u.removeChild(i)}function Ei(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Et(i){var u=i.parentNode;u&&u.lastChild!==i&&u.appendChild(i)}function Tn(i){var u=i.parentNode;u&&u.firstChild!==i&&u.insertBefore(i,u.firstChild)}function wo(i,u){if(i.classList!==void 0)return i.classList.contains(u);var p=Ar(i);return p.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(p)}function Te(i,u){if(i.classList!==void 0)for(var p=te(u),y=0,E=p.length;y<E;y++)i.classList.add(p[y]);else if(!wo(i,u)){var N=Ar(i);vo(i,(N?N+" ":"")+u)}}function ut(i,u){i.classList!==void 0?i.classList.remove(u):vo(i,Y((" "+Ar(i)+" ").replace(" "+u+" "," ")))}function vo(i,u){i.className.baseVal===void 0?i.className=u:i.className.baseVal=u}function Ar(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Ye(i,u){"opacity"in i.style?i.style.opacity=u:"filter"in i.style&&ln(i,u)}function ln(i,u){var p=!1,y="DXImageTransform.Microsoft.Alpha";try{p=i.filters.item(y)}catch{if(u===1)return}u=Math.round(u*100),p?(p.Enabled=u!==100,p.Opacity=u):i.style.filter+=" progid:"+y+"(opacity="+u+")"}function W(i){for(var u=document.documentElement.style,p=0;p<i.length;p++)if(i[p]in u)return i[p];return!1}function M(i,u,p){var y=u||new ne(0,0);i.style[Hr]=(Ie.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(p?" scale("+p+")":"")}function me(i,u){i._leaflet_pos=u,Ie.any3d?M(i,u):(i.style.left=u.x+"px",i.style.top=u.y+"px")}function At(i){return i._leaflet_pos||new ne(0,0)}var un,ss,os;if("onselectstart"in document)un=function(){Fe(window,"selectstart",Jt)},ss=function(){xe(window,"selectstart",Jt)};else{var cn=W(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);un=function(){if(cn){var i=document.documentElement.style;os=i[cn],i[cn]="none"}},ss=function(){cn&&(document.documentElement.style[cn]=os,os=void 0)}}function Me(){Fe(window,"dragstart",Jt)}function vt(){xe(window,"dragstart",Jt)}var as,Co;function ls(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(ni(),as=i,Co=i.style.outlineStyle,i.style.outlineStyle="none",Fe(window,"keydown",ni))}function ni(){as&&(as.style.outlineStyle=Co,as=void 0,Co=void 0,xe(window,"keydown",ni))}function Is(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Eo(i){var u=i.getBoundingClientRect();return{x:u.width/i.offsetWidth||1,y:u.height/i.offsetHeight||1,boundingClientRect:u}}var Yt={__proto__:null,TRANSFORM:Hr,TRANSITION:is,TRANSITION_END:ot,get:st,getStyle:We,create:tt,remove:wt,empty:Ei,toFront:Et,toBack:Tn,hasClass:wo,addClass:Te,removeClass:ut,setClass:vo,getClass:Ar,setOpacity:Ye,testProp:W,setTransform:M,setPosition:me,getPosition:At,get disableTextSelection(){return un},get enableTextSelection(){return ss},disableImageDrag:Me,enableImageDrag:vt,preventOutline:ls,restoreOutline:ni,getSizedParentNode:Is,getScale:Eo};function Fe(i,u,p,y){if(u&&typeof u=="object")for(var E in u)Zt(i,E,u[E],p);else{u=te(u);for(var N=0,B=u.length;N<B;N++)Zt(i,u[N],p,y)}return this}var qt="_leaflet_events";function xe(i,u,p,y){if(arguments.length===1)Ta(i),delete i[qt];else if(u&&typeof u=="object")for(var E in u)Ao(i,E,u[E],p);else if(u=te(u),arguments.length===2)Ta(i,function(G){return J(u,G)!==-1});else for(var N=0,B=u.length;N<B;N++)Ao(i,u[N],p,y);return this}function Ta(i,u){for(var p in i[qt]){var y=p.split(/\d/)[0];(!u||u(y))&&Ao(i,y,null,null,p)}}var Ue={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Zt(i,u,p,y){var E=u+S(p)+(y?"_"+S(y):"");if(i[qt]&&i[qt][E])return this;var N=function(G){return p.call(y||i,G||window.event)},B=N;!Ie.touchNative&&Ie.pointer&&u.indexOf("touch")===0?N=or(i,u,N):Ie.touch&&u==="dblclick"?N=pu(i,N):"addEventListener"in i?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?i.addEventListener(Ue[u]||u,N,Ie.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(N=function(G){G=G||window.event,ri(i,G)&&B(G)},i.addEventListener(Ue[u],N,!1)):i.addEventListener(u,B,!1):i.attachEvent("on"+u,N),i[qt]=i[qt]||{},i[qt][E]=N}function Ao(i,u,p,y,E){E=E||u+S(p)+(y?"_"+S(y):"");var N=i[qt]&&i[qt][E];if(!N)return this;!Ie.touchNative&&Ie.pointer&&u.indexOf("touch")===0?fu(i,u,N):Ie.touch&&u==="dblclick"?kt(i,N):"removeEventListener"in i?i.removeEventListener(Ue[u]||u,N,!1):i.detachEvent("on"+u,N),i[qt][E]=null}function Sr(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function Ts(i){return Zt(i,"wheel",Sr),this}function Yn(i){return Fe(i,"mousedown touchstart dblclick contextmenu",Sr),i._leaflet_disable_click=!0,this}function Jt(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function Xn(i){return Jt(i),Sr(i),this}function Ai(i){if(i.composedPath)return i.composedPath();for(var u=[],p=i.target;p;)u.push(p),p=p.parentNode;return u}function Si(i,u){if(!u)return new ne(i.clientX,i.clientY);var p=Eo(u),y=p.boundingClientRect;return new ne((i.clientX-y.left)/p.x-u.clientLeft,(i.clientY-y.top)/p.y-u.clientTop)}var Na=Ie.linux&&Ie.chrome?window.devicePixelRatio:Ie.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function bi(i){return Ie.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/Na:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function ri(i,u){var p=u.relatedTarget;if(!p)return!0;try{for(;p&&p!==i;)p=p.parentNode}catch{return!1}return p!==i}var _n={__proto__:null,on:Fe,off:xe,stopPropagation:Sr,disableScrollPropagation:Ts,disableClickPropagation:Yn,preventDefault:Jt,stop:Xn,getPropagationPath:Ai,getMousePosition:Si,getWheelDelta:bi,isExternalTarget:ri,addListener:Fe,removeListener:xe},So=_e.extend({run:function(i,u,p,y){this.stop(),this._el=i,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=At(i),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Re(this._animate,this),this._step()},_step:function(i){var u=+new Date-this._startTime,p=this._duration*1e3;u<p?this._runFrame(this._easeOut(u/p),i):(this._runFrame(1),this._complete())},_runFrame:function(i,u){var p=this._startPos.add(this._offset.multiplyBy(i));u&&p._round(),me(this._el,p),this.fire("step")},_complete:function(){ge(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),$e=_e.extend({options:{crs:Ke,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,u){u=H(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=_(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(le(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=is&&Ie.any3d&&!Ie.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Fe(this._proxy,ot,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,u,p){if(u=u===void 0?this._zoom:this._limitZoom(u),i=this._limitCenter(le(i),u,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=d({animate:p.animate},p.zoom),p.pan=d({animate:p.animate,duration:p.duration},p.pan));var y=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,u,p.zoom):this._tryAnimatedPan(i,p.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(i,u,p.pan&&p.pan.noMoveStart),this},setZoom:function(i,u){return this._loaded?this.setView(this.getCenter(),i,{zoom:u}):(this._zoom=i,this)},zoomIn:function(i,u){return i=i||(Ie.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,u)},zoomOut:function(i,u){return i=i||(Ie.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,u)},setZoomAround:function(i,u,p){var y=this.getZoomScale(u),E=this.getSize().divideBy(2),N=i instanceof ne?i:this.latLngToContainerPoint(i),B=N.subtract(E).multiplyBy(1-1/y),G=this.containerPointToLatLng(E.add(B));return this.setView(G,u,{zoom:p})},_getBoundsCenterZoom:function(i,u){u=u||{},i=i.getBounds?i.getBounds():je(i);var p=oe(u.paddingTopLeft||u.padding||[0,0]),y=oe(u.paddingBottomRight||u.padding||[0,0]),E=this.getBoundsZoom(i,!1,p.add(y));if(E=typeof u.maxZoom=="number"?Math.min(u.maxZoom,E):E,E===1/0)return{center:i.getCenter(),zoom:E};var N=y.subtract(p).divideBy(2),B=this.project(i.getSouthWest(),E),G=this.project(i.getNorthEast(),E),K=this.unproject(B.add(G).divideBy(2).add(N),E);return{center:K,zoom:E}},fitBounds:function(i,u){if(i=je(i),!i.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(i,u);return this.setView(p.center,p.zoom,u)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,u){return this.setView(i,this._zoom,{pan:u})},panBy:function(i,u){if(i=oe(i).round(),u=u||{},!i.x&&!i.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new So,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Te(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,p,u.duration||.25,u.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,u,p){if(p=p||{},p.animate===!1||!Ie.any3d)return this.setView(i,u,p);this._stop();var y=this.project(this.getCenter()),E=this.project(i),N=this.getSize(),B=this._zoom;i=le(i),u=u===void 0?B:u;var G=Math.max(N.x,N.y),K=G*this.getZoomScale(B,u),ie=E.distanceTo(y)||1,ve=1.42,Be=ve*ve;function Je(Qt){var Ba=Qt?-1:1,Cg=Qt?K:G,Eg=K*K-G*G+Ba*Be*Be*ie*ie,Ag=2*Cg*Be*ie,Cu=Eg/Ag,ad=Math.sqrt(Cu*Cu+1)-Cu,Sg=ad<1e-9?-18:Math.log(ad);return Sg}function kn(Qt){return(Math.exp(Qt)-Math.exp(-Qt))/2}function hn(Qt){return(Math.exp(Qt)+Math.exp(-Qt))/2}function fr(Qt){return kn(Qt)/hn(Qt)}var jn=Je(0);function Ls(Qt){return G*(hn(jn)/hn(jn+ve*Qt))}function yg(Qt){return G*(hn(jn)*fr(jn+ve*Qt)-kn(jn))/Be}function _g(Qt){return 1-Math.pow(1-Qt,1.5)}var wg=Date.now(),sd=(Je(1)-jn)/ve,vg=p.duration?1e3*p.duration:1e3*sd*.8;function od(){var Qt=(Date.now()-wg)/vg,Ba=_g(Qt)*sd;Qt<=1?(this._flyToFrame=Re(od,this),this._move(this.unproject(y.add(E.subtract(y).multiplyBy(yg(Ba)/ie)),B),this.getScaleZoom(G/Ls(Ba),B),{flyTo:!0})):this._move(i,u)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),od.call(this),this},flyToBounds:function(i,u){var p=this._getBoundsCenterZoom(i,u);return this.flyTo(p.center,p.zoom,u)},setMaxBounds:function(i){return i=je(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var u=this.options.minZoom;return this.options.minZoom=i,this._loaded&&u!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var u=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&u!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,u){this._enforcingBounds=!0;var p=this.getCenter(),y=this._limitCenter(p,this._zoom,je(i));return p.equals(y)||this.panTo(y,u),this._enforcingBounds=!1,this},panInside:function(i,u){u=u||{};var p=oe(u.paddingTopLeft||u.padding||[0,0]),y=oe(u.paddingBottomRight||u.padding||[0,0]),E=this.project(this.getCenter()),N=this.project(i),B=this.getPixelBounds(),G=De([B.min.add(p),B.max.subtract(y)]),K=G.getSize();if(!G.contains(N)){this._enforcingBounds=!0;var ie=N.subtract(G.getCenter()),ve=G.extend(N).getSize().subtract(K);E.x+=ie.x<0?-ve.x:ve.x,E.y+=ie.y<0?-ve.y:ve.y,this.panTo(this.unproject(E),u),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=d({animate:!1,pan:!0},i===!0?{animate:!0}:i);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),y=u.divideBy(2).round(),E=p.divideBy(2).round(),N=y.subtract(E);return!N.x&&!N.y?this:(i.animate&&i.pan?this.panBy(N):(i.pan&&this._rawPanBy(N),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(_(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=d({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=_(this._handleGeolocationResponse,this),p=_(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,p,i):navigator.geolocation.getCurrentPosition(u,p,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var u=i.code,p=i.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var u=i.coords.latitude,p=i.coords.longitude,y=new Qe(u,p),E=y.toBounds(i.coords.accuracy*2),N=this._locateOptions;if(N.setView){var B=this.getBoundsZoom(E);this.setView(y,N.maxZoom?Math.min(B,N.maxZoom):B)}var G={latlng:y,bounds:E,timestamp:i.timestamp};for(var K in i.coords)typeof i.coords[K]=="number"&&(G[K]=i.coords[K]);this.fire("locationfound",G)}},addHandler:function(i,u){if(!u)return this;var p=this[i]=new u(this);return this._handlers.push(p),this.options[i]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),wt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ge(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)wt(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,u){var p="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),y=tt("div",p,u||this._mapPane);return i&&(this._panes[i]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),u=this.unproject(i.getBottomLeft()),p=this.unproject(i.getTopRight());return new ht(u,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,u,p){i=je(i),p=oe(p||[0,0]);var y=this.getZoom()||0,E=this.getMinZoom(),N=this.getMaxZoom(),B=i.getNorthWest(),G=i.getSouthEast(),K=this.getSize().subtract(p),ie=De(this.project(G,y),this.project(B,y)).getSize(),ve=Ie.any3d?this.options.zoomSnap:1,Be=K.x/ie.x,Je=K.y/ie.y,kn=u?Math.max(Be,Je):Math.min(Be,Je);return y=this.getScaleZoom(kn,y),ve&&(y=Math.round(y/(ve/100))*(ve/100),y=u?Math.ceil(y/ve)*ve:Math.floor(y/ve)*ve),Math.max(E,Math.min(N,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ne(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,u){var p=this._getTopLeftPoint(i,u);return new Pe(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,u){var p=this.options.crs;return u=u===void 0?this._zoom:u,p.scale(i)/p.scale(u)},getScaleZoom:function(i,u){var p=this.options.crs;u=u===void 0?this._zoom:u;var y=p.zoom(i*p.scale(u));return isNaN(y)?1/0:y},project:function(i,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(le(i),u)},unproject:function(i,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(oe(i),u)},layerPointToLatLng:function(i){var u=oe(i).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(i){var u=this.project(le(i))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(le(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(je(i))},distance:function(i,u){return this.options.crs.distance(le(i),le(u))},containerPointToLayerPoint:function(i){return oe(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return oe(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var u=this.containerPointToLayerPoint(oe(i));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(le(i)))},mouseEventToContainerPoint:function(i){return Si(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var u=this._container=st(i);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Fe(u,"scroll",this._onScroll,this),this._containerId=S(u)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ie.any3d,Te(i,"leaflet-container"+(Ie.touch?" leaflet-touch":"")+(Ie.retina?" leaflet-retina":"")+(Ie.ielt9?" leaflet-oldie":"")+(Ie.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=We(i,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),me(this._mapPane,new ne(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Te(i.markerPane,"leaflet-zoom-hide"),Te(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,u,p){me(this._mapPane,new ne(0,0));var y=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var E=this._zoom!==u;this._moveStart(E,p)._move(i,u)._moveEnd(E),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(i,u){return i&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(i,u,p,y){u===void 0&&(u=this._zoom);var E=this._zoom!==u;return this._zoom=u,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),y?p&&p.pinch&&this.fire("zoom",p):((E||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ge(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){me(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[S(this._container)]=this;var u=i?xe:Fe;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Ie.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ge(this._resizeRequest),this._resizeRequest=Re(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,u){for(var p=[],y,E=u==="mouseout"||u==="mouseover",N=i.target||i.srcElement,B=!1;N;){if(y=this._targets[S(N)],y&&(u==="click"||u==="preclick")&&this._draggableMoved(y)){B=!0;break}if(y&&y.listens(u,!0)&&(E&&!ri(N,i)||(p.push(y),E))||N===this._container)break;N=N.parentNode}return!p.length&&!B&&!E&&this.listens(u,!0)&&(p=[this]),p},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var u=i.target||i.srcElement;if(!(!this._loaded||u._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(u))){var p=i.type;p==="mousedown"&&ls(u),this._fireDOMEvent(i,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,u,p){if(i.type==="click"){var y=d({},i);y.type="preclick",this._fireDOMEvent(y,y.type,p)}var E=this._findEventTargets(i,u);if(p){for(var N=[],B=0;B<p.length;B++)p[B].listens(u,!0)&&N.push(p[B]);E=N.concat(E)}if(E.length){u==="contextmenu"&&Jt(i);var G=E[0],K={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var ie=G.getLatLng&&(!G._radius||G._radius<=10);K.containerPoint=ie?this.latLngToContainerPoint(G.getLatLng()):this.mouseEventToContainerPoint(i),K.layerPoint=this.containerPointToLayerPoint(K.containerPoint),K.latlng=ie?G.getLatLng():this.layerPointToLatLng(K.layerPoint)}for(B=0;B<E.length;B++)if(E[B].fire(u,K,!0),K.originalEvent._stopped||E[B].options.bubblingMouseEvents===!1&&J(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,u=this._handlers.length;i<u;i++)this._handlers[i].disable()},whenReady:function(i,u){return this._loaded?i.call(u||this,{target:this}):this.on("load",i,u),this},_getMapPanePos:function(){return At(this._mapPane)||new ne(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,u){var p=i&&u!==void 0?this._getNewPixelOrigin(i,u):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,u){var p=this.getSize()._divideBy(2);return this.project(i,u)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,u,p){var y=this._getNewPixelOrigin(p,u);return this.project(i,u)._subtract(y)},_latLngBoundsToNewLayerBounds:function(i,u,p){var y=this._getNewPixelOrigin(p,u);return De([this.project(i.getSouthWest(),u)._subtract(y),this.project(i.getNorthWest(),u)._subtract(y),this.project(i.getSouthEast(),u)._subtract(y),this.project(i.getNorthEast(),u)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,u,p){if(!p)return i;var y=this.project(i,u),E=this.getSize().divideBy(2),N=new Pe(y.subtract(E),y.add(E)),B=this._getBoundsOffset(N,p,u);return Math.abs(B.x)<=1&&Math.abs(B.y)<=1?i:this.unproject(y.add(B),u)},_limitOffset:function(i,u){if(!u)return i;var p=this.getPixelBounds(),y=new Pe(p.min.add(i),p.max.add(i));return i.add(this._getBoundsOffset(y,u))},_getBoundsOffset:function(i,u,p){var y=De(this.project(u.getNorthEast(),p),this.project(u.getSouthWest(),p)),E=y.min.subtract(i.min),N=y.max.subtract(i.max),B=this._rebound(E.x,-N.x),G=this._rebound(E.y,-N.y);return new ne(B,G)},_rebound:function(i,u){return i+u>0?Math.round(i-u)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(u))},_limitZoom:function(i){var u=this.getMinZoom(),p=this.getMaxZoom(),y=Ie.any3d?this.options.zoomSnap:1;return y&&(i=Math.round(i/y)*y),Math.max(u,Math.min(p,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ut(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,u){var p=this._getCenterOffset(i)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,u),!0)},_createAnimProxy:function(){var i=this._proxy=tt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(u){var p=Hr,y=this._proxy.style[p];M(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),y===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){wt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),u=this.getZoom();M(this._proxy,this.project(i,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,u,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(u),E=this._getCenterOffset(i)._divideBy(1-1/y);return p.animate!==!0&&!this.getSize().contains(E)?!1:(Re(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(i,u,!0)},this),!0)},_animateZoom:function(i,u,p,y){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=u,Te(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:u,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(_(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ut(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ma(i,u){return new $e(i,u)}var Qn=Le.extend({options:{position:"topright"},initialize:function(i){H(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var u=this._map;return u&&u.removeControl(this),this.options.position=i,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var u=this._container=this.onAdd(i),p=this.getPosition(),y=i._controlCorners[p];return Te(u,"leaflet-control"),p.indexOf("bottom")!==-1?y.insertBefore(u,y.firstChild):y.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(wt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),us=function(i){return new Qn(i)};$e.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},u="leaflet-",p=this._controlContainer=tt("div",u+"control-container",this._container);function y(E,N){var B=u+E+" "+u+N;i[E+N]=tt("div",B,p)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)wt(this._controlCorners[i]);wt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Oa=Qn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,u,p,y){return p<y?-1:y<p?1:0}},initialize:function(i,u,p){H(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in i)this._addLayer(i[y],y);for(y in u)this._addLayer(u[y],y,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return Qn.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,u){return this._addLayer(i,u),this._map?this._update():this},addOverlay:function(i,u){return this._addLayer(i,u,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var u=this._getLayer(S(i));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Te(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(Te(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):ut(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ut(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",u=this._container=tt("div",i),p=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Yn(u),Ts(u);var y=this._section=tt("section",i+"-list");p&&(this._map.on("click",this.collapse,this),Fe(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=tt("a",i+"-toggle",u);E.href="#",E.title="Layers",E.setAttribute("role","button"),Fe(E,{keydown:function(N){N.keyCode===13&&this._expandSafely()},click:function(N){Jt(N),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=tt("div",i+"-base",y),this._separator=tt("div",i+"-separator",y),this._overlaysList=tt("div",i+"-overlays",y),u.appendChild(y)},_getLayer:function(i){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&S(this._layers[u].layer)===i)return this._layers[u]},_addLayer:function(i,u,p){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:u,overlay:p}),this.options.sortLayers&&this._layers.sort(_(function(y,E){return this.options.sortFunction(y.layer,E.layer,y.name,E.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ei(this._baseLayersList),Ei(this._overlaysList),this._layerControlInputs=[];var i,u,p,y,E=0;for(p=0;p<this._layers.length;p++)y=this._layers[p],this._addItem(y),u=u||y.overlay,i=i||!y.overlay,E+=y.overlay?0:1;return this.options.hideSingleBase&&(i=i&&E>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=u&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var u=this._getLayer(S(i.target)),p=u.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;p&&this._map.fire(p,u)},_createRadioElement:function(i,u){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(u?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=p,y.firstChild},_addItem:function(i){var u=document.createElement("label"),p=this._map.hasLayer(i.layer),y;i.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=p):y=this._createRadioElement("leaflet-base-layers_"+S(this),p),this._layerControlInputs.push(y),y.layerId=S(i.layer),Fe(y,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+i.name;var N=document.createElement("span");u.appendChild(N),N.appendChild(y),N.appendChild(E);var B=i.overlay?this._overlaysList:this._baseLayersList;return B.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,u,p,y=[],E=[];this._handlingClick=!0;for(var N=i.length-1;N>=0;N--)u=i[N],p=this._getLayer(u.layerId).layer,u.checked?y.push(p):u.checked||E.push(p);for(N=0;N<E.length;N++)this._map.hasLayer(E[N])&&this._map.removeLayer(E[N]);for(N=0;N<y.length;N++)this._map.hasLayer(y[N])||this._map.addLayer(y[N]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,u,p,y=this._map.getZoom(),E=i.length-1;E>=0;E--)u=i[E],p=this._getLayer(u.layerId).layer,u.disabled=p.options.minZoom!==void 0&&y<p.options.minZoom||p.options.maxZoom!==void 0&&y>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,Fe(i,"click",Jt),this.expand();var u=this;setTimeout(function(){xe(i,"click",Jt),u._preventClick=!1})}}),ct=function(i,u,p){return new Oa(i,u,p)},Ns=Qn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var u="leaflet-control-zoom",p=tt("div",u+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,u+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,u+"-out",p,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,u,p,y,E){var N=tt("a",p,y);return N.innerHTML=i,N.href="#",N.title=u,N.setAttribute("role","button"),N.setAttribute("aria-label",u),Yn(N),Fe(N,"click",Xn),Fe(N,"click",E,this),Fe(N,"click",this._refocusOnMap,this),N},_updateDisabled:function(){var i=this._map,u="leaflet-disabled";ut(this._zoomInButton,u),ut(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(Te(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(Te(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});$e.mergeOptions({zoomControl:!0}),$e.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ns,this.addControl(this.zoomControl))});var Ms=function(i){return new Ns(i)},br=Qn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var u="leaflet-control-scale",p=tt("div",u),y=this.options;return this._addScales(y,u+"-line",p),i.on(y.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),p},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,u,p){i.metric&&(this._mScale=tt("div",u,p)),i.imperial&&(this._iScale=tt("div",u,p))},_update:function(){var i=this._map,u=i.getSize().y/2,p=i.distance(i.containerPointToLatLng([0,u]),i.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(p)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var u=this._getRoundNum(i),p=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,p,u/i)},_updateImperial:function(i){var u=i*3.2808399,p,y,E;u>5280?(p=u/5280,y=this._getRoundNum(p),this._updateScale(this._iScale,y+" mi",y/p)):(E=this._getRoundNum(u),this._updateScale(this._iScale,E+" ft",E/u))},_updateScale:function(i,u,p){i.style.width=Math.round(this.options.maxWidth*p)+"px",i.innerHTML=u},_getRoundNum:function(i){var u=Math.pow(10,(Math.floor(i)+"").length-1),p=i/u;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,u*p}}),mu=function(i){return new br(i)},Q='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ve=Qn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ie.inlineSvg?Q+" ":"")+"Leaflet</a>"},initialize:function(i){H(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=tt("div","leaflet-control-attribution"),Yn(this._container);for(var u in i._layers)i._layers[u].getAttribution&&this.addAttribution(i._layers[u].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var u in this._attributions)this._attributions[u]&&i.push(u);var p=[];this.options.prefix&&p.push(this.options.prefix),i.length&&p.push(i.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});$e.mergeOptions({attributionControl:!0}),$e.addInitHook(function(){this.options.attributionControl&&new Ve().addTo(this)});var $t=function(i){return new Ve(i)};Qn.Layers=Oa,Qn.Zoom=Ns,Qn.Scale=br,Qn.Attribution=Ve,us.layers=ct,us.zoom=Ms,us.scale=mu,us.attribution=$t;var Nn=Le.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Nn.addTo=function(i,u){return i.addHandler(u,this),this};var ka={Events:Ge},La=Ie.touch?"touchstart mousedown":"mousedown",Vr=_e.extend({options:{clickTolerance:3},initialize:function(i,u,p,y){H(this,y),this._element=i,this._dragStartTarget=u||i,this._preventOutline=p},enable:function(){this._enabled||(Fe(this._dragStartTarget,La,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Vr._dragging===this&&this.finishDrag(!0),xe(this._dragStartTarget,La,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!wo(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){Vr._dragging===this&&this.finishDrag();return}if(!(Vr._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(Vr._dragging=this,this._preventOutline&&ls(this._element),Me(),un(),!this._moving)){this.fire("down");var u=i.touches?i.touches[0]:i,p=Is(this._element);this._startPoint=new ne(u.clientX,u.clientY),this._startPos=At(this._element),this._parentScale=Eo(p);var y=i.type==="mousedown";Fe(document,y?"mousemove":"touchmove",this._onMove,this),Fe(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var u=i.touches&&i.touches.length===1?i.touches[0]:i,p=new ne(u.clientX,u.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,Jt(i),this._moved||(this.fire("dragstart"),this._moved=!0,Te(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Te(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),me(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){ut(document.body,"leaflet-dragging"),this._lastTarget&&(ut(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),xe(document,"mousemove touchmove",this._onMove,this),xe(document,"mouseup touchend touchcancel",this._onUp,this),vt(),ss();var u=this._moved&&this._moving;this._moving=!1,Vr._dragging=!1,u&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function Ra(i,u,p){var y,E=[1,4,2,8],N,B,G,K,ie,ve,Be,Je;for(N=0,ve=i.length;N<ve;N++)i[N]._code=si(i[N],u);for(G=0;G<4;G++){for(Be=E[G],y=[],N=0,ve=i.length,B=ve-1;N<ve;B=N++)K=i[N],ie=i[B],K._code&Be?ie._code&Be||(Je=Ir(ie,K,Be,u,p),Je._code=si(Je,u),y.push(Je)):(ie._code&Be&&(Je=Ir(ie,K,Be,u,p),Je._code=si(Je,u),y.push(Je)),y.push(K));i=y}return i}function Os(i,u){var p,y,E,N,B,G,K,ie,ve;if(!i||i.length===0)throw new Error("latlngs not passed");Mn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Be=le([0,0]),Je=je(i),kn=Je.getNorthWest().distanceTo(Je.getSouthWest())*Je.getNorthEast().distanceTo(Je.getNorthWest());kn<1700&&(Be=Dt(i));var hn=i.length,fr=[];for(p=0;p<hn;p++){var jn=le(i[p]);fr.push(u.project(le([jn.lat-Be.lat,jn.lng-Be.lng])))}for(G=K=ie=0,p=0,y=hn-1;p<hn;y=p++)E=fr[p],N=fr[y],B=E.y*N.x-N.y*E.x,K+=(E.x+N.x)*B,ie+=(E.y+N.y)*B,G+=B*3;G===0?ve=fr[0]:ve=[K/G,ie/G];var Ls=u.unproject(oe(ve));return le([Ls.lat+Be.lat,Ls.lng+Be.lng])}function Dt(i){for(var u=0,p=0,y=0,E=0;E<i.length;E++){var N=le(i[E]);u+=N.lat,p+=N.lng,y++}return le([u/y,p/y])}var bo={__proto__:null,clipPolygon:Ra,polygonCenter:Os,centroid:Dt};function It(i,u){if(!u||!i.length)return i.slice();var p=u*u;return i=xu(i,p),i=gt(i,p),i}function cs(i,u,p){return Math.sqrt(oi(i,u,p,!0))}function ii(i,u,p){return oi(i,u,p)}function gt(i,u){var p=i.length,y=typeof Uint8Array<"u"?Uint8Array:Array,E=new y(p);E[0]=E[p-1]=1,ke(i,E,u,0,p-1);var N,B=[];for(N=0;N<p;N++)E[N]&&B.push(i[N]);return B}function ke(i,u,p,y,E){var N=0,B,G,K;for(G=y+1;G<=E-1;G++)K=oi(i[G],i[y],i[E],!0),K>N&&(B=G,N=K);N>p&&(u[B]=1,ke(i,u,p,y,B),ke(i,u,p,B,E))}function xu(i,u){for(var p=[i[0]],y=1,E=0,N=i.length;y<N;y++)lr(i[y],i[E])>u&&(p.push(i[y]),E=y);return E<N-1&&p.push(i[N-1]),p}var yt;function Zr(i,u,p,y,E){var N=y?yt:si(i,p),B=si(u,p),G,K,ie;for(yt=B;;){if(!(N|B))return[i,u];if(N&B)return!1;G=N||B,K=Ir(i,u,G,p,E),ie=si(K,p),G===N?(i=K,N=ie):(u=K,B=ie)}}function Ir(i,u,p,y,E){var N=u.x-i.x,B=u.y-i.y,G=y.min,K=y.max,ie,ve;return p&8?(ie=i.x+N*(K.y-i.y)/B,ve=K.y):p&4?(ie=i.x+N*(G.y-i.y)/B,ve=G.y):p&2?(ie=K.x,ve=i.y+B*(K.x-i.x)/N):p&1&&(ie=G.x,ve=i.y+B*(G.x-i.x)/N),new ne(ie,ve,E)}function si(i,u){var p=0;return i.x<u.min.x?p|=1:i.x>u.max.x&&(p|=2),i.y<u.min.y?p|=4:i.y>u.max.y&&(p|=8),p}function lr(i,u){var p=u.x-i.x,y=u.y-i.y;return p*p+y*y}function oi(i,u,p,y){var E=u.x,N=u.y,B=p.x-E,G=p.y-N,K=B*B+G*G,ie;return K>0&&(ie=((i.x-E)*B+(i.y-N)*G)/K,ie>1?(E=p.x,N=p.y):ie>0&&(E+=B*ie,N+=G*ie)),B=i.x-E,G=i.y-N,y?B*B+G*G:new ne(E,N)}function Mn(i){return!P(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function ks(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Mn(i)}function Io(i,u){var p,y,E,N,B,G,K,ie;if(!i||i.length===0)throw new Error("latlngs not passed");Mn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var ve=le([0,0]),Be=je(i),Je=Be.getNorthWest().distanceTo(Be.getSouthWest())*Be.getNorthEast().distanceTo(Be.getNorthWest());Je<1700&&(ve=Dt(i));var kn=i.length,hn=[];for(p=0;p<kn;p++){var fr=le(i[p]);hn.push(u.project(le([fr.lat-ve.lat,fr.lng-ve.lng])))}for(p=0,y=0;p<kn-1;p++)y+=hn[p].distanceTo(hn[p+1])/2;if(y===0)ie=hn[0];else for(p=0,N=0;p<kn-1;p++)if(B=hn[p],G=hn[p+1],E=B.distanceTo(G),N+=E,N>y){K=(N-y)/E,ie=[G.x-K*(G.x-B.x),G.y-K*(G.y-B.y)];break}var jn=u.unproject(oe(ie));return le([jn.lat+ve.lat,jn.lng+ve.lng])}var Da={__proto__:null,simplify:It,pointToSegmentDistance:cs,closestPointOnSegment:ii,clipSegment:Zr,_getEdgeIntersection:Ir,_getBitCode:si,_sqClosestPointOnSegment:oi,isFlat:Mn,_flat:ks,polylineCenter:Io},To={project:function(i){return new ne(i.lng,i.lat)},unproject:function(i){return new Qe(i.y,i.x)},bounds:new Pe([-180,-90],[180,90])},Wr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Pe([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var u=Math.PI/180,p=this.R,y=i.lat*u,E=this.R_MINOR/p,N=Math.sqrt(1-E*E),B=N*Math.sin(y),G=Math.tan(Math.PI/4-y/2)/Math.pow((1-B)/(1+B),N/2);return y=-p*Math.log(Math.max(G,1e-10)),new ne(i.lng*u*p,y)},unproject:function(i){for(var u=180/Math.PI,p=this.R,y=this.R_MINOR/p,E=Math.sqrt(1-y*y),N=Math.exp(-i.y/p),B=Math.PI/2-2*Math.atan(N),G=0,K=.1,ie;G<15&&Math.abs(K)>1e-7;G++)ie=E*Math.sin(B),ie=Math.pow((1-ie)/(1+ie),E/2),K=Math.PI/2-2*Math.atan(N*ie)-B,B+=K;return new Qe(B*u,i.x*u/p)}},No={__proto__:null,LonLat:To,Mercator:Wr,SphericalMercator:wr},yu=d({},dt,{code:"EPSG:3395",projection:Wr,transformation:function(){var i=.5/(Math.PI*Wr.R);return Wn(i,.5,-i,.5)}()}),Ii=d({},dt,{code:"EPSG:4326",projection:To,transformation:Wn(1/180,1,-1/180,.5)}),_u=d({},Gt,{projection:To,transformation:Wn(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,u){var p=u.lng-i.lng,y=u.lat-i.lat;return Math.sqrt(p*p+y*y)},infinite:!0});Gt.Earth=dt,Gt.EPSG3395=yu,Gt.EPSG3857=Ke,Gt.EPSG900913=vr,Gt.EPSG4326=Ii,Gt.Simple=_u;var Xt=_e.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[S(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[S(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var u=i.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var p=this.getEvents();u.on(p,this),this.once("remove",function(){u.off(p,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});$e.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var u=S(i);return this._layers[u]?this:(this._layers[u]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var u=S(i);return this._layers[u]?(this._loaded&&i.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return S(i)in this._layers},eachLayer:function(i,u){for(var p in this._layers)i.call(u,this._layers[p]);return this},_addLayers:function(i){i=i?P(i)?i:[i]:[];for(var u=0,p=i.length;u<p;u++)this.addLayer(i[u])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[S(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var u=S(i);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,u=-1/0,p=this._getZoomSpan();for(var y in this._zoomBoundLayers){var E=this._zoomBoundLayers[y].options;i=E.minZoom===void 0?i:Math.min(i,E.minZoom),u=E.maxZoom===void 0?u:Math.max(u,E.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=i===1/0?void 0:i,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Tr=Xt.extend({initialize:function(i,u){H(this,u),this._layers={};var p,y;if(i)for(p=0,y=i.length;p<y;p++)this.addLayer(i[p])},addLayer:function(i){var u=this.getLayerId(i);return this._layers[u]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var u=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(i){var u=typeof i=="number"?i:this.getLayerId(i);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var u=Array.prototype.slice.call(arguments,1),p,y;for(p in this._layers)y=this._layers[p],y[i]&&y[i].apply(y,u);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,u){for(var p in this._layers)i.call(u,this._layers[p]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return S(i)}}),Fn=function(i,u){return new Tr(i,u)},ur=Tr.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Tr.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Tr.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new ht;for(var u in this._layers){var p=this._layers[u];i.extend(p.getBounds?p.getBounds():p.getLatLng())}return i}}),cr=function(i,u){return new ur(i,u)},Ti=Le.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){H(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,u){var p=this._getIconUrl(i);if(!p){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(p,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(y,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(i,u){var p=this.options,y=p[u+"Size"];typeof y=="number"&&(y=[y,y]);var E=oe(y),N=oe(u==="shadow"&&p.shadowAnchor||p.iconAnchor||E&&E.divideBy(2,!0));i.className="leaflet-marker-"+u+" "+(p.className||""),N&&(i.style.marginLeft=-N.x+"px",i.style.marginTop=-N.y+"px"),E&&(i.style.width=E.x+"px",i.style.height=E.y+"px")},_createImg:function(i,u){return u=u||document.createElement("img"),u.src=i,u},_getIconUrl:function(i){return Ie.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function Mo(i){return new Ti(i)}var hs=Ti.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof hs.imagePath!="string"&&(hs.imagePath=this._detectIconPath()),(this.options.imagePath||hs.imagePath)+Ti.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var u=function(p,y,E){var N=y.exec(p);return N&&N[E]};return i=u(i,/^url\((['"])?(.+)\1\)$/,2),i&&u(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=tt("div","leaflet-default-icon-path",document.body),u=We(i,"background-image")||We(i,"backgroundImage");if(document.body.removeChild(i),u=this._stripUrl(u),u)return u;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),Oo=Nn.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new Vr(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Te(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ut(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var u=this._marker,p=u._map,y=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,N=At(u._icon),B=p.getPixelBounds(),G=p.getPixelOrigin(),K=De(B.min._subtract(G).add(E),B.max._subtract(G).subtract(E));if(!K.contains(N)){var ie=oe((Math.max(K.max.x,N.x)-K.max.x)/(B.max.x-K.max.x)-(Math.min(K.min.x,N.x)-K.min.x)/(B.min.x-K.min.x),(Math.max(K.max.y,N.y)-K.max.y)/(B.max.y-K.max.y)-(Math.min(K.min.y,N.y)-K.min.y)/(B.min.y-K.min.y)).multiplyBy(y);p.panBy(ie,{animate:!1}),this._draggable._newPos._add(ie),this._draggable._startPos._add(ie),me(u._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=Re(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(ge(this._panRequest),this._panRequest=Re(this._adjustPan.bind(this,i)))},_onDrag:function(i){var u=this._marker,p=u._shadow,y=At(u._icon),E=u._map.layerPointToLatLng(y);p&&me(p,y),u._latlng=E,i.latlng=E,i.oldLatLng=this._oldLatLng,u.fire("move",i).fire("drag",i)},_onDragEnd:function(i){ge(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),On=Xt.extend({options:{icon:new hs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,u){H(this,u),this._latlng=le(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var u=this._latlng;return this._latlng=le(i),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=i.icon.createIcon(this._icon),y=!1;p!==this._icon&&(this._icon&&this._removeIcon(),y=!0,i.title&&(p.title=i.title),p.tagName==="IMG"&&(p.alt=i.alt||"")),Te(p,u),i.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Fe(p,"focus",this._panOnFocus,this);var E=i.icon.createShadow(this._shadow),N=!1;E!==this._shadow&&(this._removeShadow(),N=!0),E&&(Te(E,u),E.alt=""),this._shadow=E,i.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&N&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&xe(this._icon,"focus",this._panOnFocus,this),wt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&wt(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&me(this._icon,i),this._shadow&&me(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var u=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Te(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Oo)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Oo(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Ye(this._icon,i),this._shadow&&Ye(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var u=this.options.icon.options,p=u.iconSize?oe(u.iconSize):oe(0,0),y=u.iconAnchor?oe(u.iconAnchor):oe(0,0);i.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:p.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function wu(i,u){return new On(i,u)}var hr=Xt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return H(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Gr=hr.extend({options:{fill:!0,radius:10},initialize:function(i,u){H(this,u),this._latlng=le(i),this._radius=this.options.radius},setLatLng:function(i){var u=this._latlng;return this._latlng=le(i),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var u=i&&i.radius||this._radius;return hr.prototype.setStyle.call(this,i),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,u=this._radiusY||i,p=this._clickTolerance(),y=[i+p,u+p];this._pxBounds=new Pe(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function nt(i,u){return new Gr(i,u)}var Ni=Gr.extend({initialize:function(i,u,p){if(typeof u=="number"&&(u=d({},p,{radius:u})),H(this,u),this._latlng=le(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new ht(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:hr.prototype.setStyle,_project:function(){var i=this._latlng.lng,u=this._latlng.lat,p=this._map,y=p.options.crs;if(y.distance===dt.distance){var E=Math.PI/180,N=this._mRadius/dt.R/E,B=p.project([u+N,i]),G=p.project([u-N,i]),K=B.add(G).divideBy(2),ie=p.unproject(K).lat,ve=Math.acos((Math.cos(N*E)-Math.sin(u*E)*Math.sin(ie*E))/(Math.cos(u*E)*Math.cos(ie*E)))/E;(isNaN(ve)||ve===0)&&(ve=N/Math.cos(Math.PI/180*u)),this._point=K.subtract(p.getPixelOrigin()),this._radius=isNaN(ve)?0:K.x-p.project([ie,i-ve]).x,this._radiusY=K.y-B.y}else{var Be=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(Be).x}this._updateBounds()}});function b(i,u,p){return new Ni(i,u,p)}var t=hr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,u){H(this,u),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var u=1/0,p=null,y=oi,E,N,B=0,G=this._parts.length;B<G;B++)for(var K=this._parts[B],ie=1,ve=K.length;ie<ve;ie++){E=K[ie-1],N=K[ie];var Be=y(i,E,N,!0);Be<u&&(u=Be,p=y(i,E,N))}return p&&(p.distance=Math.sqrt(u)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Io(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,u){return u=u||this._defaultShape(),i=le(i),u.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new ht,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return Mn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var u=[],p=Mn(i),y=0,E=i.length;y<E;y++)p?(u[y]=le(i[y]),this._bounds.extend(u[y])):u[y]=this._convertLatLngs(i[y]);return u},_project:function(){var i=new Pe;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),u=new ne(i,i);this._rawPxBounds&&(this._pxBounds=new Pe([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(i,u,p){var y=i[0]instanceof Qe,E=i.length,N,B;if(y){for(B=[],N=0;N<E;N++)B[N]=this._map.latLngToLayerPoint(i[N]),p.extend(B[N]);u.push(B)}else for(N=0;N<E;N++)this._projectLatlngs(i[N],u,p)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,p,y,E,N,B,G,K;for(p=0,E=0,N=this._rings.length;p<N;p++)for(K=this._rings[p],y=0,B=K.length;y<B-1;y++)G=Zr(K[y],K[y+1],i,y,!0),G&&(u[E]=u[E]||[],u[E].push(G[0]),(G[1]!==K[y+1]||y===B-2)&&(u[E].push(G[1]),E++))}},_simplifyPoints:function(){for(var i=this._parts,u=this.options.smoothFactor,p=0,y=i.length;p<y;p++)i[p]=It(i[p],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,u){var p,y,E,N,B,G,K=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(p=0,N=this._parts.length;p<N;p++)for(G=this._parts[p],y=0,B=G.length,E=B-1;y<B;E=y++)if(!(!u&&y===0)&&cs(i,G[E],G[y])<=K)return!0;return!1}});function r(i,u){return new t(i,u)}t._flat=ks;var o=t.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Os(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var u=t.prototype._convertLatLngs.call(this,i),p=u.length;return p>=2&&u[0]instanceof Qe&&u[0].equals(u[p-1])&&u.pop(),u},_setLatLngs:function(i){t.prototype._setLatLngs.call(this,i),Mn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Mn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,u=this.options.weight,p=new ne(u,u);if(i=new Pe(i.min.subtract(p),i.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,E=this._rings.length,N;y<E;y++)N=Ra(this._rings[y],i,!0),N.length&&this._parts.push(N)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var u=!1,p,y,E,N,B,G,K,ie;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(N=0,K=this._parts.length;N<K;N++)for(p=this._parts[N],B=0,ie=p.length,G=ie-1;B<ie;G=B++)y=p[B],E=p[G],y.y>i.y!=E.y>i.y&&i.x<(E.x-y.x)*(i.y-y.y)/(E.y-y.y)+y.x&&(u=!u);return u||t.prototype._containsPoint.call(this,i,!0)}});function a(i,u){return new o(i,u)}var l=ur.extend({initialize:function(i,u){H(this,u),this._layers={},i&&this.addData(i)},addData:function(i){var u=P(i)?i:i.features,p,y,E;if(u){for(p=0,y=u.length;p<y;p++)E=u[p],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var N=this.options;if(N.filter&&!N.filter(i))return this;var B=h(i,N);return B?(B.feature=R(i),B.defaultOptions=B.options,this.resetStyle(B),N.onEachFeature&&N.onEachFeature(i,B),this.addLayer(B)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=d({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(u){this._setLayerStyle(u,i)},this)},_setLayerStyle:function(i,u){i.setStyle&&(typeof u=="function"&&(u=u(i.feature)),i.setStyle(u))}});function h(i,u){var p=i.type==="Feature"?i.geometry:i,y=p?p.coordinates:null,E=[],N=u&&u.pointToLayer,B=u&&u.coordsToLatLng||m,G,K,ie,ve;if(!y&&!p)return null;switch(p.type){case"Point":return G=B(y),f(N,i,G,u);case"MultiPoint":for(ie=0,ve=y.length;ie<ve;ie++)G=B(y[ie]),E.push(f(N,i,G,u));return new ur(E);case"LineString":case"MultiLineString":return K=x(y,p.type==="LineString"?0:1,B),new t(K,u);case"Polygon":case"MultiPolygon":return K=x(y,p.type==="Polygon"?1:2,B),new o(K,u);case"GeometryCollection":for(ie=0,ve=p.geometries.length;ie<ve;ie++){var Be=h({geometry:p.geometries[ie],type:"Feature",properties:i.properties},u);Be&&E.push(Be)}return new ur(E);case"FeatureCollection":for(ie=0,ve=p.features.length;ie<ve;ie++){var Je=h(p.features[ie],u);Je&&E.push(Je)}return new ur(E);default:throw new Error("Invalid GeoJSON object.")}}function f(i,u,p,y){return i?i(u,p):new On(p,y&&y.markersInheritOptions&&y)}function m(i){return new Qe(i[1],i[0],i[2])}function x(i,u,p){for(var y=[],E=0,N=i.length,B;E<N;E++)B=u?x(i[E],u-1,p):(p||m)(i[E]),y.push(B);return y}function C(i,u){return i=le(i),i.alt!==void 0?[U(i.lng,u),U(i.lat,u),U(i.alt,u)]:[U(i.lng,u),U(i.lat,u)]}function I(i,u,p,y){for(var E=[],N=0,B=i.length;N<B;N++)E.push(u?I(i[N],Mn(i[N])?0:u-1,p,y):C(i[N],y));return!u&&p&&E.length>0&&E.push(E[0].slice()),E}function T(i,u){return i.feature?d({},i.feature,{geometry:u}):R(u)}function R(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var F={toGeoJSON:function(i){return T(this,{type:"Point",coordinates:C(this.getLatLng(),i)})}};On.include(F),Ni.include(F),Gr.include(F),t.include({toGeoJSON:function(i){var u=!Mn(this._latlngs),p=I(this._latlngs,u?1:0,!1,i);return T(this,{type:(u?"Multi":"")+"LineString",coordinates:p})}}),o.include({toGeoJSON:function(i){var u=!Mn(this._latlngs),p=u&&!Mn(this._latlngs[0]),y=I(this._latlngs,p?2:u?1:0,!0,i);return u||(y=[y]),T(this,{type:(p?"Multi":"")+"Polygon",coordinates:y})}}),Tr.include({toMultiPoint:function(i){var u=[];return this.eachLayer(function(p){u.push(p.toGeoJSON(i).geometry.coordinates)}),T(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(i){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(i);var p=u==="GeometryCollection",y=[];return this.eachLayer(function(E){if(E.toGeoJSON){var N=E.toGeoJSON(i);if(p)y.push(N.geometry);else{var B=R(N);B.type==="FeatureCollection"?y.push.apply(y,B.features):y.push(B)}}}),p?T(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function z(i,u){return new l(i,u)}var Z=z,X=Xt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,u,p){this._url=i,this._bounds=je(u),H(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Te(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){wt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Et(this._image),this},bringToBack:function(){return this._map&&Tn(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=je(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",u=this._image=i?this._url:tt("img");if(Te(u,"leaflet-image-layer"),this._zoomAnimated&&Te(u,"leaflet-zoom-animated"),this.options.className&&Te(u,this.options.className),u.onselectstart=k,u.onmousemove=k,u.onload=_(this.fire,this,"load"),u.onerror=_(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(i){var u=this._map.getZoomScale(i.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;M(this._image,p,u)},_reset:function(){var i=this._image,u=new Pe(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=u.getSize();me(i,u.min),i.style.width=p.x+"px",i.style.height=p.y+"px"},_updateOpacity:function(){Ye(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),ue=function(i,u,p){return new X(i,u,p)},ce=X.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",u=this._image=i?this._url:tt("video");if(Te(u,"leaflet-image-layer"),this._zoomAnimated&&Te(u,"leaflet-zoom-animated"),this.options.className&&Te(u,this.options.className),u.onselectstart=k,u.onmousemove=k,u.onloadeddata=_(this.fire,this,"load"),i){for(var p=u.getElementsByTagName("source"),y=[],E=0;E<p.length;E++)y.push(p[E].src);this._url=p.length>0?y:[u.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var N=0;N<this._url.length;N++){var B=tt("source");B.src=this._url[N],u.appendChild(B)}}});function se(i,u,p){return new ce(i,u,p)}var Xe=X.extend({_initImage:function(){var i=this._image=this._url;Te(i,"leaflet-image-layer"),this._zoomAnimated&&Te(i,"leaflet-zoom-animated"),this.options.className&&Te(i,this.options.className),i.onselectstart=k,i.onmousemove=k}});function He(i,u,p){return new Xe(i,u,p)}var Tt=Xt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,u){i&&(i instanceof Qe||P(i))?(this._latlng=le(i),H(this,u)):(H(this,i),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Ye(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Ye(this._container,1),this.bringToFront(),this.options.interactive&&(Te(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Ye(this._container,0),this._removeTimeout=setTimeout(_(wt,void 0,this._container),200)):wt(this._container),this.options.interactive&&(ut(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=le(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Et(this._container),this},bringToBack:function(){return this._map&&Tn(this._container),this},_prepareOpen:function(i){var u=this._source;if(!u._map)return!1;if(u instanceof ur){u=null;var p=this._source._layers;for(var y in p)if(p[y]._map){u=p[y];break}if(!u)return!1;this._source=u}if(!i)if(u.getCenter)i=u.getCenter();else if(u.getLatLng)i=u.getLatLng();else if(u.getBounds)i=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")i.innerHTML=u;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),u=oe(this.options.offset),p=this._getAnchor();this._zoomAnimated?me(this._container,i.add(p)):u=u.add(i).add(p);var y=this._containerBottom=-u.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=y+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});$e.include({_initOverlay:function(i,u,p,y){var E=u;return E instanceof i||(E=new i(y).setContent(u)),p&&E.setLatLng(p),E}}),Xt.include({_initOverlay:function(i,u,p,y){var E=p;return E instanceof i?(H(E,y),E._source=this):(E=u&&!y?u:new i(y,this),E.setContent(p)),E}});var wn=Tt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Tt.prototype.openOn.call(this,i)},onAdd:function(i){Tt.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof hr||this._source.on("preclick",Sr))},onRemove:function(i){Tt.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof hr||this._source.off("preclick",Sr))},getEvents:function(){var i=Tt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",u=this._container=tt("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=tt("div",i+"-content-wrapper",u);if(this._contentNode=tt("div",i+"-content",p),Yn(u),Ts(this._contentNode),Fe(u,"contextmenu",Sr),this._tipContainer=tt("div",i+"-tip-container",u),this._tip=tt("div",i+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=tt("a",i+"-close-button",u);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',Fe(y,"click",function(E){Jt(E),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,u=i.style;u.width="",u.whiteSpace="nowrap";var p=i.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),u.width=p+1+"px",u.whiteSpace="",u.height="";var y=i.offsetHeight,E=this.options.maxHeight,N="leaflet-popup-scrolled";E&&y>E?(u.height=E+"px",Te(i,N)):ut(i,N),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var u=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),p=this._getAnchor();me(this._container,u.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,u=parseInt(We(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+u,y=this._containerWidth,E=new ne(this._containerLeft,-p-this._containerBottom);E._add(At(this._container));var N=i.layerPointToContainerPoint(E),B=oe(this.options.autoPanPadding),G=oe(this.options.autoPanPaddingTopLeft||B),K=oe(this.options.autoPanPaddingBottomRight||B),ie=i.getSize(),ve=0,Be=0;N.x+y+K.x>ie.x&&(ve=N.x+y-ie.x+K.x),N.x-ve-G.x<0&&(ve=N.x-G.x),N.y+p+K.y>ie.y&&(Be=N.y+p-ie.y+K.y),N.y-Be-G.y<0&&(Be=N.y-G.y),(ve||Be)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([ve,Be]))}},_getAnchor:function(){return oe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),vn=function(i,u){return new wn(i,u)};$e.mergeOptions({closePopupOnClick:!0}),$e.include({openPopup:function(i,u,p){return this._initOverlay(wn,i,u,p).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),Xt.include({bindPopup:function(i,u){return this._popup=this._initOverlay(wn,this._popup,i,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof ur||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){Xn(i);var u=i.layer||i.target;if(this._popup._source===u&&!(u instanceof hr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=u,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var lt=Tt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Tt.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Tt.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Tt.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",u=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=tt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+S(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var u,p,y=this._map,E=this._container,N=y.latLngToContainerPoint(y.getCenter()),B=y.layerPointToContainerPoint(i),G=this.options.direction,K=E.offsetWidth,ie=E.offsetHeight,ve=oe(this.options.offset),Be=this._getAnchor();G==="top"?(u=K/2,p=ie):G==="bottom"?(u=K/2,p=0):G==="center"?(u=K/2,p=ie/2):G==="right"?(u=0,p=ie/2):G==="left"?(u=K,p=ie/2):B.x<N.x?(G="right",u=0,p=ie/2):(G="left",u=K+(ve.x+Be.x)*2,p=ie/2),i=i.subtract(oe(u,p,!0)).add(ve).add(Be),ut(E,"leaflet-tooltip-right"),ut(E,"leaflet-tooltip-left"),ut(E,"leaflet-tooltip-top"),ut(E,"leaflet-tooltip-bottom"),Te(E,"leaflet-tooltip-"+G),me(E,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Ye(this._container,i)},_animateZoom:function(i){var u=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(u)},_getAnchor:function(){return oe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),en=function(i,u){return new lt(i,u)};$e.include({openTooltip:function(i,u,p){return this._initOverlay(lt,i,u,p).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),Xt.include({bindTooltip:function(i,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(lt,this._tooltip,i,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var u=i?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[u](p),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof ur||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var u=typeof i.getElement=="function"&&i.getElement();u&&(Fe(u,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),Fe(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var u=typeof i.getElement=="function"&&i.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var u=i.latlng,p,y;this._tooltip.options.sticky&&i.originalEvent&&(p=this._map.mouseEventToContainerPoint(i.originalEvent),y=this._map.containerPointToLayerPoint(p),u=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(u)}});var Cn=Ti.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var u=i&&i.tagName==="DIV"?i:document.createElement("div"),p=this.options;if(p.html instanceof Element?(Ei(u),u.appendChild(p.html)):u.innerHTML=p.html!==!1?p.html:"",p.bgPos){var y=oe(p.bgPos);u.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Mi(i){return new Cn(i)}Ti.Default=hs;var dr=Xt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ie.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){H(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),wt(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Et(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Tn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof ne?i:new ne(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var u=this.getPane().children,p=-i(-1/0,1/0),y=0,E=u.length,N;y<E;y++)N=u[y].style.zIndex,u[y]!==this._container&&N&&(p=i(p,+N));isFinite(p)&&(this.options.zIndex=p+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ie.ielt9){Ye(this._container,this.options.opacity);var i=+new Date,u=!1,p=!1;for(var y in this._tiles){var E=this._tiles[y];if(!(!E.current||!E.loaded)){var N=Math.min(1,(i-E.loaded)/200);Ye(E.el,N),N<1?u=!0:(E.active?p=!0:this._onOpaqueTile(E),E.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),u&&(ge(this._fadeFrame),this._fadeFrame=Re(this._updateOpacity,this))}},_onOpaqueTile:k,_initContainer:function(){this._container||(this._container=tt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,u=this.options.maxZoom;if(i!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===i?(this._levels[p].el.style.zIndex=u-Math.abs(i-p),this._onUpdateLevel(p)):(wt(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var y=this._levels[i],E=this._map;return y||(y=this._levels[i]={},y.el=tt("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=u,y.origin=E.project(E.unproject(E.getPixelOrigin()),i).round(),y.zoom=i,this._setZoomTransform(y,E.getCenter(),E.getZoom()),k(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:k,_onRemoveLevel:k,_onCreateLevel:k,_pruneTiles:function(){if(this._map){var i,u,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)u=this._tiles[i],u.retain=u.current;for(i in this._tiles)if(u=this._tiles[i],u.current&&!u.active){var y=u.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var u in this._tiles)this._tiles[u].coords.z===i&&this._removeTile(u)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)wt(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,u,p,y){var E=Math.floor(i/2),N=Math.floor(u/2),B=p-1,G=new ne(+E,+N);G.z=+B;var K=this._tileCoordsToKey(G),ie=this._tiles[K];return ie&&ie.active?(ie.retain=!0,!0):(ie&&ie.loaded&&(ie.retain=!0),B>y?this._retainParent(E,N,B,y):!1)},_retainChildren:function(i,u,p,y){for(var E=2*i;E<2*i+2;E++)for(var N=2*u;N<2*u+2;N++){var B=new ne(E,N);B.z=p+1;var G=this._tileCoordsToKey(B),K=this._tiles[G];if(K&&K.active){K.retain=!0;continue}else K&&K.loaded&&(K.retain=!0);p+1<y&&this._retainChildren(E,N,p+1,y)}},_resetView:function(i){var u=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var u=this.options;return u.minNativeZoom!==void 0&&i<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<i?u.maxNativeZoom:i},_setView:function(i,u,p,y){var E=Math.round(u);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var N=this.options.updateWhenZooming&&E!==this._tileZoom;(!y||N)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(i),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(i,u)},_setZoomTransforms:function(i,u){for(var p in this._levels)this._setZoomTransform(this._levels[p],i,u)},_setZoomTransform:function(i,u,p){var y=this._map.getZoomScale(p,i.zoom),E=i.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(u,p)).round();Ie.any3d?M(i.el,E,y):me(i.el,E)},_resetGrid:function(){var i=this._map,u=i.options.crs,p=this._tileSize=this.getTileSize(),y=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,u.wrapLng[0]],y).x/p.x),Math.ceil(i.project([0,u.wrapLng[1]],y).x/p.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([u.wrapLat[0],0],y).y/p.x),Math.ceil(i.project([u.wrapLat[1],0],y).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var u=this._map,p=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),y=u.getZoomScale(p,this._tileZoom),E=u.project(i,this._tileZoom).floor(),N=u.getSize().divideBy(y*2);return new Pe(E.subtract(N),E.add(N))},_update:function(i){var u=this._map;if(u){var p=this._clampZoom(u.getZoom());if(i===void 0&&(i=u.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(i),E=this._pxBoundsToTileRange(y),N=E.getCenter(),B=[],G=this.options.keepBuffer,K=new Pe(E.getBottomLeft().subtract([G,-G]),E.getTopRight().add([G,-G]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ie in this._tiles){var ve=this._tiles[ie].coords;(ve.z!==this._tileZoom||!K.contains(new ne(ve.x,ve.y)))&&(this._tiles[ie].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(i,p);return}for(var Be=E.min.y;Be<=E.max.y;Be++)for(var Je=E.min.x;Je<=E.max.x;Je++){var kn=new ne(Je,Be);if(kn.z=this._tileZoom,!!this._isValidTile(kn)){var hn=this._tiles[this._tileCoordsToKey(kn)];hn?hn.current=!0:B.push(kn)}}if(B.sort(function(jn,Ls){return jn.distanceTo(N)-Ls.distanceTo(N)}),B.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var fr=document.createDocumentFragment();for(Je=0;Je<B.length;Je++)this._addTile(B[Je],fr);this._level.el.appendChild(fr)}}}},_isValidTile:function(i){var u=this._map.options.crs;if(!u.infinite){var p=this._globalTileRange;if(!u.wrapLng&&(i.x<p.min.x||i.x>p.max.x)||!u.wrapLat&&(i.y<p.min.y||i.y>p.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(i);return je(this.options.bounds).overlaps(y)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var u=this._map,p=this.getTileSize(),y=i.scaleBy(p),E=y.add(p),N=u.unproject(y,i.z),B=u.unproject(E,i.z);return[N,B]},_tileCoordsToBounds:function(i){var u=this._tileCoordsToNwSe(i),p=new ht(u[0],u[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var u=i.split(":"),p=new ne(+u[0],+u[1]);return p.z=+u[2],p},_removeTile:function(i){var u=this._tiles[i];u&&(wt(u.el),delete this._tiles[i],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){Te(i,"leaflet-tile");var u=this.getTileSize();i.style.width=u.x+"px",i.style.height=u.y+"px",i.onselectstart=k,i.onmousemove=k,Ie.ielt9&&this.options.opacity<1&&Ye(i,this.options.opacity)},_addTile:function(i,u){var p=this._getTilePos(i),y=this._tileCoordsToKey(i),E=this.createTile(this._wrapCoords(i),_(this._tileReady,this,i));this._initTile(E),this.createTile.length<2&&Re(_(this._tileReady,this,i,null,E)),me(E,p),this._tiles[y]={el:E,coords:i,current:!0},u.appendChild(E),this.fire("tileloadstart",{tile:E,coords:i})},_tileReady:function(i,u,p){u&&this.fire("tileerror",{error:u,tile:p,coords:i});var y=this._tileCoordsToKey(i);p=this._tiles[y],p&&(p.loaded=+new Date,this._map._fadeAnimated?(Ye(p.el,0),ge(this._fadeFrame),this._fadeFrame=Re(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),u||(Te(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ie.ielt9||!this._map._fadeAnimated?Re(this._pruneTiles,this):setTimeout(_(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var u=new ne(this._wrapX?O(i.x,this._wrapX):i.x,this._wrapY?O(i.y,this._wrapY):i.y);return u.z=i.z,u},_pxBoundsToTileRange:function(i){var u=this.getTileSize();return new Pe(i.min.unscaleBy(u).floor(),i.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function vu(i){return new dr(i)}var Oi=dr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,u){this._url=i,u=H(this,u),u.detectRetina&&Ie.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,u){return this._url===i&&u===void 0&&(u=!0),this._url=i,u||this.redraw(),this},createTile:function(i,u){var p=document.createElement("img");return Fe(p,"load",_(this._tileOnLoad,this,u,p)),Fe(p,"error",_(this._tileOnError,this,u,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(i),p},getTileUrl:function(i){var u={r:Ie.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-i.y;this.options.tms&&(u.y=p),u["-y"]=p}return D(this._url,d(u,this.options))},_tileOnLoad:function(i,u){Ie.ielt9?setTimeout(_(i,this,null,u),0):i(null,u)},_tileOnError:function(i,u,p){var y=this.options.errorTileUrl;y&&u.getAttribute("src")!==y&&(u.src=y),i(p,u)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,u=this.options.maxZoom,p=this.options.zoomReverse,y=this.options.zoomOffset;return p&&(i=u-i),i+y},_getSubdomain:function(i){var u=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var i,u;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(u=this._tiles[i].el,u.onload=k,u.onerror=k,!u.complete)){u.src=fe;var p=this._tiles[i].coords;wt(u),delete this._tiles[i],this.fire("tileabort",{tile:u,coords:p})}},_removeTile:function(i){var u=this._tiles[i];if(u)return u.el.setAttribute("src",fe),dr.prototype._removeTile.call(this,i)},_tileReady:function(i,u,p){if(!(!this._map||p&&p.getAttribute("src")===fe))return dr.prototype._tileReady.call(this,i,u,p)}});function Gh(i,u){return new Oi(i,u)}var Yh=Oi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,u){this._url=i;var p=d({},this.defaultWmsParams);for(var y in u)y in this.options||(p[y]=u[y]);u=H(this,u);var E=u.detectRetina&&Ie.retina?2:1,N=this.getTileSize();p.width=N.x*E,p.height=N.y*E,this.wmsParams=p},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Oi.prototype.onAdd.call(this,i)},getTileUrl:function(i){var u=this._tileCoordsToNwSe(i),p=this._crs,y=De(p.project(u[0]),p.project(u[1])),E=y.min,N=y.max,B=(this._wmsVersion>=1.3&&this._crs===Ii?[E.y,E.x,N.y,N.x]:[E.x,E.y,N.x,N.y]).join(","),G=Oi.prototype.getTileUrl.call(this,i);return G+ye(this.wmsParams,G,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+B},setParams:function(i,u){return d(this.wmsParams,i),u||this.redraw(),this}});function fg(i,u){return new Yh(i,u)}Oi.WMS=Yh,Gh.wms=fg;var ai=Xt.extend({options:{padding:.1},initialize:function(i){H(this,i),S(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Te(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,u){var p=this._map.getZoomScale(u,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,u),N=y.multiplyBy(-p).add(E).subtract(this._map._getNewPixelOrigin(i,u));Ie.any3d?M(this._container,N,p):me(this._container,N)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,u=this._map.getSize(),p=this._map.containerPointToLayerPoint(u.multiplyBy(-i)).round();this._bounds=new Pe(p,p.add(u.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Xh=ai.extend({options:{tolerance:0},getEvents:function(){var i=ai.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ai.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");Fe(i,"mousemove",this._onMouseMove,this),Fe(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Fe(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){ge(this._redrawRequest),delete this._ctx,wt(this._container),xe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var u in this._layers)i=this._layers[u],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ai.prototype._update.call(this);var i=this._bounds,u=this._container,p=i.getSize(),y=Ie.retina?2:1;me(u,i.min),u.width=y*p.x,u.height=y*p.y,u.style.width=p.x+"px",u.style.height=p.y+"px",Ie.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){ai.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[S(i)]=i;var u=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var u=i._order,p=u.next,y=u.prev;p?p.prev=y:this._drawLast=y,y?y.next=p:this._drawFirst=p,delete i._order,delete this._layers[S(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var u=i.options.dashArray.split(/[, ]+/),p=[],y,E;for(E=0;E<u.length;E++){if(y=Number(u[E]),isNaN(y))return;p.push(y)}i.options._dashArray=p}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||Re(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var u=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Pe,this._redrawBounds.extend(i._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(i._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var u=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,u=this._redrawBounds;if(this._ctx.save(),u){var p=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)i=y.layer,(!u||i._pxBounds&&i._pxBounds.intersects(u))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,u){if(this._drawing){var p,y,E,N,B=i._parts,G=B.length,K=this._ctx;if(G){for(K.beginPath(),p=0;p<G;p++){for(y=0,E=B[p].length;y<E;y++)N=B[p][y],K[y?"lineTo":"moveTo"](N.x,N.y);u&&K.closePath()}this._fillStroke(K,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var u=i._point,p=this._ctx,y=Math.max(Math.round(i._radius),1),E=(Math.max(Math.round(i._radiusY),1)||y)/y;E!==1&&(p.save(),p.scale(1,E)),p.beginPath(),p.arc(u.x,u.y/E,y,0,Math.PI*2,!1),E!==1&&p.restore(),this._fillStroke(p,i)}},_fillStroke:function(i,u){var p=u.options;p.fill&&(i.globalAlpha=p.fillOpacity,i.fillStyle=p.fillColor||p.color,i.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(i.setLineDash&&i.setLineDash(u.options&&u.options._dashArray||[]),i.globalAlpha=p.opacity,i.lineWidth=p.weight,i.strokeStyle=p.color,i.lineCap=p.lineCap,i.lineJoin=p.lineJoin,i.stroke())},_onClick:function(i){for(var u=this._map.mouseEventToLayerPoint(i),p,y,E=this._drawFirst;E;E=E.next)p=E.layer,p.options.interactive&&p._containsPoint(u)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(p))&&(y=p);this._fireEvent(y?[y]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,u)}},_handleMouseOut:function(i){var u=this._hoveredLayer;u&&(ut(this._container,"leaflet-interactive"),this._fireEvent([u],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,u){if(!this._mouseHoverThrottled){for(var p,y,E=this._drawFirst;E;E=E.next)p=E.layer,p.options.interactive&&p._containsPoint(u)&&(y=p);y!==this._hoveredLayer&&(this._handleMouseOut(i),y&&(Te(this._container,"leaflet-interactive"),this._fireEvent([y],i,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(_(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,u,p){this._map._fireDOMEvent(u,p||u.type,i)},_bringToFront:function(i){var u=i._order;if(u){var p=u.next,y=u.prev;if(p)p.prev=y;else return;y?y.next=p:p&&(this._drawFirst=p),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(i)}},_bringToBack:function(i){var u=i._order;if(u){var p=u.next,y=u.prev;if(y)y.next=p;else return;p?p.prev=y:y&&(this._drawLast=y),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(i)}}});function Qh(i){return Ie.canvas?new Xh(i):null}var ko=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),gg={_initContainer:function(){this._container=tt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ai.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var u=i._container=ko("shape");Te(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",i._path=ko("path"),u.appendChild(i._path),this._updateStyle(i),this._layers[S(i)]=i},_addPath:function(i){var u=i._container;this._container.appendChild(u),i.options.interactive&&i.addInteractiveTarget(u)},_removePath:function(i){var u=i._container;wt(u),i.removeInteractiveTarget(u),delete this._layers[S(i)]},_updateStyle:function(i){var u=i._stroke,p=i._fill,y=i.options,E=i._container;E.stroked=!!y.stroke,E.filled=!!y.fill,y.stroke?(u||(u=i._stroke=ko("stroke")),E.appendChild(u),u.weight=y.weight+"px",u.color=y.color,u.opacity=y.opacity,y.dashArray?u.dashStyle=P(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=y.lineCap.replace("butt","flat"),u.joinstyle=y.lineJoin):u&&(E.removeChild(u),i._stroke=null),y.fill?(p||(p=i._fill=ko("fill")),E.appendChild(p),p.color=y.fillColor||y.color,p.opacity=y.fillOpacity):p&&(E.removeChild(p),i._fill=null)},_updateCircle:function(i){var u=i._point.round(),p=Math.round(i._radius),y=Math.round(i._radiusY||p);this._setPath(i,i._empty()?"M0 0":"AL "+u.x+","+u.y+" "+p+","+y+" 0,"+65535*360)},_setPath:function(i,u){i._path.v=u},_bringToFront:function(i){Et(i._container)},_bringToBack:function(i){Tn(i._container)}},Pa=Ie.vml?ko:yn,Lo=ai.extend({_initContainer:function(){this._container=Pa("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Pa("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){wt(this._container),xe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ai.prototype._update.call(this);var i=this._bounds,u=i.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,p.setAttribute("width",u.x),p.setAttribute("height",u.y)),me(p,i.min),p.setAttribute("viewBox",[i.min.x,i.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(i){var u=i._path=Pa("path");i.options.className&&Te(u,i.options.className),i.options.interactive&&Te(u,"leaflet-interactive"),this._updateStyle(i),this._layers[S(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){wt(i._path),i.removeInteractiveTarget(i._path),delete this._layers[S(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var u=i._path,p=i.options;u&&(p.stroke?(u.setAttribute("stroke",p.color),u.setAttribute("stroke-opacity",p.opacity),u.setAttribute("stroke-width",p.weight),u.setAttribute("stroke-linecap",p.lineCap),u.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?u.setAttribute("stroke-dasharray",p.dashArray):u.removeAttribute("stroke-dasharray"),p.dashOffset?u.setAttribute("stroke-dashoffset",p.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),p.fill?(u.setAttribute("fill",p.fillColor||p.color),u.setAttribute("fill-opacity",p.fillOpacity),u.setAttribute("fill-rule",p.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(i,u){this._setPath(i,Cr(i._parts,u))},_updateCircle:function(i){var u=i._point,p=Math.max(Math.round(i._radius),1),y=Math.max(Math.round(i._radiusY),1)||p,E="a"+p+","+y+" 0 1,0 ",N=i._empty()?"M0 0":"M"+(u.x-p)+","+u.y+E+p*2+",0 "+E+-p*2+",0 ";this._setPath(i,N)},_setPath:function(i,u){i._path.setAttribute("d",u)},_bringToFront:function(i){Et(i._path)},_bringToBack:function(i){Tn(i._path)}});Ie.vml&&Lo.include(gg);function Kh(i){return Ie.svg||Ie.vml?new Lo(i):null}$e.include({getRenderer:function(i){var u=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var u=this._paneRenderers[i];return u===void 0&&(u=this._createRenderer({pane:i}),this._paneRenderers[i]=u),u},_createRenderer:function(i){return this.options.preferCanvas&&Qh(i)||Kh(i)}});var qh=o.extend({initialize:function(i,u){o.prototype.initialize.call(this,this._boundsToLatLngs(i),u)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=je(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function pg(i,u){return new qh(i,u)}Lo.create=Pa,Lo.pointsToPath=Cr,l.geometryToLayer=h,l.coordsToLatLng=m,l.coordsToLatLngs=x,l.latLngToCoords=C,l.latLngsToCoords=I,l.getFeature=T,l.asFeature=R,$e.mergeOptions({boxZoom:!0});var Jh=Nn.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){Fe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){xe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){wt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),un(),Me(),this._startPoint=this._map.mouseEventToContainerPoint(i),Fe(document,{contextmenu:Xn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=tt("div","leaflet-zoom-box",this._container),Te(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var u=new Pe(this._point,this._startPoint),p=u.getSize();me(this._box,u.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(wt(this._box),ut(this._container,"leaflet-crosshair")),ss(),vt(),xe(document,{contextmenu:Xn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(_(this._resetState,this),0);var u=new ht(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});$e.addInitHook("addHandler","boxZoom",Jh),$e.mergeOptions({doubleClickZoom:!0});var $h=Nn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var u=this._map,p=u.getZoom(),y=u.options.zoomDelta,E=i.originalEvent.shiftKey?p-y:p+y;u.options.doubleClickZoom==="center"?u.setZoom(E):u.setZoomAround(i.containerPoint,E)}});$e.addInitHook("addHandler","doubleClickZoom",$h),$e.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ed=Nn.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new Vr(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}Te(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ut(this._map._container,"leaflet-grab"),ut(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=je(this._map.options.maxBounds);this._offsetLimit=De(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var u=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(u),this._prunePositions(u)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,u){return i-(i-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;i.x<u.min.x&&(i.x=this._viscousLimit(i.x,u.min.x)),i.y<u.min.y&&(i.y=this._viscousLimit(i.y,u.min.y)),i.x>u.max.x&&(i.x=this._viscousLimit(i.x,u.max.x)),i.y>u.max.y&&(i.y=this._viscousLimit(i.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,u=Math.round(i/2),p=this._initialWorldOffset,y=this._draggable._newPos.x,E=(y-u+p)%i+u-p,N=(y+u+p)%i-u-p,B=Math.abs(E+p)<Math.abs(N+p)?E:N;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=B},_onDragEnd:function(i){var u=this._map,p=u.options,y=!p.inertia||i.noInertia||this._times.length<2;if(u.fire("dragend",i),y)u.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),N=(this._lastTime-this._times[0])/1e3,B=p.easeLinearity,G=E.multiplyBy(B/N),K=G.distanceTo([0,0]),ie=Math.min(p.inertiaMaxSpeed,K),ve=G.multiplyBy(ie/K),Be=ie/(p.inertiaDeceleration*B),Je=ve.multiplyBy(-Be/2).round();!Je.x&&!Je.y?u.fire("moveend"):(Je=u._limitOffset(Je,u.options.maxBounds),Re(function(){u.panBy(Je,{duration:Be,easeLinearity:B,noMoveStart:!0,animate:!0})}))}}});$e.addInitHook("addHandler","dragging",ed),$e.mergeOptions({keyboard:!0,keyboardPanDelta:80});var td=Nn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),Fe(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),xe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,u=document.documentElement,p=i.scrollTop||u.scrollTop,y=i.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(y,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var u=this._panKeys={},p=this.keyCodes,y,E;for(y=0,E=p.left.length;y<E;y++)u[p.left[y]]=[-1*i,0];for(y=0,E=p.right.length;y<E;y++)u[p.right[y]]=[i,0];for(y=0,E=p.down.length;y<E;y++)u[p.down[y]]=[0,i];for(y=0,E=p.up.length;y<E;y++)u[p.up[y]]=[0,-1*i]},_setZoomDelta:function(i){var u=this._zoomKeys={},p=this.keyCodes,y,E;for(y=0,E=p.zoomIn.length;y<E;y++)u[p.zoomIn[y]]=i;for(y=0,E=p.zoomOut.length;y<E;y++)u[p.zoomOut[y]]=-i},_addHooks:function(){Fe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){xe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var u=i.keyCode,p=this._map,y;if(u in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(y=this._panKeys[u],i.shiftKey&&(y=oe(y).multiplyBy(3)),p.options.maxBounds&&(y=p._limitOffset(oe(y),p.options.maxBounds)),p.options.worldCopyJump){var E=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(y)));p.panTo(E)}else p.panBy(y)}else if(u in this._zoomKeys)p.setZoom(p.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;Xn(i)}}});$e.addInitHook("addHandler","keyboard",td),$e.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var nd=Nn.extend({addHooks:function(){Fe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){xe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var u=bi(i),p=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var y=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(_(this._performZoom,this),y),Xn(i)},_performZoom:function(){var i=this._map,u=i.getZoom(),p=this._map.options.zoomSnap||0;i._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,N=p?Math.ceil(E/p)*p:E,B=i._limitZoom(u+(this._delta>0?N:-N))-u;this._delta=0,this._startTime=null,B&&(i.options.scrollWheelZoom==="center"?i.setZoom(u+B):i.setZoomAround(this._lastMousePos,u+B))}});$e.addInitHook("addHandler","scrollWheelZoom",nd);var mg=600;$e.mergeOptions({tapHold:Ie.touchNative&&Ie.safari&&Ie.mobile,tapTolerance:15});var rd=Nn.extend({addHooks:function(){Fe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){xe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var u=i.touches[0];this._startPos=this._newPos=new ne(u.clientX,u.clientY),this._holdTimeout=setTimeout(_(function(){this._cancel(),this._isTapValid()&&(Fe(document,"touchend",Jt),Fe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),mg),Fe(document,"touchend touchcancel contextmenu",this._cancel,this),Fe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){xe(document,"touchend",Jt),xe(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),xe(document,"touchend touchcancel contextmenu",this._cancel,this),xe(document,"touchmove",this._onMove,this)},_onMove:function(i){var u=i.touches[0];this._newPos=new ne(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,u){var p=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});p._simulated=!0,u.target.dispatchEvent(p)}});$e.addInitHook("addHandler","tapHold",rd),$e.mergeOptions({touchZoom:Ie.touch,bounceAtZoomLimits:!0});var id=Nn.extend({addHooks:function(){Te(this._map._container,"leaflet-touch-zoom"),Fe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ut(this._map._container,"leaflet-touch-zoom"),xe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var u=this._map;if(!(!i.touches||i.touches.length!==2||u._animatingZoom||this._zooming)){var p=u.mouseEventToContainerPoint(i.touches[0]),y=u.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(p.add(y)._divideBy(2))),this._startDist=p.distanceTo(y),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Fe(document,"touchmove",this._onTouchMove,this),Fe(document,"touchend touchcancel",this._onTouchEnd,this),Jt(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var u=this._map,p=u.mouseEventToContainerPoint(i.touches[0]),y=u.mouseEventToContainerPoint(i.touches[1]),E=p.distanceTo(y)/this._startDist;if(this._zoom=u.getScaleZoom(E,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&E<1||this._zoom>u.getMaxZoom()&&E>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var N=p._add(y)._divideBy(2)._subtract(this._centerPoint);if(E===1&&N.x===0&&N.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(N),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),ge(this._animRequest);var B=_(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Re(B,this,!0),Jt(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ge(this._animRequest),xe(document,"touchmove",this._onTouchMove,this),xe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});$e.addInitHook("addHandler","touchZoom",id),$e.BoxZoom=Jh,$e.DoubleClickZoom=$h,$e.Drag=ed,$e.Keyboard=td,$e.ScrollWheelZoom=nd,$e.TapHold=rd,$e.TouchZoom=id,s.Bounds=Pe,s.Browser=Ie,s.CRS=Gt,s.Canvas=Xh,s.Circle=Ni,s.CircleMarker=Gr,s.Class=Le,s.Control=Qn,s.DivIcon=Cn,s.DivOverlay=Tt,s.DomEvent=_n,s.DomUtil=Yt,s.Draggable=Vr,s.Evented=_e,s.FeatureGroup=ur,s.GeoJSON=l,s.GridLayer=dr,s.Handler=Nn,s.Icon=Ti,s.ImageOverlay=X,s.LatLng=Qe,s.LatLngBounds=ht,s.Layer=Xt,s.LayerGroup=Tr,s.LineUtil=Da,s.Map=$e,s.Marker=On,s.Mixin=ka,s.Path=hr,s.Point=ne,s.PolyUtil=bo,s.Polygon=o,s.Polyline=t,s.Popup=wn,s.PosAnimation=So,s.Projection=No,s.Rectangle=qh,s.Renderer=ai,s.SVG=Lo,s.SVGOverlay=Xe,s.TileLayer=Oi,s.Tooltip=lt,s.Transformation=Vt,s.Util=Ze,s.VideoOverlay=ce,s.bind=_,s.bounds=De,s.canvas=Qh,s.circle=b,s.circleMarker=nt,s.control=us,s.divIcon=Mi,s.extend=d,s.featureGroup=cr,s.geoJSON=z,s.geoJson=Z,s.gridLayer=vu,s.icon=Mo,s.imageOverlay=ue,s.latLng=le,s.latLngBounds=je,s.layerGroup=Fn,s.map=Ma,s.marker=wu,s.point=oe,s.polygon=a,s.polyline=r,s.popup=vn,s.rectangle=pg,s.setOptions=H,s.stamp=S,s.svg=Kh,s.svgOverlay=He,s.tileLayer=Gh,s.tooltip=en,s.transformation=Wn,s.version=c,s.videoOverlay=se;var xg=window.L;s.noConflict=function(){return window.L=xg,this},window.L=s})})(Wc,Wc.exports);var go=Wc.exports;const ra=Bf(go);function uu(e,n,s){return Object.freeze({instance:e,context:n,container:s})}function cu(e,n){return n==null?function(c,d){const g=he.useRef();return g.current||(g.current=e(c,d)),g}:function(c,d){const g=he.useRef();g.current||(g.current=e(c,d));const _=he.useRef(c),{instance:A}=g.current;return he.useEffect(function(){_.current!==c&&(n(A,c,_.current),_.current=c)},[A,c,d]),g}}function ig(e,n){he.useEffect(function(){return(n.layerContainer??n.map).addLayer(e.instance),function(){var g;(g=n.layerContainer)==null||g.removeLayer(e.instance),n.map.removeLayer(e.instance)}},[n,e])}function sg(e){return function(s){const c=au(),d=e(lu(s,c),c);return $1(c.map,s.attribution),Vh(d.current,s.eventHandlers),ig(d.current,c),d}}function wx(e,n){const s=he.useRef();he.useEffect(function(){if(n.pathOptions!==s.current){const d=n.pathOptions??{};e.instance.setStyle(d),s.current=d}},[e,n])}function vx(e){return function(s){const c=au(),d=e(lu(s,c),c);return Vh(d.current,s.eventHandlers),ig(d.current,c),wx(d.current,s),d}}function Cx(e,n){const s=cu(e,n),c=sg(s);return rg(c)}function Ex(e,n){const s=cu(e),c=_x(s,n);return xx(c)}function Ax(e,n){const s=cu(e,n),c=vx(s);return rg(c)}function Sx(e,n){const s=cu(e,n),c=sg(s);return yx(c)}function bx(e,n,s){const{opacity:c,zIndex:d}=n;c!=null&&c!==s.opacity&&e.setOpacity(c),d!=null&&d!==s.zIndex&&e.setZIndex(d)}function Ix(){return au().map}function Gc(){return Gc=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(e[c]=s[c])}return e},Gc.apply(this,arguments)}function Tx({bounds:e,boundsOptions:n,center:s,children:c,className:d,id:g,placeholder:_,style:A,whenReady:S,zoom:v,...O},k){const[U]=he.useState({className:d,id:g,style:A}),[Y,te]=he.useState(null);he.useImperativeHandle(k,()=>(Y==null?void 0:Y.map)??null,[Y]);const H=he.useCallback(j=>{if(j!==null&&Y===null){const D=new go.Map(j,O);s!=null&&v!=null?D.setView(s,v):e!=null&&D.fitBounds(e,n),S!=null&&D.whenReady(S),te(mx(D))}},[]);he.useEffect(()=>()=>{Y==null||Y.map.remove()},[Y]);const ye=Y?ml.createElement(ng,{value:Y},c):_??null;return ml.createElement("div",Gc({},U,{ref:H}),ye)}const Nx=he.forwardRef(Tx),Mx=Cx(function({position:n,...s},c){const d=new go.Marker(n,s);return uu(d,eg(c,{overlayContainer:d}))},function(n,s,c){s.position!==c.position&&n.setLatLng(s.position),s.icon!=null&&s.icon!==c.icon&&n.setIcon(s.icon),s.zIndexOffset!=null&&s.zIndexOffset!==c.zIndexOffset&&n.setZIndexOffset(s.zIndexOffset),s.opacity!=null&&s.opacity!==c.opacity&&n.setOpacity(s.opacity),n.dragging!=null&&s.draggable!==c.draggable&&(s.draggable===!0?n.dragging.enable():n.dragging.disable())}),Ox=Ax(function({positions:n,...s},c){const d=new go.Polyline(n,s);return uu(d,eg(c,{overlayContainer:d}))},function(n,s,c){s.positions!==c.positions&&n.setLatLngs(s.positions)}),kx=Ex(function(n,s){const c=new go.Popup(n,s.overlayContainer);return uu(c,s)},function(n,s,{position:c},d){he.useEffect(function(){const{instance:_}=n;function A(v){v.popup===_&&(_.update(),d(!0))}function S(v){v.popup===_&&d(!1)}return s.map.on({popupopen:A,popupclose:S}),s.overlayContainer==null?(c!=null&&_.setLatLng(c),_.openOn(s.map)):s.overlayContainer.bindPopup(_),function(){var O;s.map.off({popupopen:A,popupclose:S}),(O=s.overlayContainer)==null||O.unbindPopup(),s.map.removeLayer(_)}},[n,s,d,c])}),Lx=Sx(function({url:n,...s},c){const d=new go.TileLayer(n,lu(s,c));return uu(d,c)},function(n,s,c){bx(n,s,c);const{url:d}=s;d!=null&&d!==c.url&&n.setUrl(d)});delete ra.Icon.Default.prototype._getIconUrl;const Rx=(e,n)=>{const s=e===0,c=e===n-1;if(s)return ra.divIcon({html:'<div class="flex items-center justify-center w-10 h-10 bg-gradient-to-br from-primary-600 to-primary-700 rounded-full shadow-lg border-4 border-white dark:border-gray-800 text-white font-black text-xs">START</div>',iconSize:[40,40],className:"custom-marker-start"});if(c)return ra.divIcon({html:'<div class="flex items-center justify-center w-10 h-10 bg-gradient-to-br from-accent-500 to-accent-600 rounded-full shadow-lg border-4 border-white dark:border-gray-800 text-white font-black text-xs">END</div>',iconSize:[40,40],className:"custom-marker-end"});const d=["bg-blue-500","bg-indigo-500","bg-purple-500","bg-pink-500","bg-rose-500"],g=d[e%d.length];return ra.divIcon({html:`<div class="flex items-center justify-center w-9 h-9 ${g} rounded-full shadow-lg border-3 border-white dark:border-gray-800 text-white font-bold text-xs">${e+1}</div>`,iconSize:[36,36],className:"custom-marker"})};function Dx({points:e}){const n=Ix();return he.useEffect(()=>{if(e&&e.length>0){const s=ra.latLngBounds(e.map(c=>[c.lat,c.lng]));n.fitBounds(s,{padding:[80,80]})}},[e,n]),null}function Px({stops:e}){const[n,s]=he.useState(null),[c,d]=he.useState(!1);if(he.useEffect(()=>{const v=document.documentElement.classList.contains("dark")||window.matchMedia("(prefers-color-scheme: dark)").matches;d(v);const O=window.matchMedia("(prefers-color-scheme: dark)"),k=U=>d(U.matches);return O.addEventListener("change",k),()=>O.removeEventListener("change",k)},[]),!e||e.length===0)return w.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center bg-gray-100 dark:bg-gray-800",children:[w.jsx(J1,{className:"w-12 h-12 text-gray-400 mb-3"}),w.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"Sem pontos no mapa"})]});const g=e.map(v=>[v.lat,v.lng]),_=[e[0].lat,e[0].lng],A=c?"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png":"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",S=c?"#8B5CF6":"#7C3AED";return w.jsxs("div",{className:"h-full w-full relative z-0",children:[w.jsxs(Nx,{center:_,zoom:13,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,className:"map-container",children:[w.jsx(Lx,{attribution:' <a href="https://carto.com/">CartoDB</a>',url:A,maxZoom:19}),w.jsx(Ox,{positions:g,pathOptions:{color:S,weight:3,opacity:.8,dashArray:"5, 5",lineCap:"round",lineJoin:"round"}}),e.map((v,O)=>w.jsx(Mx,{position:[v.lat,v.lng],icon:Rx(O,e.length),eventHandlers:{click:()=>s(O)},children:w.jsx(kx,{className:"custom-popup",children:w.jsxs("div",{className:"min-w-max p-2",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-2 pb-2 border-b border-gray-200",children:[w.jsx(to,{className:"w-4 h-4 text-primary-600"}),w.jsxs("strong",{className:"text-gray-900",children:["Parada ",v.id]})]}),w.jsx("p",{className:"text-sm text-gray-700 font-medium mb-1",children:v.address}),w.jsx("div",{className:"mt-3 pt-2 border-t border-gray-200",children:w.jsxs("span",{className:"inline-block bg-primary-100 text-primary-800 text-xs px-2.5 py-1 rounded-full font-semibold",children:[v.packages.length," pacote",v.packages.length!==1?"s":""]})})]})})},O)),w.jsx(Dx,{points:e})]}),n!==null&&w.jsx(Bx,{stop:e[n],index:n,total:e.length,onClose:()=>s(null)})]})}function Bx({stop:e,index:n,total:s,onClose:c}){const[d,g]=he.useState(!1);return w.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-40 animate-slide-up",onClick:_=>{_.target===_.currentTarget&&c()},children:[w.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:c}),w.jsxs("div",{className:`relative bg-white dark:bg-gray-800 rounded-t-3xl shadow-2xl transition-all duration-300 ${d?"h-2/3":"h-fit max-h-96"} border-t-2 border-primary-600`,children:[w.jsx("div",{className:"flex justify-center pt-4 pb-3 bg-gradient-to-b from-transparent to-gray-50 dark:to-gray-800/50",children:w.jsx("div",{className:"w-14 h-1.5 bg-gradient-to-r from-gray-300 via-gray-400 to-gray-300 dark:from-gray-600 dark:via-gray-500 dark:to-gray-600 rounded-full shadow-md"})}),w.jsx("div",{className:"px-5 pb-4 border-b border-gray-100 dark:border-gray-700",children:w.jsxs("div",{className:"flex items-center justify-between mb-3",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-600 to-primary-700 flex items-center justify-center text-white font-black text-lg shadow-lg shadow-primary-500/30",children:n+1}),w.jsxs("div",{children:[w.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-bold uppercase tracking-wide",children:["Parada ",n+1," de ",s]}),w.jsx("h3",{className:"font-black text-lg text-gray-900 dark:text-white",children:e.id})]})]}),w.jsx("button",{onClick:c,className:"w-8 h-8 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center justify-center transition-all active:scale-90",children:w.jsx("span",{className:"text-lg text-gray-600 dark:text-gray-300",children:""})})]})}),w.jsxs("div",{className:`overflow-y-auto px-5 py-4 ${d?"max-h-[calc(2/3vh-120px)]":"max-h-64"}`,children:[w.jsx("div",{className:"mb-5 p-4 bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/10 rounded-2xl border border-blue-200 dark:border-blue-800/30",children:w.jsxs("div",{className:"flex items-start gap-3",children:[w.jsx(J1,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 font-bold uppercase tracking-wide mb-1",children:"Endereo"}),w.jsx("p",{className:"font-bold text-base text-gray-900 dark:text-white",children:e.address})]})]})}),w.jsxs("div",{className:"mb-4 p-4 bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/10 rounded-2xl border border-green-200 dark:border-green-800/30",children:[w.jsxs("div",{className:"flex items-center justify-between mb-3",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(to,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),w.jsx("p",{className:"text-xs font-bold text-green-700 dark:text-green-400 uppercase tracking-wide",children:"Pacotes"})]}),w.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-green-600 text-white text-xs font-bold shadow-lg shadow-green-500/30",children:[w.jsx(to,{className:"w-3.5 h-3.5"}),e.packages.length]})]}),e.packages&&e.packages.length>0&&w.jsxs("div",{className:"space-y-2 text-sm",children:[e.packages.slice(0,4).map((_,A)=>w.jsxs("div",{className:"flex items-center gap-2 bg-white/50 dark:bg-gray-800/50 p-2 rounded-lg",children:[w.jsx("div",{className:"w-2 h-2 rounded-full bg-green-600"}),w.jsx("span",{className:"font-mono text-xs text-gray-700 dark:text-gray-300 truncate",children:_})]},A)),e.packages.length>4&&w.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 italic pl-2",children:["+",e.packages.length-4," mais pacotes"]})]})]}),w.jsxs("div",{className:"mb-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-xl border border-yellow-200 dark:border-yellow-800/30 flex items-center gap-2",children:[w.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full animate-pulse"}),w.jsx("p",{className:"text-xs font-semibold text-yellow-700 dark:text-yellow-400",children:"Aguardando confirmao"})]}),w.jsxs("div",{className:"pt-4 border-t border-gray-100 dark:border-gray-700 space-y-3",children:[w.jsxs("button",{className:"btn-primary w-full flex items-center justify-center gap-2 active:scale-95",children:[w.jsx(Zc,{className:"w-5 h-5"}),w.jsx("span",{children:"Navegar At Aqui"})]}),w.jsxs("button",{className:"w-full px-4 py-3 rounded-xl bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold hover:shadow-lg hover:shadow-green-500/30 transition-all active:scale-95 shadow-lg shadow-green-500/20 flex items-center justify-center gap-2",children:[w.jsx(ix,{className:"w-5 h-5"}),w.jsx("span",{children:"Confirmar Entrega"})]})]})]})]})]})}function Fx({data:e,adminStats:n}){return e?e.view==="personal"?w.jsx(jx,{data:e}):e.view==="company"?w.jsx(zx,{data:e,adminStats:n}):w.jsx("div",{children:"Tipo de visualizao desconhecido."}):w.jsxs("div",{className:"space-y-4 animate-fade-in",children:[w.jsx("div",{className:"skeleton h-48 rounded-3xl"}),w.jsx("div",{className:"skeleton h-32 rounded-2xl"}),w.jsx("div",{className:"skeleton h-40 rounded-2xl"})]})}function jx({data:e}){const n=e.balance.toFixed(2).replace(".",","),s=n.split(",")[0],c=n.split(",")[1];return w.jsxs("div",{className:"space-y-5 animate-fade-in",children:[w.jsxs("div",{className:"relative overflow-hidden gradient-success rounded-3xl p-6 text-white shadow-glass",children:[w.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/10 rounded-full blur-3xl -mr-20 -mt-20"}),w.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-white/10 rounded-full blur-3xl -ml-16 -mb-16"}),w.jsxs("div",{className:"relative z-10",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[w.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center",children:w.jsx(fx,{className:"w-5 h-5"})}),w.jsxs("div",{children:[w.jsx("p",{className:"text-xs font-medium text-white/70",children:"Seus Ganhos"}),w.jsx("p",{className:"text-xs font-bold text-white/90",children:e.period})]})]}),w.jsx("div",{className:"mb-6",children:w.jsxs("div",{className:"flex items-baseline gap-1",children:[w.jsx("span",{className:"text-xl font-bold opacity-80",children:"R$"}),w.jsx("span",{className:"text-5xl font-black tracking-tight",children:s}),w.jsxs("span",{className:"text-2xl font-bold opacity-80",children:[",",c]})]})}),w.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/20",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(nx,{className:"w-4 h-4 text-white/70"}),w.jsx("span",{className:"text-xs font-medium text-white/90",children:"Prximo pagamento: Sexta"})]}),w.jsx("span",{className:"badge bg-yellow-400/30 text-yellow-100 border-yellow-400/50 text-[10px]",children:"A RECEBER"})]})]})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsx(_f,{label:"Entregas",value:"--",icon:w.jsx(ou,{className:"w-4 h-4"}),trend:"positive"}),w.jsx(_f,{label:"Mdia/Dia",value:`R$ ${(e.balance/5).toFixed(0)}`,icon:w.jsx(na,{className:"w-4 h-4"}),trend:"neutral"})]}),w.jsxs("div",{className:"card-premium overflow-hidden",children:[w.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-800/50 px-5 py-3 border-b border-gray-100 dark:border-gray-700/50",children:w.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white text-sm flex items-center gap-2",children:[w.jsx(sx,{className:"w-4 h-4"}),"Extrato Recente"]})}),w.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-gray-700/50",children:[w.jsx(Qu,{title:"Rota de Hoje",subtitle:"Processando...",value:"--",status:"pending"}),w.jsx(Qu,{title:"Rota Ontem",subtitle:"Concluda",value:`+ R$ ${((e.balance>0?e.balance:50)*.4).toFixed(2).replace(".",",")}`,status:"completed"}),w.jsx(Qu,{title:"Bnus Meta Semanal",subtitle:"Extra conquistado",value:`+ R$ ${((e.balance>0?e.balance:50)*.1).toFixed(2).replace(".",",")}`,status:"bonus"})]})]})]})}function zx({data:e,adminStats:n}){const{revenue:s,costs:c,profit:d}=e.company_stats,[g,_]=he.useState(""),[A,S]=he.useState(""),[v,O]=he.useState(!1),[k,U]=he.useState(null),Y=d.toFixed(2).replace(".",","),te=d>=0,H=(n==null?void 0:n.active_session)&&(n==null?void 0:n.pending)===0,ye=async()=>{O(!0),U(null);try{const j=await fetch("/api/session/finalize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({extra_revenue:g?parseFloat(g):0,other_costs:A?parseFloat(A):0})}),D=await j.json();if(!j.ok)throw new Error(D.detail||"Falha ao fechar dia");U(" Dia fechado com sucesso.")}catch(j){U(j.message)}finally{O(!1)}};return w.jsxs("div",{className:"space-y-5 animate-fade-in",children:[w.jsxs("div",{className:"relative overflow-hidden gradient-dark rounded-3xl p-6 text-white shadow-glass",children:[w.jsx("div",{className:"absolute top-0 right-0 opacity-10",children:w.jsx(na,{size:120,strokeWidth:1})}),w.jsxs("div",{className:"relative z-10",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w.jsx("div",{className:"w-10 h-10 bg-white/10 backdrop-blur-sm rounded-2xl flex items-center justify-center",children:w.jsx(ou,{className:"w-5 h-5"})}),w.jsxs("div",{children:[w.jsx("p",{className:"text-xs text-gray-400",children:"Lucro Lquido"}),w.jsx("p",{className:"text-xs font-bold text-gray-300",children:e.period})]})]}),w.jsx("div",{className:"mb-6",children:w.jsxs("div",{className:`text-5xl font-black ${te?"text-green-400":"text-red-400"}`,children:["R$ ",Y]})}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsxs("div",{className:"bg-white/5 backdrop-blur-sm p-4 rounded-xl border border-white/10",children:[w.jsxs("div",{className:"flex items-center gap-1.5 text-green-300 text-xs mb-2 font-medium",children:[w.jsx(ex,{className:"w-3.5 h-3.5"})," Receita"]}),w.jsxs("div",{className:"text-2xl font-black text-white",children:["R$ ",s.toFixed(0)]})]}),w.jsxs("div",{className:"bg-white/5 backdrop-blur-sm p-4 rounded-xl border border-white/10",children:[w.jsxs("div",{className:"flex items-center gap-1.5 text-red-300 text-xs mb-2 font-medium",children:[w.jsx($m,{className:"w-3.5 h-3.5"})," Custos"]}),w.jsxs("div",{className:"text-2xl font-black text-white",children:["R$ ",c.toFixed(0)]})]})]})]})]}),w.jsxs("div",{className:"card-premium overflow-hidden",children:[w.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 px-5 py-3 border-b border-gray-100 dark:border-gray-700/50",children:w.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white text-sm flex items-center gap-2",children:[w.jsx(no,{className:"w-4 h-4"}),"Repasse aos Entregadores"]})}),w.jsx("div",{className:"p-5 space-y-4",children:Object.entries(e.deliverers_stats).length>0?Object.entries(e.deliverers_stats).map(([j,D],P)=>w.jsxs("div",{className:"flex items-center justify-between group hover:bg-gray-50 dark:hover:bg-gray-800/50 p-3 rounded-xl transition-all",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-black text-xs shadow-lg shadow-blue-500/30",children:j.substring(0,2).toUpperCase()}),w.jsxs("div",{children:[w.jsx("p",{className:"font-bold text-sm text-gray-900 dark:text-white",children:j}),w.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Colaborador"})]})]}),w.jsx("div",{className:"text-right",children:w.jsxs("p",{className:"font-black text-lg text-gray-900 dark:text-white",children:["R$ ",D.toFixed(2).replace(".",",")]})})]},P)):w.jsxs("div",{className:"text-center py-8",children:[w.jsx("div",{className:"w-16 h-16 mx-auto mb-3 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:w.jsx(no,{className:"w-8 h-8 text-gray-400"})}),w.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Nenhum repasse registrado"}),w.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"Os valores aparecero aqui"})]})})]}),H&&w.jsxs("div",{className:"card-premium p-5 space-y-3",children:[w.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:" Fechar Dia"}),w.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Todos os pacotes foram finalizados. Informe custos e lucros extras para fechar a sesso."}),w.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[w.jsx("input",{type:"number",placeholder:"Lucro extra",value:g,onChange:j=>_(j.target.value),className:"px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900"}),w.jsx("input",{type:"number",placeholder:"Custos extras",value:A,onChange:j=>S(j.target.value),className:"px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900"})]}),w.jsx("button",{onClick:ye,disabled:v,className:`w-full py-3 rounded-lg text-sm font-semibold ${v?"bg-gray-400 text-white":"bg-emerald-600 text-white"}`,children:v?"Fechando...":"Fechar Dia"}),k&&w.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:k})]})]})}function _f({label:e,value:n,icon:s,trend:c}){const d={positive:"text-green-600 dark:text-green-400 bg-green-100 dark:bg-green-900/30",negative:"text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900/30",neutral:"text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30"};return w.jsxs("div",{className:"card-premium p-4",children:[w.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center mb-3 ${d[c]}`,children:s}),w.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium mb-1",children:e}),w.jsx("p",{className:"text-lg font-black text-gray-900 dark:text-white",children:n})]})}function Qu({title:e,subtitle:n,value:s,status:c}){const d={pending:{color:"text-gray-400",bg:"bg-gray-100 dark:bg-gray-800"},completed:{color:"text-green-600 dark:text-green-400",bg:"bg-green-50 dark:bg-green-900/20"},bonus:{color:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50 dark:bg-blue-900/20"}};return w.jsxs("div",{className:"flex justify-between items-center p-4 hover:bg-gray-50 dark:hover:bg-gray-800/30 transition-all",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("p",{className:"font-bold text-sm text-gray-900 dark:text-white mb-0.5",children:e}),w.jsx("p",{className:`text-xs font-semibold ${d[c].color}`,children:n})]}),w.jsx("div",{className:`text-sm font-black font-mono ${d[c].color}`,children:s})]})}function Ux(){const[e,n]=he.useState([]),[s,c]=he.useState(!0),[d,g]=he.useState(!1),[_,A]=he.useState({name:"",telegram_id:"",is_partner:!1}),[S,v]=he.useState([]),O=()=>{c(!0),fetch("/api/admin/team").then(H=>H.json()).then(H=>{n(H),c(!1)}).catch(H=>{console.error(H),c(!1)})};he.useEffect(()=>{O(),Y()},[]);const k=async H=>{if(H.preventDefault(),!_.name||!_.telegram_id)return;(await fetch("/api/admin/team",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({..._,telegram_id:parseInt(_.telegram_id)})})).ok?(g(!1),A({name:"",telegram_id:"",is_partner:!1}),O()):alert("Erro ao adicionar member")},U=async H=>{confirm("Tem certeza que deseja remover este entregador?")&&(await fetch(`/api/admin/team/${H}`,{method:"DELETE"}),O())},Y=async()=>{try{const ye=await(await fetch("/api/delivery/pending-transfers")).json();v(ye.transfers||[])}catch(H){console.error("Erro ao buscar transferncias:",H)}},te=async(H,ye,j="")=>{try{(await fetch("/api/delivery/transfer-approve",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transfer_id:H,approved:ye,admin_id:123456,admin_name:"Admin",rejection_reason:j})})).ok&&(alert(ye?"Transferncia aprovada!":"Transferncia rejeitada!"),Y())}catch{alert("Erro ao processar transferncia")}};return w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[w.jsxs("div",{children:[w.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[w.jsx(no,{className:"text-blue-500"})," Gesto de Equipe"]}),w.jsx("p",{className:"text-sm text-gray-500",children:"Gerencie seus entregadores e parceiros"})]}),w.jsx("button",{onClick:()=>g(!0),className:"bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-lg shadow-lg shadow-blue-500/30 transition-all active:scale-95",children:w.jsx(dx,{size:20})})]}),w.jsx("div",{className:"space-y-3",children:s?w.jsx("div",{className:"text-center text-gray-500 py-10",children:"Carregando equipe..."}):e.length===0?w.jsx("div",{className:"text-center text-gray-400 py-10 bg-gray-50 dark:bg-gray-800 rounded-xl border border-dashed border-gray-300",children:"Nenhum membro na equipe ainda."}):e.map(H=>w.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 flex justify-between items-center group",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg ${H.is_partner?"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-300":"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-300"}`,children:H.name.substring(0,1).toUpperCase()}),w.jsxs("div",{children:[w.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[H.name,H.is_partner&&w.jsx(lx,{size:14,className:"text-purple-500",title:"Scio"})]}),w.jsxs("div",{className:"flex gap-3 text-xs text-gray-500 mt-1",children:[w.jsxs("span",{className:"flex items-center gap-1",children:[w.jsx(hx,{size:10})," ",H.deliveries," entregas"]}),w.jsxs("span",{className:"font-mono",children:["ID: ",H.id]})]})]})]}),w.jsx("button",{onClick:()=>U(H.id),className:"text-gray-400 hover:text-red-500 p-2 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:w.jsx(cx,{size:18})})]},H.id))}),S.length>0&&w.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-xl p-6 border border-yellow-200 dark:border-yellow-800",children:[w.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2 mb-4 text-yellow-800 dark:text-yellow-200",children:[w.jsx(q1,{size:20})," Solicitaes de Transferncia Pendentes (",S.length,")"]}),w.jsx("div",{className:"space-y-3",children:S.map(H=>w.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[w.jsxs("div",{className:"flex justify-between items-start mb-3",children:[w.jsxs("div",{children:[w.jsxs("p",{className:"font-semibold text-sm",children:[H.from_deliverer.name,"  ",H.to_deliverer.name]}),w.jsxs("p",{className:"text-xs text-gray-500",children:[H.package_count," pacote(s)"]})]}),w.jsx("span",{className:"text-xs bg-yellow-100 dark:bg-yellow-900/50 text-yellow-700 dark:text-yellow-300 px-2 py-1 rounded",children:"Pendente"})]}),w.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:[w.jsx("strong",{children:"Motivo:"})," ",H.reason]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("button",{onClick:()=>te(H.id,!0),className:"flex-1 flex items-center justify-center gap-2 bg-green-500 hover:bg-green-600 text-white py-2 rounded-lg text-sm font-semibold transition",children:[w.jsx(rx,{size:16})," Aprovar"]}),w.jsxs("button",{onClick:()=>{const ye=prompt("Motivo da rejeio (opcional):");te(H.id,!1,ye||"")},className:"flex-1 flex items-center justify-center gap-2 bg-red-500 hover:bg-red-600 text-white py-2 rounded-lg text-sm font-semibold transition",children:[w.jsx(gx,{size:16})," Rejeitar"]})]})]},H.id))})]}),d&&w.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:w.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-sm shadow-2xl animate-fade-in",children:[w.jsx("h3",{className:"text-lg font-bold mb-4",children:"Novo Entregador"}),w.jsxs("form",{onSubmit:k,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Nome"}),w.jsx("input",{type:"text",required:!0,className:"w-full bg-gray-50 dark:bg-gray-800 border-none rounded-lg p-3 outline-none focus:ring-2 ring-blue-500",placeholder:"Ex: Joo Silva",value:_.name,onChange:H=>A({..._,name:H.target.value})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Telegram ID"}),w.jsx("input",{type:"number",required:!0,className:"w-full bg-gray-50 dark:bg-gray-800 border-none rounded-lg p-3 outline-none focus:ring-2 ring-blue-500 font-mono",placeholder:"Ex: 123456789",value:_.telegram_id,onChange:H=>A({..._,telegram_id:H.target.value})}),w.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Pea pro entregador enviar /id para o bot."})]}),w.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[w.jsx("input",{type:"checkbox",id:"is_partner",className:"w-5 h-5 rounded text-blue-600 focus:ring-blue-500 border-gray-300",checked:_.is_partner,onChange:H=>A({..._,is_partner:H.target.checked})}),w.jsx("label",{htmlFor:"is_partner",className:"text-sm font-medium",children:"Scio (No recebe por pacote)"})]}),w.jsxs("div",{className:"flex gap-3 pt-4",children:[w.jsx("button",{type:"button",onClick:()=>g(!1),className:"flex-1 py-3 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl text-sm font-medium",children:"Cancelar"}),w.jsx("button",{type:"submit",className:"flex-1 py-3 bg-blue-600 text-white rounded-xl text-sm font-bold shadow-lg shadow-blue-500/30",children:"Salvar"})]})]})]})})]})}function Hx(){var Wn,Ke,vr,yn,Cr,Ot,rt,qe,Fr,Ce,jr,_i,Bn,wi,rn;const[e,n]=he.useState("simple"),[s,c]=he.useState(""),[d,g]=he.useState(""),[_,A]=he.useState(null),[S,v]=he.useState(!1),[O,k]=he.useState(null),[U,Y]=he.useState(!1),[te,H]=he.useState(null),[ye,j]=he.useState(""),[D,P]=he.useState(!1),[J,fe]=he.useState(null),[ae,V]=he.useState(null),[ee,$]=he.useState(2),[Se,Re]=he.useState([]),[ge,Ze]=he.useState({}),[Le,q]=he.useState(!1),[Ge,_e]=he.useState(null),[ne,Oe]=he.useState([]),oe=he.useRef(null);he.useEffect(()=>{fetch("/api/admin/team").then(Ee=>Ee.json()).then(Oe).catch(()=>Oe([]))},[]);const Pe=async()=>{if(!s.trim()||!d){_e("Preencha os endereos e o valor total");return}v(!0),_e(null),A(null);const Ee=new FormData;Ee.append("addresses_text",s),Ee.append("route_value",parseFloat(d));try{const Ne=await fetch("/api/routes/analyze-addresses",{method:"POST",body:Ee});if(!Ne.ok){const gn=await Ne.json();throw new Error(gn.detail||"Falha ao analisar")}const ze=await Ne.json();A(ze)}catch(Ne){_e(Ne.message)}finally{v(!1)}},De=()=>{c(""),g(""),A(null),k(null),_e(null)},ht=async()=>{if(!s.trim()){_e("Cole os endereos primeiro");return}Y(!0),_e(null);const Ee=new FormData;Ee.append("addresses_text",s);try{const Ne=await fetch("/api/routes/generate-map",{method:"POST",body:Ee});if(!Ne.ok){const gn=await Ne.json();throw new Error(gn.detail||"Falha ao gerar mapa")}const ze=await Ne.json();k(ze.map_url)}catch(Ne){_e(Ne.message)}finally{Y(!1)}},je=Ee=>{Ee.target.files.length>0&&(H(Ee.target.files[0]),_e(null))},Qe=async()=>{if(!te||!ye){_e("Selecione arquivo e informe valor");return}q(!0),_e(null);const Ee=new FormData;Ee.append("file",te);try{const Ne=await fetch("/api/romaneio/import",{method:"POST",body:Ee});if(!Ne.ok){const gn=await Ne.json();throw new Error(gn.detail||"Falha ao importar romaneio")}const ze=await Ne.json();P(!0),ze.session_id&&fe(ze.session_id),H(null),oe.current&&(oe.current.value="")}catch(Ne){_e(Ne.message)}finally{q(!1)}},le=async()=>{if(!te){_e("Selecione arquivo para importar");return}q(!0),_e(null);const Ee=new FormData;Ee.append("file",te);try{const Ne=await fetch("/api/session/romaneio/import-additional",{method:"POST",body:Ee});if(!Ne.ok){const gn=await Ne.json();throw new Error(gn.detail||"Falha ao importar adicional")}const ze=await Ne.json();ze.session_id&&fe(ze.session_id),H(null),oe.current&&(oe.current.value="")}catch(Ne){_e(Ne.message)}finally{q(!1)}},Gt=async()=>{q(!0),_e(null);try{const Ee=await fetch("/api/session/report");if(!Ee.ok){const ze=await Ee.json();throw new Error(ze.detail||"Falha ao gerar relatrio")}const Ne=await Ee.json();V(Ne)}catch(Ee){_e(Ee.message)}finally{q(!1)}},dt=async()=>{q(!0),_e(null),Re([]);try{const Ee=await fetch("/api/routes/optimize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({num_deliverers:Number(ee)})});if(!Ee.ok){const ze=await Ee.json();throw new Error(ze.detail||"Falha ao otimizar rotas")}const Ne=await Ee.json();Re(Ne.routes||[])}catch(Ee){_e(Ee.message)}finally{q(!1)}},Br=async(Ee,Ne)=>{try{const ze=await fetch("/api/routes/assign",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({route_id:Ee,deliverer_id:Number(Ne)})});if(!ze.ok){const gn=await ze.json();throw new Error(gn.detail||"Falha ao atribuir")}Ze(gn=>({...gn,[Ee]:Ne}))}catch(ze){_e(ze.message)}},wr=async()=>{if(!(Se.length>0&&Se.every(Ne=>ge[Ne.route_id]))){_e("Selecione um entregador para cada rota antes de iniciar.");return}q(!0),_e(null);try{const Ne=await fetch("/api/routes/send",{method:"POST"});if(!Ne.ok){const ze=await Ne.json();throw new Error(ze.detail||"Falha ao enviar rotas")}}catch(Ne){_e(Ne.message)}finally{q(!1)}},Vt=Se.length>0&&Se.every(Ee=>ge[Ee.route_id]);return w.jsxs("div",{className:"space-y-6 animate-fade-in pb-20",children:[w.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-xl p-6 shadow-lg text-white",children:[w.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 mb-2",children:[w.jsx(Ul,{size:32})," Anlise de Rota com IA"]}),w.jsx("p",{className:"text-purple-100",children:"Cole endereos ou importe romaneio. A IA te diz se vale a pena."})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsxs("button",{onClick:()=>n("simple"),className:`py-3 px-4 rounded-xl font-bold text-sm transition-all ${e==="simple"?"bg-purple-600 text-white shadow-lg scale-105":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-700"}`,children:[w.jsx(Ul,{size:18,className:"inline mr-2"}),"Colar Endereos"]}),w.jsxs("button",{onClick:()=>n("import"),className:`py-3 px-4 rounded-xl font-bold text-sm transition-all ${e==="import"?"bg-blue-600 text-white shadow-lg scale-105":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-700"}`,children:[w.jsx(tl,{size:18,className:"inline mr-2"}),"Importar Romaneio"]})]}),Ge&&w.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4 flex gap-3",children:[w.jsx(q1,{className:"text-red-600 flex-shrink-0"}),w.jsxs("div",{children:[w.jsx("p",{className:"font-bold text-red-800 dark:text-red-300",children:"Erro"}),w.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:Ge})]})]}),e==="simple"&&w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[w.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:" Cola os Endereos (um por linha)"}),w.jsx("textarea",{value:s,onChange:Ee=>c(Ee.target.value),placeholder:`Rua Principado de Mnaco, 37, Apt 501
Rua Mena Barreto, 161, Loja BMRIO
Rua General Polidoro, 322, 301
...`,className:"w-full h-48 p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono text-sm focus:ring-2 focus:ring-purple-500"}),w.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[s.trim().split(`
`).length," endereo(s) detectado(s)"]})]}),w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[w.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:" Valor Total da Rota"}),w.jsx("input",{type:"number",value:d,onChange:Ee=>g(Ee.target.value),placeholder:"Ex: 150.00",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsxs("button",{onClick:Pe,disabled:S||!s.trim()||!d,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:[w.jsx(pl,{size:20}),S?"Analisando...":"Analisar IA"]}),w.jsx("button",{onClick:De,className:"bg-gray-300 hover:bg-gray-400 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-white font-bold py-3 rounded-lg transition-colors",children:"Limpar"})]}),_&&w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:`bg-gradient-to-r rounded-xl p-6 text-white ${((Wn=_.header)==null?void 0:Wn[" SCORE"])>=7?"from-green-500 to-emerald-600":((Ke=_.header)==null?void 0:Ke[" SCORE"])>=5?"from-yellow-500 to-orange-600":"from-red-500 to-pink-600"}`,children:[w.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-sm opacity-80",children:"Valor"}),w.jsx("p",{className:"text-2xl font-bold",children:(vr=_.header)==null?void 0:vr[" VALOR"]})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm opacity-80",children:"Tipo"}),w.jsx("p",{className:"text-2xl font-bold",children:(yn=_.header)==null?void 0:yn[" TIPO"]})]})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-sm opacity-80",children:"Score"}),w.jsx("p",{className:"text-3xl font-bold",children:(Cr=_.header)==null?void 0:Cr[" SCORE"]})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm opacity-80",children:"Ganho/hora"}),w.jsx("p",{className:"text-2xl font-bold",children:(Ot=_.financial)==null?void 0:Ot.hourly})]})]}),w.jsx("p",{className:"mt-4 text-sm font-semibold",children:(rt=_.header)==null?void 0:rt[" RECOMENDAO"]})]}),_.top_drops&&_.top_drops.length>0&&w.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 rounded-xl p-5 border-2 border-orange-200 dark:border-orange-700",children:[w.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2 text-lg",children:[w.jsx(ou,{size:22,className:"text-orange-600"})," Top Drops (Ruas com Maior Concentrao)"]}),w.jsx("div",{className:"space-y-3",children:_.top_drops.map((Ee,Ne)=>w.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 transition-all transform hover:scale-102 ${Ne===0?"bg-gradient-to-r from-yellow-100 to-orange-100 dark:from-yellow-900/30 dark:to-orange-900/30 border-yellow-300 dark:border-yellow-600 shadow-md":Ne===1?"bg-gradient-to-r from-blue-100 to-purple-100 dark:from-blue-900/30 dark:to-purple-900/30 border-blue-300 dark:border-blue-600":"bg-gradient-to-r from-gray-100 to-slate-100 dark:from-gray-700 dark:to-slate-700 border-gray-300 dark:border-gray-600"}`,children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("span",{className:"text-4xl",children:Ee.emoji}),w.jsxs("div",{children:[w.jsx("p",{className:"font-bold text-gray-900 dark:text-white text-lg",children:Ee.street}),w.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:[Ee.count," endereos"]})]})]}),w.jsxs("div",{className:"text-right",children:[w.jsx("p",{className:"text-lg font-bold text-orange-600 dark:text-orange-400",children:Ee.percentage}),w.jsx("p",{className:"text-xs text-gray-500",children:"concentrao"})]})]},Ne))})]}),w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[w.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-3",children:" Perfil da Rota"}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:[w.jsx("p",{className:"text-xs text-gray-500",children:"Tipo"}),w.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:(qe=_.profile)==null?void 0:qe.type})]}),w.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:[w.jsx("p",{className:"text-xs text-gray-500",children:"Comercial"}),w.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:(Fr=_.profile)==null?void 0:Fr.commercial_pct})]}),w.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:[w.jsx("p",{className:"text-xs text-gray-500",children:"Pacotes"}),w.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:(Ce=_.profile)==null?void 0:Ce.total_packages})]}),w.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:[w.jsx("p",{className:"text-xs text-gray-500",children:"Paradas"}),w.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:(jr=_.profile)==null?void 0:jr.unique_stops})]})]})]}),w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[w.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-3",children:" Prs"}),w.jsx("ul",{className:"space-y-2",children:(Bn=(_i=_.analysis)==null?void 0:_i.pros)==null?void 0:Bn.map((Ee,Ne)=>w.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700 dark:text-gray-300",children:[w.jsx("span",{className:"text-green-500 font-bold mt-0.5",children:""}),Ee]},Ne))})]}),w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[w.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-3",children:" Contras"}),w.jsx("ul",{className:"space-y-2",children:(rn=(wi=_.analysis)==null?void 0:wi.cons)==null?void 0:rn.map((Ee,Ne)=>w.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700 dark:text-gray-300",children:[w.jsx("span",{className:"text-red-500 font-bold mt-0.5",children:""}),Ee]},Ne))})]}),w.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-4",children:[w.jsx("h4",{className:"font-bold text-blue-900 dark:text-blue-300 mb-2",children:" Comentrio da IA"}),w.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-400 whitespace-pre-wrap leading-relaxed",children:_.ai_comment})]}),w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[w.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 p-4 text-white font-bold flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(Go,{size:20})," Minimapa da Rota"]}),U&&w.jsx("span",{className:"text-sm",children:" Gerando..."})]}),O?w.jsx("iframe",{src:O,className:"w-full h-96 border-0",title:"Mapa da Rota",allowFullScreen:""}):w.jsxs("div",{className:"p-6 text-center",children:[w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:" Geocodificao lenta (3-5 seg por endereo)"}),w.jsx("button",{onClick:ht,disabled:U,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white font-bold py-2 px-6 rounded-lg transition-colors",children:U?" Gerando Mapa...":" Gerar Mapa"})]})]})]})]}),e==="import"&&w.jsxs("div",{className:"space-y-4",children:[w.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:w.jsxs("div",{onClick:()=>{var Ee;return(Ee=oe.current)==null?void 0:Ee.click()},className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-8 text-center cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[w.jsx("input",{type:"file",ref:oe,onChange:je,accept:".xlsx,.xls",className:"hidden"}),w.jsx(tl,{size:48,className:"mx-auto text-gray-400 mb-4"}),te?w.jsxs("div",{children:[w.jsx("p",{className:"font-bold text-green-600",children:te.name}),w.jsxs("p",{className:"text-sm text-gray-500",children:[(te.size/1024).toFixed(1)," KB"]})]}):w.jsxs("div",{children:[w.jsx("p",{className:"font-bold text-gray-700 dark:text-gray-300",children:"Clique ou arraste arquivo Excel"}),w.jsx("p",{className:"text-sm text-gray-500",children:"Suporta .xlsx ou .xls (Shopee)"})]})]})}),w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[w.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:" Valor Inicial da Sesso"}),w.jsx("input",{type:"number",value:ye,onChange:Ee=>j(Ee.target.value),placeholder:"Ex: 500.00",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),D?w.jsxs("div",{className:"space-y-3",children:[w.jsxs("button",{onClick:le,disabled:Le||!te,className:"w-full bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:[w.jsx(tl,{size:20}),Le?"Importando...":"Importar Mais um Romaneio"]}),w.jsx("button",{onClick:Gt,disabled:Le,className:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white font-bold py-3 rounded-lg transition-colors",children:Le?"Gerando...":" Gerar Relatrio Completo"})]}):w.jsxs("button",{onClick:Qe,disabled:Le||!te||!ye,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:[w.jsx(tl,{size:20}),Le?"Importando...":"Importar Romaneio"]}),ae&&w.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-xl p-4",children:[w.jsx("p",{className:"font-bold text-green-900 dark:text-green-300",children:" Sesso Anlise Gerada!"}),w.jsx("p",{className:"text-sm text-green-800 dark:text-green-400",children:"Prximo: Otimizar e distribuir entregadores"})]}),D&&w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[w.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:" Quantos Entregadores?"}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("input",{type:"number",min:"1",max:"10",value:ee,onChange:Ee=>$(Ee.target.value),className:"flex-1 p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),w.jsx("button",{onClick:dt,disabled:Le||!D,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-bold px-6 py-3 rounded-lg transition-colors",children:Le?"...":" Otimizar"})]})]}),Se.length>0&&w.jsxs("div",{className:"space-y-3",children:[w.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Atribua Entregadores"}),Se.map((Ee,Ne)=>w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[w.jsxs("p",{className:"font-bold text-gray-900 dark:text-white mb-3",children:["Rota ",Ne+1,": ",Ee.stops," paradas, ",Ee.packages," pacotes"]}),w.jsxs("select",{value:ge[Ee.route_id]||"",onChange:ze=>Br(Ee.route_id,ze.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[w.jsx("option",{value:"",children:"-- Selecione Entregador --"}),ne.map(ze=>w.jsx("option",{value:ze.id,children:ze.name},ze.id))]})]},Ee.route_id)),w.jsx("button",{onClick:wr,disabled:!Vt||Le,className:`w-full ${Vt?"bg-green-600 hover:bg-green-700":"bg-gray-400"} text-white font-bold py-3 rounded-lg transition-colors`,children:Le?"Enviando...":" Iniciar Rotas"})]})]})]})}var Ae;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ae||(Ae={}));var wf=new Map([[Ae.QR_CODE,"QR_CODE"],[Ae.AZTEC,"AZTEC"],[Ae.CODABAR,"CODABAR"],[Ae.CODE_39,"CODE_39"],[Ae.CODE_93,"CODE_93"],[Ae.CODE_128,"CODE_128"],[Ae.DATA_MATRIX,"DATA_MATRIX"],[Ae.MAXICODE,"MAXICODE"],[Ae.ITF,"ITF"],[Ae.EAN_13,"EAN_13"],[Ae.EAN_8,"EAN_8"],[Ae.PDF_417,"PDF_417"],[Ae.RSS_14,"RSS_14"],[Ae.RSS_EXPANDED,"RSS_EXPANDED"],[Ae.UPC_A,"UPC_A"],[Ae.UPC_E,"UPC_E"],[Ae.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),vf;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(vf||(vf={}));function Vx(e){return Object.values(Ae).includes(e)}var Ki;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ki||(Ki={}));var kr=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Ki.SCAN_TYPE_CAMERA,Ki.SCAN_TYPE_FILE],e}(),og=function(){function e(n,s){this.format=n,this.formatName=s}return e.prototype.toString=function(){return this.formatName},e.create=function(n){if(!wf.has(n))throw"".concat(n," not in html5QrcodeSupportedFormatsTextMap");return new e(n,wf.get(n))},e}(),Cf=function(){function e(){}return e.createFromText=function(n){var s={text:n};return{decodedText:n,result:s}},e.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},e}(),Yc;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Yc||(Yc={}));var ag=function(){function e(){}return e.createFrom=function(n){return{errorMessage:n,type:Yc.UNKWOWN_ERROR}},e}(),lg=function(){function e(n){this.verbose=n}return e.prototype.log=function(n){this.verbose&&console.log(n)},e.prototype.warn=function(n){this.verbose&&console.warn(n)},e.prototype.logError=function(n,s){(this.verbose||s===!0)&&console.error(n)},e.prototype.logErrors=function(n){if(n.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},e}();function Qr(e){return typeof e>"u"||e===null}function Zx(e,n,s){return e>s?s:e<n?n:e}var Xs=function(){function e(){}return e.codeParseError=function(n){return"QR code parse error, error = ".concat(n)},e.errorGettingUserMedia=function(n){return"Error getting userMedia, error = ".concat(n)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),pt=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(n){return"Last Match: ".concat(n)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),Ef=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),ug=function(){function e(){}return e.isMediaStreamConstraintsValid=function(n,s){if(typeof n!="object"){var c=typeof n;return s.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(c,"."),!0),!1}for(var d=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],g=new Set(d),_=Object.keys(n),A=0,S=_;A<S.length;A++){var v=S[A];if(g.has(v))return s.logError("".concat(v," is not supported videoConstaints."),!0),!1}return!0},e}(),Xc={exports:{}};(function(e,n){(function(s,c){c(n)})(Ds,function(s){function c(b){return b==null}var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,t){b.__proto__=t}||function(b,t){for(var r in t)t.hasOwnProperty(r)&&(b[r]=t[r])};function g(b,t){d(b,t);function r(){this.constructor=b}b.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function _(b,t){var r=Object.setPrototypeOf;r?r(b,t):b.__proto__=t}function A(b,t){t===void 0&&(t=b.constructor);var r=Error.captureStackTrace;r&&r(b,t)}var S=function(b){g(t,b);function t(r){var o=this.constructor,a=b.call(this,r)||this;return Object.defineProperty(a,"name",{value:o.name,enumerable:!1}),_(a,o.prototype),A(a),a}return t}(Error);class v extends S{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}v.kind="Exception";class O extends v{}O.kind="ArgumentException";class k extends v{}k.kind="IllegalArgumentException";class U{constructor(t){if(this.binarizer=t,t===null)throw new k("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,r){return this.binarizer.getBlackRow(t,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,r,o,a){const l=this.binarizer.getLuminanceSource().crop(t,r,o,a);return new U(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new U(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new U(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class Y extends v{static getChecksumInstance(){return new Y}}Y.kind="ChecksumException";class te{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class H{static arraycopy(t,r,o,a,l){for(;l--;)o[a++]=t[r++]}static currentTimeMillis(){return Date.now()}}class ye extends v{}ye.kind="IndexOutOfBoundsException";class j extends ye{constructor(t=void 0,r=void 0){super(r),this.index=t,this.message=r}}j.kind="ArrayIndexOutOfBoundsException";class D{static fill(t,r){for(let o=0,a=t.length;o<a;o++)t[o]=r}static fillWithin(t,r,o,a){D.rangeCheck(t.length,r,o);for(let l=r;l<o;l++)t[l]=a}static rangeCheck(t,r,o){if(r>o)throw new k("fromIndex("+r+") > toIndex("+o+")");if(r<0)throw new j(r);if(o>t)throw new j(o)}static asList(...t){return t}static create(t,r,o){return Array.from({length:t}).map(l=>Array.from({length:r}).fill(o))}static createInt32Array(t,r,o){return Array.from({length:t}).map(l=>Int32Array.from({length:r}).fill(o))}static equals(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(let o=0,a=t.length;o<a;o++)if(t[o]!==r[o])return!1;return!0}static hashCode(t){if(t===null)return 0;let r=1;for(const o of t)r=31*r+o;return r}static fillUint8Array(t,r){for(let o=0;o!==t.length;o++)t[o]=r}static copyOf(t,r){return t.slice(0,r)}static copyOfUint8Array(t,r){if(t.length<=r){const o=new Uint8Array(r);return o.set(t),o}return t.slice(0,r)}static copyOfRange(t,r,o){const a=o-r,l=new Int32Array(a);return H.arraycopy(t,r,l,0,a),l}static binarySearch(t,r,o){o===void 0&&(o=D.numberComparator);let a=0,l=t.length-1;for(;a<=l;){const h=l+a>>1,f=o(r,t[h]);if(f>0)a=h+1;else if(f<0)l=h-1;else return h}return-a-1}static numberComparator(t,r){return t-r}}class P{static numberOfTrailingZeros(t){let r;if(t===0)return 32;let o=31;return r=t<<16,r!==0&&(o-=16,t=r),r=t<<8,r!==0&&(o-=8,t=r),r=t<<4,r!==0&&(o-=4,t=r),r=t<<2,r!==0&&(o-=2,t=r),o-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,r){return Math.trunc(t/r)}static parseInt(t,r=void 0){return parseInt(t,r)}}P.MIN_VALUE_32_BITS=-2147483648,P.MAX_VALUE=Number.MAX_SAFE_INTEGER;class J{constructor(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=J.makeArray(t):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const r=J.makeArray(t);H.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const r=this.size;if(t>=r)return r;const o=this.bits;let a=Math.floor(t/32),l=o[a];l&=~((1<<(t&31))-1);const h=o.length;for(;l===0;){if(++a===h)return r;l=o[a]}const f=a*32+P.numberOfTrailingZeros(l);return f>r?r:f}getNextUnset(t){const r=this.size;if(t>=r)return r;const o=this.bits;let a=Math.floor(t/32),l=~o[a];l&=~((1<<(t&31))-1);const h=o.length;for(;l===0;){if(++a===h)return r;l=~o[a]}const f=a*32+P.numberOfTrailingZeros(l);return f>r?r:f}setBulk(t,r){this.bits[Math.floor(t/32)]=r}setRange(t,r){if(r<t||t<0||r>this.size)throw new k;if(r===t)return;r--;const o=Math.floor(t/32),a=Math.floor(r/32),l=this.bits;for(let h=o;h<=a;h++){const f=h>o?0:t&31,x=(2<<(h<a?31:r&31))-(1<<f);l[h]|=x}}clear(){const t=this.bits.length,r=this.bits;for(let o=0;o<t;o++)r[o]=0}isRange(t,r,o){if(r<t||t<0||r>this.size)throw new k;if(r===t)return!0;r--;const a=Math.floor(t/32),l=Math.floor(r/32),h=this.bits;for(let f=a;f<=l;f++){const m=f>a?0:t&31,C=(2<<(f<l?31:r&31))-(1<<m)&4294967295;if((h[f]&C)!==(o?C:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,r){if(r<0||r>32)throw new k("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let o=r;o>0;o--)this.appendBit((t>>o-1&1)===1)}appendBitArray(t){const r=t.size;this.ensureCapacity(this.size+r);for(let o=0;o<r;o++)this.appendBit(t.get(o))}xor(t){if(this.size!==t.size)throw new k("Sizes don't match");const r=this.bits;for(let o=0,a=r.length;o<a;o++)r[o]^=t.bits[o]}toBytes(t,r,o,a){for(let l=0;l<a;l++){let h=0;for(let f=0;f<8;f++)this.get(t)&&(h|=1<<7-f),t++;r[o+l]=h}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),o=r+1,a=this.bits;for(let l=0;l<o;l++){let h=a[l];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,t[r-l]=h}if(this.size!==o*32){const l=o*32-this.size;let h=t[0]>>>l;for(let f=1;f<o;f++){const m=t[f];h|=m<<32-l,t[f-1]=h,h=m>>>l}t[o-1]=h}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof J))return!1;const r=t;return this.size===r.size&&D.equals(this.bits,r.bits)}hashCode(){return 31*this.size+D.hashCode(this.bits)}toString(){let t="";for(let r=0,o=this.size;r<o;r++)r&7||(t+=" "),t+=this.get(r)?"X":".";return t}clone(){return new J(this.size,this.bits.slice())}}var fe;(function(b){b[b.OTHER=0]="OTHER",b[b.PURE_BARCODE=1]="PURE_BARCODE",b[b.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",b[b.TRY_HARDER=3]="TRY_HARDER",b[b.CHARACTER_SET=4]="CHARACTER_SET",b[b.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",b[b.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",b[b.ASSUME_GS1=7]="ASSUME_GS1",b[b.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",b[b.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",b[b.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(fe||(fe={}));var ae=fe;class V extends v{static getFormatInstance(){return new V}}V.kind="FormatException";var ee;(function(b){b[b.Cp437=0]="Cp437",b[b.ISO8859_1=1]="ISO8859_1",b[b.ISO8859_2=2]="ISO8859_2",b[b.ISO8859_3=3]="ISO8859_3",b[b.ISO8859_4=4]="ISO8859_4",b[b.ISO8859_5=5]="ISO8859_5",b[b.ISO8859_6=6]="ISO8859_6",b[b.ISO8859_7=7]="ISO8859_7",b[b.ISO8859_8=8]="ISO8859_8",b[b.ISO8859_9=9]="ISO8859_9",b[b.ISO8859_10=10]="ISO8859_10",b[b.ISO8859_11=11]="ISO8859_11",b[b.ISO8859_13=12]="ISO8859_13",b[b.ISO8859_14=13]="ISO8859_14",b[b.ISO8859_15=14]="ISO8859_15",b[b.ISO8859_16=15]="ISO8859_16",b[b.SJIS=16]="SJIS",b[b.Cp1250=17]="Cp1250",b[b.Cp1251=18]="Cp1251",b[b.Cp1252=19]="Cp1252",b[b.Cp1256=20]="Cp1256",b[b.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",b[b.UTF8=22]="UTF8",b[b.ASCII=23]="ASCII",b[b.Big5=24]="Big5",b[b.GB18030=25]="GB18030",b[b.EUC_KR=26]="EUC_KR"})(ee||(ee={}));class ${constructor(t,r,o,...a){this.valueIdentifier=t,this.name=o,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=a,$.VALUE_IDENTIFIER_TO_ECI.set(t,this),$.NAME_TO_ECI.set(o,this);const l=this.values;for(let h=0,f=l.length;h!==f;h++){const m=l[h];$.VALUES_TO_ECI.set(m,this)}for(const h of a)$.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new V("incorect value");const r=$.VALUES_TO_ECI.get(t);if(r===void 0)throw new V("incorect value");return r}static getCharacterSetECIByName(t){const r=$.NAME_TO_ECI.get(t);if(r===void 0)throw new V("incorect value");return r}equals(t){if(!(t instanceof $))return!1;const r=t;return this.getName()===r.getName()}}$.VALUE_IDENTIFIER_TO_ECI=new Map,$.VALUES_TO_ECI=new Map,$.NAME_TO_ECI=new Map,$.Cp437=new $(ee.Cp437,Int32Array.from([0,2]),"Cp437"),$.ISO8859_1=new $(ee.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),$.ISO8859_2=new $(ee.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),$.ISO8859_3=new $(ee.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),$.ISO8859_4=new $(ee.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),$.ISO8859_5=new $(ee.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),$.ISO8859_6=new $(ee.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),$.ISO8859_7=new $(ee.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),$.ISO8859_8=new $(ee.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),$.ISO8859_9=new $(ee.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),$.ISO8859_10=new $(ee.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),$.ISO8859_11=new $(ee.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),$.ISO8859_13=new $(ee.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),$.ISO8859_14=new $(ee.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),$.ISO8859_15=new $(ee.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),$.ISO8859_16=new $(ee.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),$.SJIS=new $(ee.SJIS,20,"SJIS","Shift_JIS"),$.Cp1250=new $(ee.Cp1250,21,"Cp1250","windows-1250"),$.Cp1251=new $(ee.Cp1251,22,"Cp1251","windows-1251"),$.Cp1252=new $(ee.Cp1252,23,"Cp1252","windows-1252"),$.Cp1256=new $(ee.Cp1256,24,"Cp1256","windows-1256"),$.UnicodeBigUnmarked=new $(ee.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),$.UTF8=new $(ee.UTF8,26,"UTF8","UTF-8"),$.ASCII=new $(ee.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),$.Big5=new $(ee.Big5,28,"Big5"),$.GB18030=new $(ee.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),$.EUC_KR=new $(ee.EUC_KR,30,"EUC_KR","EUC-KR");class Se extends v{}Se.kind="UnsupportedOperationException";class Re{static decode(t,r){const o=this.encodingName(r);return this.customDecoder?this.customDecoder(t,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(t,o):new TextDecoder(o).decode(t)}static shouldDecodeOnFallback(t){return!Re.isBrowser()&&t==="ISO-8859-1"}static encode(t,r){const o=this.encodingName(r);return this.customEncoder?this.customEncoder(t,o):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof $?t:$.getCharacterSetECIByName(t)}static decodeFallback(t,r){const o=this.encodingCharacterSet(r);if(Re.isDecodeFallbackSupported(o)){let a="";for(let l=0,h=t.length;l<h;l++){let f=t[l].toString(16);f.length<2&&(f="0"+f),a+="%"+f}return decodeURIComponent(a)}if(o.equals($.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new Se(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals($.UTF8)||t.equals($.ISO8859_1)||t.equals($.ASCII)}static encodeFallback(t){const o=btoa(unescape(encodeURIComponent(t))).split(""),a=[];for(let l=0;l<o.length;l++)a.push(o[l].charCodeAt(0));return new Uint8Array(a)}}class ge{static castAsNonUtf8Char(t,r=null){const o=r?r.getName():this.ISO88591;return Re.decode(new Uint8Array([t]),o)}static guessEncoding(t,r){if(r!=null&&r.get(ae.CHARACTER_SET)!==void 0)return r.get(ae.CHARACTER_SET).toString();const o=t.length;let a=!0,l=!0,h=!0,f=0,m=0,x=0,C=0,I=0,T=0,R=0,F=0,z=0,Z=0,X=0;const ue=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let ce=0;ce<o&&(a||l||h);ce++){const se=t[ce]&255;h&&(f>0?se&128?f--:h=!1:se&128&&(se&64?(f++,se&32?(f++,se&16?(f++,se&8?h=!1:C++):x++):m++):h=!1)),a&&(se>127&&se<160?a=!1:se>159&&(se<192||se===215||se===247)&&X++),l&&(I>0?se<64||se===127||se>252?l=!1:I--:se===128||se===160||se>239?l=!1:se>160&&se<224?(T++,F=0,R++,R>z&&(z=R)):se>127?(I++,R=0,F++,F>Z&&(Z=F)):(R=0,F=0))}return h&&f>0&&(h=!1),l&&I>0&&(l=!1),h&&(ue||m+x+C>0)?ge.UTF8:l&&(ge.ASSUME_SHIFT_JIS||z>=3||Z>=3)?ge.SHIFT_JIS:a&&l?z===2&&T===2||X*10>=o?ge.SHIFT_JIS:ge.ISO88591:a?ge.ISO88591:l?ge.SHIFT_JIS:h?ge.UTF8:ge.PLATFORM_DEFAULT_ENCODING}static format(t,...r){let o=-1;function a(h,f,m,x,C,I){if(h==="%%")return"%";if(r[++o]===void 0)return;h=x?parseInt(x.substr(1)):void 0;let T=C?parseInt(C.substr(1)):void 0,R;switch(I){case"s":R=r[o];break;case"c":R=r[o][0];break;case"f":R=parseFloat(r[o]).toFixed(h);break;case"p":R=parseFloat(r[o]).toPrecision(h);break;case"e":R=parseFloat(r[o]).toExponential(h);break;case"x":R=parseInt(r[o]).toString(T||16);break;case"d":R=parseFloat(parseInt(r[o],T||10).toPrecision(h)).toFixed(0);break}R=typeof R=="object"?JSON.stringify(R):(+R).toString(T);let F=parseInt(m),z=m&&m[0]+""=="0"?"0":" ";for(;R.length<F;)R=f!==void 0?R+z:z+R;return R}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,a)}static getBytes(t,r){return Re.encode(t,r)}static getCharCode(t,r=0){return t.charCodeAt(r)}static getCharAt(t){return String.fromCharCode(t)}}ge.SHIFT_JIS=$.SJIS.getName(),ge.GB2312="GB2312",ge.ISO88591=$.ISO8859_1.getName(),ge.EUC_JP="EUC_JP",ge.UTF8=$.UTF8.getName(),ge.PLATFORM_DEFAULT_ENCODING=ge.UTF8,ge.ASSUME_SHIFT_JIS=!1;class Ze{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=ge.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,r,o){for(let a=r;r<r+o;a++)this.append(t[a]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)}substring(t,r){return this.value.substring(t,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+r.length)}}class Le{constructor(t,r,o,a){if(this.width=t,this.height=r,this.rowSize=o,this.bits=a,r==null&&(r=t),this.height=r,t<1||r<1)throw new k("Both dimensions must be greater than 0");o==null&&(o=Math.floor((t+31)/32)),this.rowSize=o,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const r=t.length,o=t[0].length,a=new Le(o,r);for(let l=0;l<r;l++){const h=t[l];for(let f=0;f<o;f++)h[f]&&a.set(f,l)}return a}static parseFromString(t,r,o){if(t===null)throw new k("stringRepresentation cannot be null");const a=new Array(t.length);let l=0,h=0,f=-1,m=0,x=0;for(;x<t.length;)if(t.charAt(x)===`
`||t.charAt(x)==="\r"){if(l>h){if(f===-1)f=l-h;else if(l-h!==f)throw new k("row lengths do not match");h=l,m++}x++}else if(t.substring(x,x+r.length)===r)x+=r.length,a[l]=!0,l++;else if(t.substring(x,x+o.length)===o)x+=o.length,a[l]=!1,l++;else throw new k("illegal character encountered: "+t.substring(x));if(l>h){if(f===-1)f=l-h;else if(l-h!==f)throw new k("row lengths do not match");m++}const C=new Le(f,m);for(let I=0;I<l;I++)a[I]&&C.set(Math.floor(I%f),Math.floor(I/f));return C}get(t,r){const o=r*this.rowSize+Math.floor(t/32);return(this.bits[o]>>>(t&31)&1)!==0}set(t,r){const o=r*this.rowSize+Math.floor(t/32);this.bits[o]|=1<<(t&31)&4294967295}unset(t,r){const o=r*this.rowSize+Math.floor(t/32);this.bits[o]&=~(1<<(t&31)&4294967295)}flip(t,r){const o=r*this.rowSize+Math.floor(t/32);this.bits[o]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new k("input matrix dimensions do not match");const r=new J(Math.floor(this.width/32)+1),o=this.rowSize,a=this.bits;for(let l=0,h=this.height;l<h;l++){const f=l*o,m=t.getRow(l,r).getBitArray();for(let x=0;x<o;x++)a[f+x]^=m[x]}}clear(){const t=this.bits,r=t.length;for(let o=0;o<r;o++)t[o]=0}setRegion(t,r,o,a){if(r<0||t<0)throw new k("Left and top must be nonnegative");if(a<1||o<1)throw new k("Height and width must be at least 1");const l=t+o,h=r+a;if(h>this.height||l>this.width)throw new k("The region must fit inside the matrix");const f=this.rowSize,m=this.bits;for(let x=r;x<h;x++){const C=x*f;for(let I=t;I<l;I++)m[C+Math.floor(I/32)]|=1<<(I&31)&4294967295}}getRow(t,r){r==null||r.getSize()<this.width?r=new J(this.width):r.clear();const o=this.rowSize,a=this.bits,l=t*o;for(let h=0;h<o;h++)r.setBulk(h*32,a[l+h]);return r}setRow(t,r){H.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),r=this.getHeight();let o=new J(t),a=new J(t);for(let l=0,h=Math.floor((r+1)/2);l<h;l++)o=this.getRow(l,o),a=this.getRow(r-1-l,a),o.reverse(),a.reverse(),this.setRow(l,a),this.setRow(r-1-l,o)}getEnclosingRectangle(){const t=this.width,r=this.height,o=this.rowSize,a=this.bits;let l=t,h=r,f=-1,m=-1;for(let x=0;x<r;x++)for(let C=0;C<o;C++){const I=a[x*o+C];if(I!==0){if(x<h&&(h=x),x>m&&(m=x),C*32<l){let T=0;for(;!(I<<31-T&4294967295);)T++;C*32+T<l&&(l=C*32+T)}if(C*32+31>f){let T=31;for(;!(I>>>T);)T--;C*32+T>f&&(f=C*32+T)}}}return f<l||m<h?null:Int32Array.from([l,h,f-l+1,m-h+1])}getTopLeftOnBit(){const t=this.rowSize,r=this.bits;let o=0;for(;o<r.length&&r[o]===0;)o++;if(o===r.length)return null;const a=o/t;let l=o%t*32;const h=r[o];let f=0;for(;!(h<<31-f&4294967295);)f++;return l+=f,Int32Array.from([l,a])}getBottomRightOnBit(){const t=this.rowSize,r=this.bits;let o=r.length-1;for(;o>=0&&r[o]===0;)o--;if(o<0)return null;const a=Math.floor(o/t);let l=Math.floor(o%t)*32;const h=r[o];let f=31;for(;!(h>>>f);)f--;return l+=f,Int32Array.from([l,a])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof Le))return!1;const r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&D.equals(this.bits,r.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+D.hashCode(this.bits),t}toString(t="X ",r="  ",o=`
`){return this.buildToString(t,r,o)}buildToString(t,r,o){let a=new Ze;for(let l=0,h=this.height;l<h;l++){for(let f=0,m=this.width;f<m;f++)a.append(this.get(f,l)?t:r);a.append(o)}return a.toString()}clone(){return new Le(this.width,this.height,this.rowSize,this.bits.slice())}}class q extends v{static getNotFoundInstance(){return new q}}q.kind="NotFoundException";class Ge extends te{constructor(t){super(t),this.luminances=Ge.EMPTY,this.buckets=new Int32Array(Ge.LUMINANCE_BUCKETS)}getBlackRow(t,r){const o=this.getLuminanceSource(),a=o.getWidth();r==null||r.getSize()<a?r=new J(a):r.clear(),this.initArrays(a);const l=o.getRow(t,this.luminances),h=this.buckets;for(let m=0;m<a;m++)h[(l[m]&255)>>Ge.LUMINANCE_SHIFT]++;const f=Ge.estimateBlackPoint(h);if(a<3)for(let m=0;m<a;m++)(l[m]&255)<f&&r.set(m);else{let m=l[0]&255,x=l[1]&255;for(let C=1;C<a-1;C++){const I=l[C+1]&255;(x*4-m-I)/2<f&&r.set(C),m=x,x=I}}return r}getBlackMatrix(){const t=this.getLuminanceSource(),r=t.getWidth(),o=t.getHeight(),a=new Le(r,o);this.initArrays(r);const l=this.buckets;for(let m=1;m<5;m++){const x=Math.floor(o*m/5),C=t.getRow(x,this.luminances),I=Math.floor(r*4/5);for(let T=Math.floor(r/5);T<I;T++){const R=C[T]&255;l[R>>Ge.LUMINANCE_SHIFT]++}}const h=Ge.estimateBlackPoint(l),f=t.getMatrix();for(let m=0;m<o;m++){const x=m*r;for(let C=0;C<r;C++)(f[x+C]&255)<h&&a.set(C,m)}return a}createBinarizer(t){return new Ge(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const r=this.buckets;for(let o=0;o<Ge.LUMINANCE_BUCKETS;o++)r[o]=0}static estimateBlackPoint(t){const r=t.length;let o=0,a=0,l=0;for(let C=0;C<r;C++)t[C]>l&&(a=C,l=t[C]),t[C]>o&&(o=t[C]);let h=0,f=0;for(let C=0;C<r;C++){const I=C-a,T=t[C]*I*I;T>f&&(h=C,f=T)}if(a>h){const C=a;a=h,h=C}if(h-a<=r/16)throw new q;let m=h-1,x=-1;for(let C=h-1;C>a;C--){const I=C-a,T=I*I*(h-C)*(o-t[C]);T>x&&(m=C,x=T)}return m<<Ge.LUMINANCE_SHIFT}}Ge.LUMINANCE_BITS=5,Ge.LUMINANCE_SHIFT=8-Ge.LUMINANCE_BITS,Ge.LUMINANCE_BUCKETS=1<<Ge.LUMINANCE_BITS,Ge.EMPTY=Uint8ClampedArray.from([0]);class _e extends Ge{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),r=t.getWidth(),o=t.getHeight();if(r>=_e.MINIMUM_DIMENSION&&o>=_e.MINIMUM_DIMENSION){const a=t.getMatrix();let l=r>>_e.BLOCK_SIZE_POWER;r&_e.BLOCK_SIZE_MASK&&l++;let h=o>>_e.BLOCK_SIZE_POWER;o&_e.BLOCK_SIZE_MASK&&h++;const f=_e.calculateBlackPoints(a,l,h,r,o),m=new Le(r,o);_e.calculateThresholdForBlock(a,l,h,r,o,f,m),this.matrix=m}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new _e(t)}static calculateThresholdForBlock(t,r,o,a,l,h,f){const m=l-_e.BLOCK_SIZE,x=a-_e.BLOCK_SIZE;for(let C=0;C<o;C++){let I=C<<_e.BLOCK_SIZE_POWER;I>m&&(I=m);const T=_e.cap(C,2,o-3);for(let R=0;R<r;R++){let F=R<<_e.BLOCK_SIZE_POWER;F>x&&(F=x);const z=_e.cap(R,2,r-3);let Z=0;for(let ue=-2;ue<=2;ue++){const ce=h[T+ue];Z+=ce[z-2]+ce[z-1]+ce[z]+ce[z+1]+ce[z+2]}const X=Z/25;_e.thresholdBlock(t,F,I,X,a,f)}}}static cap(t,r,o){return t<r?r:t>o?o:t}static thresholdBlock(t,r,o,a,l,h){for(let f=0,m=o*l+r;f<_e.BLOCK_SIZE;f++,m+=l)for(let x=0;x<_e.BLOCK_SIZE;x++)(t[m+x]&255)<=a&&h.set(r+x,o+f)}static calculateBlackPoints(t,r,o,a,l){const h=l-_e.BLOCK_SIZE,f=a-_e.BLOCK_SIZE,m=new Array(o);for(let x=0;x<o;x++){m[x]=new Int32Array(r);let C=x<<_e.BLOCK_SIZE_POWER;C>h&&(C=h);for(let I=0;I<r;I++){let T=I<<_e.BLOCK_SIZE_POWER;T>f&&(T=f);let R=0,F=255,z=0;for(let X=0,ue=C*a+T;X<_e.BLOCK_SIZE;X++,ue+=a){for(let ce=0;ce<_e.BLOCK_SIZE;ce++){const se=t[ue+ce]&255;R+=se,se<F&&(F=se),se>z&&(z=se)}if(z-F>_e.MIN_DYNAMIC_RANGE)for(X++,ue+=a;X<_e.BLOCK_SIZE;X++,ue+=a)for(let ce=0;ce<_e.BLOCK_SIZE;ce++)R+=t[ue+ce]&255}let Z=R>>_e.BLOCK_SIZE_POWER*2;if(z-F<=_e.MIN_DYNAMIC_RANGE&&(Z=F/2,x>0&&I>0)){const X=(m[x-1][I]+2*m[x][I-1]+m[x-1][I-1])/4;F<X&&(Z=X)}m[x][I]=Z}}return m}}_e.BLOCK_SIZE_POWER=3,_e.BLOCK_SIZE=1<<_e.BLOCK_SIZE_POWER,_e.BLOCK_SIZE_MASK=_e.BLOCK_SIZE-1,_e.MINIMUM_DIMENSION=_e.BLOCK_SIZE*5,_e.MIN_DYNAMIC_RANGE=24;class ne{constructor(t,r){this.width=t,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,r,o,a){throw new Se("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Se("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Se("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let r=new Ze;for(let o=0;o<this.height;o++){const a=this.getRow(o,t);for(let l=0;l<this.width;l++){const h=a[l]&255;let f;h<64?f="#":h<128?f="+":h<192?f=".":f=" ",r.append(f)}r.append(`
`)}return r.toString()}}class Oe extends ne{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,r){const o=this.delegate.getRow(t,r),a=this.getWidth();for(let l=0;l<a;l++)o[l]=255-(o[l]&255);return o}getMatrix(){const t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(r);for(let a=0;a<r;a++)o[a]=255-(t[a]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(t,r,o,a){return new Oe(this.delegate.crop(t,r,o,a))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Oe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Oe(this.delegate.rotateCounterClockwise45())}}class oe extends ne{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=oe.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const r=t.getContext("2d").getImageData(0,0,t.width,t.height);return oe.toGrayscaleBuffer(r.data,t.width,t.height)}static toGrayscaleBuffer(t,r,o){const a=new Uint8ClampedArray(r*o);for(let l=0,h=0,f=t.length;l<f;l+=4,h++){let m;if(t[l+3]===0)m=255;else{const C=t[l],I=t[l+1],T=t[l+2];m=306*C+601*I+117*T+512>>10}a[h]=m}return a}getRow(t,r){if(t<0||t>=this.getHeight())throw new k("Requested row is outside the image: "+t);const o=this.getWidth(),a=t*o;return r===null?r=this.buffer.slice(a,a+o):(r.length<o&&(r=new Uint8ClampedArray(o)),r.set(this.buffer.slice(a,a+o))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,r,o,a){return super.crop(t,r,o,a),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const r=this.getTempCanvasElement(),o=r.getContext("2d"),a=t*oe.DEGREE_TO_RADIANS,l=this.canvas.width,h=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(a))*l+Math.abs(Math.sin(a))*h),m=Math.ceil(Math.abs(Math.sin(a))*l+Math.abs(Math.cos(a))*h);return r.width=f,r.height=m,o.translate(f/2,m/2),o.rotate(a),o.drawImage(this.canvas,l/-2,h/-2),this.buffer=oe.makeBufferFromCanvasImageData(r),this}invert(){return new Oe(this)}}oe.DEGREE_TO_RADIANS=Math.PI/180;class Pe{constructor(t,r,o){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var De=(globalThis||Ds||self||window||void 0)&&(globalThis||Ds||self||window||void 0).__awaiter||function(b,t,r,o){function a(l){return l instanceof r?l:new r(function(h){h(l)})}return new(r||(r=Promise))(function(l,h){function f(C){try{x(o.next(C))}catch(I){h(I)}}function m(C){try{x(o.throw(C))}catch(I){h(I)}}function x(C){C.done?l(C.value):a(C.value).then(f,m)}x((o=o.apply(b,t||[])).next())})};class ht{constructor(t,r=500,o){this.reader=t,this.timeBetweenScansMillis=r,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return De(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const o of t){const a=o.kind==="video"?"videoinput":o.kind;if(a!=="videoinput")continue;const l=o.deviceId||o.id,h=o.label||`Video device ${r.length+1}`,f=o.groupId,m={deviceId:l,label:h,kind:a,groupId:f};r.push(m)}return r})}getVideoInputDevices(){return De(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new Pe(r.deviceId,r.label))})}findDeviceById(t){return De(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(o=>o.deviceId===t):null})}decodeFromInputVideoDevice(t,r){return De(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,r)})}decodeOnceFromVideoDevice(t,r){return De(this,void 0,void 0,function*(){this.reset();let o;t?o={deviceId:{exact:t}}:o={facingMode:"environment"};const a={video:o};return yield this.decodeOnceFromConstraints(a,r)})}decodeOnceFromConstraints(t,r){return De(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(o,r)})}decodeOnceFromStream(t,r){return De(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(t,r);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(t,r,o){return De(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,r,o)})}decodeFromVideoDevice(t,r,o){return De(this,void 0,void 0,function*(){let a;t?a={deviceId:{exact:t}}:a={facingMode:"environment"};const l={video:a};return yield this.decodeFromConstraints(l,r,o)})}decodeFromConstraints(t,r,o){return De(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(a,r,o)})}decodeFromStream(t,r,o){return De(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(t,r);return yield this.decodeContinuously(a,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,r){return De(this,void 0,void 0,function*(){const o=this.prepareVideoElement(r);return this.addVideoSource(o,t),this.videoElement=o,this.stream=t,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(t){return new Promise((r,o)=>this.playVideoOnLoad(t,()=>r()))}playVideoOnLoad(t,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return De(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,r){const o=document.getElementById(t);if(!o)throw new O(`element with id '${t}' not found`);if(o.nodeName.toLowerCase()!==r.toLowerCase())throw new O(`element with id '${t}' must be an ${r} element`);return o}decodeFromImage(t,r){if(!t&&!r)throw new O("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)}decodeFromVideo(t,r){if(!t&&!r)throw new O("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,r,o){if(t===void 0&&r===void 0)throw new O("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,o):this.decodeFromVideoElementContinuously(t,o)}decodeFromImageElement(t){if(!t)throw new O("An image element must be provided.");this.reset();const r=this.prepareImageElement(t);this.imageElement=r;let o;return this.isImageLoaded(r)?o=this.decodeOnce(r,!1,!0):o=this._decodeOnLoadImage(r),o}decodeFromVideoElement(t){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(t,r){const o=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(o,r)}_decodeFromVideoElementSetup(t){if(!t)throw new O("A video element must be provided.");this.reset();const r=this.prepareVideoElement(t);return this.videoElement=r,r}decodeFromImageUrl(t){if(!t)throw new O("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const o=this._decodeOnLoadImage(r);return r.src=t,o}decodeFromVideoUrl(t){if(!t)throw new O("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),o=this.decodeFromVideoElement(r);return r.src=t,o}decodeFromVideoUrlContinuously(t,r){if(!t)throw new O("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(o,r);return o.src=t,a}_decodeOnLoadImage(t){return new Promise((r,o)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(r,o),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return De(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,r){return De(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,r)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r}prepareVideoElement(t){let r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(t,r=!0,o=!0){this._stopAsyncDecode=!1;const a=(l,h)=>{if(this._stopAsyncDecode){h(new q("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(t);l(f)}catch(f){const m=r&&f instanceof q,C=(f instanceof Y||f instanceof V)&&o;if(m||C)return setTimeout(a,this._timeBetweenDecodingAttempts,l,h);h(f)}};return new Promise((l,h)=>a(l,h))}decodeContinuously(t,r){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const a=this.decode(t);r(a,null),setTimeout(o,this.timeBetweenScansMillis)}catch(a){r(null,a);const l=a instanceof Y||a instanceof V,h=a instanceof q;(l||h)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(t){const r=this.createBinaryBitmap(t);return this.decodeBitmap(r)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,r,o){r||(r={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(t,r,o=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const r=this.getCaptureCanvas(t),o=new oe(r),a=new _e(o);return new U(a)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let o,a;return typeof t<"u"&&(t instanceof HTMLVideoElement?(o=t.videoWidth,a=t.videoHeight):t instanceof HTMLImageElement&&(o=t.naturalWidth||t.width,a=t.naturalHeight||t.height)),r.style.width=o+"px",r.style.height=a+"px",r.width=o,r.height=a,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class je{constructor(t,r,o=r==null?0:8*r.length,a,l,h=H.currentTimeMillis()){this.text=t,this.rawBytes=r,this.numBits=o,this.resultPoints=a,this.format=l,this.timestamp=h,this.text=t,this.rawBytes=r,o==null?this.numBits=r==null?0:8*r.length:this.numBits=o,this.resultPoints=a,this.format=l,this.resultMetadata=null,h==null?this.timestamp=H.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){const o=new Array(r.length+t.length);H.arraycopy(r,0,o,0,r.length),H.arraycopy(t,0,o,r.length,t.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Qe;(function(b){b[b.AZTEC=0]="AZTEC",b[b.CODABAR=1]="CODABAR",b[b.CODE_39=2]="CODE_39",b[b.CODE_93=3]="CODE_93",b[b.CODE_128=4]="CODE_128",b[b.DATA_MATRIX=5]="DATA_MATRIX",b[b.EAN_8=6]="EAN_8",b[b.EAN_13=7]="EAN_13",b[b.ITF=8]="ITF",b[b.MAXICODE=9]="MAXICODE",b[b.PDF_417=10]="PDF_417",b[b.QR_CODE=11]="QR_CODE",b[b.RSS_14=12]="RSS_14",b[b.RSS_EXPANDED=13]="RSS_EXPANDED",b[b.UPC_A=14]="UPC_A",b[b.UPC_E=15]="UPC_E",b[b.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Qe||(Qe={}));var le=Qe,Gt;(function(b){b[b.OTHER=0]="OTHER",b[b.ORIENTATION=1]="ORIENTATION",b[b.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",b[b.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",b[b.ISSUE_NUMBER=4]="ISSUE_NUMBER",b[b.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",b[b.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",b[b.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",b[b.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",b[b.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",b[b.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Gt||(Gt={}));var dt=Gt;class Br{constructor(t,r,o,a,l=-1,h=-1){this.rawBytes=t,this.text=r,this.byteSegments=o,this.ecLevel=a,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=h,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class wr{exp(t){return this.expTable[t]}log(t){if(t===0)throw new k;return this.logTable[t]}static addOrSubtract(t,r){return t^r}}class Vt{constructor(t,r){if(r.length===0)throw new k;this.field=t;const o=r.length;if(o>1&&r[0]===0){let a=1;for(;a<o&&r[a]===0;)a++;a===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-a),H.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const r=this.coefficients;let o;if(t===1){o=0;for(let h=0,f=r.length;h!==f;h++){const m=r[h];o=wr.addOrSubtract(o,m)}return o}o=r[0];const a=r.length,l=this.field;for(let h=1;h<a;h++)o=wr.addOrSubtract(l.multiply(t,o),r[h]);return o}addOrSubtract(t){if(!this.field.equals(t.field))throw new k("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,o=t.coefficients;if(r.length>o.length){const h=r;r=o,o=h}let a=new Int32Array(o.length);const l=o.length-r.length;H.arraycopy(o,0,a,0,l);for(let h=l;h<o.length;h++)a[h]=wr.addOrSubtract(r[h-l],o[h]);return new Vt(this.field,a)}multiply(t){if(!this.field.equals(t.field))throw new k("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const r=this.coefficients,o=r.length,a=t.coefficients,l=a.length,h=new Int32Array(o+l-1),f=this.field;for(let m=0;m<o;m++){const x=r[m];for(let C=0;C<l;C++)h[m+C]=wr.addOrSubtract(h[m+C],f.multiply(x,a[C]))}return new Vt(f,h)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const r=this.coefficients.length,o=this.field,a=new Int32Array(r),l=this.coefficients;for(let h=0;h<r;h++)a[h]=o.multiply(l[h],t);return new Vt(o,a)}multiplyByMonomial(t,r){if(t<0)throw new k;if(r===0)return this.field.getZero();const o=this.coefficients,a=o.length,l=new Int32Array(a+t),h=this.field;for(let f=0;f<a;f++)l[f]=h.multiply(o[f],r);return new Vt(h,l)}divide(t){if(!this.field.equals(t.field))throw new k("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new k("Divide by 0");const r=this.field;let o=r.getZero(),a=this;const l=t.getCoefficient(t.getDegree()),h=r.inverse(l);for(;a.getDegree()>=t.getDegree()&&!a.isZero();){const f=a.getDegree()-t.getDegree(),m=r.multiply(a.getCoefficient(a.getDegree()),h),x=t.multiplyByMonomial(f,m),C=r.buildMonomial(f,m);o=o.addOrSubtract(C),a=a.addOrSubtract(x)}return[o,a]}toString(){let t="";for(let r=this.getDegree();r>=0;r--){let o=this.getCoefficient(r);if(o!==0){if(o<0?(t+=" - ",o=-o):t.length>0&&(t+=" + "),r===0||o!==1){const a=this.field.log(o);a===0?t+="1":a===1?t+="a":(t+="a^",t+=a)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t}}class Wn extends v{}Wn.kind="ArithmeticException";class Ke extends wr{constructor(t,r,o){super(),this.primitive=t,this.size=r,this.generatorBase=o;const a=new Int32Array(r);let l=1;for(let f=0;f<r;f++)a[f]=l,l*=2,l>=r&&(l^=t,l&=r-1);this.expTable=a;const h=new Int32Array(r);for(let f=0;f<r-1;f++)h[a[f]]=f;this.logTable=h,this.zero=new Vt(this,Int32Array.from([0])),this.one=new Vt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new k;if(r===0)return this.zero;const o=new Int32Array(t+1);return o[0]=r,new Vt(this,o)}inverse(t){if(t===0)throw new Wn;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+P.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}Ke.AZTEC_DATA_12=new Ke(4201,4096,1),Ke.AZTEC_DATA_10=new Ke(1033,1024,1),Ke.AZTEC_DATA_6=new Ke(67,64,1),Ke.AZTEC_PARAM=new Ke(19,16,1),Ke.QR_CODE_FIELD_256=new Ke(285,256,0),Ke.DATA_MATRIX_FIELD_256=new Ke(301,256,1),Ke.AZTEC_DATA_8=Ke.DATA_MATRIX_FIELD_256,Ke.MAXICODE_FIELD_64=Ke.AZTEC_DATA_6;class vr extends v{}vr.kind="ReedSolomonException";class yn extends v{}yn.kind="IllegalStateException";class Cr{constructor(t){this.field=t}decode(t,r){const o=this.field,a=new Vt(o,t),l=new Int32Array(r);let h=!0;for(let R=0;R<r;R++){const F=a.evaluateAt(o.exp(R+o.getGeneratorBase()));l[l.length-1-R]=F,F!==0&&(h=!1)}if(h)return;const f=new Vt(o,l),m=this.runEuclideanAlgorithm(o.buildMonomial(r,1),f,r),x=m[0],C=m[1],I=this.findErrorLocations(x),T=this.findErrorMagnitudes(C,I);for(let R=0;R<I.length;R++){const F=t.length-1-o.log(I[R]);if(F<0)throw new vr("Bad error location");t[F]=Ke.addOrSubtract(t[F],T[R])}}runEuclideanAlgorithm(t,r,o){if(t.getDegree()<r.getDegree()){const R=t;t=r,r=R}const a=this.field;let l=t,h=r,f=a.getZero(),m=a.getOne();for(;h.getDegree()>=(o/2|0);){let R=l,F=f;if(l=h,f=m,l.isZero())throw new vr("r_{i-1} was zero");h=R;let z=a.getZero();const Z=l.getCoefficient(l.getDegree()),X=a.inverse(Z);for(;h.getDegree()>=l.getDegree()&&!h.isZero();){const ue=h.getDegree()-l.getDegree(),ce=a.multiply(h.getCoefficient(h.getDegree()),X);z=z.addOrSubtract(a.buildMonomial(ue,ce)),h=h.addOrSubtract(l.multiplyByMonomial(ue,ce))}if(m=z.multiply(f).addOrSubtract(F),h.getDegree()>=l.getDegree())throw new yn("Division algorithm failed to reduce polynomial?")}const x=m.getCoefficient(0);if(x===0)throw new vr("sigmaTilde(0) was zero");const C=a.inverse(x),I=m.multiplyScalar(C),T=h.multiplyScalar(C);return[I,T]}findErrorLocations(t){const r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);const o=new Int32Array(r);let a=0;const l=this.field;for(let h=1;h<l.getSize()&&a<r;h++)t.evaluateAt(h)===0&&(o[a]=l.inverse(h),a++);if(a!==r)throw new vr("Error locator degree does not match number of roots");return o}findErrorMagnitudes(t,r){const o=r.length,a=new Int32Array(o),l=this.field;for(let h=0;h<o;h++){const f=l.inverse(r[h]);let m=1;for(let x=0;x<o;x++)if(h!==x){const C=l.multiply(r[x],f),I=C&1?C&-2:C|1;m=l.multiply(m,I)}a[h]=l.multiply(t.evaluateAt(f),l.inverse(m)),l.getGeneratorBase()!==0&&(a[h]=l.multiply(a[h],f))}return a}}var Ot;(function(b){b[b.UPPER=0]="UPPER",b[b.LOWER=1]="LOWER",b[b.MIXED=2]="MIXED",b[b.DIGIT=3]="DIGIT",b[b.PUNCT=4]="PUNCT",b[b.BINARY=5]="BINARY"})(Ot||(Ot={}));class rt{decode(t){this.ddata=t;let r=t.getBits(),o=this.extractBits(r),a=this.correctBits(o),l=rt.convertBoolArrayToByteArray(a),h=rt.getEncodedData(a),f=new Br(l,h,null,null);return f.setNumBits(a.length),f}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let r=t.length,o=Ot.UPPER,a=Ot.UPPER,l="",h=0;for(;h<r;)if(a===Ot.BINARY){if(r-h<5)break;let f=rt.readCode(t,h,5);if(h+=5,f===0){if(r-h<11)break;f=rt.readCode(t,h,11)+31,h+=11}for(let m=0;m<f;m++){if(r-h<8){h=r;break}const x=rt.readCode(t,h,8);l+=ge.castAsNonUtf8Char(x),h+=8}a=o}else{let f=a===Ot.DIGIT?4:5;if(r-h<f)break;let m=rt.readCode(t,h,f);h+=f;let x=rt.getCharacter(a,m);x.startsWith("CTRL_")?(o=a,a=rt.getTable(x.charAt(5)),x.charAt(6)==="L"&&(o=a)):(l+=x,a=o)}return l}static getTable(t){switch(t){case"L":return Ot.LOWER;case"P":return Ot.PUNCT;case"M":return Ot.MIXED;case"D":return Ot.DIGIT;case"B":return Ot.BINARY;case"U":default:return Ot.UPPER}}static getCharacter(t,r){switch(t){case Ot.UPPER:return rt.UPPER_TABLE[r];case Ot.LOWER:return rt.LOWER_TABLE[r];case Ot.MIXED:return rt.MIXED_TABLE[r];case Ot.PUNCT:return rt.PUNCT_TABLE[r];case Ot.DIGIT:return rt.DIGIT_TABLE[r];default:throw new yn("Bad table")}}correctBits(t){let r,o;this.ddata.getNbLayers()<=2?(o=6,r=Ke.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,r=Ke.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,r=Ke.AZTEC_DATA_10):(o=12,r=Ke.AZTEC_DATA_12);let a=this.ddata.getNbDatablocks(),l=t.length/o;if(l<a)throw new V;let h=t.length%o,f=new Int32Array(l);for(let T=0;T<l;T++,h+=o)f[T]=rt.readCode(t,h,o);try{new Cr(r).decode(f,l-a)}catch(T){throw new V(T)}let m=(1<<o)-1,x=0;for(let T=0;T<a;T++){let R=f[T];if(R===0||R===m)throw new V;(R===1||R===m-1)&&x++}let C=new Array(a*o-x),I=0;for(let T=0;T<a;T++){let R=f[T];if(R===1||R===m-1)C.fill(R>1,I,I+o-1),I+=o-1;else for(let F=o-1;F>=0;--F)C[I++]=(R&1<<F)!==0}return C}extractBits(t){let r=this.ddata.isCompact(),o=this.ddata.getNbLayers(),a=(r?11:14)+o*4,l=new Int32Array(a),h=new Array(this.totalBitsInLayer(o,r));if(r)for(let f=0;f<l.length;f++)l[f]=f;else{let f=a+1+2*P.truncDivision(P.truncDivision(a,2)-1,15),m=a/2,x=P.truncDivision(f,2);for(let C=0;C<m;C++){let I=C+P.truncDivision(C,15);l[m-C-1]=x-I-1,l[m+C]=x+I+1}}for(let f=0,m=0;f<o;f++){let x=(o-f)*4+(r?9:12),C=f*2,I=a-1-C;for(let T=0;T<x;T++){let R=T*2;for(let F=0;F<2;F++)h[m+R+F]=t.get(l[C+F],l[C+T]),h[m+2*x+R+F]=t.get(l[C+T],l[I-F]),h[m+4*x+R+F]=t.get(l[I-F],l[I-T]),h[m+6*x+R+F]=t.get(l[I-T],l[C+F])}m+=x*8}return h}static readCode(t,r,o){let a=0;for(let l=r;l<r+o;l++)a<<=1,t[l]&&(a|=1);return a}static readByte(t,r){let o=t.length-r;return o>=8?rt.readCode(t,r,8):rt.readCode(t,r,o)<<8-o}static convertBoolArrayToByteArray(t){let r=new Uint8Array((t.length+7)/8);for(let o=0;o<r.length;o++)r[o]=rt.readByte(t,8*o);return r}totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}rt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],rt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],rt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],rt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],rt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class qe{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,r,o,a){const l=t-o,h=r-a;return Math.sqrt(l*l+h*h)}static sum(t){let r=0;for(let o=0,a=t.length;o!==a;o++){const l=t[o];r+=l}return r}}class Fr{static floatToIntBits(t){return t}}Fr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ce{constructor(t,r){this.x=t,this.y=r}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof Ce){const r=t;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*Fr.floatToIntBits(this.x)+Fr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const r=this.distance(t[0],t[1]),o=this.distance(t[1],t[2]),a=this.distance(t[0],t[2]);let l,h,f;if(o>=r&&o>=a?(h=t[0],l=t[1],f=t[2]):a>=o&&a>=r?(h=t[1],l=t[0],f=t[2]):(h=t[2],l=t[0],f=t[1]),this.crossProductZ(l,h,f)<0){const m=l;l=f,f=m}t[0]=l,t[1]=h,t[2]=f}static distance(t,r){return qe.distance(t.x,t.y,r.x,r.y)}static crossProductZ(t,r,o){const a=r.x,l=r.y;return(o.x-a)*(t.y-l)-(o.y-l)*(t.x-a)}}class jr{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class _i extends jr{constructor(t,r,o,a,l){super(t,r),this.compact=o,this.nbDatablocks=a,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Bn{constructor(t,r,o,a){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=Bn.INIT_SIZE),o==null&&(o=t.getWidth()/2|0),a==null&&(a=t.getHeight()/2|0);const l=r/2|0;if(this.leftInit=o-l,this.rightInit=o+l,this.upInit=a-l,this.downInit=a+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new q}detect(){let t=this.leftInit,r=this.rightInit,o=this.upInit,a=this.downInit,l=!1,h=!0,f=!1,m=!1,x=!1,C=!1,I=!1;const T=this.width,R=this.height;for(;h;){h=!1;let F=!0;for(;(F||!m)&&r<T;)F=this.containsBlackPoint(o,a,r,!1),F?(r++,h=!0,m=!0):m||r++;if(r>=T){l=!0;break}let z=!0;for(;(z||!x)&&a<R;)z=this.containsBlackPoint(t,r,a,!0),z?(a++,h=!0,x=!0):x||a++;if(a>=R){l=!0;break}let Z=!0;for(;(Z||!C)&&t>=0;)Z=this.containsBlackPoint(o,a,t,!1),Z?(t--,h=!0,C=!0):C||t--;if(t<0){l=!0;break}let X=!0;for(;(X||!I)&&o>=0;)X=this.containsBlackPoint(t,r,o,!0),X?(o--,h=!0,I=!0):I||o--;if(o<0){l=!0;break}h&&(f=!0)}if(!l&&f){const F=r-t;let z=null;for(let ce=1;z===null&&ce<F;ce++)z=this.getBlackPointOnSegment(t,a-ce,t+ce,a);if(z==null)throw new q;let Z=null;for(let ce=1;Z===null&&ce<F;ce++)Z=this.getBlackPointOnSegment(t,o+ce,t+ce,o);if(Z==null)throw new q;let X=null;for(let ce=1;X===null&&ce<F;ce++)X=this.getBlackPointOnSegment(r,o+ce,r-ce,o);if(X==null)throw new q;let ue=null;for(let ce=1;ue===null&&ce<F;ce++)ue=this.getBlackPointOnSegment(r,a-ce,r-ce,a);if(ue==null)throw new q;return this.centerEdges(ue,z,X,Z)}else throw new q}getBlackPointOnSegment(t,r,o,a){const l=qe.round(qe.distance(t,r,o,a)),h=(o-t)/l,f=(a-r)/l,m=this.image;for(let x=0;x<l;x++){const C=qe.round(t+x*h),I=qe.round(r+x*f);if(m.get(C,I))return new Ce(C,I)}return null}centerEdges(t,r,o,a){const l=t.getX(),h=t.getY(),f=r.getX(),m=r.getY(),x=o.getX(),C=o.getY(),I=a.getX(),T=a.getY(),R=Bn.CORR;return l<this.width/2?[new Ce(I-R,T+R),new Ce(f+R,m+R),new Ce(x-R,C-R),new Ce(l+R,h-R)]:[new Ce(I+R,T+R),new Ce(f+R,m-R),new Ce(x-R,C+R),new Ce(l-R,h-R)]}containsBlackPoint(t,r,o,a){const l=this.image;if(a){for(let h=t;h<=r;h++)if(l.get(h,o))return!0}else for(let h=t;h<=r;h++)if(l.get(o,h))return!0;return!1}}Bn.INIT_SIZE=10,Bn.CORR=1;class wi{static checkAndNudgePoints(t,r){const o=t.getWidth(),a=t.getHeight();let l=!0;for(let h=0;h<r.length&&l;h+=2){const f=Math.floor(r[h]),m=Math.floor(r[h+1]);if(f<-1||f>o||m<-1||m>a)throw new q;l=!1,f===-1?(r[h]=0,l=!0):f===o&&(r[h]=o-1,l=!0),m===-1?(r[h+1]=0,l=!0):m===a&&(r[h+1]=a-1,l=!0)}l=!0;for(let h=r.length-2;h>=0&&l;h-=2){const f=Math.floor(r[h]),m=Math.floor(r[h+1]);if(f<-1||f>o||m<-1||m>a)throw new q;l=!1,f===-1?(r[h]=0,l=!0):f===o&&(r[h]=o-1,l=!0),m===-1?(r[h+1]=0,l=!0):m===a&&(r[h+1]=a-1,l=!0)}}}class rn{constructor(t,r,o,a,l,h,f,m,x){this.a11=t,this.a21=r,this.a31=o,this.a12=a,this.a22=l,this.a32=h,this.a13=f,this.a23=m,this.a33=x}static quadrilateralToQuadrilateral(t,r,o,a,l,h,f,m,x,C,I,T,R,F,z,Z){const X=rn.quadrilateralToSquare(t,r,o,a,l,h,f,m);return rn.squareToQuadrilateral(x,C,I,T,R,F,z,Z).times(X)}transformPoints(t){const r=t.length,o=this.a11,a=this.a12,l=this.a13,h=this.a21,f=this.a22,m=this.a23,x=this.a31,C=this.a32,I=this.a33;for(let T=0;T<r;T+=2){const R=t[T],F=t[T+1],z=l*R+m*F+I;t[T]=(o*R+h*F+x)/z,t[T+1]=(a*R+f*F+C)/z}}transformPointsWithValues(t,r){const o=this.a11,a=this.a12,l=this.a13,h=this.a21,f=this.a22,m=this.a23,x=this.a31,C=this.a32,I=this.a33,T=t.length;for(let R=0;R<T;R++){const F=t[R],z=r[R],Z=l*F+m*z+I;t[R]=(o*F+h*z+x)/Z,r[R]=(a*F+f*z+C)/Z}}static squareToQuadrilateral(t,r,o,a,l,h,f,m){const x=t-o+l-f,C=r-a+h-m;if(x===0&&C===0)return new rn(o-t,l-o,t,a-r,h-a,r,0,0,1);{const I=o-l,T=f-l,R=a-h,F=m-h,z=I*F-T*R,Z=(x*F-T*C)/z,X=(I*C-x*R)/z;return new rn(o-t+Z*o,f-t+X*f,t,a-r+Z*a,m-r+X*m,r,Z,X,1)}}static quadrilateralToSquare(t,r,o,a,l,h,f,m){return rn.squareToQuadrilateral(t,r,o,a,l,h,f,m).buildAdjoint()}buildAdjoint(){return new rn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new rn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class Ee extends wi{sampleGrid(t,r,o,a,l,h,f,m,x,C,I,T,R,F,z,Z,X,ue,ce){const se=rn.quadrilateralToQuadrilateral(a,l,h,f,m,x,C,I,T,R,F,z,Z,X,ue,ce);return this.sampleGridWithTransform(t,r,o,se)}sampleGridWithTransform(t,r,o,a){if(r<=0||o<=0)throw new q;const l=new Le(r,o),h=new Float32Array(2*r);for(let f=0;f<o;f++){const m=h.length,x=f+.5;for(let C=0;C<m;C+=2)h[C]=C/2+.5,h[C+1]=x;a.transformPoints(h),wi.checkAndNudgePoints(t,h);try{for(let C=0;C<m;C+=2)t.get(Math.floor(h[C]),Math.floor(h[C+1]))&&l.set(C/2,f)}catch{throw new q}}return l}}class Ne{static setGridSampler(t){Ne.gridSampler=t}static getInstance(){return Ne.gridSampler}}Ne.gridSampler=new Ee;class ze{constructor(t,r){this.x=t,this.y=r}toResultPoint(){return new Ce(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class gn{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let r=this.getMatrixCenter(),o=this.getBullsEyeCorners(r);if(t){let h=o[0];o[0]=o[2],o[2]=h}this.extractParameters(o);let a=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),l=this.getMatrixCornerPoints(o);return new _i(a,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new q;let r=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(o,r);let a=0;for(let h=0;h<4;h++){let f=o[(this.shift+h)%4];this.compact?(a<<=7,a+=f>>1&127):(a<<=10,a+=(f>>2&992)+(f>>1&31))}let l=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(t,r){let o=0;t.forEach((a,l,h)=>{let f=(a>>r-2<<1)+(a&1);o=(o<<3)+f}),o=((o&1)<<11)+(o>>1);for(let a=0;a<4;a++)if(P.bitCount(o^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new q}getCorrectedParameterData(t,r){let o,a;r?(o=7,a=2):(o=10,a=4);let l=o-a,h=new Int32Array(o);for(let m=o-1;m>=0;--m)h[m]=t&15,t>>=4;try{new Cr(Ke.AZTEC_PARAM).decode(h,l)}catch{throw new q}let f=0;for(let m=0;m<a;m++)f=(f<<4)+h[m];return f}getBullsEyeCorners(t){let r=t,o=t,a=t,l=t,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let I=this.getFirstDifferent(r,h,1,-1),T=this.getFirstDifferent(o,h,1,1),R=this.getFirstDifferent(a,h,-1,1),F=this.getFirstDifferent(l,h,-1,-1);if(this.nbCenterLayers>2){let z=this.distancePoint(F,I)*this.nbCenterLayers/(this.distancePoint(l,r)*(this.nbCenterLayers+2));if(z<.75||z>1.25||!this.isWhiteOrBlackRectangle(I,T,R,F))break}r=I,o=T,a=R,l=F,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new q;this.compact=this.nbCenterLayers===5;let f=new Ce(r.getX()+.5,r.getY()-.5),m=new Ce(o.getX()+.5,o.getY()+.5),x=new Ce(a.getX()-.5,a.getY()+.5),C=new Ce(l.getX()-.5,l.getY()-.5);return this.expandSquare([f,m,x,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,r,o,a;try{let f=new Bn(this.image).detect();t=f[0],r=f[1],o=f[2],a=f[3]}catch{let m=this.image.getWidth()/2,x=this.image.getHeight()/2;t=this.getFirstDifferent(new ze(m+7,x-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new ze(m+7,x+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new ze(m-7,x+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new ze(m-7,x-7),!1,-1,-1).toResultPoint()}let l=qe.round((t.getX()+a.getX()+r.getX()+o.getX())/4),h=qe.round((t.getY()+a.getY()+r.getY()+o.getY())/4);try{let f=new Bn(this.image,15,l,h).detect();t=f[0],r=f[1],o=f[2],a=f[3]}catch{t=this.getFirstDifferent(new ze(l+7,h-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new ze(l+7,h+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new ze(l-7,h+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new ze(l-7,h-7),!1,-1,-1).toResultPoint()}return l=qe.round((t.getX()+a.getX()+r.getX()+o.getX())/4),h=qe.round((t.getY()+a.getY()+r.getY()+o.getY())/4),new ze(l,h)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,r,o,a,l){let h=Ne.getInstance(),f=this.getDimension(),m=f/2-this.nbCenterLayers,x=f/2+this.nbCenterLayers;return h.sampleGrid(t,f,f,m,m,x,m,x,x,m,x,r.getX(),r.getY(),o.getX(),o.getY(),a.getX(),a.getY(),l.getX(),l.getY())}sampleLine(t,r,o){let a=0,l=this.distanceResultPoint(t,r),h=l/o,f=t.getX(),m=t.getY(),x=h*(r.getX()-t.getX())/l,C=h*(r.getY()-t.getY())/l;for(let I=0;I<o;I++)this.image.get(qe.round(f+I*x),qe.round(m+I*C))&&(a|=1<<o-I-1);return a}isWhiteOrBlackRectangle(t,r,o,a){let l=3;t=new ze(t.getX()-l,t.getY()+l),r=new ze(r.getX()-l,r.getY()-l),o=new ze(o.getX()+l,o.getY()-l),a=new ze(a.getX()+l,a.getY()+l);let h=this.getColor(a,t);if(h===0)return!1;let f=this.getColor(t,r);return f!==h||(f=this.getColor(r,o),f!==h)?!1:(f=this.getColor(o,a),f===h)}getColor(t,r){let o=this.distancePoint(t,r),a=(r.getX()-t.getX())/o,l=(r.getY()-t.getY())/o,h=0,f=t.getX(),m=t.getY(),x=this.image.get(t.getX(),t.getY()),C=Math.ceil(o);for(let T=0;T<C;T++)f+=a,m+=l,this.image.get(qe.round(f),qe.round(m))!==x&&h++;let I=h/o;return I>.1&&I<.9?0:I<=.1===x?1:-1}getFirstDifferent(t,r,o,a){let l=t.getX()+o,h=t.getY()+a;for(;this.isValid(l,h)&&this.image.get(l,h)===r;)l+=o,h+=a;for(l-=o,h-=a;this.isValid(l,h)&&this.image.get(l,h)===r;)l+=o;for(l-=o;this.isValid(l,h)&&this.image.get(l,h)===r;)h+=a;return h-=a,new ze(l,h)}expandSquare(t,r,o){let a=o/(2*r),l=t[0].getX()-t[2].getX(),h=t[0].getY()-t[2].getY(),f=(t[0].getX()+t[2].getX())/2,m=(t[0].getY()+t[2].getY())/2,x=new Ce(f+a*l,m+a*h),C=new Ce(f-a*l,m-a*h);l=t[1].getX()-t[3].getX(),h=t[1].getY()-t[3].getY(),f=(t[1].getX()+t[3].getX())/2,m=(t[1].getY()+t[3].getY())/2;let I=new Ce(f+a*l,m+a*h),T=new Ce(f-a*l,m-a*h);return[x,I,C,T]}isValid(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(t){let r=qe.round(t.getX()),o=qe.round(t.getY());return this.isValid(r,o)}distancePoint(t,r){return qe.distance(t.getX(),t.getY(),r.getX(),r.getY())}distanceResultPoint(t,r){return qe.distance(t.getX(),t.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(P.truncDivision(this.nbLayers-4,8)+1)+15}}class es{decode(t,r=null){let o=null,a=new gn(t.getBlackMatrix()),l=null,h=null;try{let C=a.detectMirror(!1);l=C.getPoints(),this.reportFoundResultPoints(r,l),h=new rt().decode(C)}catch(C){o=C}if(h==null)try{let C=a.detectMirror(!0);l=C.getPoints(),this.reportFoundResultPoints(r,l),h=new rt().decode(C)}catch(C){throw o??C}let f=new je(h.getText(),h.getRawBytes(),h.getNumBits(),l,le.AZTEC,H.currentTimeMillis()),m=h.getByteSegments();m!=null&&f.putMetadata(dt.BYTE_SEGMENTS,m);let x=h.getECLevel();return x!=null&&f.putMetadata(dt.ERROR_CORRECTION_LEVEL,x),f}reportFoundResultPoints(t,r){if(t!=null){let o=t.get(ae.NEED_RESULT_POINT_CALLBACK);o!=null&&r.forEach((a,l,h)=>{o.foundPossibleResultPoint(a)})}}reset(){}}class hu extends ht{constructor(t=500){super(new es,t)}}class Rt{decode(t,r){try{return this.doDecode(t,r)}catch{if(r&&r.get(ae.TRY_HARDER)===!0&&t.isRotateSupported()){const l=t.rotateCounterClockwise(),h=this.doDecode(l,r),f=h.getResultMetadata();let m=270;f!==null&&f.get(dt.ORIENTATION)===!0&&(m=m+f.get(dt.ORIENTATION)%360),h.putMetadata(dt.ORIENTATION,m);const x=h.getResultPoints();if(x!==null){const C=l.getHeight();for(let I=0;I<x.length;I++)x[I]=new Ce(C-x[I].getY()-1,x[I].getX())}return h}else throw new q}}reset(){}doDecode(t,r){const o=t.getWidth(),a=t.getHeight();let l=new J(o);const h=r&&r.get(ae.TRY_HARDER)===!0,f=Math.max(1,a>>(h?8:5));let m;h?m=a:m=15;const x=Math.trunc(a/2);for(let C=0;C<m;C++){const I=Math.trunc((C+1)/2),T=(C&1)===0,R=x+f*(T?I:-I);if(R<0||R>=a)break;try{l=t.getBlackRow(R,l)}catch{continue}for(let F=0;F<2;F++){if(F===1&&(l.reverse(),r&&r.get(ae.NEED_RESULT_POINT_CALLBACK)===!0)){const z=new Map;r.forEach((Z,X)=>z.set(X,Z)),z.delete(ae.NEED_RESULT_POINT_CALLBACK),r=z}try{const z=this.decodeRow(R,l,r);if(F===1){z.putMetadata(dt.ORIENTATION,180);const Z=z.getResultPoints();Z!==null&&(Z[0]=new Ce(o-Z[0].getX()-1,Z[0].getY()),Z[1]=new Ce(o-Z[1].getX()-1,Z[1].getY()))}return z}catch{}}}throw new q}static recordPattern(t,r,o){const a=o.length;for(let x=0;x<a;x++)o[x]=0;const l=t.getSize();if(r>=l)throw new q;let h=!t.get(r),f=0,m=r;for(;m<l;){if(t.get(m)!==h)o[f]++;else{if(++f===a)break;o[f]=1,h=!h}m++}if(!(f===a||f===a-1&&m===l))throw new q}static recordPatternInReverse(t,r,o){let a=o.length,l=t.get(r);for(;r>0&&a>=0;)t.get(--r)!==l&&(a--,l=!l);if(a>=0)throw new q;Rt.recordPattern(t,r+1,o)}static patternMatchVariance(t,r,o){const a=t.length;let l=0,h=0;for(let x=0;x<a;x++)l+=t[x],h+=r[x];if(l<h)return Number.POSITIVE_INFINITY;const f=l/h;o*=f;let m=0;for(let x=0;x<a;x++){const C=t[x],I=r[x]*f,T=C>I?C-I:I-C;if(T>o)return Number.POSITIVE_INFINITY;m+=T}return m/l}}class pe extends Rt{static findStartPattern(t){const r=t.getSize(),o=t.getNextSet(0);let a=0,l=Int32Array.from([0,0,0,0,0,0]),h=o,f=!1;const m=6;for(let x=o;x<r;x++)if(t.get(x)!==f)l[a]++;else{if(a===m-1){let C=pe.MAX_AVG_VARIANCE,I=-1;for(let T=pe.CODE_START_A;T<=pe.CODE_START_C;T++){const R=Rt.patternMatchVariance(l,pe.CODE_PATTERNS[T],pe.MAX_INDIVIDUAL_VARIANCE);R<C&&(C=R,I=T)}if(I>=0&&t.isRange(Math.max(0,h-(x-h)/2),h,!1))return Int32Array.from([h,x,I]);h+=l[0]+l[1],l=l.slice(2,l.length-1),l[a-1]=0,l[a]=0,a--}else a++;l[a]=1,f=!f}throw new q}static decodeCode(t,r,o){Rt.recordPattern(t,o,r);let a=pe.MAX_AVG_VARIANCE,l=-1;for(let h=0;h<pe.CODE_PATTERNS.length;h++){const f=pe.CODE_PATTERNS[h],m=this.patternMatchVariance(r,f,pe.MAX_INDIVIDUAL_VARIANCE);m<a&&(a=m,l=h)}if(l>=0)return l;throw new q}decodeRow(t,r,o){const a=o&&o.get(ae.ASSUME_GS1)===!0,l=pe.findStartPattern(r),h=l[2];let f=0;const m=new Uint8Array(20);m[f++]=h;let x;switch(h){case pe.CODE_START_A:x=pe.CODE_CODE_A;break;case pe.CODE_START_B:x=pe.CODE_CODE_B;break;case pe.CODE_START_C:x=pe.CODE_CODE_C;break;default:throw new V}let C=!1,I=!1,T="",R=l[0],F=l[1];const z=Int32Array.from([0,0,0,0,0,0]);let Z=0,X=0,ue=h,ce=0,se=!0,Xe=!1,He=!1;for(;!C;){const dr=I;switch(I=!1,Z=X,X=pe.decodeCode(r,z,F),m[f++]=X,X!==pe.CODE_STOP&&(se=!0),X!==pe.CODE_STOP&&(ce++,ue+=ce*X),R=F,F+=z.reduce((vu,Oi)=>vu+Oi,0),X){case pe.CODE_START_A:case pe.CODE_START_B:case pe.CODE_START_C:throw new V}switch(x){case pe.CODE_CODE_A:if(X<64)He===Xe?T+=String.fromCharCode(32+X):T+=String.fromCharCode(32+X+128),He=!1;else if(X<96)He===Xe?T+=String.fromCharCode(X-64):T+=String.fromCharCode(X+64),He=!1;else switch(X!==pe.CODE_STOP&&(se=!1),X){case pe.CODE_FNC_1:a&&(T.length===0?T+="]C1":T+="");break;case pe.CODE_FNC_2:case pe.CODE_FNC_3:break;case pe.CODE_FNC_4_A:!Xe&&He?(Xe=!0,He=!1):Xe&&He?(Xe=!1,He=!1):He=!0;break;case pe.CODE_SHIFT:I=!0,x=pe.CODE_CODE_B;break;case pe.CODE_CODE_B:x=pe.CODE_CODE_B;break;case pe.CODE_CODE_C:x=pe.CODE_CODE_C;break;case pe.CODE_STOP:C=!0;break}break;case pe.CODE_CODE_B:if(X<96)He===Xe?T+=String.fromCharCode(32+X):T+=String.fromCharCode(32+X+128),He=!1;else switch(X!==pe.CODE_STOP&&(se=!1),X){case pe.CODE_FNC_1:a&&(T.length===0?T+="]C1":T+="");break;case pe.CODE_FNC_2:case pe.CODE_FNC_3:break;case pe.CODE_FNC_4_B:!Xe&&He?(Xe=!0,He=!1):Xe&&He?(Xe=!1,He=!1):He=!0;break;case pe.CODE_SHIFT:I=!0,x=pe.CODE_CODE_A;break;case pe.CODE_CODE_A:x=pe.CODE_CODE_A;break;case pe.CODE_CODE_C:x=pe.CODE_CODE_C;break;case pe.CODE_STOP:C=!0;break}break;case pe.CODE_CODE_C:if(X<100)X<10&&(T+="0"),T+=X;else switch(X!==pe.CODE_STOP&&(se=!1),X){case pe.CODE_FNC_1:a&&(T.length===0?T+="]C1":T+="");break;case pe.CODE_CODE_A:x=pe.CODE_CODE_A;break;case pe.CODE_CODE_B:x=pe.CODE_CODE_B;break;case pe.CODE_STOP:C=!0;break}break}dr&&(x=x===pe.CODE_CODE_A?pe.CODE_CODE_B:pe.CODE_CODE_A)}const Tt=F-R;if(F=r.getNextUnset(F),!r.isRange(F,Math.min(r.getSize(),F+(F-R)/2),!1))throw new q;if(ue-=ce*Z,ue%103!==Z)throw new Y;const wn=T.length;if(wn===0)throw new q;wn>0&&se&&(x===pe.CODE_CODE_C?T=T.substring(0,wn-2):T=T.substring(0,wn-1));const vn=(l[1]+l[0])/2,lt=R+Tt/2,en=m.length,Cn=new Uint8Array(en);for(let dr=0;dr<en;dr++)Cn[dr]=m[dr];const Mi=[new Ce(vn,t),new Ce(lt,t)];return new je(T,Cn,0,Mi,le.CODE_128,new Date().getTime())}}pe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],pe.MAX_AVG_VARIANCE=.25,pe.MAX_INDIVIDUAL_VARIANCE=.7,pe.CODE_SHIFT=98,pe.CODE_CODE_C=99,pe.CODE_CODE_B=100,pe.CODE_CODE_A=101,pe.CODE_FNC_1=102,pe.CODE_FNC_2=97,pe.CODE_FNC_3=96,pe.CODE_FNC_4_A=101,pe.CODE_FNC_4_B=100,pe.CODE_START_A=103,pe.CODE_START_B=104,pe.CODE_START_C=105,pe.CODE_STOP=106;class zt extends Rt{constructor(t=!1,r=!1){super(),this.usingCheckDigit=t,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,r,o){let a=this.counters;a.fill(0),this.decodeRowResult="";let l=zt.findAsteriskPattern(r,a),h=r.getNextSet(l[1]),f=r.getSize(),m,x;do{zt.recordPattern(r,h,a);let z=zt.toNarrowWidePattern(a);if(z<0)throw new q;m=zt.patternToChar(z),this.decodeRowResult+=m,x=h;for(let Z of a)h+=Z;h=r.getNextSet(h)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let z of a)C+=z;let I=h-x-C;if(h!==f&&I*2<C)throw new q;if(this.usingCheckDigit){let z=this.decodeRowResult.length-1,Z=0;for(let X=0;X<z;X++)Z+=zt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(X));if(this.decodeRowResult.charAt(z)!==zt.ALPHABET_STRING.charAt(Z%43))throw new Y;this.decodeRowResult=this.decodeRowResult.substring(0,z)}if(this.decodeRowResult.length===0)throw new q;let T;this.extendedMode?T=zt.decodeExtended(this.decodeRowResult):T=this.decodeRowResult;let R=(l[1]+l[0])/2,F=x+C/2;return new je(T,null,0,[new Ce(R,t),new Ce(F,t)],le.CODE_39,new Date().getTime())}static findAsteriskPattern(t,r){let o=t.getSize(),a=t.getNextSet(0),l=0,h=a,f=!1,m=r.length;for(let x=a;x<o;x++)if(t.get(x)!==f)r[l]++;else{if(l===m-1){if(this.toNarrowWidePattern(r)===zt.ASTERISK_ENCODING&&t.isRange(Math.max(0,h-Math.floor((x-h)/2)),h,!1))return[h,x];h+=r[0]+r[1],r.copyWithin(0,2,2+l-1),r[l-1]=0,r[l]=0,l--}else l++;r[l]=1,f=!f}throw new q}static toNarrowWidePattern(t){let r=t.length,o=0,a;do{let l=2147483647;for(let m of t)m<l&&m>o&&(l=m);o=l,a=0;let h=0,f=0;for(let m=0;m<r;m++){let x=t[m];x>o&&(f|=1<<r-1-m,a++,h+=x)}if(a===3){for(let m=0;m<r&&a>0;m++){let x=t[m];if(x>o&&(a--,x*2>=h))return-1}return f}}while(a>3);return-1}static patternToChar(t){for(let r=0;r<zt.CHARACTER_ENCODINGS.length;r++)if(zt.CHARACTER_ENCODINGS[r]===t)return zt.ALPHABET_STRING.charAt(r);if(t===zt.ASTERISK_ENCODING)return"*";throw new q}static decodeExtended(t){let r=t.length,o="";for(let a=0;a<r;a++){let l=t.charAt(a);if(l==="+"||l==="$"||l==="%"||l==="/"){let h=t.charAt(a+1),f="\0";switch(l){case"+":if(h>="A"&&h<="Z")f=String.fromCharCode(h.charCodeAt(0)+32);else throw new V;break;case"$":if(h>="A"&&h<="Z")f=String.fromCharCode(h.charCodeAt(0)-64);else throw new V;break;case"%":if(h>="A"&&h<="E")f=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")f=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")f=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")f=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")f="\0";else if(h==="V")f="@";else if(h==="W")f="`";else if(h==="X"||h==="Y"||h==="Z")f="";else throw new V;break;case"/":if(h>="A"&&h<="O")f=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")f=":";else throw new V;break}o+=f,a++}else o+=l}return o}}zt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",zt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],zt.ASTERISK_ENCODING=148;class ft extends Rt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,r,o){let a=this.decodeStart(r),l=this.decodeEnd(r),h=new Ze;ft.decodeMiddle(r,a[1],l[0],h);let f=h.toString(),m=null;o!=null&&(m=o.get(ae.ALLOWED_LENGTHS)),m==null&&(m=ft.DEFAULT_ALLOWED_LENGTHS);let x=f.length,C=!1,I=0;for(let F of m){if(x===F){C=!0;break}F>I&&(I=F)}if(!C&&x>I&&(C=!0),!C)throw new V;const T=[new Ce(a[1],t),new Ce(l[0],t)];return new je(f,null,0,T,le.ITF,new Date().getTime())}static decodeMiddle(t,r,o,a){let l=new Int32Array(10),h=new Int32Array(5),f=new Int32Array(5);for(l.fill(0),h.fill(0),f.fill(0);r<o;){Rt.recordPattern(t,r,l);for(let x=0;x<5;x++){let C=2*x;h[x]=l[C],f[x]=l[C+1]}let m=ft.decodeDigit(h);a.append(m.toString()),m=this.decodeDigit(f),a.append(m.toString()),l.forEach(function(x){r+=x})}}decodeStart(t){let r=ft.skipWhiteSpace(t),o=ft.findGuardPattern(t,r,ft.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(t,o[0]),o}validateQuietZone(t,r){let o=this.narrowLineWidth*10;o=o<r?o:r;for(let a=r-1;o>0&&a>=0&&!t.get(a);a--)o--;if(o!==0)throw new q}static skipWhiteSpace(t){const r=t.getSize(),o=t.getNextSet(0);if(o===r)throw new q;return o}decodeEnd(t){t.reverse();try{let r=ft.skipWhiteSpace(t),o;try{o=ft.findGuardPattern(t,r,ft.END_PATTERN_REVERSED[0])}catch(l){l instanceof q&&(o=ft.findGuardPattern(t,r,ft.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,o[0]);let a=o[0];return o[0]=t.getSize()-o[1],o[1]=t.getSize()-a,o}finally{t.reverse()}}static findGuardPattern(t,r,o){let a=o.length,l=new Int32Array(a),h=t.getSize(),f=!1,m=0,x=r;l.fill(0);for(let C=r;C<h;C++)if(t.get(C)!==f)l[m]++;else{if(m===a-1){if(Rt.patternMatchVariance(l,o,ft.MAX_INDIVIDUAL_VARIANCE)<ft.MAX_AVG_VARIANCE)return[x,C];x+=l[0]+l[1],H.arraycopy(l,2,l,0,m-1),l[m-1]=0,l[m]=0,m--}else m++;l[m]=1,f=!f}throw new q}static decodeDigit(t){let r=ft.MAX_AVG_VARIANCE,o=-1,a=ft.PATTERNS.length;for(let l=0;l<a;l++){let h=ft.PATTERNS[l],f=Rt.patternMatchVariance(t,h,ft.MAX_INDIVIDUAL_VARIANCE);f<r?(r=f,o=l):f===r&&(o=-1)}if(o>=0)return o%10;throw new q}}ft.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ft.MAX_AVG_VARIANCE=.38,ft.MAX_INDIVIDUAL_VARIANCE=.5,ft.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ft.START_PATTERN=Int32Array.from([1,1,1,1]),ft.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class xt extends Rt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let r=!1,o,a=0,l=Int32Array.from([0,0,0]);for(;!r;){l=Int32Array.from([0,0,0]),o=xt.findGuardPattern(t,a,!1,this.START_END_PATTERN,l);let h=o[0];a=o[1];let f=h-(a-h);f>=0&&(r=t.isRange(f,h,!1))}return o}static checkChecksum(t){return xt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let o=parseInt(t.charAt(r-1),10);return xt.getStandardUPCEANChecksum(t.substring(0,r-1))===o}static getStandardUPCEANChecksum(t){let r=t.length,o=0;for(let a=r-1;a>=0;a-=2){let l=t.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new V;o+=l}o*=3;for(let a=r-2;a>=0;a-=2){let l=t.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new V;o+=l}return(1e3-o)%10}static decodeEnd(t,r){return xt.findGuardPattern(t,r,!1,xt.START_END_PATTERN,new Int32Array(xt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,r,o,a){return this.findGuardPattern(t,r,o,a,new Int32Array(a.length))}static findGuardPattern(t,r,o,a,l){let h=t.getSize();r=o?t.getNextUnset(r):t.getNextSet(r);let f=0,m=r,x=a.length,C=o;for(let I=r;I<h;I++)if(t.get(I)!==C)l[f]++;else{if(f===x-1){if(Rt.patternMatchVariance(l,a,xt.MAX_INDIVIDUAL_VARIANCE)<xt.MAX_AVG_VARIANCE)return Int32Array.from([m,I]);m+=l[0]+l[1];let T=l.slice(2,l.length-1);for(let R=0;R<f-1;R++)l[R]=T[R];l[f-1]=0,l[f]=0,f--}else f++;l[f]=1,C=!C}throw new q}static decodeDigit(t,r,o,a){this.recordPattern(t,o,r);let l=this.MAX_AVG_VARIANCE,h=-1,f=a.length;for(let m=0;m<f;m++){let x=a[m],C=Rt.patternMatchVariance(r,x,xt.MAX_INDIVIDUAL_VARIANCE);C<l&&(l=C,h=m)}if(h>=0)return h;throw new q}}xt.MAX_AVG_VARIANCE=.48,xt.MAX_INDIVIDUAL_VARIANCE=.7,xt.START_END_PATTERN=Int32Array.from([1,1,1]),xt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),xt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),xt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ts{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,o){let a=this.decodeRowStringBuffer,l=this.decodeMiddle(r,o,a),h=a.toString(),f=ts.parseExtensionString(h),m=[new Ce((o[0]+o[1])/2,t),new Ce(l,t)],x=new je(h,null,0,m,le.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&x.putAllMetadata(f),x}decodeMiddle(t,r,o){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=t.getSize(),h=r[1],f=0;for(let x=0;x<5&&h<l;x++){let C=xt.decodeDigit(t,a,h,xt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+C%10);for(let I of a)h+=I;C>=10&&(f|=1<<4-x),x!==4&&(h=t.getNextSet(h),h=t.getNextUnset(h))}if(o.length!==5)throw new q;let m=this.determineCheckDigit(f);if(ts.extensionChecksum(o.toString())!==m)throw new q;return h}static extensionChecksum(t){let r=t.length,o=0;for(let a=r-2;a>=0;a-=2)o+=t.charAt(a).charCodeAt(0)-48;o*=3;for(let a=r-1;a>=0;a-=2)o+=t.charAt(a).charCodeAt(0)-48;return o*=3,o%10}determineCheckDigit(t){for(let r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new q}static parseExtensionString(t){if(t.length!==5)return null;let r=ts.parseExtension5String(t);return r==null?null:new Map([[dt.SUGGESTED_PRICE,r]])}static parseExtension5String(t){let r;switch(t.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let o=parseInt(t.substring(1)),a=(o/100).toString(),l=o%100,h=l<10?"0"+l:l.toString();return r+a+"."+h}}class po{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,o){let a=this.decodeRowStringBuffer,l=this.decodeMiddle(r,o,a),h=a.toString(),f=po.parseExtensionString(h),m=[new Ce((o[0]+o[1])/2,t),new Ce(l,t)],x=new je(h,null,0,m,le.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&x.putAllMetadata(f),x}decodeMiddle(t,r,o){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=t.getSize(),h=r[1],f=0;for(let m=0;m<2&&h<l;m++){let x=xt.decodeDigit(t,a,h,xt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+x%10);for(let C of a)h+=C;x>=10&&(f|=1<<1-m),m!==1&&(h=t.getNextSet(h),h=t.getNextUnset(h))}if(o.length!==2)throw new q;if(parseInt(o.toString())%4!==f)throw new q;return h}static parseExtensionString(t){return t.length!==2?null:new Map([[dt.ISSUE_NUMBER,parseInt(t)]])}}class mo{static decodeRow(t,r,o){let a=xt.findGuardPattern(r,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ts().decodeRow(t,r,a)}catch{return new po().decodeRow(t,r,a)}}}mo.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class it extends xt{constructor(){super(),this.decodeRowStringBuffer="",it.L_AND_G_PATTERNS=it.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let r=it.L_PATTERNS[t-10],o=new Int32Array(r.length);for(let a=0;a<r.length;a++)o[a]=r[r.length-a-1];it.L_AND_G_PATTERNS[t]=o}}decodeRow(t,r,o){let a=it.findStartGuardPattern(r),l=o==null?null:o.get(ae.NEED_RESULT_POINT_CALLBACK);if(l!=null){const se=new Ce((a[0]+a[1])/2,t);l.foundPossibleResultPoint(se)}let h=this.decodeMiddle(r,a,this.decodeRowStringBuffer),f=h.rowOffset,m=h.resultString;if(l!=null){const se=new Ce(f,t);l.foundPossibleResultPoint(se)}let x=this.decodeEnd(r,f);if(l!=null){const se=new Ce((x[0]+x[1])/2,t);l.foundPossibleResultPoint(se)}let C=x[1],I=C+(C-x[0]);if(I>=r.getSize()||!r.isRange(C,I,!1))throw new q;let T=m.toString();if(T.length<8)throw new V;if(!it.checkChecksum(T))throw new Y;let R=(a[1]+a[0])/2,F=(x[1]+x[0])/2,z=this.getBarcodeFormat(),Z=[new Ce(R,t),new Ce(F,t)],X=new je(T,null,0,Z,z,new Date().getTime()),ue=0;try{let se=mo.decodeRow(t,r,x[1]);X.putMetadata(dt.UPC_EAN_EXTENSION,se.getText()),X.putAllMetadata(se.getResultMetadata()),X.addResultPoints(se.getResultPoints()),ue=se.getText().length}catch{}let ce=o==null?null:o.get(ae.ALLOWED_EAN_EXTENSIONS);if(ce!=null){let se=!1;for(let Xe in ce)if(ue.toString()===Xe){se=!0;break}if(!se)throw new q}return X}decodeEnd(t,r){return it.findGuardPattern(t,r,!1,it.START_END_PATTERN,new Int32Array(it.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return it.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let o=parseInt(t.charAt(r-1),10);return it.getStandardUPCEANChecksum(t.substring(0,r-1))===o}static getStandardUPCEANChecksum(t){let r=t.length,o=0;for(let a=r-1;a>=0;a-=2){let l=t.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new V;o+=l}o*=3;for(let a=r-2;a>=0;a-=2){let l=t.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new V;o+=l}return(1e3-o)%10}}class zr extends it{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,o){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=t.getSize(),h=r[1],f=0;for(let x=0;x<6&&h<l;x++){let C=it.decodeDigit(t,a,h,it.L_AND_G_PATTERNS);o+=String.fromCharCode(48+C%10);for(let I of a)h+=I;C>=10&&(f|=1<<5-x)}o=zr.determineFirstDigit(o,f),h=it.findGuardPattern(t,h,!0,it.MIDDLE_PATTERN,new Int32Array(it.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<6&&h<l;x++){let C=it.decodeDigit(t,a,h,it.L_PATTERNS);o+=String.fromCharCode(48+C);for(let I of a)h+=I}return{rowOffset:h,resultString:o}}getBarcodeFormat(){return le.EAN_13}static determineFirstDigit(t,r){for(let o=0;o<10;o++)if(r===this.FIRST_DIGIT_ENCODINGS[o])return t=String.fromCharCode(48+o)+t,t;throw new q}}zr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ba extends it{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,o){const a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=t.getSize(),h=r[1];for(let m=0;m<4&&h<l;m++){let x=it.decodeDigit(t,a,h,it.L_PATTERNS);o+=String.fromCharCode(48+x);for(let C of a)h+=C}h=it.findGuardPattern(t,h,!0,it.MIDDLE_PATTERN,new Int32Array(it.MIDDLE_PATTERN.length).fill(0))[1];for(let m=0;m<4&&h<l;m++){let x=it.decodeDigit(t,a,h,it.L_PATTERNS);o+=String.fromCharCode(48+x);for(let C of a)h+=C}return{rowOffset:h,resultString:o}}getBarcodeFormat(){return le.EAN_8}}class Ia extends it{constructor(){super(...arguments),this.ean13Reader=new zr}getBarcodeFormat(){return le.UPC_A}decode(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,r,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,o))}decodeMiddle(t,r,o){return this.ean13Reader.decodeMiddle(t,r,o)}maybeReturnResult(t){let r=t.getText();if(r.charAt(0)==="0"){let o=new je(r.substring(1),null,null,t.getResultPoints(),le.UPC_A);return t.getResultMetadata()!=null&&o.putAllMetadata(t.getResultMetadata()),o}else throw new q}reset(){this.ean13Reader.reset()}}class Gn extends it{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,r,o){const a=this.decodeMiddleCounters.map(x=>x);a[0]=0,a[1]=0,a[2]=0,a[3]=0;const l=t.getSize();let h=r[1],f=0;for(let x=0;x<6&&h<l;x++){const C=Gn.decodeDigit(t,a,h,Gn.L_AND_G_PATTERNS);o+=String.fromCharCode(48+C%10);for(let I of a)h+=I;C>=10&&(f|=1<<5-x)}let m=Gn.determineNumSysAndCheckDigit(o,f);return{rowOffset:h,resultString:m}}decodeEnd(t,r){return Gn.findGuardPatternWithoutCounters(t,r,!0,Gn.MIDDLE_END_PATTERN)}checkChecksum(t){return it.checkChecksum(Gn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,r){for(let o=0;o<=1;o++)for(let a=0;a<10;a++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][a]){let l=String.fromCharCode(48+o),h=String.fromCharCode(48+a);return l+t+h}throw q.getNotFoundInstance()}getBarcodeFormat(){return le.UPC_E}static convertUPCEtoUPCA(t){const r=t.slice(1,7).split("").map(l=>l.charCodeAt(0)),o=new Ze;o.append(t.charAt(0));let a=r[5];switch(a){case 0:case 1:case 2:o.appendChars(r,0,2),o.append(a),o.append("0000"),o.appendChars(r,2,3);break;case 3:o.appendChars(r,0,3),o.append("00000"),o.appendChars(r,3,2);break;case 4:o.appendChars(r,0,4),o.append("00000"),o.append(r[4]);break;default:o.appendChars(r,0,5),o.append("0000"),o.append(a);break}return t.length>=8&&o.append(t.charAt(7)),o.toString()}}Gn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Gn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class xo extends Rt{constructor(t){super();let r=t==null?null:t.get(ae.POSSIBLE_FORMATS),o=[];c(r)?(o.push(new zr),o.push(new Ia),o.push(new ba),o.push(new Gn)):(r.indexOf(le.EAN_13)>-1&&o.push(new zr),r.indexOf(le.UPC_A)>-1&&o.push(new Ia),r.indexOf(le.EAN_8)>-1&&o.push(new ba),r.indexOf(le.UPC_E)>-1&&o.push(new Gn)),this.readers=o}decodeRow(t,r,o){for(let a of this.readers)try{const l=a.decodeRow(t,r,o),h=l.getBarcodeFormat()===le.EAN_13&&l.getText().charAt(0)==="0",f=o==null?null:o.get(ae.POSSIBLE_FORMATS),m=f==null||f.includes(le.UPC_A);if(h&&m){const x=l.getRawBytes(),C=new je(l.getText().substring(1),x,x?x.length:null,l.getResultPoints(),le.UPC_A);return C.putAllMetadata(l.getResultMetadata()),C}return l}catch{}throw new q}reset(){for(let t of this.readers)t.reset()}}class sn extends Rt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,r){for(let o=0;o<r.length;o++)if(Rt.patternMatchVariance(t,r[o],sn.MAX_INDIVIDUAL_VARIANCE)<sn.MAX_AVG_VARIANCE)return o;throw new q}static count(t){return qe.sum(new Int32Array(t))}static increment(t,r){let o=0,a=r[0];for(let l=1;l<t.length;l++)r[l]>a&&(a=r[l],o=l);t[o]++}static decrement(t,r){let o=0,a=r[0];for(let l=1;l<t.length;l++)r[l]<a&&(a=r[l],o=l);t[o]--}static isFinderPattern(t){let r=t[0]+t[1],o=r+t[2]+t[3],a=r/o;if(a>=sn.MIN_FINDER_PATTERN_RATIO&&a<=sn.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let f of t)f>h&&(h=f),f<l&&(l=f);return h<10*l}return!1}}sn.MAX_AVG_VARIANCE=.2,sn.MAX_INDIVIDUAL_VARIANCE=.45,sn.MIN_FINDER_PATTERN_RATIO=9.5/12,sn.MAX_FINDER_PATTERN_RATIO=12.5/14;class vi{constructor(t,r){this.value=t,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof vi))return!1;const r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ci{constructor(t,r,o,a,l){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Ce(o,l)),this.resultPoints.push(new Ce(a,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof Ci))return!1;const r=t;return this.value===r.value}hashCode(){return this.value}}class sr{constructor(){}static getRSSvalue(t,r,o){let a=0;for(let m of t)a+=m;let l=0,h=0,f=t.length;for(let m=0;m<f-1;m++){let x;for(x=1,h|=1<<m;x<t[m];x++,h&=~(1<<m)){let C=sr.combins(a-x-1,f-m-2);if(o&&h===0&&a-x-(f-m-1)>=f-m-1&&(C-=sr.combins(a-x-(f-m),f-m-2)),f-m-1>1){let I=0;for(let T=a-x-(f-m-2);T>r;T--)I+=sr.combins(a-x-T-1,f-m-3);C-=I*(f-1-m)}else a-x>r&&C--;l+=C}a-=x}return l}static combins(t,r){let o,a;t-r>r?(a=r,o=t-r):(a=t-r,o=r);let l=1,h=1;for(let f=t;f>o;f--)l*=f,h<=a&&(l/=h,h++);for(;h<=a;)l/=h,h++;return l}}class du{static buildBitArray(t){let r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);let o=12*r,a=new J(o),l=0,f=t[0].getRightChar().getValue();for(let m=11;m>=0;--m)f&1<<m&&a.set(l),l++;for(let m=1;m<t.length;++m){let x=t[m],C=x.getLeftChar().getValue();for(let I=11;I>=0;--I)C&1<<I&&a.set(l),l++;if(x.getRightChar()!=null){let I=x.getRightChar().getValue();for(let T=11;T>=0;--T)I&1<<T&&a.set(l),l++}}return a}}class $r{constructor(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class yo{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class bt extends yo{constructor(t,r){super(t),this.value=r}getValue(){return this.value}isFNC1(){return this.value===bt.FNC1}}bt.FNC1="$";class Ie extends yo{constructor(t,r,o){super(t),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class In extends yo{constructor(t,r,o){if(super(t),r<0||r>10||o<0||o>10)throw new V;this.firstDigit=r,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===In.FNC1}isSecondDigitFNC1(){return this.secondDigit===In.FNC1}isAnyFNC1(){return this.firstDigit===In.FNC1||this.secondDigit===In.FNC1}}In.FNC1=10;class we{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new q;let r=t.substring(0,2);for(let l of we.TWO_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===we.VARIABLE_LENGTH?we.processVariableAI(2,l[2],t):we.processFixedAI(2,l[1],t);if(t.length<3)throw new q;let o=t.substring(0,3);for(let l of we.THREE_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===we.VARIABLE_LENGTH?we.processVariableAI(3,l[2],t):we.processFixedAI(3,l[1],t);for(let l of we.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===we.VARIABLE_LENGTH?we.processVariableAI(4,l[2],t):we.processFixedAI(4,l[1],t);if(t.length<4)throw new q;let a=t.substring(0,4);for(let l of we.FOUR_DIGIT_DATA_LENGTH)if(l[0]===a)return l[1]===we.VARIABLE_LENGTH?we.processVariableAI(4,l[2],t):we.processFixedAI(4,l[1],t);throw new q}static processFixedAI(t,r,o){if(o.length<t)throw new q;let a=o.substring(0,t);if(o.length<t+r)throw new q;let l=o.substring(t,t+r),h=o.substring(t+r),f="("+a+")"+l,m=we.parseFieldsInGeneralPurpose(h);return m==null?f:f+m}static processVariableAI(t,r,o){let a=o.substring(0,t),l;o.length<t+r?l=o.length:l=t+r;let h=o.substring(t,l),f=o.substring(l),m="("+a+")"+h,x=we.parseFieldsInGeneralPurpose(f);return x==null?m:m+x}}we.VARIABLE_LENGTH=[],we.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",we.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",we.VARIABLE_LENGTH,20],["22",we.VARIABLE_LENGTH,29],["30",we.VARIABLE_LENGTH,8],["37",we.VARIABLE_LENGTH,8],["90",we.VARIABLE_LENGTH,30],["91",we.VARIABLE_LENGTH,30],["92",we.VARIABLE_LENGTH,30],["93",we.VARIABLE_LENGTH,30],["94",we.VARIABLE_LENGTH,30],["95",we.VARIABLE_LENGTH,30],["96",we.VARIABLE_LENGTH,30],["97",we.VARIABLE_LENGTH,3],["98",we.VARIABLE_LENGTH,30],["99",we.VARIABLE_LENGTH,30]],we.THREE_DIGIT_DATA_LENGTH=[["240",we.VARIABLE_LENGTH,30],["241",we.VARIABLE_LENGTH,30],["242",we.VARIABLE_LENGTH,6],["250",we.VARIABLE_LENGTH,30],["251",we.VARIABLE_LENGTH,30],["253",we.VARIABLE_LENGTH,17],["254",we.VARIABLE_LENGTH,20],["400",we.VARIABLE_LENGTH,30],["401",we.VARIABLE_LENGTH,30],["402",17],["403",we.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",we.VARIABLE_LENGTH,20],["421",we.VARIABLE_LENGTH,15],["422",3],["423",we.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],we.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",we.VARIABLE_LENGTH,15],["391",we.VARIABLE_LENGTH,18],["392",we.VARIABLE_LENGTH,15],["393",we.VARIABLE_LENGTH,18],["703",we.VARIABLE_LENGTH,30]],we.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",we.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",we.VARIABLE_LENGTH,20],["8003",we.VARIABLE_LENGTH,30],["8004",we.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",we.VARIABLE_LENGTH,30],["8008",we.VARIABLE_LENGTH,12],["8018",18],["8020",we.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",we.VARIABLE_LENGTH,70],["8200",we.VARIABLE_LENGTH,70]];class ei{constructor(t){this.buffer=new Ze,this.information=t}decodeAllCodes(t,r){let o=r,a=null;do{let l=this.decodeGeneralPurposeField(o,a),h=we.parseFieldsInGeneralPurpose(l.getNewString());if(h!=null&&t.append(h),l.isRemaining()?a=""+l.getRemainingValue():a=null,o===l.getNewPosition())break;o=l.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(t,4);return l===0?new In(this.information.getSize(),In.FNC1,In.FNC1):new In(this.information.getSize(),l-1,In.FNC1)}let r=this.extractNumericValueFromBitArray(t,7),o=(r-8)/11,a=(r-8)%11;return new In(t+7,o,a)}extractNumericValueFromBitArray(t,r){return ei.extractNumericValueFromBitArray(this.information,t,r)}static extractNumericValueFromBitArray(t,r,o){let a=0;for(let l=0;l<o;++l)t.get(r+l)&&(a|=1<<o-l-1);return a}decodeGeneralPurposeField(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new Ie(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new Ie(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,r;do{let o=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished()),!(o!==this.current.getPosition())&&!t)break}while(!t);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let r;return t.isSecondDigitFNC1()?r=new Ie(this.current.getPosition(),this.buffer.toString()):r=new Ie(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new $r(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let r=new Ie(this.current.getPosition(),this.buffer.toString());return new $r(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new $r(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Ie(this.current.getPosition(),this.buffer.toString());return new $r(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new $r(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Ie(this.current.getPosition(),this.buffer.toString());return new $r(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new $r(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,7);if(o>=64&&o<116)return!0;if(t+8>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,8);return a>=232&&a<253}decodeIsoIec646(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new bt(t+5,bt.FNC1);if(r>=5&&r<15)return new bt(t+5,"0"+(r-5));let o=this.extractNumericValueFromBitArray(t,7);if(o>=64&&o<90)return new bt(t+7,""+(o+1));if(o>=90&&o<116)return new bt(t+7,""+(o+7));let a=this.extractNumericValueFromBitArray(t,8),l;switch(a){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new V}return new bt(t+8,l)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,6);return o>=16&&o<63}decodeAlphanumeric(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new bt(t+5,bt.FNC1);if(r>=5&&r<15)return new bt(t+5,"0"+(r-5));let o=this.extractNumericValueFromBitArray(t,6);if(o>=32&&o<58)return new bt(t+6,""+(o+33));let a;switch(o){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new yn("Decoding invalid alphanumeric value: "+o)}return new bt(t+6,a)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0}}class bs{constructor(t){this.information=t,this.generalDecoder=new ei(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class on extends bs{constructor(t){super(t)}encodeCompressedGtin(t,r){t.append("(01)");let o=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,o)}encodeCompressedGtinWithoutAI(t,r,o){for(let a=0;a<4;++a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*a,10);l/100===0&&t.append("0"),l/10===0&&t.append("0"),t.append(l)}on.appendCheckDigit(t,o)}static appendCheckDigit(t,r){let o=0;for(let a=0;a<13;a++){let l=t.charAt(a+r).charCodeAt(0)-48;o+=a&1?l:3*l}o=10-o%10,o===10&&(o=0),t.append(o)}}on.GTIN_SIZE=40;class ti extends on{constructor(t){super(t)}parseInformation(){let t=new Ze;t.append("(01)");let r=t.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(ti.HEADER_SIZE,4);return t.append(o),this.encodeCompressedGtinWithoutAI(t,ti.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,ti.HEADER_SIZE+44)}}ti.HEADER_SIZE=4;class Er extends bs{constructor(t){super(t)}parseInformation(){let t=new Ze;return this.getGeneralDecoder().decodeAllCodes(t,Er.HEADER_SIZE)}}Er.HEADER_SIZE=5;class ns extends on{constructor(t){super(t)}encodeCompressedWeight(t,r,o){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,o);this.addWeightCode(t,a);let l=this.checkWeight(a),h=1e5;for(let f=0;f<5;++f)l/h===0&&t.append("0"),h/=10;t.append(l)}}class or extends ns{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=or.HEADER_SIZE+ns.GTIN_SIZE+or.WEIGHT_SIZE)throw new q;let t=new Ze;return this.encodeCompressedGtin(t,or.HEADER_SIZE),this.encodeCompressedWeight(t,or.HEADER_SIZE+ns.GTIN_SIZE,or.WEIGHT_SIZE),t.toString()}}or.HEADER_SIZE=5,or.WEIGHT_SIZE=15;class fu extends or{constructor(t){super(t)}addWeightCode(t,r){t.append("(3103)")}checkWeight(t){return t}}class gu extends or{constructor(t){super(t)}addWeightCode(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class ar extends on{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<ar.HEADER_SIZE+on.GTIN_SIZE)throw new q;let t=new Ze;this.encodeCompressedGtin(t,ar.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(ar.HEADER_SIZE+on.GTIN_SIZE,ar.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(ar.HEADER_SIZE+on.GTIN_SIZE+ar.LAST_DIGIT_SIZE,null);return t.append(o.getNewString()),t.toString()}}ar.HEADER_SIZE=8,ar.LAST_DIGIT_SIZE=2;class an extends on{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<an.HEADER_SIZE+on.GTIN_SIZE)throw new q;let t=new Ze;this.encodeCompressedGtin(t,an.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(an.HEADER_SIZE+on.GTIN_SIZE,an.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(an.HEADER_SIZE+on.GTIN_SIZE+an.LAST_DIGIT_SIZE,an.FIRST_THREE_DIGITS_SIZE);o/100==0&&t.append("0"),o/10==0&&t.append("0"),t.append(o);let a=this.getGeneralDecoder().decodeGeneralPurposeField(an.HEADER_SIZE+on.GTIN_SIZE+an.LAST_DIGIT_SIZE+an.FIRST_THREE_DIGITS_SIZE,null);return t.append(a.getNewString()),t.toString()}}an.HEADER_SIZE=8,an.LAST_DIGIT_SIZE=2,an.FIRST_THREE_DIGITS_SIZE=10;class Ct extends ns{constructor(t,r,o){super(t),this.dateCode=o,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=Ct.HEADER_SIZE+Ct.GTIN_SIZE+Ct.WEIGHT_SIZE+Ct.DATE_SIZE)throw new q;let t=new Ze;return this.encodeCompressedGtin(t,Ct.HEADER_SIZE),this.encodeCompressedWeight(t,Ct.HEADER_SIZE+Ct.GTIN_SIZE,Ct.WEIGHT_SIZE),this.encodeCompressedDate(t,Ct.HEADER_SIZE+Ct.GTIN_SIZE+Ct.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,r){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,Ct.DATE_SIZE);if(o==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let a=o%32;o/=32;let l=o%12+1;o/=12;let h=o;h/10==0&&t.append("0"),t.append(h),l/10==0&&t.append("0"),t.append(l),a/10==0&&t.append("0"),t.append(a)}addWeightCode(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")}checkWeight(t){return t%1e5}}Ct.HEADER_SIZE=8,Ct.WEIGHT_SIZE=20,Ct.DATE_SIZE=16;function rs(b){try{if(b.get(1))return new ti(b);if(!b.get(2))return new Er(b);switch(ei.extractNumericValueFromBitArray(b,1,4)){case 4:return new fu(b);case 5:return new gu(b)}switch(ei.extractNumericValueFromBitArray(b,1,5)){case 12:return new ar(b);case 13:return new an(b)}switch(ei.extractNumericValueFromBitArray(b,1,7)){case 56:return new Ct(b,"310","11");case 57:return new Ct(b,"320","11");case 58:return new Ct(b,"310","13");case 59:return new Ct(b,"320","13");case 60:return new Ct(b,"310","15");case 61:return new Ct(b,"320","15");case 62:return new Ct(b,"310","17");case 63:return new Ct(b,"320","17")}}catch(t){throw console.log(t),new yn("unknown decoder: "+b)}}class Ur{constructor(t,r,o,a){this.leftchar=t,this.rightchar=r,this.finderpattern=o,this.maybeLast=a}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,r){return t instanceof Ur?Ur.equalsOrNull(t.leftchar,r.leftchar)&&Ur.equalsOrNull(t.rightchar,r.rightchar)&&Ur.equalsOrNull(t.finderpattern,r.finderpattern):!1}static equalsOrNull(t,r){return t===null?r===null:Ur.equals(t,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class _o{constructor(t,r,o){this.pairs=t,this.rowNumber=r,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,r){return t instanceof _o?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1}checkEqualitity(t,r){if(!t||!r)return;let o;return t.forEach((a,l)=>{r.forEach(h=>{a.getLeftChar().getValue()===h.getLeftChar().getValue()&&a.getRightChar().getValue()===h.getRightChar().getValue()&&a.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(o=!0)})}),o}}class re extends sn{constructor(t){super(...arguments),this.pairs=new Array(re.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,r,o){this.pairs.length=0,this.startFromEven=!1;try{return re.constructResult(this.decodeRow2pairs(t,r))}catch(a){this.verbose&&console.log(a)}return this.pairs.length=0,this.startFromEven=!0,re.constructResult(this.decodeRow2pairs(t,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,r){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(l){if(l instanceof q){if(!this.pairs.length)throw new q;o=!0}}if(this.checkChecksum())return this.pairs;let a;if(this.rows.length?a=!0:a=!1,this.storeRow(t,!1),a){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new q}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return t&&(this.rows=this.rows.reverse()),r}checkRows(t,r){for(let o=r;o<this.rows.length;o++){let a=this.rows[o];this.pairs.length=0;for(let h of t)this.pairs.push(h.getPairs());if(this.pairs.push(a.getPairs()),!re.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(t);l.push(a);try{return this.checkRows(l,o+1)}catch(h){this.verbose&&console.log(h)}}throw new q}static isValidSequence(t){for(let r of re.FINDER_PATTERN_SEQUENCES){if(t.length>r.length)continue;let o=!0;for(let a=0;a<t.length;a++)if(t[a].getFinderPattern().getValue()!=r[a]){o=!1;break}if(o)return!0}return!1}storeRow(t,r){let o=0,a=!1,l=!1;for(;o<this.rows.length;){let h=this.rows[o];if(h.getRowNumber()>t){l=h.isEquivalent(this.pairs);break}a=h.isEquivalent(this.pairs),o++}l||a||re.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new _o(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,r){for(let o of r)if(o.getPairs().length!==t.length){for(let a of o.getPairs())for(let l of t)if(Ur.equals(a,l))break}}static isPartialRow(t,r){for(let o of r){let a=!0;for(let l of t){let h=!1;for(let f of o.getPairs())if(l.equals(f)){h=!0;break}if(!h){a=!1;break}}if(a)return!0}return!1}getRows(){return this.rows}static constructResult(t){let r=du.buildBitArray(t),a=rs(r).parseInformation(),l=t[0].getFinderPattern().getResultPoints(),h=t[t.length-1].getFinderPattern().getResultPoints(),f=[l[0],l[1],h[0],h[1]];return new je(a,null,null,f,le.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),r=t.getLeftChar(),o=t.getRightChar();if(o==null)return!1;let a=o.getChecksumPortion(),l=2;for(let f=1;f<this.pairs.size();++f){let m=this.pairs.get(f);a+=m.getLeftChar().getChecksumPortion(),l++;let x=m.getRightChar();x!=null&&(a+=x.getChecksumPortion(),l++)}return a%=211,211*(l-4)+a==r.getValue()}static getNextSecondBar(t,r){let o;return t.get(r)?(o=t.getNextUnset(r),o=t.getNextSet(o)):(o=t.getNextSet(r),o=t.getNextUnset(o)),o}retrieveNextPair(t,r,o){let a=r.length%2==0;this.startFromEven&&(a=!a);let l,h=!0,f=-1;do this.findNextPair(t,r,f),l=this.parseFoundFinderPattern(t,o,a),l==null?f=re.getNextSecondBar(t,this.startEnd[0]):h=!1;while(h);let m=this.decodeDataCharacter(t,l,a,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new q;let x;try{x=this.decodeDataCharacter(t,l,a,!1)}catch(C){x=null,this.verbose&&console.log(C)}return new Ur(m,x,l,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,r,o){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=t.getSize(),h;o>=0?h=o:this.isEmptyPair(r)?h=0:h=r[r.length-1].getFinderPattern().getStartEnd()[1];let f=r.length%2!=0;this.startFromEven&&(f=!f);let m=!1;for(;h<l&&(m=!t.get(h),!!m);)h++;let x=0,C=h;for(let I=h;I<l;I++)if(t.get(I)!=m)a[x]++;else{if(x==3){if(f&&re.reverseCounters(a),re.isFinderPattern(a)){this.startEnd[0]=C,this.startEnd[1]=I;return}f&&re.reverseCounters(a),C+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,x--}else x++;a[x]=1,m=!m}throw new q}static reverseCounters(t){let r=t.length;for(let o=0;o<r/2;++o){let a=t[o];t[o]=t[r-o-1],t[r-o-1]=a}}parseFoundFinderPattern(t,r,o){let a,l,h;if(o){let x=this.startEnd[0]-1;for(;x>=0&&!t.get(x);)x--;x++,a=this.startEnd[0]-x,l=x,h=this.startEnd[1]}else l=this.startEnd[0],h=t.getNextUnset(this.startEnd[1]+1),a=h-this.startEnd[1];let f=this.getDecodeFinderCounters();H.arraycopy(f,0,f,1,f.length-1),f[0]=a;let m;try{m=this.parseFinderValue(f,re.FINDER_PATTERNS)}catch{return null}return new Ci(m,[l,h],l,h,r)}decodeDataCharacter(t,r,o,a){let l=this.getDataCharacterCounters();for(let lt=0;lt<l.length;lt++)l[lt]=0;if(a)re.recordPatternInReverse(t,r.getStartEnd()[0],l);else{re.recordPattern(t,r.getStartEnd()[1],l);for(let lt=0,en=l.length-1;lt<en;lt++,en--){let Cn=l[lt];l[lt]=l[en],l[en]=Cn}}let h=17,f=qe.sum(new Int32Array(l))/h,m=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(f-m)/m>.3)throw new q;let x=this.getOddCounts(),C=this.getEvenCounts(),I=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let lt=0;lt<l.length;lt++){let en=1*l[lt]/f,Cn=en+.5;if(Cn<1){if(en<.3)throw new q;Cn=1}else if(Cn>8){if(en>8.7)throw new q;Cn=8}let Mi=lt/2;lt&1?(C[Mi]=Cn,T[Mi]=en-Cn):(x[Mi]=Cn,I[Mi]=en-Cn)}this.adjustOddEvenCounts(h);let R=4*r.getValue()+(o?0:2)+(a?0:1)-1,F=0,z=0;for(let lt=x.length-1;lt>=0;lt--){if(re.isNotA1left(r,o,a)){let en=re.WEIGHTS[R][2*lt];z+=x[lt]*en}F+=x[lt]}let Z=0;for(let lt=C.length-1;lt>=0;lt--)if(re.isNotA1left(r,o,a)){let en=re.WEIGHTS[R][2*lt+1];Z+=C[lt]*en}let X=z+Z;if(F&1||F>13||F<4)throw new q;let ue=(13-F)/2,ce=re.SYMBOL_WIDEST[ue],se=9-ce,Xe=sr.getRSSvalue(x,ce,!0),He=sr.getRSSvalue(C,se,!1),Tt=re.EVEN_TOTAL_SUBSET[ue],wn=re.GSUM[ue],vn=Xe*Tt+He+wn;return new vi(vn,X)}static isNotA1left(t,r,o){return!(t.getValue()==0&&r&&o)}adjustOddEvenCounts(t){let r=qe.sum(new Int32Array(this.getOddCounts())),o=qe.sum(new Int32Array(this.getEvenCounts())),a=!1,l=!1;r>13?l=!0:r<4&&(a=!0);let h=!1,f=!1;o>13?f=!0:o<4&&(h=!0);let m=r+o-t,x=(r&1)==1,C=(o&1)==0;if(m==1)if(x){if(C)throw new q;l=!0}else{if(!C)throw new q;f=!0}else if(m==-1)if(x){if(C)throw new q;a=!0}else{if(!C)throw new q;h=!0}else if(m==0){if(x){if(!C)throw new q;r<o?(a=!0,f=!0):(l=!0,h=!0)}else if(C)throw new q}else throw new q;if(a){if(l)throw new q;re.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&re.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(f)throw new q;re.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&re.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}re.SYMBOL_WIDEST=[7,5,4,3,1],re.EVEN_TOTAL_SUBSET=[4,20,52,104,204],re.GSUM=[0,348,1388,2948,3988],re.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],re.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],re.FINDER_PAT_A=0,re.FINDER_PAT_B=1,re.FINDER_PAT_C=2,re.FINDER_PAT_D=3,re.FINDER_PAT_E=4,re.FINDER_PAT_F=5,re.FINDER_PATTERN_SEQUENCES=[[re.FINDER_PAT_A,re.FINDER_PAT_A],[re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B],[re.FINDER_PAT_A,re.FINDER_PAT_C,re.FINDER_PAT_B,re.FINDER_PAT_D],[re.FINDER_PAT_A,re.FINDER_PAT_E,re.FINDER_PAT_B,re.FINDER_PAT_D,re.FINDER_PAT_C],[re.FINDER_PAT_A,re.FINDER_PAT_E,re.FINDER_PAT_B,re.FINDER_PAT_D,re.FINDER_PAT_D,re.FINDER_PAT_F],[re.FINDER_PAT_A,re.FINDER_PAT_E,re.FINDER_PAT_B,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_F,re.FINDER_PAT_F],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_D],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_E],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_F,re.FINDER_PAT_F],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_E,re.FINDER_PAT_F,re.FINDER_PAT_F]],re.MAX_PAIRS=11;class pu extends vi{constructor(t,r,o){super(t,r),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class kt extends sn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,r,o){const a=this.decodePair(r,!1,t,o);kt.addOrTally(this.possibleLeftPairs,a),r.reverse();let l=this.decodePair(r,!0,t,o);kt.addOrTally(this.possibleRightPairs,l),r.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&kt.checkChecksum(h,f))return kt.constructResult(h,f)}throw new q}static addOrTally(t,r){if(r==null)return;let o=!1;for(let a of t)if(a.getValue()===r.getValue()){a.incrementCount(),o=!0;break}o||t.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,r){let o=4537077*t.getValue()+r.getValue(),a=new String(o).toString(),l=new Ze;for(let x=13-a.length;x>0;x--)l.append("0");l.append(a);let h=0;for(let x=0;x<13;x++){let C=l.charAt(x).charCodeAt(0)-48;h+=x&1?C:3*C}h=10-h%10,h===10&&(h=0),l.append(h.toString());let f=t.getFinderPattern().getResultPoints(),m=r.getFinderPattern().getResultPoints();return new je(l.toString(),null,0,[f[0],f[1],m[0],m[1]],le.RSS_14,new Date().getTime())}static checkChecksum(t,r){let o=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,a=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,o===a}decodePair(t,r,o,a){try{let l=this.findFinderPattern(t,r),h=this.parseFoundFinderPattern(t,o,r,l),f=a==null?null:a.get(ae.NEED_RESULT_POINT_CALLBACK);if(f!=null){let C=(l[0]+l[1])/2;r&&(C=t.getSize()-1-C),f.foundPossibleResultPoint(new Ce(C,o))}let m=this.decodeDataCharacter(t,h,!0),x=this.decodeDataCharacter(t,h,!1);return new pu(1597*m.getValue()+x.getValue(),m.getChecksumPortion()+4*x.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(t,r,o){let a=this.getDataCharacterCounters();for(let Z=0;Z<a.length;Z++)a[Z]=0;if(o)Rt.recordPatternInReverse(t,r.getStartEnd()[0],a);else{Rt.recordPattern(t,r.getStartEnd()[1]+1,a);for(let Z=0,X=a.length-1;Z<X;Z++,X--){let ue=a[Z];a[Z]=a[X],a[X]=ue}}let l=o?16:15,h=qe.sum(new Int32Array(a))/l,f=this.getOddCounts(),m=this.getEvenCounts(),x=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let Z=0;Z<a.length;Z++){let X=a[Z]/h,ue=Math.floor(X+.5);ue<1?ue=1:ue>8&&(ue=8);let ce=Math.floor(Z/2);Z&1?(m[ce]=ue,C[ce]=X-ue):(f[ce]=ue,x[ce]=X-ue)}this.adjustOddEvenCounts(o,l);let I=0,T=0;for(let Z=f.length-1;Z>=0;Z--)T*=9,T+=f[Z],I+=f[Z];let R=0,F=0;for(let Z=m.length-1;Z>=0;Z--)R*=9,R+=m[Z],F+=m[Z];let z=T+3*R;if(o){if(I&1||I>12||I<4)throw new q;let Z=(12-I)/2,X=kt.OUTSIDE_ODD_WIDEST[Z],ue=9-X,ce=sr.getRSSvalue(f,X,!1),se=sr.getRSSvalue(m,ue,!0),Xe=kt.OUTSIDE_EVEN_TOTAL_SUBSET[Z],He=kt.OUTSIDE_GSUM[Z];return new vi(ce*Xe+se+He,z)}else{if(F&1||F>10||F<4)throw new q;let Z=(10-F)/2,X=kt.INSIDE_ODD_WIDEST[Z],ue=9-X,ce=sr.getRSSvalue(f,X,!0),se=sr.getRSSvalue(m,ue,!1),Xe=kt.INSIDE_ODD_TOTAL_SUBSET[Z],He=kt.INSIDE_GSUM[Z];return new vi(se*Xe+ce+He,z)}}findFinderPattern(t,r){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=t.getSize(),l=!1,h=0;for(;h<a&&(l=!t.get(h),r!==l);)h++;let f=0,m=h;for(let x=h;x<a;x++)if(t.get(x)!==l)o[f]++;else{if(f===3){if(sn.isFinderPattern(o))return[m,x];m+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,f--}else f++;o[f]=1,l=!l}throw new q}parseFoundFinderPattern(t,r,o,a){let l=t.get(a[0]),h=a[0]-1;for(;h>=0&&l!==t.get(h);)h--;h++;const f=a[0]-h,m=this.getDecodeFinderCounters(),x=new Int32Array(m.length);H.arraycopy(m,0,x,1,m.length-1),x[0]=f;const C=this.parseFinderValue(x,kt.FINDER_PATTERNS);let I=h,T=a[1];return o&&(I=t.getSize()-1-I,T=t.getSize()-1-T),new Ci(C,[h,a[1]],I,T,r)}adjustOddEvenCounts(t,r){let o=qe.sum(new Int32Array(this.getOddCounts())),a=qe.sum(new Int32Array(this.getEvenCounts())),l=!1,h=!1,f=!1,m=!1;t?(o>12?h=!0:o<4&&(l=!0),a>12?m=!0:a<4&&(f=!0)):(o>11?h=!0:o<5&&(l=!0),a>10?m=!0:a<4&&(f=!0));let x=o+a-r,C=(o&1)===(t?1:0),I=(a&1)===1;if(x===1)if(C){if(I)throw new q;h=!0}else{if(!I)throw new q;m=!0}else if(x===-1)if(C){if(I)throw new q;l=!0}else{if(!I)throw new q;f=!0}else if(x===0){if(C){if(!I)throw new q;o<a?(l=!0,m=!0):(h=!0,f=!0)}else if(I)throw new q}else throw new q;if(l){if(h)throw new q;sn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&sn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(m)throw new q;sn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&sn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}kt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],kt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],kt.OUTSIDE_GSUM=[0,161,961,2015,2715],kt.INSIDE_GSUM=[0,336,1036,1516],kt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],kt.INSIDE_ODD_WIDEST=[2,4,6,8],kt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Hr extends Rt{constructor(t,r){super(),this.readers=[],this.verbose=r===!0;const o=t?t.get(ae.POSSIBLE_FORMATS):null,a=t&&t.get(ae.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(le.EAN_13)||o.includes(le.UPC_A)||o.includes(le.EAN_8)||o.includes(le.UPC_E))&&this.readers.push(new xo(t)),o.includes(le.CODE_39)&&this.readers.push(new zt(a)),o.includes(le.CODE_128)&&this.readers.push(new pe),o.includes(le.ITF)&&this.readers.push(new ft),o.includes(le.RSS_14)&&this.readers.push(new kt),o.includes(le.RSS_EXPANDED)&&this.readers.push(new re(this.verbose))):(this.readers.push(new xo(t)),this.readers.push(new zt),this.readers.push(new xo(t)),this.readers.push(new pe),this.readers.push(new ft),this.readers.push(new kt),this.readers.push(new re(this.verbose)))}decodeRow(t,r,o){for(let a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(t,r,o)}catch{}throw new q}reset(){this.readers.forEach(t=>t.reset())}}class is extends ht{constructor(t=500,r){super(new Hr(r),t,r)}}class ot{constructor(t,r,o){this.ecCodewords=t,this.ecBlocks=[r],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class st{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class We{constructor(t,r,o,a,l,h){this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=o,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=l,this.ecBlocks=h;let f=0;const m=h.getECCodewords(),x=h.getECBlocks();for(let C of x)f+=C.getCount()*(C.getDataCodewords()+m);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,r){if(t&1||r&1)throw new V;for(let o of We.VERSIONS)if(o.symbolSizeRows===t&&o.symbolSizeColumns===r)return o;throw new V}toString(){return""+this.versionNumber}static buildVersions(){return[new We(1,10,10,8,8,new ot(5,new st(1,3))),new We(2,12,12,10,10,new ot(7,new st(1,5))),new We(3,14,14,12,12,new ot(10,new st(1,8))),new We(4,16,16,14,14,new ot(12,new st(1,12))),new We(5,18,18,16,16,new ot(14,new st(1,18))),new We(6,20,20,18,18,new ot(18,new st(1,22))),new We(7,22,22,20,20,new ot(20,new st(1,30))),new We(8,24,24,22,22,new ot(24,new st(1,36))),new We(9,26,26,24,24,new ot(28,new st(1,44))),new We(10,32,32,14,14,new ot(36,new st(1,62))),new We(11,36,36,16,16,new ot(42,new st(1,86))),new We(12,40,40,18,18,new ot(48,new st(1,114))),new We(13,44,44,20,20,new ot(56,new st(1,144))),new We(14,48,48,22,22,new ot(68,new st(1,174))),new We(15,52,52,24,24,new ot(42,new st(2,102))),new We(16,64,64,14,14,new ot(56,new st(2,140))),new We(17,72,72,16,16,new ot(36,new st(4,92))),new We(18,80,80,18,18,new ot(48,new st(4,114))),new We(19,88,88,20,20,new ot(56,new st(4,144))),new We(20,96,96,22,22,new ot(68,new st(4,174))),new We(21,104,104,24,24,new ot(56,new st(6,136))),new We(22,120,120,18,18,new ot(68,new st(6,175))),new We(23,132,132,20,20,new ot(62,new st(8,163))),new We(24,144,144,22,22,new ot(62,new st(8,156),new st(2,155))),new We(25,8,18,6,16,new ot(7,new st(1,5))),new We(26,8,32,6,14,new ot(11,new st(1,10))),new We(27,12,26,10,24,new ot(14,new st(1,16))),new We(28,12,36,10,16,new ot(18,new st(1,22))),new We(29,16,36,14,16,new ot(24,new st(1,32))),new We(30,16,48,14,22,new ot(28,new st(1,49)))]}}We.VERSIONS=We.buildVersions();class tt{constructor(t){const r=t.getHeight();if(r<8||r>144||r&1)throw new V;this.version=tt.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Le(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const r=t.getHeight(),o=t.getWidth();return We.getVersionForDimensions(r,o)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let r=0,o=4,a=0;const l=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let f=!1,m=!1,x=!1,C=!1;do if(o===l&&a===0&&!f)t[r++]=this.readCorner1(l,h)&255,o-=2,a+=2,f=!0;else if(o===l-2&&a===0&&h&3&&!m)t[r++]=this.readCorner2(l,h)&255,o-=2,a+=2,m=!0;else if(o===l+4&&a===2&&!(h&7)&&!x)t[r++]=this.readCorner3(l,h)&255,o-=2,a+=2,x=!0;else if(o===l-2&&a===0&&(h&7)===4&&!C)t[r++]=this.readCorner4(l,h)&255,o-=2,a+=2,C=!0;else{do o<l&&a>=0&&!this.readMappingMatrix.get(a,o)&&(t[r++]=this.readUtah(o,a,l,h)&255),o-=2,a+=2;while(o>=0&&a<h);o+=1,a+=3;do o>=0&&a<h&&!this.readMappingMatrix.get(a,o)&&(t[r++]=this.readUtah(o,a,l,h)&255),o+=2,a-=2;while(o<l&&a>=0);o+=3,a+=1}while(o<l||a<h);if(r!==this.version.getTotalCodewords())throw new V;return t}readModule(t,r,o,a){return t<0&&(t+=o,r+=4-(o+4&7)),r<0&&(r+=a,t+=4-(a+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)}readUtah(t,r,o,a){let l=0;return this.readModule(t-2,r-2,o,a)&&(l|=1),l<<=1,this.readModule(t-2,r-1,o,a)&&(l|=1),l<<=1,this.readModule(t-1,r-2,o,a)&&(l|=1),l<<=1,this.readModule(t-1,r-1,o,a)&&(l|=1),l<<=1,this.readModule(t-1,r,o,a)&&(l|=1),l<<=1,this.readModule(t,r-2,o,a)&&(l|=1),l<<=1,this.readModule(t,r-1,o,a)&&(l|=1),l<<=1,this.readModule(t,r,o,a)&&(l|=1),l}readCorner1(t,r){let o=0;return this.readModule(t-1,0,t,r)&&(o|=1),o<<=1,this.readModule(t-1,1,t,r)&&(o|=1),o<<=1,this.readModule(t-1,2,t,r)&&(o|=1),o<<=1,this.readModule(0,r-2,t,r)&&(o|=1),o<<=1,this.readModule(0,r-1,t,r)&&(o|=1),o<<=1,this.readModule(1,r-1,t,r)&&(o|=1),o<<=1,this.readModule(2,r-1,t,r)&&(o|=1),o<<=1,this.readModule(3,r-1,t,r)&&(o|=1),o}readCorner2(t,r){let o=0;return this.readModule(t-3,0,t,r)&&(o|=1),o<<=1,this.readModule(t-2,0,t,r)&&(o|=1),o<<=1,this.readModule(t-1,0,t,r)&&(o|=1),o<<=1,this.readModule(0,r-4,t,r)&&(o|=1),o<<=1,this.readModule(0,r-3,t,r)&&(o|=1),o<<=1,this.readModule(0,r-2,t,r)&&(o|=1),o<<=1,this.readModule(0,r-1,t,r)&&(o|=1),o<<=1,this.readModule(1,r-1,t,r)&&(o|=1),o}readCorner3(t,r){let o=0;return this.readModule(t-1,0,t,r)&&(o|=1),o<<=1,this.readModule(t-1,r-1,t,r)&&(o|=1),o<<=1,this.readModule(0,r-3,t,r)&&(o|=1),o<<=1,this.readModule(0,r-2,t,r)&&(o|=1),o<<=1,this.readModule(0,r-1,t,r)&&(o|=1),o<<=1,this.readModule(1,r-3,t,r)&&(o|=1),o<<=1,this.readModule(1,r-2,t,r)&&(o|=1),o<<=1,this.readModule(1,r-1,t,r)&&(o|=1),o}readCorner4(t,r){let o=0;return this.readModule(t-3,0,t,r)&&(o|=1),o<<=1,this.readModule(t-2,0,t,r)&&(o|=1),o<<=1,this.readModule(t-1,0,t,r)&&(o|=1),o<<=1,this.readModule(0,r-2,t,r)&&(o|=1),o<<=1,this.readModule(0,r-1,t,r)&&(o|=1),o<<=1,this.readModule(1,r-1,t,r)&&(o|=1),o<<=1,this.readModule(2,r-1,t,r)&&(o|=1),o<<=1,this.readModule(3,r-1,t,r)&&(o|=1),o}extractDataRegion(t){const r=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new k("Dimension of bitMatrix must match the version size");const a=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),h=r/a|0,f=o/l|0,m=h*a,x=f*l,C=new Le(x,m);for(let I=0;I<h;++I){const T=I*a;for(let R=0;R<f;++R){const F=R*l;for(let z=0;z<a;++z){const Z=I*(a+2)+1+z,X=T+z;for(let ue=0;ue<l;++ue){const ce=R*(l+2)+1+ue;if(t.get(ce,Z)){const se=F+ue;C.set(se,X)}}}}}return C}}class wt{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r){const o=r.getECBlocks();let a=0;const l=o.getECBlocks();for(let z of l)a+=z.getCount();const h=new Array(a);let f=0;for(let z of l)for(let Z=0;Z<z.getCount();Z++){const X=z.getDataCodewords(),ue=o.getECCodewords()+X;h[f++]=new wt(X,new Uint8Array(ue))}const x=h[0].codewords.length-o.getECCodewords(),C=x-1;let I=0;for(let z=0;z<C;z++)for(let Z=0;Z<f;Z++)h[Z].codewords[z]=t[I++];const T=r.getVersionNumber()===24,R=T?8:f;for(let z=0;z<R;z++)h[z].codewords[x-1]=t[I++];const F=h[0].codewords.length;for(let z=x;z<F;z++)for(let Z=0;Z<f;Z++){const X=T?(Z+8)%f:Z,ue=T&&X>7?z-1:z;h[X].codewords[ue]=t[I++]}if(I!==t.length)throw new k;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ei{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new k(""+t);let r=0,o=this.bitOffset,a=this.byteOffset;const l=this.bytes;if(o>0){const h=8-o,f=t<h?t:h,m=h-f,x=255>>8-f<<m;r=(l[a]&x)>>m,t-=f,o+=f,o===8&&(o=0,a++)}if(t>0){for(;t>=8;)r=r<<8|l[a]&255,a++,t-=8;if(t>0){const h=8-t,f=255>>h<<h;r=r<<t|(l[a]&f)>>h,o+=t}}return this.bitOffset=o,this.byteOffset=a,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Et;(function(b){b[b.PAD_ENCODE=0]="PAD_ENCODE",b[b.ASCII_ENCODE=1]="ASCII_ENCODE",b[b.C40_ENCODE=2]="C40_ENCODE",b[b.TEXT_ENCODE=3]="TEXT_ENCODE",b[b.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",b[b.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",b[b.BASE256_ENCODE=6]="BASE256_ENCODE"})(Et||(Et={}));class Tn{static decode(t){const r=new Ei(t),o=new Ze,a=new Ze,l=new Array;let h=Et.ASCII_ENCODE;do if(h===Et.ASCII_ENCODE)h=this.decodeAsciiSegment(r,o,a);else{switch(h){case Et.C40_ENCODE:this.decodeC40Segment(r,o);break;case Et.TEXT_ENCODE:this.decodeTextSegment(r,o);break;case Et.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,o);break;case Et.EDIFACT_ENCODE:this.decodeEdifactSegment(r,o);break;case Et.BASE256_ENCODE:this.decodeBase256Segment(r,o,l);break;default:throw new V}h=Et.ASCII_ENCODE}while(h!==Et.PAD_ENCODE&&r.available()>0);return a.length()>0&&o.append(a.toString()),new Br(t,o.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(t,r,o){let a=!1;do{let l=t.readBits(8);if(l===0)throw new V;if(l<=128)return a&&(l+=128),r.append(String.fromCharCode(l-1)),Et.ASCII_ENCODE;if(l===129)return Et.PAD_ENCODE;if(l<=229){const h=l-130;h<10&&r.append("0"),r.append(""+h)}else switch(l){case 230:return Et.C40_ENCODE;case 231:return Et.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:a=!0;break;case 236:r.append("[)>05"),o.insert(0,"");break;case 237:r.append("[)>06"),o.insert(0,"");break;case 238:return Et.ANSIX12_ENCODE;case 239:return Et.TEXT_ENCODE;case 240:return Et.EDIFACT_ENCODE;case 241:break;default:if(l!==254||t.available()!==0)throw new V;break}}while(t.available()>0);return Et.ASCII_ENCODE}static decodeC40Segment(t,r){let o=!1;const a=[];let l=0;do{if(t.available()===8)return;const h=t.readBits(8);if(h===254)return;this.parseTwoBytes(h,t.readBits(8),a);for(let f=0;f<3;f++){const m=a[f];switch(l){case 0:if(m<3)l=m+1;else if(m<this.C40_BASIC_SET_CHARS.length){const x=this.C40_BASIC_SET_CHARS[m];o?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):r.append(x)}else throw new V;break;case 1:o?(r.append(String.fromCharCode(m+128)),o=!1):r.append(String.fromCharCode(m)),l=0;break;case 2:if(m<this.C40_SHIFT2_SET_CHARS.length){const x=this.C40_SHIFT2_SET_CHARS[m];o?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):r.append(x)}else switch(m){case 27:r.append("");break;case 30:o=!0;break;default:throw new V}l=0;break;case 3:o?(r.append(String.fromCharCode(m+224)),o=!1):r.append(String.fromCharCode(m+96)),l=0;break;default:throw new V}}}while(t.available()>0)}static decodeTextSegment(t,r){let o=!1,a=[],l=0;do{if(t.available()===8)return;const h=t.readBits(8);if(h===254)return;this.parseTwoBytes(h,t.readBits(8),a);for(let f=0;f<3;f++){const m=a[f];switch(l){case 0:if(m<3)l=m+1;else if(m<this.TEXT_BASIC_SET_CHARS.length){const x=this.TEXT_BASIC_SET_CHARS[m];o?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):r.append(x)}else throw new V;break;case 1:o?(r.append(String.fromCharCode(m+128)),o=!1):r.append(String.fromCharCode(m)),l=0;break;case 2:if(m<this.TEXT_SHIFT2_SET_CHARS.length){const x=this.TEXT_SHIFT2_SET_CHARS[m];o?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):r.append(x)}else switch(m){case 27:r.append("");break;case 30:o=!0;break;default:throw new V}l=0;break;case 3:if(m<this.TEXT_SHIFT3_SET_CHARS.length){const x=this.TEXT_SHIFT3_SET_CHARS[m];o?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):r.append(x),l=0}else throw new V;break;default:throw new V}}}while(t.available()>0)}static decodeAnsiX12Segment(t,r){const o=[];do{if(t.available()===8)return;const a=t.readBits(8);if(a===254)return;this.parseTwoBytes(a,t.readBits(8),o);for(let l=0;l<3;l++){const h=o[l];switch(h){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(h<14)r.append(String.fromCharCode(h+44));else if(h<40)r.append(String.fromCharCode(h+51));else throw new V;break}}}while(t.available()>0)}static parseTwoBytes(t,r,o){let a=(t<<8)+r-1,l=Math.floor(a/1600);o[0]=l,a-=l*1600,l=Math.floor(a/40),o[1]=l,o[2]=a-l*40}static decodeEdifactSegment(t,r){do{if(t.available()<=16)return;for(let o=0;o<4;o++){let a=t.readBits(6);if(a===31){const l=8-t.getBitOffset();l!==8&&t.readBits(l);return}a&32||(a|=64),r.append(String.fromCharCode(a))}}while(t.available()>0)}static decodeBase256Segment(t,r,o){let a=1+t.getByteOffset();const l=this.unrandomize255State(t.readBits(8),a++);let h;if(l===0?h=t.available()/8|0:l<250?h=l:h=250*(l-249)+this.unrandomize255State(t.readBits(8),a++),h<0)throw new V;const f=new Uint8Array(h);for(let m=0;m<h;m++){if(t.available()<8)throw new V;f[m]=this.unrandomize255State(t.readBits(8),a++)}o.push(f);try{r.append(Re.decode(f,ge.ISO88591))}catch(m){throw new yn("Platform does not support required encoding: "+m.message)}}static unrandomize255State(t,r){const o=149*r%255+1,a=t-o;return a>=0?a:a+256}}Tn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Tn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Tn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Tn.TEXT_SHIFT2_SET_CHARS=Tn.C40_SHIFT2_SET_CHARS,Tn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class wo{constructor(){this.rsDecoder=new Cr(Ke.DATA_MATRIX_FIELD_256)}decode(t){const r=new tt(t),o=r.getVersion(),a=r.readCodewords(),l=wt.getDataBlocks(a,o);let h=0;for(let x of l)h+=x.getNumDataCodewords();const f=new Uint8Array(h),m=l.length;for(let x=0;x<m;x++){const C=l[x],I=C.getCodewords(),T=C.getNumDataCodewords();this.correctErrors(I,T);for(let R=0;R<T;R++)f[R*m+x]=I[R]}return Tn.decode(f)}correctErrors(t,r){const o=new Int32Array(t);try{this.rsDecoder.decode(o,t.length-r)}catch{throw new Y}for(let a=0;a<r;a++)t[a]=o[a]}}class Te{constructor(t){this.image=t,this.rectangleDetector=new Bn(this.image)}detect(){const t=this.rectangleDetector.detect();let r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new q;r=this.shiftToModuleCenter(r);const o=r[0],a=r[1],l=r[2],h=r[3];let f=this.transitionsBetween(o,h)+1,m=this.transitionsBetween(l,h)+1;(f&1)===1&&(f+=1),(m&1)===1&&(m+=1),4*f<7*m&&4*m<7*f&&(f=m=Math.max(f,m));let x=Te.sampleGrid(this.image,o,a,l,h,f,m);return new jr(x,[o,a,l,h])}static shiftPoint(t,r,o){let a=(r.getX()-t.getX())/(o+1),l=(r.getY()-t.getY())/(o+1);return new Ce(t.getX()+a,t.getY()+l)}static moveAway(t,r,o){let a=t.getX(),l=t.getY();return a<r?a-=1:a+=1,l<o?l-=1:l+=1,new Ce(a,l)}detectSolid1(t){let r=t[0],o=t[1],a=t[3],l=t[2],h=this.transitionsBetween(r,o),f=this.transitionsBetween(o,a),m=this.transitionsBetween(a,l),x=this.transitionsBetween(l,r),C=h,I=[l,r,o,a];return C>f&&(C=f,I[0]=r,I[1]=o,I[2]=a,I[3]=l),C>m&&(C=m,I[0]=o,I[1]=a,I[2]=l,I[3]=r),C>x&&(I[0]=a,I[1]=l,I[2]=r,I[3]=o),I}detectSolid2(t){let r=t[0],o=t[1],a=t[2],l=t[3],h=this.transitionsBetween(r,l),f=Te.shiftPoint(o,a,(h+1)*4),m=Te.shiftPoint(a,o,(h+1)*4),x=this.transitionsBetween(f,r),C=this.transitionsBetween(m,l);return x<C?(t[0]=r,t[1]=o,t[2]=a,t[3]=l):(t[0]=o,t[1]=a,t[2]=l,t[3]=r),t}correctTopRight(t){let r=t[0],o=t[1],a=t[2],l=t[3],h=this.transitionsBetween(r,l),f=this.transitionsBetween(o,l),m=Te.shiftPoint(r,o,(f+1)*4),x=Te.shiftPoint(a,o,(h+1)*4);h=this.transitionsBetween(m,l),f=this.transitionsBetween(x,l);let C=new Ce(l.getX()+(a.getX()-o.getX())/(h+1),l.getY()+(a.getY()-o.getY())/(h+1)),I=new Ce(l.getX()+(r.getX()-o.getX())/(f+1),l.getY()+(r.getY()-o.getY())/(f+1));if(!this.isValid(C))return this.isValid(I)?I:null;if(!this.isValid(I))return C;let T=this.transitionsBetween(m,C)+this.transitionsBetween(x,C),R=this.transitionsBetween(m,I)+this.transitionsBetween(x,I);return T>R?C:I}shiftToModuleCenter(t){let r=t[0],o=t[1],a=t[2],l=t[3],h=this.transitionsBetween(r,l)+1,f=this.transitionsBetween(a,l)+1,m=Te.shiftPoint(r,o,f*4),x=Te.shiftPoint(a,o,h*4);h=this.transitionsBetween(m,l)+1,f=this.transitionsBetween(x,l)+1,(h&1)===1&&(h+=1),(f&1)===1&&(f+=1);let C=(r.getX()+o.getX()+a.getX()+l.getX())/4,I=(r.getY()+o.getY()+a.getY()+l.getY())/4;r=Te.moveAway(r,C,I),o=Te.moveAway(o,C,I),a=Te.moveAway(a,C,I),l=Te.moveAway(l,C,I);let T,R;return m=Te.shiftPoint(r,o,f*4),m=Te.shiftPoint(m,l,h*4),T=Te.shiftPoint(o,r,f*4),T=Te.shiftPoint(T,a,h*4),x=Te.shiftPoint(a,l,f*4),x=Te.shiftPoint(x,o,h*4),R=Te.shiftPoint(l,a,f*4),R=Te.shiftPoint(R,r,h*4),[m,T,x,R]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,r,o,a,l,h,f){return Ne.getInstance().sampleGrid(t,h,f,.5,.5,h-.5,.5,h-.5,f-.5,.5,f-.5,r.getX(),r.getY(),l.getX(),l.getY(),a.getX(),a.getY(),o.getX(),o.getY())}transitionsBetween(t,r){let o=Math.trunc(t.getX()),a=Math.trunc(t.getY()),l=Math.trunc(r.getX()),h=Math.trunc(r.getY()),f=Math.abs(h-a)>Math.abs(l-o);if(f){let z=o;o=a,a=z,z=l,l=h,h=z}let m=Math.abs(l-o),x=Math.abs(h-a),C=-m/2,I=a<h?1:-1,T=o<l?1:-1,R=0,F=this.image.get(f?a:o,f?o:a);for(let z=o,Z=a;z!==l;z+=T){let X=this.image.get(f?Z:z,f?z:Z);if(X!==F&&(R++,F=X),C+=x,C>0){if(Z===h)break;Z+=I,C-=m}}return R}}class ut{constructor(){this.decoder=new wo}decode(t,r=null){let o,a;if(r!=null&&r.has(ae.PURE_BARCODE)){const x=ut.extractPureBits(t.getBlackMatrix());o=this.decoder.decode(x),a=ut.NO_POINTS}else{const x=new Te(t.getBlackMatrix()).detect();o=this.decoder.decode(x.getBits()),a=x.getPoints()}const l=o.getRawBytes(),h=new je(o.getText(),l,8*l.length,a,le.DATA_MATRIX,H.currentTimeMillis()),f=o.getByteSegments();f!=null&&h.putMetadata(dt.BYTE_SEGMENTS,f);const m=o.getECLevel();return m!=null&&h.putMetadata(dt.ERROR_CORRECTION_LEVEL,m),h}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),o=t.getBottomRightOnBit();if(r==null||o==null)throw new q;const a=this.moduleSize(r,t);let l=r[1];const h=o[1];let f=r[0];const x=(o[0]-f+1)/a,C=(h-l+1)/a;if(x<=0||C<=0)throw new q;const I=a/2;l+=I,f+=I;const T=new Le(x,C);for(let R=0;R<C;R++){const F=l+R*a;for(let z=0;z<x;z++)t.get(f+z*a,F)&&T.set(z,R)}return T}static moduleSize(t,r){const o=r.getWidth();let a=t[0];const l=t[1];for(;a<o&&r.get(a,l);)a++;if(a===o)throw new q;const h=a-t[0];if(h===0)throw new q;return h}}ut.NO_POINTS=[];class vo extends ht{constructor(t=500){super(new ut,t)}}var Ar;(function(b){b[b.L=0]="L",b[b.M=1]="M",b[b.Q=2]="Q",b[b.H=3]="H"})(Ar||(Ar={}));class Ye{constructor(t,r,o){this.value=t,this.stringValue=r,this.bits=o,Ye.FOR_BITS.set(o,this),Ye.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return Ye.L;case"M":return Ye.M;case"Q":return Ye.Q;case"H":return Ye.H;default:throw new O(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof Ye))return!1;const r=t;return this.value===r.value}static forBits(t){if(t<0||t>=Ye.FOR_BITS.size)throw new k;return Ye.FOR_BITS.get(t)}}Ye.FOR_BITS=new Map,Ye.FOR_VALUE=new Map,Ye.L=new Ye(Ar.L,"L",1),Ye.M=new Ye(Ar.M,"M",0),Ye.Q=new Ye(Ar.Q,"Q",3),Ye.H=new Ye(Ar.H,"H",2);class ln{constructor(t){this.errorCorrectionLevel=Ye.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,r){return P.bitCount(t^r)}static decodeFormatInformation(t,r){const o=ln.doDecodeFormatInformation(t,r);return o!==null?o:ln.doDecodeFormatInformation(t^ln.FORMAT_INFO_MASK_QR,r^ln.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,r){let o=Number.MAX_SAFE_INTEGER,a=0;for(const l of ln.FORMAT_INFO_DECODE_LOOKUP){const h=l[0];if(h===t||h===r)return new ln(l[1]);let f=ln.numBitsDiffering(t,h);f<o&&(a=l[1],o=f),t!==r&&(f=ln.numBitsDiffering(r,h),f<o&&(a=l[1],o=f))}return o<=3?new ln(a):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof ln))return!1;const r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}ln.FORMAT_INFO_MASK_QR=21522,ln.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class W{constructor(t,...r){this.ecCodewordsPerBlock=t,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const r=this.ecBlocks;for(const o of r)t+=o.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class M{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class me{constructor(t,r,...o){this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=o;let a=0;const l=o[0].getECCodewordsPerBlock(),h=o[0].getECBlocks();for(const f of h)a+=f.getCount()*(f.getDataCodewords()+l);this.totalCodewords=a}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new V;try{return this.getVersionForNumber((t-17)/4)}catch{throw new V}}static getVersionForNumber(t){if(t<1||t>40)throw new k;return me.VERSIONS[t-1]}static decodeVersionInformation(t){let r=Number.MAX_SAFE_INTEGER,o=0;for(let a=0;a<me.VERSION_DECODE_INFO.length;a++){const l=me.VERSION_DECODE_INFO[a];if(l===t)return me.getVersionForNumber(a+7);const h=ln.numBitsDiffering(t,l);h<r&&(o=a+7,r=h)}return r<=3?me.getVersionForNumber(o):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),r=new Le(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);const o=this.alignmentPatternCenters.length;for(let a=0;a<o;a++){const l=this.alignmentPatternCenters[a]-2;for(let h=0;h<o;h++)a===0&&(h===0||h===o-1)||a===o-1&&h===0||r.setRegion(this.alignmentPatternCenters[h]-2,l,5,5)}return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r}toString(){return""+this.versionNumber}}me.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),me.VERSIONS=[new me(1,new Int32Array(0),new W(7,new M(1,19)),new W(10,new M(1,16)),new W(13,new M(1,13)),new W(17,new M(1,9))),new me(2,Int32Array.from([6,18]),new W(10,new M(1,34)),new W(16,new M(1,28)),new W(22,new M(1,22)),new W(28,new M(1,16))),new me(3,Int32Array.from([6,22]),new W(15,new M(1,55)),new W(26,new M(1,44)),new W(18,new M(2,17)),new W(22,new M(2,13))),new me(4,Int32Array.from([6,26]),new W(20,new M(1,80)),new W(18,new M(2,32)),new W(26,new M(2,24)),new W(16,new M(4,9))),new me(5,Int32Array.from([6,30]),new W(26,new M(1,108)),new W(24,new M(2,43)),new W(18,new M(2,15),new M(2,16)),new W(22,new M(2,11),new M(2,12))),new me(6,Int32Array.from([6,34]),new W(18,new M(2,68)),new W(16,new M(4,27)),new W(24,new M(4,19)),new W(28,new M(4,15))),new me(7,Int32Array.from([6,22,38]),new W(20,new M(2,78)),new W(18,new M(4,31)),new W(18,new M(2,14),new M(4,15)),new W(26,new M(4,13),new M(1,14))),new me(8,Int32Array.from([6,24,42]),new W(24,new M(2,97)),new W(22,new M(2,38),new M(2,39)),new W(22,new M(4,18),new M(2,19)),new W(26,new M(4,14),new M(2,15))),new me(9,Int32Array.from([6,26,46]),new W(30,new M(2,116)),new W(22,new M(3,36),new M(2,37)),new W(20,new M(4,16),new M(4,17)),new W(24,new M(4,12),new M(4,13))),new me(10,Int32Array.from([6,28,50]),new W(18,new M(2,68),new M(2,69)),new W(26,new M(4,43),new M(1,44)),new W(24,new M(6,19),new M(2,20)),new W(28,new M(6,15),new M(2,16))),new me(11,Int32Array.from([6,30,54]),new W(20,new M(4,81)),new W(30,new M(1,50),new M(4,51)),new W(28,new M(4,22),new M(4,23)),new W(24,new M(3,12),new M(8,13))),new me(12,Int32Array.from([6,32,58]),new W(24,new M(2,92),new M(2,93)),new W(22,new M(6,36),new M(2,37)),new W(26,new M(4,20),new M(6,21)),new W(28,new M(7,14),new M(4,15))),new me(13,Int32Array.from([6,34,62]),new W(26,new M(4,107)),new W(22,new M(8,37),new M(1,38)),new W(24,new M(8,20),new M(4,21)),new W(22,new M(12,11),new M(4,12))),new me(14,Int32Array.from([6,26,46,66]),new W(30,new M(3,115),new M(1,116)),new W(24,new M(4,40),new M(5,41)),new W(20,new M(11,16),new M(5,17)),new W(24,new M(11,12),new M(5,13))),new me(15,Int32Array.from([6,26,48,70]),new W(22,new M(5,87),new M(1,88)),new W(24,new M(5,41),new M(5,42)),new W(30,new M(5,24),new M(7,25)),new W(24,new M(11,12),new M(7,13))),new me(16,Int32Array.from([6,26,50,74]),new W(24,new M(5,98),new M(1,99)),new W(28,new M(7,45),new M(3,46)),new W(24,new M(15,19),new M(2,20)),new W(30,new M(3,15),new M(13,16))),new me(17,Int32Array.from([6,30,54,78]),new W(28,new M(1,107),new M(5,108)),new W(28,new M(10,46),new M(1,47)),new W(28,new M(1,22),new M(15,23)),new W(28,new M(2,14),new M(17,15))),new me(18,Int32Array.from([6,30,56,82]),new W(30,new M(5,120),new M(1,121)),new W(26,new M(9,43),new M(4,44)),new W(28,new M(17,22),new M(1,23)),new W(28,new M(2,14),new M(19,15))),new me(19,Int32Array.from([6,30,58,86]),new W(28,new M(3,113),new M(4,114)),new W(26,new M(3,44),new M(11,45)),new W(26,new M(17,21),new M(4,22)),new W(26,new M(9,13),new M(16,14))),new me(20,Int32Array.from([6,34,62,90]),new W(28,new M(3,107),new M(5,108)),new W(26,new M(3,41),new M(13,42)),new W(30,new M(15,24),new M(5,25)),new W(28,new M(15,15),new M(10,16))),new me(21,Int32Array.from([6,28,50,72,94]),new W(28,new M(4,116),new M(4,117)),new W(26,new M(17,42)),new W(28,new M(17,22),new M(6,23)),new W(30,new M(19,16),new M(6,17))),new me(22,Int32Array.from([6,26,50,74,98]),new W(28,new M(2,111),new M(7,112)),new W(28,new M(17,46)),new W(30,new M(7,24),new M(16,25)),new W(24,new M(34,13))),new me(23,Int32Array.from([6,30,54,78,102]),new W(30,new M(4,121),new M(5,122)),new W(28,new M(4,47),new M(14,48)),new W(30,new M(11,24),new M(14,25)),new W(30,new M(16,15),new M(14,16))),new me(24,Int32Array.from([6,28,54,80,106]),new W(30,new M(6,117),new M(4,118)),new W(28,new M(6,45),new M(14,46)),new W(30,new M(11,24),new M(16,25)),new W(30,new M(30,16),new M(2,17))),new me(25,Int32Array.from([6,32,58,84,110]),new W(26,new M(8,106),new M(4,107)),new W(28,new M(8,47),new M(13,48)),new W(30,new M(7,24),new M(22,25)),new W(30,new M(22,15),new M(13,16))),new me(26,Int32Array.from([6,30,58,86,114]),new W(28,new M(10,114),new M(2,115)),new W(28,new M(19,46),new M(4,47)),new W(28,new M(28,22),new M(6,23)),new W(30,new M(33,16),new M(4,17))),new me(27,Int32Array.from([6,34,62,90,118]),new W(30,new M(8,122),new M(4,123)),new W(28,new M(22,45),new M(3,46)),new W(30,new M(8,23),new M(26,24)),new W(30,new M(12,15),new M(28,16))),new me(28,Int32Array.from([6,26,50,74,98,122]),new W(30,new M(3,117),new M(10,118)),new W(28,new M(3,45),new M(23,46)),new W(30,new M(4,24),new M(31,25)),new W(30,new M(11,15),new M(31,16))),new me(29,Int32Array.from([6,30,54,78,102,126]),new W(30,new M(7,116),new M(7,117)),new W(28,new M(21,45),new M(7,46)),new W(30,new M(1,23),new M(37,24)),new W(30,new M(19,15),new M(26,16))),new me(30,Int32Array.from([6,26,52,78,104,130]),new W(30,new M(5,115),new M(10,116)),new W(28,new M(19,47),new M(10,48)),new W(30,new M(15,24),new M(25,25)),new W(30,new M(23,15),new M(25,16))),new me(31,Int32Array.from([6,30,56,82,108,134]),new W(30,new M(13,115),new M(3,116)),new W(28,new M(2,46),new M(29,47)),new W(30,new M(42,24),new M(1,25)),new W(30,new M(23,15),new M(28,16))),new me(32,Int32Array.from([6,34,60,86,112,138]),new W(30,new M(17,115)),new W(28,new M(10,46),new M(23,47)),new W(30,new M(10,24),new M(35,25)),new W(30,new M(19,15),new M(35,16))),new me(33,Int32Array.from([6,30,58,86,114,142]),new W(30,new M(17,115),new M(1,116)),new W(28,new M(14,46),new M(21,47)),new W(30,new M(29,24),new M(19,25)),new W(30,new M(11,15),new M(46,16))),new me(34,Int32Array.from([6,34,62,90,118,146]),new W(30,new M(13,115),new M(6,116)),new W(28,new M(14,46),new M(23,47)),new W(30,new M(44,24),new M(7,25)),new W(30,new M(59,16),new M(1,17))),new me(35,Int32Array.from([6,30,54,78,102,126,150]),new W(30,new M(12,121),new M(7,122)),new W(28,new M(12,47),new M(26,48)),new W(30,new M(39,24),new M(14,25)),new W(30,new M(22,15),new M(41,16))),new me(36,Int32Array.from([6,24,50,76,102,128,154]),new W(30,new M(6,121),new M(14,122)),new W(28,new M(6,47),new M(34,48)),new W(30,new M(46,24),new M(10,25)),new W(30,new M(2,15),new M(64,16))),new me(37,Int32Array.from([6,28,54,80,106,132,158]),new W(30,new M(17,122),new M(4,123)),new W(28,new M(29,46),new M(14,47)),new W(30,new M(49,24),new M(10,25)),new W(30,new M(24,15),new M(46,16))),new me(38,Int32Array.from([6,32,58,84,110,136,162]),new W(30,new M(4,122),new M(18,123)),new W(28,new M(13,46),new M(32,47)),new W(30,new M(48,24),new M(14,25)),new W(30,new M(42,15),new M(32,16))),new me(39,Int32Array.from([6,26,54,82,110,138,166]),new W(30,new M(20,117),new M(4,118)),new W(28,new M(40,47),new M(7,48)),new W(30,new M(43,24),new M(22,25)),new W(30,new M(10,15),new M(67,16))),new me(40,Int32Array.from([6,30,58,86,114,142,170]),new W(30,new M(19,118),new M(6,119)),new W(28,new M(18,47),new M(31,48)),new W(30,new M(34,24),new M(34,25)),new W(30,new M(20,15),new M(61,16)))];var At;(function(b){b[b.DATA_MASK_000=0]="DATA_MASK_000",b[b.DATA_MASK_001=1]="DATA_MASK_001",b[b.DATA_MASK_010=2]="DATA_MASK_010",b[b.DATA_MASK_011=3]="DATA_MASK_011",b[b.DATA_MASK_100=4]="DATA_MASK_100",b[b.DATA_MASK_101=5]="DATA_MASK_101",b[b.DATA_MASK_110=6]="DATA_MASK_110",b[b.DATA_MASK_111=7]="DATA_MASK_111"})(At||(At={}));class un{constructor(t,r){this.value=t,this.isMasked=r}unmaskBitMatrix(t,r){for(let o=0;o<r;o++)for(let a=0;a<r;a++)this.isMasked(o,a)&&t.flip(a,o)}}un.values=new Map([[At.DATA_MASK_000,new un(At.DATA_MASK_000,(b,t)=>(b+t&1)===0)],[At.DATA_MASK_001,new un(At.DATA_MASK_001,(b,t)=>(b&1)===0)],[At.DATA_MASK_010,new un(At.DATA_MASK_010,(b,t)=>t%3===0)],[At.DATA_MASK_011,new un(At.DATA_MASK_011,(b,t)=>(b+t)%3===0)],[At.DATA_MASK_100,new un(At.DATA_MASK_100,(b,t)=>(Math.floor(b/2)+Math.floor(t/3)&1)===0)],[At.DATA_MASK_101,new un(At.DATA_MASK_101,(b,t)=>b*t%6===0)],[At.DATA_MASK_110,new un(At.DATA_MASK_110,(b,t)=>b*t%6<3)],[At.DATA_MASK_111,new un(At.DATA_MASK_111,(b,t)=>(b+t+b*t%3&1)===0)]]);class ss{constructor(t){const r=t.getHeight();if(r<21||(r&3)!==1)throw new V;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let l=0;l<6;l++)t=this.copyBit(l,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let l=5;l>=0;l--)t=this.copyBit(8,l,t);const r=this.bitMatrix.getHeight();let o=0;const a=r-7;for(let l=r-1;l>=a;l--)o=this.copyBit(8,l,o);for(let l=r-8;l<r;l++)o=this.copyBit(l,8,o);if(this.parsedFormatInfo=ln.decodeFormatInformation(t,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new V}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return me.getVersionForNumber(r);let o=0;const a=t-11;for(let h=5;h>=0;h--)for(let f=t-9;f>=a;f--)o=this.copyBit(f,h,o);let l=me.decodeVersionInformation(o);if(l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;o=0;for(let h=5;h>=0;h--)for(let f=t-9;f>=a;f--)o=this.copyBit(h,f,o);if(l=me.decodeVersionInformation(o),l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;throw new V}copyBit(t,r,o){return(this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r))?o<<1|1:o<<1}readCodewords(){const t=this.readFormatInformation(),r=this.readVersion(),o=un.values.get(t.getDataMask()),a=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,a);const l=r.buildFunctionPattern();let h=!0;const f=new Uint8Array(r.getTotalCodewords());let m=0,x=0,C=0;for(let I=a-1;I>0;I-=2){I===6&&I--;for(let T=0;T<a;T++){const R=h?a-1-T:T;for(let F=0;F<2;F++)l.get(I-F,R)||(C++,x<<=1,this.bitMatrix.get(I-F,R)&&(x|=1),C===8&&(f[m++]=x,C=0,x=0))}h=!h}if(m!==r.getTotalCodewords())throw new V;return f}remask(){if(this.parsedFormatInfo===null)return;const t=un.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let r=0,o=t.getWidth();r<o;r++)for(let a=r+1,l=t.getHeight();a<l;a++)t.get(r,a)!==t.get(a,r)&&(t.flip(a,r),t.flip(r,a))}}class os{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r,o){if(t.length!==r.getTotalCodewords())throw new k;const a=r.getECBlocksForLevel(o);let l=0;const h=a.getECBlocks();for(const F of h)l+=F.getCount();const f=new Array(l);let m=0;for(const F of h)for(let z=0;z<F.getCount();z++){const Z=F.getDataCodewords(),X=a.getECCodewordsPerBlock()+Z;f[m++]=new os(Z,new Uint8Array(X))}const x=f[0].codewords.length;let C=f.length-1;for(;C>=0&&f[C].codewords.length!==x;)C--;C++;const I=x-a.getECCodewordsPerBlock();let T=0;for(let F=0;F<I;F++)for(let z=0;z<m;z++)f[z].codewords[F]=t[T++];for(let F=C;F<m;F++)f[F].codewords[I]=t[T++];const R=f[0].codewords.length;for(let F=I;F<R;F++)for(let z=0;z<m;z++){const Z=z<C?F:F+1;f[z].codewords[Z]=t[T++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var cn;(function(b){b[b.TERMINATOR=0]="TERMINATOR",b[b.NUMERIC=1]="NUMERIC",b[b.ALPHANUMERIC=2]="ALPHANUMERIC",b[b.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",b[b.BYTE=4]="BYTE",b[b.ECI=5]="ECI",b[b.KANJI=6]="KANJI",b[b.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",b[b.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",b[b.HANZI=9]="HANZI"})(cn||(cn={}));class Me{constructor(t,r,o,a){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=o,this.bits=a,Me.FOR_BITS.set(a,this),Me.FOR_VALUE.set(t,this)}static forBits(t){const r=Me.FOR_BITS.get(t);if(r===void 0)throw new k;return r}getCharacterCountBits(t){const r=t.getVersionNumber();let o;return r<=9?o=0:r<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof Me))return!1;const r=t;return this.value===r.value}toString(){return this.stringValue}}Me.FOR_BITS=new Map,Me.FOR_VALUE=new Map,Me.TERMINATOR=new Me(cn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Me.NUMERIC=new Me(cn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Me.ALPHANUMERIC=new Me(cn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Me.STRUCTURED_APPEND=new Me(cn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Me.BYTE=new Me(cn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Me.ECI=new Me(cn.ECI,"ECI",Int32Array.from([0,0,0]),7),Me.KANJI=new Me(cn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Me.FNC1_FIRST_POSITION=new Me(cn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Me.FNC1_SECOND_POSITION=new Me(cn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Me.HANZI=new Me(cn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class vt{static decode(t,r,o,a){const l=new Ei(t);let h=new Ze;const f=new Array;let m=-1,x=-1;try{let C=null,I=!1,T;do{if(l.available()<4)T=Me.TERMINATOR;else{const R=l.readBits(4);T=Me.forBits(R)}switch(T){case Me.TERMINATOR:break;case Me.FNC1_FIRST_POSITION:case Me.FNC1_SECOND_POSITION:I=!0;break;case Me.STRUCTURED_APPEND:if(l.available()<16)throw new V;m=l.readBits(8),x=l.readBits(8);break;case Me.ECI:const R=vt.parseECIValue(l);if(C=$.getCharacterSetECIByValue(R),C===null)throw new V;break;case Me.HANZI:const F=l.readBits(4),z=l.readBits(T.getCharacterCountBits(r));F===vt.GB2312_SUBSET&&vt.decodeHanziSegment(l,h,z);break;default:const Z=l.readBits(T.getCharacterCountBits(r));switch(T){case Me.NUMERIC:vt.decodeNumericSegment(l,h,Z);break;case Me.ALPHANUMERIC:vt.decodeAlphanumericSegment(l,h,Z,I);break;case Me.BYTE:vt.decodeByteSegment(l,h,Z,C,f,a);break;case Me.KANJI:vt.decodeKanjiSegment(l,h,Z);break;default:throw new V}break}}while(T!==Me.TERMINATOR)}catch{throw new V}return new Br(t,h.toString(),f.length===0?null:f,o===null?null:o.toString(),m,x)}static decodeHanziSegment(t,r,o){if(o*13>t.available())throw new V;const a=new Uint8Array(2*o);let l=0;for(;o>0;){const h=t.readBits(13);let f=h/96<<8&4294967295|h%96;f<959?f+=41377:f+=42657,a[l]=f>>8&255,a[l+1]=f&255,l+=2,o--}try{r.append(Re.decode(a,ge.GB2312))}catch(h){throw new V(h)}}static decodeKanjiSegment(t,r,o){if(o*13>t.available())throw new V;const a=new Uint8Array(2*o);let l=0;for(;o>0;){const h=t.readBits(13);let f=h/192<<8&4294967295|h%192;f<7936?f+=33088:f+=49472,a[l]=f>>8,a[l+1]=f,l+=2,o--}try{r.append(Re.decode(a,ge.SHIFT_JIS))}catch(h){throw new V(h)}}static decodeByteSegment(t,r,o,a,l,h){if(8*o>t.available())throw new V;const f=new Uint8Array(o);for(let x=0;x<o;x++)f[x]=t.readBits(8);let m;a===null?m=ge.guessEncoding(f,h):m=a.getName();try{r.append(Re.decode(f,m))}catch(x){throw new V(x)}l.push(f)}static toAlphaNumericChar(t){if(t>=vt.ALPHANUMERIC_CHARS.length)throw new V;return vt.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,r,o,a){const l=r.length();for(;o>1;){if(t.available()<11)throw new V;const h=t.readBits(11);r.append(vt.toAlphaNumericChar(Math.floor(h/45))),r.append(vt.toAlphaNumericChar(h%45)),o-=2}if(o===1){if(t.available()<6)throw new V;r.append(vt.toAlphaNumericChar(t.readBits(6)))}if(a)for(let h=l;h<r.length();h++)r.charAt(h)==="%"&&(h<r.length()-1&&r.charAt(h+1)==="%"?r.deleteCharAt(h+1):r.setCharAt(h,""))}static decodeNumericSegment(t,r,o){for(;o>=3;){if(t.available()<10)throw new V;const a=t.readBits(10);if(a>=1e3)throw new V;r.append(vt.toAlphaNumericChar(Math.floor(a/100))),r.append(vt.toAlphaNumericChar(Math.floor(a/10)%10)),r.append(vt.toAlphaNumericChar(a%10)),o-=3}if(o===2){if(t.available()<7)throw new V;const a=t.readBits(7);if(a>=100)throw new V;r.append(vt.toAlphaNumericChar(Math.floor(a/10))),r.append(vt.toAlphaNumericChar(a%10))}else if(o===1){if(t.available()<4)throw new V;const a=t.readBits(4);if(a>=10)throw new V;r.append(vt.toAlphaNumericChar(a))}}static parseECIValue(t){const r=t.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const o=t.readBits(8);return(r&63)<<8&4294967295|o}if((r&224)===192){const o=t.readBits(16);return(r&31)<<16&4294967295|o}throw new V}}vt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",vt.GB2312_SUBSET=1;class as{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const r=t[0];t[0]=t[2],t[2]=r}}class Co{constructor(){this.rsDecoder=new Cr(Ke.QR_CODE_FIELD_256)}decodeBooleanArray(t,r){return this.decodeBitMatrix(Le.parseFromBooleanArray(t),r)}decodeBitMatrix(t,r){const o=new ss(t);let a=null;try{return this.decodeBitMatrixParser(o,r)}catch(l){a=l}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const l=this.decodeBitMatrixParser(o,r);return l.setOther(new as(!0)),l}catch(l){throw a!==null?a:l}}decodeBitMatrixParser(t,r){const o=t.readVersion(),a=t.readFormatInformation().getErrorCorrectionLevel(),l=t.readCodewords(),h=os.getDataBlocks(l,o,a);let f=0;for(const C of h)f+=C.getNumDataCodewords();const m=new Uint8Array(f);let x=0;for(const C of h){const I=C.getCodewords(),T=C.getNumDataCodewords();this.correctErrors(I,T);for(let R=0;R<T;R++)m[x++]=I[R]}return vt.decode(m,o,a,r)}correctErrors(t,r){const o=new Int32Array(t);try{this.rsDecoder.decode(o,t.length-r)}catch{throw new Y}for(let a=0;a<r;a++)t[a]=o[a]}}class ls extends Ce{constructor(t,r,o){super(t,r),this.estimatedModuleSize=o}aboutEquals(t,r,o){if(Math.abs(r-this.getY())<=t&&Math.abs(o-this.getX())<=t){const a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(t,r,o){const a=(this.getX()+r)/2,l=(this.getY()+t)/2,h=(this.estimatedModuleSize+o)/2;return new ls(a,l,h)}}class ni{constructor(t,r,o,a,l,h,f){this.image=t,this.startX=r,this.startY=o,this.width=a,this.height=l,this.moduleSize=h,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,r=this.height,o=this.width,a=t+o,l=this.startY+r/2,h=new Int32Array(3),f=this.image;for(let m=0;m<r;m++){const x=l+(m&1?-Math.floor((m+1)/2):Math.floor((m+1)/2));h[0]=0,h[1]=0,h[2]=0;let C=t;for(;C<a&&!f.get(C,x);)C++;let I=0;for(;C<a;){if(f.get(C,x))if(I===1)h[1]++;else if(I===2){if(this.foundPatternCross(h)){const T=this.handlePossibleCenter(h,x,C);if(T!==null)return T}h[0]=h[2],h[1]=1,h[2]=0,I=1}else h[++I]++;else I===1&&I++,h[I]++;C++}if(this.foundPatternCross(h)){const T=this.handlePossibleCenter(h,x,a);if(T!==null)return T}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new q}static centerFromEnd(t,r){return r-t[2]-t[1]/2}foundPatternCross(t){const r=this.moduleSize,o=r/2;for(let a=0;a<3;a++)if(Math.abs(r-t[a])>=o)return!1;return!0}crossCheckVertical(t,r,o,a){const l=this.image,h=l.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let m=t;for(;m>=0&&l.get(r,m)&&f[1]<=o;)f[1]++,m--;if(m<0||f[1]>o)return NaN;for(;m>=0&&!l.get(r,m)&&f[0]<=o;)f[0]++,m--;if(f[0]>o)return NaN;for(m=t+1;m<h&&l.get(r,m)&&f[1]<=o;)f[1]++,m++;if(m===h||f[1]>o)return NaN;for(;m<h&&!l.get(r,m)&&f[2]<=o;)f[2]++,m++;if(f[2]>o)return NaN;const x=f[0]+f[1]+f[2];return 5*Math.abs(x-a)>=2*a?NaN:this.foundPatternCross(f)?ni.centerFromEnd(f,m):NaN}handlePossibleCenter(t,r,o){const a=t[0]+t[1]+t[2],l=ni.centerFromEnd(t,o),h=this.crossCheckVertical(r,l,2*t[1],a);if(!isNaN(h)){const f=(t[0]+t[1]+t[2])/3;for(const x of this.possibleCenters)if(x.aboutEquals(f,h,l))return x.combineEstimate(h,l,f);const m=new ls(l,h,f);this.possibleCenters.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return null}}class Is extends Ce{constructor(t,r,o,a){super(t,r),this.estimatedModuleSize=o,this.count=a,a===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,r,o){if(Math.abs(r-this.getY())<=t&&Math.abs(o-this.getX())<=t){const a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(t,r,o){const a=this.count+1,l=(this.count*this.getX()+r)/a,h=(this.count*this.getY()+t)/a,f=(this.count*this.estimatedModuleSize+o)/a;return new Is(l,h,f,a)}}class Eo{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Yt{constructor(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const r=t!=null&&t.get(ae.TRY_HARDER)!==void 0,o=t!=null&&t.get(ae.PURE_BARCODE)!==void 0,a=this.image,l=a.getHeight(),h=a.getWidth();let f=Math.floor(3*l/(4*Yt.MAX_MODULES));(f<Yt.MIN_SKIP||r)&&(f=Yt.MIN_SKIP);let m=!1;const x=new Int32Array(5);for(let I=f-1;I<l&&!m;I+=f){x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0;let T=0;for(let R=0;R<h;R++)if(a.get(R,I))(T&1)===1&&T++,x[T]++;else if(T&1)x[T]++;else if(T===4)if(Yt.foundPatternCross(x)){if(this.handlePossibleCenter(x,I,R,o)===!0)if(f=2,this.hasSkipped===!0)m=this.haveMultiplyConfirmedCenters();else{const z=this.findRowSkip();z>x[2]&&(I+=z-x[2]-f,R=h-1)}else{x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,T=3;continue}T=0,x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0}else x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,T=3;else x[++T]++;Yt.foundPatternCross(x)&&this.handlePossibleCenter(x,I,h,o)===!0&&(f=x[0],this.hasSkipped&&(m=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return Ce.orderBestPatterns(C),new Eo(C)}static centerFromEnd(t,r){return r-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let r=0;for(let l=0;l<5;l++){const h=t[l];if(h===0)return!1;r+=h}if(r<7)return!1;const o=r/7,a=o/2;return Math.abs(o-t[0])<a&&Math.abs(o-t[1])<a&&Math.abs(3*o-t[2])<3*a&&Math.abs(o-t[3])<a&&Math.abs(o-t[4])<a}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,r,o,a){const l=this.getCrossCheckStateCount();let h=0;const f=this.image;for(;t>=h&&r>=h&&f.get(r-h,t-h);)l[2]++,h++;if(t<h||r<h)return!1;for(;t>=h&&r>=h&&!f.get(r-h,t-h)&&l[1]<=o;)l[1]++,h++;if(t<h||r<h||l[1]>o)return!1;for(;t>=h&&r>=h&&f.get(r-h,t-h)&&l[0]<=o;)l[0]++,h++;if(l[0]>o)return!1;const m=f.getHeight(),x=f.getWidth();for(h=1;t+h<m&&r+h<x&&f.get(r+h,t+h);)l[2]++,h++;if(t+h>=m||r+h>=x)return!1;for(;t+h<m&&r+h<x&&!f.get(r+h,t+h)&&l[3]<o;)l[3]++,h++;if(t+h>=m||r+h>=x||l[3]>=o)return!1;for(;t+h<m&&r+h<x&&f.get(r+h,t+h)&&l[4]<o;)l[4]++,h++;if(l[4]>=o)return!1;const C=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(C-a)<2*a&&Yt.foundPatternCross(l)}crossCheckVertical(t,r,o,a){const l=this.image,h=l.getHeight(),f=this.getCrossCheckStateCount();let m=t;for(;m>=0&&l.get(r,m);)f[2]++,m--;if(m<0)return NaN;for(;m>=0&&!l.get(r,m)&&f[1]<=o;)f[1]++,m--;if(m<0||f[1]>o)return NaN;for(;m>=0&&l.get(r,m)&&f[0]<=o;)f[0]++,m--;if(f[0]>o)return NaN;for(m=t+1;m<h&&l.get(r,m);)f[2]++,m++;if(m===h)return NaN;for(;m<h&&!l.get(r,m)&&f[3]<o;)f[3]++,m++;if(m===h||f[3]>=o)return NaN;for(;m<h&&l.get(r,m)&&f[4]<o;)f[4]++,m++;if(f[4]>=o)return NaN;const x=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(x-a)>=2*a?NaN:Yt.foundPatternCross(f)?Yt.centerFromEnd(f,m):NaN}crossCheckHorizontal(t,r,o,a){const l=this.image,h=l.getWidth(),f=this.getCrossCheckStateCount();let m=t;for(;m>=0&&l.get(m,r);)f[2]++,m--;if(m<0)return NaN;for(;m>=0&&!l.get(m,r)&&f[1]<=o;)f[1]++,m--;if(m<0||f[1]>o)return NaN;for(;m>=0&&l.get(m,r)&&f[0]<=o;)f[0]++,m--;if(f[0]>o)return NaN;for(m=t+1;m<h&&l.get(m,r);)f[2]++,m++;if(m===h)return NaN;for(;m<h&&!l.get(m,r)&&f[3]<o;)f[3]++,m++;if(m===h||f[3]>=o)return NaN;for(;m<h&&l.get(m,r)&&f[4]<o;)f[4]++,m++;if(f[4]>=o)return NaN;const x=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(x-a)>=a?NaN:Yt.foundPatternCross(f)?Yt.centerFromEnd(f,m):NaN}handlePossibleCenter(t,r,o,a){const l=t[0]+t[1]+t[2]+t[3]+t[4];let h=Yt.centerFromEnd(t,o),f=this.crossCheckVertical(r,Math.floor(h),t[2],l);if(!isNaN(f)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(f),t[2],l),!isNaN(h)&&(!a||this.crossCheckDiagonal(Math.floor(f),Math.floor(h),t[2],l)))){const m=l/7;let x=!1;const C=this.possibleCenters;for(let I=0,T=C.length;I<T;I++){const R=C[I];if(R.aboutEquals(m,f,h)){C[I]=R.combineEstimate(f,h,m),x=!0;break}}if(!x){const I=new Is(h,f,m);C.push(I),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(I)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const o of this.possibleCenters)if(o.getCount()>=Yt.CENTER_QUORUM)if(r==null)r=o;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-o.getX())-Math.abs(r.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,r=0;const o=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=Yt.CENTER_QUORUM&&(t++,r+=h.getEstimatedModuleSize());if(t<3)return!1;const a=r/o;let l=0;for(const h of this.possibleCenters)l+=Math.abs(h.getEstimatedModuleSize()-a);return l<=.05*r}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new q;const r=this.possibleCenters;let o;if(t>3){let a=0,l=0;for(const m of this.possibleCenters){const x=m.getEstimatedModuleSize();a+=x,l+=x*x}o=a/t;let h=Math.sqrt(l/t-o*o);r.sort((m,x)=>{const C=Math.abs(x.getEstimatedModuleSize()-o),I=Math.abs(m.getEstimatedModuleSize()-o);return C<I?-1:C>I?1:0});const f=Math.max(.2*o,h);for(let m=0;m<r.length&&r.length>3;m++){const x=r[m];Math.abs(x.getEstimatedModuleSize()-o)>f&&(r.splice(m,1),m--)}}if(r.length>3){let a=0;for(const l of r)a+=l.getEstimatedModuleSize();o=a/r.length,r.sort((l,h)=>{if(h.getCount()===l.getCount()){const f=Math.abs(h.getEstimatedModuleSize()-o),m=Math.abs(l.getEstimatedModuleSize()-o);return f<m?1:f>m?-1:0}else return h.getCount()-l.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}Yt.CENTER_QUORUM=2,Yt.MIN_SKIP=3,Yt.MAX_MODULES=57;class Fe{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(ae.NEED_RESULT_POINT_CALLBACK);const o=new Yt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(o)}processFinderPatternInfo(t){const r=t.getTopLeft(),o=t.getTopRight(),a=t.getBottomLeft(),l=this.calculateModuleSize(r,o,a);if(l<1)throw new q("No pattern found in proccess finder.");const h=Fe.computeDimension(r,o,a,l),f=me.getProvisionalVersionForDimension(h),m=f.getDimensionForVersion()-7;let x=null;if(f.getAlignmentPatternCenters().length>0){const R=o.getX()-r.getX()+a.getX(),F=o.getY()-r.getY()+a.getY(),z=1-3/m,Z=Math.floor(r.getX()+z*(R-r.getX())),X=Math.floor(r.getY()+z*(F-r.getY()));for(let ue=4;ue<=16;ue<<=1)try{x=this.findAlignmentInRegion(l,Z,X,ue);break}catch(ce){if(!(ce instanceof q))throw ce}}const C=Fe.createTransform(r,o,a,x,h),I=Fe.sampleGrid(this.image,C,h);let T;return x===null?T=[a,r,o]:T=[a,r,o,x],new jr(I,T)}static createTransform(t,r,o,a,l){const h=l-3.5;let f,m,x,C;return a!==null?(f=a.getX(),m=a.getY(),x=h-3,C=x):(f=r.getX()-t.getX()+o.getX(),m=r.getY()-t.getY()+o.getY(),x=h,C=h),rn.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,x,C,3.5,h,t.getX(),t.getY(),r.getX(),r.getY(),f,m,o.getX(),o.getY())}static sampleGrid(t,r,o){return Ne.getInstance().sampleGridWithTransform(t,o,o,r)}static computeDimension(t,r,o,a){const l=qe.round(Ce.distance(t,r)/a),h=qe.round(Ce.distance(t,o)/a);let f=Math.floor((l+h)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new q("Dimensions could be not found.")}return f}calculateModuleSize(t,r,o){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,o))/2}calculateModuleSizeOneWay(t,r){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(o)?a/7:isNaN(a)?o/7:(o+a)/14}sizeOfBlackWhiteBlackRunBothWays(t,r,o,a){let l=this.sizeOfBlackWhiteBlackRun(t,r,o,a),h=1,f=t-(o-t);f<0?(h=t/(t-f),f=0):f>=this.image.getWidth()&&(h=(this.image.getWidth()-1-t)/(f-t),f=this.image.getWidth()-1);let m=Math.floor(r-(a-r)*h);return h=1,m<0?(h=r/(r-m),m=0):m>=this.image.getHeight()&&(h=(this.image.getHeight()-1-r)/(m-r),m=this.image.getHeight()-1),f=Math.floor(t+(f-t)*h),l+=this.sizeOfBlackWhiteBlackRun(t,r,f,m),l-1}sizeOfBlackWhiteBlackRun(t,r,o,a){const l=Math.abs(a-r)>Math.abs(o-t);if(l){let R=t;t=r,r=R,R=o,o=a,a=R}const h=Math.abs(o-t),f=Math.abs(a-r);let m=-h/2;const x=t<o?1:-1,C=r<a?1:-1;let I=0;const T=o+x;for(let R=t,F=r;R!==T;R+=x){const z=l?F:R,Z=l?R:F;if(I===1===this.image.get(z,Z)){if(I===2)return qe.distance(R,F,t,r);I++}if(m+=f,m>0){if(F===a)break;F+=C,m-=h}}return I===2?qe.distance(o+x,a,t,r):NaN}findAlignmentInRegion(t,r,o,a){const l=Math.floor(a*t),h=Math.max(0,r-l),f=Math.min(this.image.getWidth()-1,r+l);if(f-h<t*3)throw new q("Alignment top exceeds estimated module size.");const m=Math.max(0,o-l),x=Math.min(this.image.getHeight()-1,o+l);if(x-m<t*3)throw new q("Alignment bottom exceeds estimated module size.");return new ni(this.image,h,m,f-h,x-m,t,this.resultPointCallback).find()}}class qt{constructor(){this.decoder=new Co}getDecoder(){return this.decoder}decode(t,r){let o,a;if(r!=null&&r.get(ae.PURE_BARCODE)!==void 0){const m=qt.extractPureBits(t.getBlackMatrix());o=this.decoder.decodeBitMatrix(m,r),a=qt.NO_POINTS}else{const m=new Fe(t.getBlackMatrix()).detect(r);o=this.decoder.decodeBitMatrix(m.getBits(),r),a=m.getPoints()}o.getOther()instanceof as&&o.getOther().applyMirroredCorrection(a);const l=new je(o.getText(),o.getRawBytes(),void 0,a,le.QR_CODE,void 0),h=o.getByteSegments();h!==null&&l.putMetadata(dt.BYTE_SEGMENTS,h);const f=o.getECLevel();return f!==null&&l.putMetadata(dt.ERROR_CORRECTION_LEVEL,f),o.hasStructuredAppend()&&(l.putMetadata(dt.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),l.putMetadata(dt.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),l}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),o=t.getBottomRightOnBit();if(r===null||o===null)throw new q;const a=this.moduleSize(r,t);let l=r[1],h=o[1],f=r[0],m=o[0];if(f>=m||l>=h)throw new q;if(h-l!==m-f&&(m=f+(h-l),m>=t.getWidth()))throw new q;const x=Math.round((m-f+1)/a),C=Math.round((h-l+1)/a);if(x<=0||C<=0)throw new q;if(C!==x)throw new q;const I=Math.floor(a/2);l+=I,f+=I;const T=f+Math.floor((x-1)*a)-m;if(T>0){if(T>I)throw new q;f-=T}const R=l+Math.floor((C-1)*a)-h;if(R>0){if(R>I)throw new q;l-=R}const F=new Le(x,C);for(let z=0;z<C;z++){const Z=l+Math.floor(z*a);for(let X=0;X<x;X++)t.get(f+Math.floor(X*a),Z)&&F.set(X,z)}return F}static moduleSize(t,r){const o=r.getHeight(),a=r.getWidth();let l=t[0],h=t[1],f=!0,m=0;for(;l<a&&h<o;){if(f!==r.get(l,h)){if(++m===5)break;f=!f}l++,h++}if(l===a||h===o)throw new q;return(l-t[0])/7}}qt.NO_POINTS=new Array;class xe{PDF417Common(){}static getBitCountSum(t){return qe.sum(t)}static toIntArray(t){if(t==null||!t.length)return xe.EMPTY_INT_ARRAY;const r=new Int32Array(t.length);let o=0;for(const a of t)r[o++]=a;return r}static getCodeword(t){const r=D.binarySearch(xe.SYMBOL_TABLE,t&262143);return r<0?-1:(xe.CODEWORD_TABLE[r]-1)%xe.NUMBER_OF_CODEWORDS}}xe.NUMBER_OF_CODEWORDS=929,xe.MAX_CODEWORDS_IN_BARCODE=xe.NUMBER_OF_CODEWORDS-1,xe.MIN_ROWS_IN_BARCODE=3,xe.MAX_ROWS_IN_BARCODE=90,xe.MODULES_IN_CODEWORD=17,xe.MODULES_IN_STOP_PATTERN=18,xe.BARS_IN_MODULE=8,xe.EMPTY_INT_ARRAY=new Int32Array([]),xe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),xe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ta{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Ue{static detectMultiple(t,r,o){let a=t.getBlackMatrix(),l=Ue.detect(o,a);return l.length||(a=a.clone(),a.rotate180(),l=Ue.detect(o,a)),new Ta(a,l)}static detect(t,r){const o=new Array;let a=0,l=0,h=!1;for(;a<r.getHeight();){const f=Ue.findVertices(r,a,l);if(f[0]==null&&f[3]==null){if(!h)break;h=!1,l=0;for(const m of o)m[1]!=null&&(a=Math.trunc(Math.max(a,m[1].getY()))),m[3]!=null&&(a=Math.max(a,Math.trunc(m[3].getY())));a+=Ue.ROW_STEP;continue}if(h=!0,o.push(f),!t)break;f[2]!=null?(l=Math.trunc(f[2].getX()),a=Math.trunc(f[2].getY())):(l=Math.trunc(f[4].getX()),a=Math.trunc(f[4].getY()))}return o}static findVertices(t,r,o){const a=t.getHeight(),l=t.getWidth(),h=new Array(8);return Ue.copyToResult(h,Ue.findRowsWithPattern(t,a,l,r,o,Ue.START_PATTERN),Ue.INDEXES_START_PATTERN),h[4]!=null&&(o=Math.trunc(h[4].getX()),r=Math.trunc(h[4].getY())),Ue.copyToResult(h,Ue.findRowsWithPattern(t,a,l,r,o,Ue.STOP_PATTERN),Ue.INDEXES_STOP_PATTERN),h}static copyToResult(t,r,o){for(let a=0;a<o.length;a++)t[o[a]]=r[a]}static findRowsWithPattern(t,r,o,a,l,h){const f=new Array(4);let m=!1;const x=new Int32Array(h.length);for(;a<r;a+=Ue.ROW_STEP){let I=Ue.findGuardPattern(t,l,a,o,!1,h,x);if(I!=null){for(;a>0;){const T=Ue.findGuardPattern(t,l,--a,o,!1,h,x);if(T!=null)I=T;else{a++;break}}f[0]=new Ce(I[0],a),f[1]=new Ce(I[1],a),m=!0;break}}let C=a+1;if(m){let I=0,T=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;C<r;C++){const R=Ue.findGuardPattern(t,T[0],C,o,!1,h,x);if(R!=null&&Math.abs(T[0]-R[0])<Ue.MAX_PATTERN_DRIFT&&Math.abs(T[1]-R[1])<Ue.MAX_PATTERN_DRIFT)T=R,I=0;else{if(I>Ue.SKIPPED_ROW_COUNT_MAX)break;I++}}C-=I+1,f[2]=new Ce(T[0],C),f[3]=new Ce(T[1],C)}return C-a<Ue.BARCODE_MIN_HEIGHT&&D.fill(f,null),f}static findGuardPattern(t,r,o,a,l,h,f){D.fillWithin(f,0,f.length,0);let m=r,x=0;for(;t.get(m,o)&&m>0&&x++<Ue.MAX_PIXEL_DRIFT;)m--;let C=m,I=0,T=h.length;for(let R=l;C<a;C++)if(t.get(C,o)!==R)f[I]++;else{if(I===T-1){if(Ue.patternMatchVariance(f,h,Ue.MAX_INDIVIDUAL_VARIANCE)<Ue.MAX_AVG_VARIANCE)return new Int32Array([m,C]);m+=f[0]+f[1],H.arraycopy(f,2,f,0,I-1),f[I-1]=0,f[I]=0,I--}else I++;f[I]=1,R=!R}return I===T-1&&Ue.patternMatchVariance(f,h,Ue.MAX_INDIVIDUAL_VARIANCE)<Ue.MAX_AVG_VARIANCE?new Int32Array([m,C-1]):null}static patternMatchVariance(t,r,o){let a=t.length,l=0,h=0;for(let x=0;x<a;x++)l+=t[x],h+=r[x];if(l<h)return 1/0;let f=l/h;o*=f;let m=0;for(let x=0;x<a;x++){let C=t[x],I=r[x]*f,T=C>I?C-I:I-C;if(T>o)return 1/0;m+=T}return m/l}}Ue.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ue.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ue.MAX_AVG_VARIANCE=.42,Ue.MAX_INDIVIDUAL_VARIANCE=.8,Ue.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ue.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ue.MAX_PIXEL_DRIFT=3,Ue.MAX_PATTERN_DRIFT=5,Ue.SKIPPED_ROW_COUNT_MAX=25,Ue.ROW_STEP=5,Ue.BARCODE_MIN_HEIGHT=10;class Zt{constructor(t,r){if(r.length===0)throw new k;this.field=t;let o=r.length;if(o>1&&r[0]===0){let a=1;for(;a<o&&r[a]===0;)a++;a===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-a),H.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let a=0;for(let l of this.coefficients)a=this.field.add(a,l);return a}let r=this.coefficients[0],o=this.coefficients.length;for(let a=1;a<o;a++)r=this.field.add(this.field.multiply(t,r),this.coefficients[a]);return r}add(t){if(!this.field.equals(t.field))throw new k("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,o=t.coefficients;if(r.length>o.length){let h=r;r=o,o=h}let a=new Int32Array(o.length),l=o.length-r.length;H.arraycopy(o,0,a,0,l);for(let h=l;h<o.length;h++)a[h]=this.field.add(r[h-l],o[h]);return new Zt(this.field,a)}subtract(t){if(!this.field.equals(t.field))throw new k("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Zt?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new k("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Zt(this.field,new Int32Array([0]));let r=this.coefficients,o=r.length,a=t.coefficients,l=a.length,h=new Int32Array(o+l-1);for(let f=0;f<o;f++){let m=r[f];for(let x=0;x<l;x++)h[f+x]=this.field.add(h[f+x],this.field.multiply(m,a[x]))}return new Zt(this.field,h)}negative(){let t=this.coefficients.length,r=new Int32Array(t);for(let o=0;o<t;o++)r[o]=this.field.subtract(0,this.coefficients[o]);return new Zt(this.field,r)}multiplyScalar(t){if(t===0)return new Zt(this.field,new Int32Array([0]));if(t===1)return this;let r=this.coefficients.length,o=new Int32Array(r);for(let a=0;a<r;a++)o[a]=this.field.multiply(this.coefficients[a],t);return new Zt(this.field,o)}multiplyByMonomial(t,r){if(t<0)throw new k;if(r===0)return new Zt(this.field,new Int32Array([0]));let o=this.coefficients.length,a=new Int32Array(o+t);for(let l=0;l<o;l++)a[l]=this.field.multiply(this.coefficients[l],r);return new Zt(this.field,a)}toString(){let t=new Ze;for(let r=this.getDegree();r>=0;r--){let o=this.getCoefficient(r);o!==0&&(o<0?(t.append(" - "),o=-o):t.length()>0&&t.append(" + "),(r===0||o!==1)&&t.append(o),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()}}class Ao{add(t,r){return(t+r)%this.modulus}subtract(t,r){return(this.modulus+t-r)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new k;return this.logTable[t]}inverse(t){if(t===0)throw new Wn;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class Sr extends Ao{constructor(t,r){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let o=1;for(let a=0;a<t;a++)this.expTable[a]=o,o=o*r%t;for(let a=0;a<t-1;a++)this.logTable[this.expTable[a]]=a;this.zero=new Zt(this,new Int32Array([0])),this.one=new Zt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new k;if(r===0)return this.zero;let o=new Int32Array(t+1);return o[0]=r,new Zt(this,o)}}Sr.PDF417_GF=new Sr(xe.NUMBER_OF_CODEWORDS,3);class Ts{constructor(){this.field=Sr.PDF417_GF}decode(t,r,o){let a=new Zt(this.field,t),l=new Int32Array(r),h=!1;for(let F=r;F>0;F--){let z=a.evaluateAt(this.field.exp(F));l[r-F]=z,z!==0&&(h=!0)}if(!h)return 0;let f=this.field.getOne();if(o!=null)for(const F of o){let z=this.field.exp(t.length-1-F),Z=new Zt(this.field,new Int32Array([this.field.subtract(0,z),1]));f=f.multiply(Z)}let m=new Zt(this.field,l),x=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),m,r),C=x[0],I=x[1],T=this.findErrorLocations(C),R=this.findErrorMagnitudes(I,C,T);for(let F=0;F<T.length;F++){let z=t.length-1-this.field.log(T[F]);if(z<0)throw Y.getChecksumInstance();t[z]=this.field.subtract(t[z],R[F])}return T.length}runEuclideanAlgorithm(t,r,o){if(t.getDegree()<r.getDegree()){let T=t;t=r,r=T}let a=t,l=r,h=this.field.getZero(),f=this.field.getOne();for(;l.getDegree()>=Math.round(o/2);){let T=a,R=h;if(a=l,h=f,a.isZero())throw Y.getChecksumInstance();l=T;let F=this.field.getZero(),z=a.getCoefficient(a.getDegree()),Z=this.field.inverse(z);for(;l.getDegree()>=a.getDegree()&&!l.isZero();){let X=l.getDegree()-a.getDegree(),ue=this.field.multiply(l.getCoefficient(l.getDegree()),Z);F=F.add(this.field.buildMonomial(X,ue)),l=l.subtract(a.multiplyByMonomial(X,ue))}f=F.multiply(h).subtract(R).negative()}let m=f.getCoefficient(0);if(m===0)throw Y.getChecksumInstance();let x=this.field.inverse(m),C=f.multiply(x),I=l.multiply(x);return[C,I]}findErrorLocations(t){let r=t.getDegree(),o=new Int32Array(r),a=0;for(let l=1;l<this.field.getSize()&&a<r;l++)t.evaluateAt(l)===0&&(o[a]=this.field.inverse(l),a++);if(a!==r)throw Y.getChecksumInstance();return o}findErrorMagnitudes(t,r,o){let a=r.getDegree(),l=new Int32Array(a);for(let x=1;x<=a;x++)l[a-x]=this.field.multiply(x,r.getCoefficient(x));let h=new Zt(this.field,l),f=o.length,m=new Int32Array(f);for(let x=0;x<f;x++){let C=this.field.inverse(o[x]),I=this.field.subtract(0,t.evaluateAt(C)),T=this.field.inverse(h.evaluateAt(C));m[x]=this.field.multiply(I,T)}return m}}class Yn{constructor(t,r,o,a,l){t instanceof Yn?this.constructor_2(t):this.constructor_1(t,r,o,a,l)}constructor_1(t,r,o,a,l){const h=r==null||o==null,f=a==null||l==null;if(h&&f)throw new q;h?(r=new Ce(0,a.getY()),o=new Ce(0,l.getY())):f&&(a=new Ce(t.getWidth()-1,r.getY()),l=new Ce(t.getWidth()-1,o.getY())),this.image=t,this.topLeft=r,this.bottomLeft=o,this.topRight=a,this.bottomRight=l,this.minX=Math.trunc(Math.min(r.getX(),o.getX())),this.maxX=Math.trunc(Math.max(a.getX(),l.getX())),this.minY=Math.trunc(Math.min(r.getY(),a.getY())),this.maxY=Math.trunc(Math.max(o.getY(),l.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,r){return t==null?r:r==null?t:new Yn(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(t,r,o){let a=this.topLeft,l=this.bottomLeft,h=this.topRight,f=this.bottomRight;if(t>0){let m=o?this.topLeft:this.topRight,x=Math.trunc(m.getY()-t);x<0&&(x=0);let C=new Ce(m.getX(),x);o?a=C:h=C}if(r>0){let m=o?this.bottomLeft:this.bottomRight,x=Math.trunc(m.getY()+r);x>=this.image.getHeight()&&(x=this.image.getHeight()-1);let C=new Ce(m.getX(),x);o?l=C:f=C}return new Yn(this.image,a,l,h,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Jt{constructor(t,r,o,a){this.columnCount=t,this.errorCorrectionLevel=a,this.rowCountUpperPart=r,this.rowCountLowerPart=o,this.rowCount=r+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Xn{constructor(){this.buffer=""}static form(t,r){let o=-1;function a(h,f,m,x,C,I){if(h==="%%")return"%";if(r[++o]===void 0)return;h=x?parseInt(x.substr(1)):void 0;let T=C?parseInt(C.substr(1)):void 0,R;switch(I){case"s":R=r[o];break;case"c":R=r[o][0];break;case"f":R=parseFloat(r[o]).toFixed(h);break;case"p":R=parseFloat(r[o]).toPrecision(h);break;case"e":R=parseFloat(r[o]).toExponential(h);break;case"x":R=parseInt(r[o]).toString(T||16);break;case"d":R=parseFloat(parseInt(r[o],T||10).toPrecision(h)).toFixed(0);break}R=typeof R=="object"?JSON.stringify(R):(+R).toString(T);let F=parseInt(m),z=m&&m[0]+""=="0"?"0":" ";for(;R.length<F;)R=f!==void 0?R+z:z+R;return R}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,a)}format(t,...r){this.buffer+=Xn.form(t,r)}toString(){return this.buffer}}class Ai{constructor(t){this.boundingBox=new Yn(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let r=this.getCodeword(t);if(r!=null)return r;for(let o=1;o<Ai.MAX_NEARBY_DISTANCE;o++){let a=this.imageRowToCodewordIndex(t)-o;if(a>=0&&(r=this.codewords[a],r!=null)||(a=this.imageRowToCodewordIndex(t)+o,a<this.codewords.length&&(r=this.codewords[a],r!=null)))return r}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Xn;let r=0;for(const o of this.codewords){if(o==null){t.format("%3d:    |   %n",r++);continue}t.format("%3d: %3d|%3d%n",r++,o.getRowNumber(),o.getValue())}return t.toString()}}Ai.MAX_NEARBY_DISTANCE=5;class Si{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)}getValue(){let t=-1,r=new Array;for(const[o,a]of this.values.entries()){const l={getKey:()=>o,getValue:()=>a};l.getValue()>t?(t=l.getValue(),r=[],r.push(l.getKey())):l.getValue()===t&&r.push(l.getKey())}return xe.toIntArray(r)}getConfidence(t){return this.values.get(t)}}class Na extends Ai{constructor(t,r){super(t),this._isLeft=r}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);let o=this.getBoundingBox(),a=this._isLeft?o.getTopLeft():o.getTopRight(),l=this._isLeft?o.getBottomLeft():o.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),m=-1,x=1,C=0;for(let I=h;I<f;I++){if(r[I]==null)continue;let T=r[I],R=T.getRowNumber()-m;if(R===0)C++;else if(R===1)x=Math.max(x,C),C=1,m=T.getRowNumber();else if(R<0||T.getRowNumber()>=t.getRowCount()||R>I)r[I]=null;else{let F;x>2?F=(x-2)*R:F=R;let z=F>=I;for(let Z=1;Z<=F&&!z;Z++)z=r[I-Z]!=null;z?r[I]=null:(m=T.getRowNumber(),C=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let r=new Int32Array(t.getRowCount());for(let o of this.getCodewords())if(o!=null){let a=o.getRowNumber();if(a>=r.length)continue;r[a]++}return r}adjustIncompleteIndicatorColumnRowNumbers(t){let r=this.getBoundingBox(),o=this._isLeft?r.getTopLeft():r.getTopRight(),a=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),h=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.getCodewords(),m=-1;for(let x=l;x<h;x++){if(f[x]==null)continue;let C=f[x];C.setRowNumberAsRowIndicatorColumn();let I=C.getRowNumber()-m;I===0||(I===1?m=C.getRowNumber():C.getRowNumber()>=t.getRowCount()?f[x]=null:m=C.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),r=new Si,o=new Si,a=new Si,l=new Si;for(let f of t){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let m=f.getValue()%30,x=f.getRowNumber();switch(this._isLeft||(x+=2),x%3){case 0:o.setValue(m*3+1);break;case 1:l.setValue(m/3),a.setValue(m%3);break;case 2:r.setValue(m+1);break}}if(r.getValue().length===0||o.getValue().length===0||a.getValue().length===0||l.getValue().length===0||r.getValue()[0]<1||o.getValue()[0]+a.getValue()[0]<xe.MIN_ROWS_IN_BARCODE||o.getValue()[0]+a.getValue()[0]>xe.MAX_ROWS_IN_BARCODE)return null;let h=new Jt(r.getValue()[0],o.getValue()[0],a.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(t,h),h}removeIncorrectCodewords(t,r){for(let o=0;o<t.length;o++){let a=t[o];if(t[o]==null)continue;let l=a.getValue()%30,h=a.getRowNumber();if(h>r.getRowCount()){t[o]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:l*3+1!==r.getRowCountUpperPart()&&(t[o]=null);break;case 1:(Math.trunc(l/3)!==r.getErrorCorrectionLevel()||l%3!==r.getRowCountLowerPart())&&(t[o]=null);break;case 2:l+1!==r.getColumnCount()&&(t[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class bi{constructor(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=xe.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let o=this.detectionResultColumns[r].getCodewords();for(let a=0;a<o.length;a++)o[a]!=null&&(o[a].hasValidRowNumber()||this.adjustRowNumbers(r,a,o))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<t.length;o++)if(t[o]!=null&&r[o]!=null&&t[o].getRowNumber()===r[o].getRowNumber())for(let a=1;a<=this.barcodeColumnCount;a++){let l=this.detectionResultColumns[a].getCodewords()[o];l!=null&&(l.setRowNumber(t[o].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<r.length;o++){if(r[o]==null)continue;let a=r[o].getRowNumber(),l=0;for(let h=this.barcodeColumnCount+1;h>0&&l<this.ADJUST_ROW_NUMBER_SKIP;h--){let f=this.detectionResultColumns[h].getCodewords()[o];f!=null&&(l=bi.adjustRowNumberIfValid(a,l,f),f.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,r=this.detectionResultColumns[0].getCodewords();for(let o=0;o<r.length;o++){if(r[o]==null)continue;let a=r[o].getRowNumber(),l=0;for(let h=1;h<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;h++){let f=this.detectionResultColumns[h].getCodewords()[o];f!=null&&(l=bi.adjustRowNumberIfValid(a,l,f),f.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,r,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(t)?(o.setRowNumber(t),r=0):++r),r}adjustRowNumbers(t,r,o){if(!this.detectionResultColumns[t-1])return;let a=o[r],l=this.detectionResultColumns[t-1].getCodewords(),h=l;this.detectionResultColumns[t+1]!=null&&(h=this.detectionResultColumns[t+1].getCodewords());let f=new Array(14);f[2]=l[r],f[3]=h[r],r>0&&(f[0]=o[r-1],f[4]=l[r-1],f[5]=h[r-1]),r>1&&(f[8]=o[r-2],f[10]=l[r-2],f[11]=h[r-2]),r<o.length-1&&(f[1]=o[r+1],f[6]=l[r+1],f[7]=h[r+1]),r<o.length-2&&(f[9]=o[r+2],f[12]=l[r+2],f[13]=h[r+2]);for(let m of f)if(bi.adjustRowNumber(a,m))return}static adjustRowNumber(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,r){this.detectionResultColumns[t]=r}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new Xn;for(let o=0;o<t.getCodewords().length;o++){r.format("CW %3d:",o);for(let a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){r.format("    |   ");continue}let l=this.detectionResultColumns[a].getCodewords()[o];if(l==null){r.format("    |   ");continue}r.format(" %3d|%3d",l.getRowNumber(),l.getValue())}r.format("%n")}return r.toString()}}class ri{constructor(t,r,o,a){this.rowNumber=ri.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(o),this.value=Math.trunc(a)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==ri.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}ri.BARCODE_ROW_UNKNOWN=-1;class _n{static initialize(){for(let t=0;t<xe.SYMBOL_TABLE.length;t++){let r=xe.SYMBOL_TABLE[t],o=r&1;for(let a=0;a<xe.BARS_IN_MODULE;a++){let l=0;for(;(r&1)===o;)l+=1,r>>=1;o=r&1,_n.RATIOS_TABLE[t]||(_n.RATIOS_TABLE[t]=new Array(xe.BARS_IN_MODULE)),_n.RATIOS_TABLE[t][xe.BARS_IN_MODULE-a-1]=Math.fround(l/xe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let r=_n.getDecodedCodewordValue(_n.sampleBitCounts(t));return r!==-1?r:_n.getClosestDecodedValue(t)}static sampleBitCounts(t){let r=qe.sum(t),o=new Int32Array(xe.BARS_IN_MODULE),a=0,l=0;for(let h=0;h<xe.MODULES_IN_CODEWORD;h++){let f=r/(2*xe.MODULES_IN_CODEWORD)+h*r/xe.MODULES_IN_CODEWORD;l+t[a]<=f&&(l+=t[a],a++),o[a]++}return o}static getDecodedCodewordValue(t){let r=_n.getBitValue(t);return xe.getCodeword(r)===-1?-1:r}static getBitValue(t){let r=0;for(let o=0;o<t.length;o++)for(let a=0;a<t[o];a++)r=r<<1|(o%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(t){let r=qe.sum(t),o=new Array(xe.BARS_IN_MODULE);if(r>1)for(let h=0;h<o.length;h++)o[h]=Math.fround(t[h]/r);let a=Fr.MAX_VALUE,l=-1;this.bSymbolTableReady||_n.initialize();for(let h=0;h<_n.RATIOS_TABLE.length;h++){let f=0,m=_n.RATIOS_TABLE[h];for(let x=0;x<xe.BARS_IN_MODULE;x++){let C=Math.fround(m[x]-o[x]);if(f+=Math.fround(C*C),f>=a)break}f<a&&(a=f,l=xe.SYMBOL_TABLE[h])}return l}}_n.bSymbolTableReady=!1,_n.RATIOS_TABLE=new Array(xe.SYMBOL_TABLE.length).map(b=>new Array(xe.BARS_IN_MODULE));class So{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class $e{static parseLong(t,r=void 0){return parseInt(t,r)}}class Ma extends v{}Ma.kind="NullPointerException";class Qn{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,r,o){if(t==null)throw new Ma;if(r<0||r>t.length||o<0||r+o>t.length||r+o<0)throw new ye;if(o===0)return;for(let a=0;a<o;a++)this.write(t[r+a])}flush(){}close(){}}class us extends v{}class Oa extends Qn{constructor(t=32){if(super(),this.count=0,t<0)throw new k("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let o=this.buf.length<<1;if(o-t<0&&(o=t),o<0){if(t<0)throw new us;o=P.MAX_VALUE}this.buf=D.copyOfUint8Array(this.buf,o)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,r,o){if(r<0||r>t.length||o<0||r+o-t.length>0)throw new ye;this.ensureCapacity(this.count+o),H.arraycopy(t,r,this.buf,this.count,o),this.count+=o}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return D.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var ct;(function(b){b[b.ALPHA=0]="ALPHA",b[b.LOWER=1]="LOWER",b[b.MIXED=2]="MIXED",b[b.PUNCT=3]="PUNCT",b[b.ALPHA_SHIFT=4]="ALPHA_SHIFT",b[b.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ct||(ct={}));function Ns(){if(typeof window<"u")return window.BigInt||null;if(typeof Ds<"u")return Ds.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ms;function br(b){if(typeof Ms>"u"&&(Ms=Ns()),Ms===null)throw new Error("BigInt is not supported!");return Ms(b)}function mu(){let b=[];b[0]=br(1);let t=br(900);b[1]=t;for(let r=2;r<16;r++)b[r]=b[r-1]*t;return b}class Q{static decode(t,r){let o=new Ze(""),a=$.ISO8859_1;o.enableDecoding(a);let l=1,h=t[l++],f=new So;for(;l<t[0];){switch(h){case Q.TEXT_COMPACTION_MODE_LATCH:l=Q.textCompaction(t,l,o);break;case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:l=Q.byteCompaction(h,t,a,l,o);break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(t[l++]);break;case Q.NUMERIC_COMPACTION_MODE_LATCH:l=Q.numericCompaction(t,l,o);break;case Q.ECI_CHARSET:$.getCharacterSetECIByValue(t[l++]);break;case Q.ECI_GENERAL_PURPOSE:l+=2;break;case Q.ECI_USER_DEFINED:l++;break;case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=Q.decodeMacroBlock(t,l,f);break;case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:throw new V;default:l--,l=Q.textCompaction(t,l,o);break}if(l<t.length)h=t[l++];else throw V.getFormatInstance()}if(o.length()===0)throw V.getFormatInstance();let m=new Br(null,o.toString(),null,r);return m.setOther(f),m}static decodeMacroBlock(t,r,o){if(r+Q.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw V.getFormatInstance();let a=new Int32Array(Q.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<Q.NUMBER_OF_SEQUENCE_CODEWORDS;f++,r++)a[f]=t[r];o.setSegmentIndex(P.parseInt(Q.decodeBase900toBase10(a,Q.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new Ze;r=Q.textCompaction(t,r,l),o.setFileId(l.toString());let h=-1;for(t[r]===Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=r+1);r<t[0];)switch(t[r]){case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new Ze;r=Q.textCompaction(t,r+1,f),o.setFileName(f.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let m=new Ze;r=Q.textCompaction(t,r+1,m),o.setSender(m.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let x=new Ze;r=Q.textCompaction(t,r+1,x),o.setAddressee(x.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new Ze;r=Q.numericCompaction(t,r+1,C),o.setSegmentCount(P.parseInt(C.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let I=new Ze;r=Q.numericCompaction(t,r+1,I),o.setTimestamp($e.parseLong(I.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let T=new Ze;r=Q.numericCompaction(t,r+1,T),o.setChecksum(P.parseInt(T.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let R=new Ze;r=Q.numericCompaction(t,r+1,R),o.setFileSize($e.parseLong(R.toString()));break;default:throw V.getFormatInstance()}break;case Q.MACRO_PDF417_TERMINATOR:r++,o.setLastSegment(!0);break;default:throw V.getFormatInstance()}if(h!==-1){let f=r-h;o.isLastSegment()&&f--,o.setOptionalData(D.copyOfRange(t,h,h+f))}return r}static textCompaction(t,r,o){let a=new Int32Array((t[0]-r)*2),l=new Int32Array((t[0]-r)*2),h=0,f=!1;for(;r<t[0]&&!f;){let m=t[r++];if(m<Q.TEXT_COMPACTION_MODE_LATCH)a[h]=m/30,a[h+1]=m%30,h+=2;else switch(m){case Q.TEXT_COMPACTION_MODE_LATCH:a[h++]=Q.TEXT_COMPACTION_MODE_LATCH;break;case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:r--,f=!0;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[h]=Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,m=t[r++],l[h]=m,h++;break}}return Q.decodeTextCompaction(a,l,h,o),r}static decodeTextCompaction(t,r,o,a){let l=ct.ALPHA,h=ct.ALPHA,f=0;for(;f<o;){let m=t[f],x="";switch(l){case ct.ALPHA:if(m<26)x=String.fromCharCode(65+m);else switch(m){case 26:x=" ";break;case Q.LL:l=ct.LOWER;break;case Q.ML:l=ct.MIXED;break;case Q.PS:h=l,l=ct.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[f]);break;case Q.TEXT_COMPACTION_MODE_LATCH:l=ct.ALPHA;break}break;case ct.LOWER:if(m<26)x=String.fromCharCode(97+m);else switch(m){case 26:x=" ";break;case Q.AS:h=l,l=ct.ALPHA_SHIFT;break;case Q.ML:l=ct.MIXED;break;case Q.PS:h=l,l=ct.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[f]);break;case Q.TEXT_COMPACTION_MODE_LATCH:l=ct.ALPHA;break}break;case ct.MIXED:if(m<Q.PL)x=Q.MIXED_CHARS[m];else switch(m){case Q.PL:l=ct.PUNCT;break;case 26:x=" ";break;case Q.LL:l=ct.LOWER;break;case Q.AL:l=ct.ALPHA;break;case Q.PS:h=l,l=ct.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[f]);break;case Q.TEXT_COMPACTION_MODE_LATCH:l=ct.ALPHA;break}break;case ct.PUNCT:if(m<Q.PAL)x=Q.PUNCT_CHARS[m];else switch(m){case Q.PAL:l=ct.ALPHA;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[f]);break;case Q.TEXT_COMPACTION_MODE_LATCH:l=ct.ALPHA;break}break;case ct.ALPHA_SHIFT:if(l=h,m<26)x=String.fromCharCode(65+m);else switch(m){case 26:x=" ";break;case Q.TEXT_COMPACTION_MODE_LATCH:l=ct.ALPHA;break}break;case ct.PUNCT_SHIFT:if(l=h,m<Q.PAL)x=Q.PUNCT_CHARS[m];else switch(m){case Q.PAL:l=ct.ALPHA;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[f]);break;case Q.TEXT_COMPACTION_MODE_LATCH:l=ct.ALPHA;break}break}x!==""&&a.append(x),f++}}static byteCompaction(t,r,o,a,l){let h=new Oa,f=0,m=0,x=!1;switch(t){case Q.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),I=r[a++];for(;a<r[0]&&!x;)switch(C[f++]=I,m=900*m+I,I=r[a++],I){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:a--,x=!0;break;default:if(f%5===0&&f>0){for(let T=0;T<6;++T)h.write(Number(br(m)>>br(8*(5-T))));m=0,f=0}break}a===r[0]&&I<Q.TEXT_COMPACTION_MODE_LATCH&&(C[f++]=I);for(let T=0;T<f;T++)h.write(C[T]);break;case Q.BYTE_COMPACTION_MODE_LATCH_6:for(;a<r[0]&&!x;){let T=r[a++];if(T<Q.TEXT_COMPACTION_MODE_LATCH)f++,m=900*m+T;else switch(T){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:a--,x=!0;break}if(f%5===0&&f>0){for(let R=0;R<6;++R)h.write(Number(br(m)>>br(8*(5-R))));m=0,f=0}}break}return l.append(Re.decode(h.toByteArray(),o)),a}static numericCompaction(t,r,o){let a=0,l=!1,h=new Int32Array(Q.MAX_NUMERIC_CODEWORDS);for(;r<t[0]&&!l;){let f=t[r++];if(r===t[0]&&(l=!0),f<Q.TEXT_COMPACTION_MODE_LATCH)h[a]=f,a++;else switch(f){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:r--,l=!0;break}(a%Q.MAX_NUMERIC_CODEWORDS===0||f===Q.NUMERIC_COMPACTION_MODE_LATCH||l)&&a>0&&(o.append(Q.decodeBase900toBase10(h,a)),a=0)}return r}static decodeBase900toBase10(t,r){let o=br(0);for(let l=0;l<r;l++)o+=Q.EXP900[r-l-1]*br(t[l]);let a=o.toString();if(a.charAt(0)!=="1")throw new V;return a.substring(1)}}Q.TEXT_COMPACTION_MODE_LATCH=900,Q.BYTE_COMPACTION_MODE_LATCH=901,Q.NUMERIC_COMPACTION_MODE_LATCH=902,Q.BYTE_COMPACTION_MODE_LATCH_6=924,Q.ECI_USER_DEFINED=925,Q.ECI_GENERAL_PURPOSE=926,Q.ECI_CHARSET=927,Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Q.MACRO_PDF417_TERMINATOR=922,Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Q.MAX_NUMERIC_CODEWORDS=15,Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Q.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Q.PL=25,Q.LL=27,Q.AS=27,Q.ML=28,Q.AL=28,Q.PS=29,Q.PAL=29,Q.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Q.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Q.EXP900=Ns()?mu():[],Q.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ve{constructor(){}static decode(t,r,o,a,l,h,f){let m=new Yn(t,r,o,a,l),x=null,C=null,I;for(let F=!0;;F=!1){if(r!=null&&(x=Ve.getRowIndicatorColumn(t,m,r,!0,h,f)),a!=null&&(C=Ve.getRowIndicatorColumn(t,m,a,!1,h,f)),I=Ve.merge(x,C),I==null)throw q.getNotFoundInstance();let z=I.getBoundingBox();if(F&&z!=null&&(z.getMinY()<m.getMinY()||z.getMaxY()>m.getMaxY()))m=z;else break}I.setBoundingBox(m);let T=I.getBarcodeColumnCount()+1;I.setDetectionResultColumn(0,x),I.setDetectionResultColumn(T,C);let R=x!=null;for(let F=1;F<=T;F++){let z=R?F:T-F;if(I.getDetectionResultColumn(z)!==void 0)continue;let Z;z===0||z===T?Z=new Na(m,z===0):Z=new Ai(m),I.setDetectionResultColumn(z,Z);let X=-1,ue=X;for(let ce=m.getMinY();ce<=m.getMaxY();ce++){if(X=Ve.getStartColumn(I,z,ce,R),X<0||X>m.getMaxX()){if(ue===-1)continue;X=ue}let se=Ve.detectCodeword(t,m.getMinX(),m.getMaxX(),R,X,ce,h,f);se!=null&&(Z.setCodeword(ce,se),ue=X,h=Math.min(h,se.getWidth()),f=Math.max(f,se.getWidth()))}}return Ve.createDecoderResult(I)}static merge(t,r){if(t==null&&r==null)return null;let o=Ve.getBarcodeMetadata(t,r);if(o==null)return null;let a=Yn.merge(Ve.adjustBoundingBox(t),Ve.adjustBoundingBox(r));return new bi(o,a)}static adjustBoundingBox(t){if(t==null)return null;let r=t.getRowHeights();if(r==null)return null;let o=Ve.getMax(r),a=0;for(let f of r)if(a+=o-f,f>0)break;let l=t.getCodewords();for(let f=0;a>0&&l[f]==null;f++)a--;let h=0;for(let f=r.length-1;f>=0&&(h+=o-r[f],!(r[f]>0));f--);for(let f=l.length-1;h>0&&l[f]==null;f--)h--;return t.getBoundingBox().addMissingRows(a,h,t.isLeft())}static getMax(t){let r=-1;for(let o of t)r=Math.max(r,o);return r}static getBarcodeMetadata(t,r){let o;if(t==null||(o=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let a;return r==null||(a=r.getBarcodeMetadata())==null?o:o.getColumnCount()!==a.getColumnCount()&&o.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&o.getRowCount()!==a.getRowCount()?null:o}static getRowIndicatorColumn(t,r,o,a,l,h){let f=new Na(r,a);for(let m=0;m<2;m++){let x=m===0?1:-1,C=Math.trunc(Math.trunc(o.getX()));for(let I=Math.trunc(Math.trunc(o.getY()));I<=r.getMaxY()&&I>=r.getMinY();I+=x){let T=Ve.detectCodeword(t,0,t.getWidth(),a,C,I,l,h);T!=null&&(f.setCodeword(I,T),a?C=T.getStartX():C=T.getEndX())}}return f}static adjustCodewordCount(t,r){let o=r[0][1],a=o.getValue(),l=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-Ve.getNumberOfECCodeWords(t.getBarcodeECLevel());if(a.length===0){if(l<1||l>xe.MAX_CODEWORDS_IN_BARCODE)throw q.getNotFoundInstance();o.setValue(l)}else a[0]!==l&&o.setValue(l)}static createDecoderResult(t){let r=Ve.createBarcodeMatrix(t);Ve.adjustCodewordCount(t,r);let o=new Array,a=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),l=[],h=new Array;for(let m=0;m<t.getBarcodeRowCount();m++)for(let x=0;x<t.getBarcodeColumnCount();x++){let C=r[m][x+1].getValue(),I=m*t.getBarcodeColumnCount()+x;C.length===0?o.push(I):C.length===1?a[I]=C[0]:(h.push(I),l.push(C))}let f=new Array(l.length);for(let m=0;m<f.length;m++)f[m]=l[m];return Ve.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),a,xe.toIntArray(o),xe.toIntArray(h),f)}static createDecoderResultFromAmbiguousValues(t,r,o,a,l){let h=new Int32Array(a.length),f=100;for(;f-- >0;){for(let m=0;m<h.length;m++)r[a[m]]=l[m][h[m]];try{return Ve.decodeCodewords(r,t,o)}catch(m){if(!(m instanceof Y))throw m}if(h.length===0)throw Y.getChecksumInstance();for(let m=0;m<h.length;m++)if(h[m]<l[m].length-1){h[m]++;break}else if(h[m]=0,m===h.length-1)throw Y.getChecksumInstance()}throw Y.getChecksumInstance()}static createBarcodeMatrix(t){let r=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let a=0;a<r.length;a++)for(let l=0;l<r[a].length;l++)r[a][l]=new Si;let o=0;for(let a of t.getDetectionResultColumns()){if(a!=null){for(let l of a.getCodewords())if(l!=null){let h=l.getRowNumber();if(h>=0){if(h>=r.length)continue;r[h][o].setValue(l.getValue())}}}o++}return r}static isValidBarcodeColumn(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1}static getStartColumn(t,r,o,a){let l=a?1:-1,h=null;if(Ve.isValidBarcodeColumn(t,r-l)&&(h=t.getDetectionResultColumn(r-l).getCodeword(o)),h!=null)return a?h.getEndX():h.getStartX();if(h=t.getDetectionResultColumn(r).getCodewordNearby(o),h!=null)return a?h.getStartX():h.getEndX();if(Ve.isValidBarcodeColumn(t,r-l)&&(h=t.getDetectionResultColumn(r-l).getCodewordNearby(o)),h!=null)return a?h.getEndX():h.getStartX();let f=0;for(;Ve.isValidBarcodeColumn(t,r-l);){r-=l;for(let m of t.getDetectionResultColumn(r).getCodewords())if(m!=null)return(a?m.getEndX():m.getStartX())+l*f*(m.getEndX()-m.getStartX());f++}return a?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,r,o,a,l,h,f,m){l=Ve.adjustCodewordStartColumn(t,r,o,a,l,h);let x=Ve.getModuleBitCount(t,r,o,a,l,h);if(x==null)return null;let C,I=qe.sum(x);if(a)C=l+I;else{for(let F=0;F<x.length/2;F++){let z=x[F];x[F]=x[x.length-1-F],x[x.length-1-F]=z}C=l,l=C-I}if(!Ve.checkCodewordSkew(I,f,m))return null;let T=_n.getDecodedValue(x),R=xe.getCodeword(T);return R===-1?null:new ri(l,C,Ve.getCodewordBucketNumber(T),R)}static getModuleBitCount(t,r,o,a,l,h){let f=l,m=new Int32Array(8),x=0,C=a?1:-1,I=a;for(;(a?f<o:f>=r)&&x<m.length;)t.get(f,h)===I?(m[x]++,f+=C):(x++,I=!I);return x===m.length||f===(a?o:r)&&x===m.length-1?m:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,r,o,a,l,h){let f=l,m=a?-1:1;for(let x=0;x<2;x++){for(;(a?f>=r:f<o)&&a===t.get(f,h);){if(Math.abs(l-f)>Ve.CODEWORD_SKEW_SIZE)return l;f+=m}m=-m,a=!a}return f}static checkCodewordSkew(t,r,o){return r-Ve.CODEWORD_SKEW_SIZE<=t&&t<=o+Ve.CODEWORD_SKEW_SIZE}static decodeCodewords(t,r,o){if(t.length===0)throw V.getFormatInstance();let a=1<<r+1,l=Ve.correctErrors(t,o,a);Ve.verifyCodewordCount(t,a);let h=Q.decode(t,""+r);return h.setErrorsCorrected(l),h.setErasures(o.length),h}static correctErrors(t,r,o){if(r!=null&&r.length>o/2+Ve.MAX_ERRORS||o<0||o>Ve.MAX_EC_CODEWORDS)throw Y.getChecksumInstance();return Ve.errorCorrection.decode(t,o,r)}static verifyCodewordCount(t,r){if(t.length<4)throw V.getFormatInstance();let o=t[0];if(o>t.length)throw V.getFormatInstance();if(o===0)if(r<t.length)t[0]=t.length-r;else throw V.getFormatInstance()}static getBitCountForCodeword(t){let r=new Int32Array(8),o=0,a=r.length-1;for(;!((t&1)!==o&&(o=t&1,a--,a<0));)r[a]++,t>>=1;return r}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return Ve.getCodewordBucketNumber(Ve.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let r=new Xn;for(let o=0;o<t.length;o++){r.format("Row %2d: ",o);for(let a=0;a<t[o].length;a++){let l=t[o][a];l.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}r.format("%n")}return r.toString()}}Ve.CODEWORD_SKEW_SIZE=2,Ve.MAX_ERRORS=3,Ve.MAX_EC_CODEWORDS=512,Ve.errorCorrection=new Ts;class $t{decode(t,r=null){let o=$t.decode(t,r,!1);if(o==null||o.length===0||o[0]==null)throw q.getNotFoundInstance();return o[0]}decodeMultiple(t,r=null){try{return $t.decode(t,r,!0)}catch(o){throw o instanceof V||o instanceof Y?q.getNotFoundInstance():o}}static decode(t,r,o){const a=new Array,l=Ue.detectMultiple(t,r,o);for(const h of l.getPoints()){const f=Ve.decode(l.getBits(),h[4],h[5],h[6],h[7],$t.getMinCodewordWidth(h),$t.getMaxCodewordWidth(h)),m=new je(f.getText(),f.getRawBytes(),void 0,h,le.PDF_417);m.putMetadata(dt.ERROR_CORRECTION_LEVEL,f.getECLevel());const x=f.getOther();x!=null&&m.putMetadata(dt.PDF417_EXTRA_METADATA,x),a.push(m)}return a.map(h=>h)}static getMaxWidth(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMinWidth(t,r){return t==null||r==null?P.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max($t.getMaxWidth(t[0],t[4]),$t.getMaxWidth(t[6],t[2])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN),Math.max($t.getMaxWidth(t[1],t[5]),$t.getMaxWidth(t[7],t[3])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min($t.getMinWidth(t[0],t[4]),$t.getMinWidth(t[6],t[2])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN),Math.min($t.getMinWidth(t[1],t[5]),$t.getMinWidth(t[7],t[3])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN)))}reset(){}}class Nn extends v{}Nn.kind="ReaderException";class ka{constructor(t,r){this.verbose=t===!0,r&&this.setHints(r)}decode(t,r){return r&&this.setHints(r),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const r=!c(t)&&t.get(ae.TRY_HARDER)===!0,o=c(t)?null:t.get(ae.POSSIBLE_FORMATS),a=new Array;if(!c(o)){const l=o.some(h=>h===le.UPC_A||h===le.UPC_E||h===le.EAN_13||h===le.EAN_8||h===le.CODABAR||h===le.CODE_39||h===le.CODE_93||h===le.CODE_128||h===le.ITF||h===le.RSS_14||h===le.RSS_EXPANDED);l&&!r&&a.push(new Hr(t,this.verbose)),o.includes(le.QR_CODE)&&a.push(new qt),o.includes(le.DATA_MATRIX)&&a.push(new ut),o.includes(le.AZTEC)&&a.push(new es),o.includes(le.PDF_417)&&a.push(new $t),l&&r&&a.push(new Hr(t,this.verbose))}a.length===0&&(r||a.push(new Hr(t,this.verbose)),a.push(new qt),a.push(new ut),a.push(new es),a.push(new $t),r&&a.push(new Hr(t,this.verbose))),this.readers=a}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new Nn("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(t,this.hints)}catch(o){if(o instanceof Nn)continue}throw new q("No MultiFormat Readers were able to detect the code.")}}class La extends ht{constructor(t=null,r=500){const o=new ka;o.setHints(t),super(o,r)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class Vr extends ht{constructor(t=500){super(new $t,t)}}class Ra extends ht{constructor(t=500){super(new qt,t)}}var Os;(function(b){b[b.ERROR_CORRECTION=0]="ERROR_CORRECTION",b[b.CHARACTER_SET=1]="CHARACTER_SET",b[b.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",b[b.MIN_SIZE=3]="MIN_SIZE",b[b.MAX_SIZE=4]="MAX_SIZE",b[b.MARGIN=5]="MARGIN",b[b.PDF417_COMPACT=6]="PDF417_COMPACT",b[b.PDF417_COMPACTION=7]="PDF417_COMPACTION",b[b.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",b[b.AZTEC_LAYERS=9]="AZTEC_LAYERS",b[b.QR_VERSION=10]="QR_VERSION"})(Os||(Os={}));var Dt=Os;class bo{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new Vt(t,Int32Array.from([1])))}buildGenerator(t){const r=this.cachedGenerators;if(t>=r.length){let o=r[r.length-1];const a=this.field;for(let l=r.length;l<=t;l++){const h=o.multiply(new Vt(a,Int32Array.from([1,a.exp(l-1+a.getGeneratorBase())])));r.push(h),o=h}}return r[t]}encode(t,r){if(r===0)throw new k("No error correction bytes");const o=t.length-r;if(o<=0)throw new k("No data bytes provided");const a=this.buildGenerator(r),l=new Int32Array(o);H.arraycopy(t,0,l,0,o);let h=new Vt(this.field,l);h=h.multiplyByMonomial(r,1);const m=h.divide(a)[1].getCoefficients(),x=r-m.length;for(let C=0;C<x;C++)t[o+C]=0;H.arraycopy(m,0,t,o+x,m.length)}}class It{constructor(){}static applyMaskPenaltyRule1(t){return It.applyMaskPenaltyRule1Internal(t,!0)+It.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let r=0;const o=t.getArray(),a=t.getWidth(),l=t.getHeight();for(let h=0;h<l-1;h++){const f=o[h];for(let m=0;m<a-1;m++){const x=f[m];x===f[m+1]&&x===o[h+1][m]&&x===o[h+1][m+1]&&r++}}return It.N2*r}static applyMaskPenaltyRule3(t){let r=0;const o=t.getArray(),a=t.getWidth(),l=t.getHeight();for(let h=0;h<l;h++)for(let f=0;f<a;f++){const m=o[h];f+6<a&&m[f]===1&&m[f+1]===0&&m[f+2]===1&&m[f+3]===1&&m[f+4]===1&&m[f+5]===0&&m[f+6]===1&&(It.isWhiteHorizontal(m,f-4,f)||It.isWhiteHorizontal(m,f+7,f+11))&&r++,h+6<l&&o[h][f]===1&&o[h+1][f]===0&&o[h+2][f]===1&&o[h+3][f]===1&&o[h+4][f]===1&&o[h+5][f]===0&&o[h+6][f]===1&&(It.isWhiteVertical(o,f,h-4,h)||It.isWhiteVertical(o,f,h+7,h+11))&&r++}return r*It.N3}static isWhiteHorizontal(t,r,o){r=Math.max(r,0),o=Math.min(o,t.length);for(let a=r;a<o;a++)if(t[a]===1)return!1;return!0}static isWhiteVertical(t,r,o,a){o=Math.max(o,0),a=Math.min(a,t.length);for(let l=o;l<a;l++)if(t[l][r]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let r=0;const o=t.getArray(),a=t.getWidth(),l=t.getHeight();for(let m=0;m<l;m++){const x=o[m];for(let C=0;C<a;C++)x[C]===1&&r++}const h=t.getHeight()*t.getWidth();return Math.floor(Math.abs(r*2-h)*10/h)*It.N4}static getDataMaskBit(t,r,o){let a,l;switch(t){case 0:a=o+r&1;break;case 1:a=o&1;break;case 2:a=r%3;break;case 3:a=(o+r)%3;break;case 4:a=Math.floor(o/2)+Math.floor(r/3)&1;break;case 5:l=o*r,a=(l&1)+l%3;break;case 6:l=o*r,a=(l&1)+l%3&1;break;case 7:l=o*r,a=l%3+(o+r&1)&1;break;default:throw new k("Invalid mask pattern: "+t)}return a===0}static applyMaskPenaltyRule1Internal(t,r){let o=0;const a=r?t.getHeight():t.getWidth(),l=r?t.getWidth():t.getHeight(),h=t.getArray();for(let f=0;f<a;f++){let m=0,x=-1;for(let C=0;C<l;C++){const I=r?h[f][C]:h[C][f];I===x?m++:(m>=5&&(o+=It.N1+(m-5)),m=1,x=I)}m>=5&&(o+=It.N1+(m-5))}return o}}It.N1=3,It.N2=3,It.N3=40,It.N4=10;class cs{constructor(t,r){this.width=t,this.height=r;const o=new Array(r);for(let a=0;a!==r;a++)o[a]=new Uint8Array(t);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(t,r){return this.bytes[r][t]}getArray(){return this.bytes}setNumber(t,r,o){this.bytes[r][t]=o}setBoolean(t,r,o){this.bytes[r][t]=o?1:0}clear(t){for(const r of this.bytes)D.fill(r,t)}equals(t){if(!(t instanceof cs))return!1;const r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(let o=0,a=this.height;o<a;++o){const l=this.bytes[o],h=r.bytes[o];for(let f=0,m=this.width;f<m;++f)if(l[f]!==h[f])return!1}return!0}toString(){const t=new Ze;for(let r=0,o=this.height;r<o;++r){const a=this.bytes[r];for(let l=0,h=this.width;l<h;++l)switch(a[l]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class ii{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Ze;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<ii.NUM_MASK_PATTERNS}}ii.NUM_MASK_PATTERNS=8;class gt extends v{}gt.kind="WriterException";class ke{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,r,o,a,l){ke.clearMatrix(l),ke.embedBasicPatterns(o,l),ke.embedTypeInfo(r,a,l),ke.maybeEmbedVersionInfo(o,l),ke.embedDataBits(t,a,l)}static embedBasicPatterns(t,r){ke.embedPositionDetectionPatternsAndSeparators(r),ke.embedDarkDotAtLeftBottomCorner(r),ke.maybeEmbedPositionAdjustmentPatterns(t,r),ke.embedTimingPatterns(r)}static embedTypeInfo(t,r,o){const a=new J;ke.makeTypeInfoBits(t,r,a);for(let l=0,h=a.getSize();l<h;++l){const f=a.get(a.getSize()-1-l),m=ke.TYPE_INFO_COORDINATES[l],x=m[0],C=m[1];if(o.setBoolean(x,C,f),l<8){const I=o.getWidth()-l-1;o.setBoolean(I,8,f)}else{const T=o.getHeight()-7+(l-8);o.setBoolean(8,T,f)}}}static maybeEmbedVersionInfo(t,r){if(t.getVersionNumber()<7)return;const o=new J;ke.makeVersionInfoBits(t,o);let a=6*3-1;for(let l=0;l<6;++l)for(let h=0;h<3;++h){const f=o.get(a);a--,r.setBoolean(l,r.getHeight()-11+h,f),r.setBoolean(r.getHeight()-11+h,l,f)}}static embedDataBits(t,r,o){let a=0,l=-1,h=o.getWidth()-1,f=o.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);f>=0&&f<o.getHeight();){for(let m=0;m<2;++m){const x=h-m;if(!ke.isEmpty(o.get(x,f)))continue;let C;a<t.getSize()?(C=t.get(a),++a):C=!1,r!==255&&It.getDataMaskBit(r,x,f)&&(C=!C),o.setBoolean(x,f,C)}f+=l}l=-l,f+=l,h-=2}if(a!==t.getSize())throw new gt("Not all bits consumed: "+a+"/"+t.getSize())}static findMSBSet(t){return 32-P.numberOfLeadingZeros(t)}static calculateBCHCode(t,r){if(r===0)throw new k("0 polynomial");const o=ke.findMSBSet(r);for(t<<=o-1;ke.findMSBSet(t)>=o;)t^=r<<ke.findMSBSet(t)-o;return t}static makeTypeInfoBits(t,r,o){if(!ii.isValidMaskPattern(r))throw new gt("Invalid mask pattern");const a=t.getBits()<<3|r;o.appendBits(a,5);const l=ke.calculateBCHCode(a,ke.TYPE_INFO_POLY);o.appendBits(l,10);const h=new J;if(h.appendBits(ke.TYPE_INFO_MASK_PATTERN,15),o.xor(h),o.getSize()!==15)throw new gt("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(t,r){r.appendBits(t.getVersionNumber(),6);const o=ke.calculateBCHCode(t.getVersionNumber(),ke.VERSION_INFO_POLY);if(r.appendBits(o,12),r.getSize()!==18)throw new gt("should not happen but we got: "+r.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let r=8;r<t.getWidth()-8;++r){const o=(r+1)%2;ke.isEmpty(t.get(r,6))&&t.setNumber(r,6,o),ke.isEmpty(t.get(6,r))&&t.setNumber(6,r,o)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new gt;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,r,o){for(let a=0;a<8;++a){if(!ke.isEmpty(o.get(t+a,r)))throw new gt;o.setNumber(t+a,r,0)}}static embedVerticalSeparationPattern(t,r,o){for(let a=0;a<7;++a){if(!ke.isEmpty(o.get(t,r+a)))throw new gt;o.setNumber(t,r+a,0)}}static embedPositionAdjustmentPattern(t,r,o){for(let a=0;a<5;++a){const l=ke.POSITION_ADJUSTMENT_PATTERN[a];for(let h=0;h<5;++h)o.setNumber(t+h,r+a,l[h])}}static embedPositionDetectionPattern(t,r,o){for(let a=0;a<7;++a){const l=ke.POSITION_DETECTION_PATTERN[a];for(let h=0;h<7;++h)o.setNumber(t+h,r+a,l[h])}}static embedPositionDetectionPatternsAndSeparators(t){const r=ke.POSITION_DETECTION_PATTERN[0].length;ke.embedPositionDetectionPattern(0,0,t),ke.embedPositionDetectionPattern(t.getWidth()-r,0,t),ke.embedPositionDetectionPattern(0,t.getWidth()-r,t);const o=8;ke.embedHorizontalSeparationPattern(0,o-1,t),ke.embedHorizontalSeparationPattern(t.getWidth()-o,o-1,t),ke.embedHorizontalSeparationPattern(0,t.getWidth()-o,t);const a=7;ke.embedVerticalSeparationPattern(a,0,t),ke.embedVerticalSeparationPattern(t.getHeight()-a-1,0,t),ke.embedVerticalSeparationPattern(a,t.getHeight()-a,t)}static maybeEmbedPositionAdjustmentPatterns(t,r){if(t.getVersionNumber()<2)return;const o=t.getVersionNumber()-1,a=ke.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let l=0,h=a.length;l!==h;l++){const f=a[l];if(f>=0)for(let m=0;m!==h;m++){const x=a[m];x>=0&&ke.isEmpty(r.get(x,f))&&ke.embedPositionAdjustmentPattern(x-2,f-2,r)}}}}ke.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ke.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ke.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ke.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ke.VERSION_INFO_POLY=7973,ke.TYPE_INFO_POLY=1335,ke.TYPE_INFO_MASK_PATTERN=21522;class xu{constructor(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class yt{constructor(){}static calculateMaskPenalty(t){return It.applyMaskPenaltyRule1(t)+It.applyMaskPenaltyRule2(t)+It.applyMaskPenaltyRule3(t)+It.applyMaskPenaltyRule4(t)}static encode(t,r,o=null){let a=yt.DEFAULT_BYTE_MODE_ENCODING;const l=o!==null&&o.get(Dt.CHARACTER_SET)!==void 0;l&&(a=o.get(Dt.CHARACTER_SET).toString());const h=this.chooseMode(t,a),f=new J;if(h===Me.BYTE&&(l||yt.DEFAULT_BYTE_MODE_ENCODING!==a)){const ce=$.getCharacterSetECIByName(a);ce!==void 0&&this.appendECI(ce,f)}this.appendModeInfo(h,f);const m=new J;this.appendBytes(t,h,m,a);let x;if(o!==null&&o.get(Dt.QR_VERSION)!==void 0){const ce=Number.parseInt(o.get(Dt.QR_VERSION).toString(),10);x=me.getVersionForNumber(ce);const se=this.calculateBitsNeeded(h,f,m,x);if(!this.willFit(se,x,r))throw new gt("Data too big for requested version")}else x=this.recommendVersion(r,h,f,m);const C=new J;C.appendBitArray(f);const I=h===Me.BYTE?m.getSizeInBytes():t.length;this.appendLengthInfo(I,x,h,C),C.appendBitArray(m);const T=x.getECBlocksForLevel(r),R=x.getTotalCodewords()-T.getTotalECCodewords();this.terminateBits(R,C);const F=this.interleaveWithECBytes(C,x.getTotalCodewords(),R,T.getNumBlocks()),z=new ii;z.setECLevel(r),z.setMode(h),z.setVersion(x);const Z=x.getDimensionForVersion(),X=new cs(Z,Z),ue=this.chooseMaskPattern(F,r,x,X);return z.setMaskPattern(ue),ke.buildMatrix(F,r,x,ue,X),z.setMatrix(X),z}static recommendVersion(t,r,o,a){const l=this.calculateBitsNeeded(r,o,a,me.getVersionForNumber(1)),h=this.chooseVersion(l,t),f=this.calculateBitsNeeded(r,o,a,h);return this.chooseVersion(f,t)}static calculateBitsNeeded(t,r,o,a){return r.getSize()+t.getCharacterCountBits(a)+o.getSize()}static getAlphanumericCode(t){return t<yt.ALPHANUMERIC_TABLE.length?yt.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,r=null){if($.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return Me.KANJI;let o=!1,a=!1;for(let l=0,h=t.length;l<h;++l){const f=t.charAt(l);if(yt.isDigit(f))o=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)a=!0;else return Me.BYTE}return a?Me.ALPHANUMERIC:o?Me.NUMERIC:Me.BYTE}static isOnlyDoubleByteKanji(t){let r;try{r=Re.encode(t,$.SJIS)}catch{return!1}const o=r.length;if(o%2!==0)return!1;for(let a=0;a<o;a+=2){const l=r[a]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(t,r,o,a){let l=Number.MAX_SAFE_INTEGER,h=-1;for(let f=0;f<ii.NUM_MASK_PATTERNS;f++){ke.buildMatrix(t,r,o,f,a);let m=this.calculateMaskPenalty(a);m<l&&(l=m,h=f)}return h}static chooseVersion(t,r){for(let o=1;o<=40;o++){const a=me.getVersionForNumber(o);if(yt.willFit(t,a,r))return a}throw new gt("Data too big")}static willFit(t,r,o){const a=r.getTotalCodewords(),h=r.getECBlocksForLevel(o).getTotalECCodewords(),f=a-h,m=(t+7)/8;return f>=m}static terminateBits(t,r){const o=t*8;if(r.getSize()>o)throw new gt("data bits cannot fit in the QR Code"+r.getSize()+" > "+o);for(let h=0;h<4&&r.getSize()<o;++h)r.appendBit(!1);const a=r.getSize()&7;if(a>0)for(let h=a;h<8;h++)r.appendBit(!1);const l=t-r.getSizeInBytes();for(let h=0;h<l;++h)r.appendBits(h&1?17:236,8);if(r.getSize()!==o)throw new gt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,r,o,a,l,h){if(a>=o)throw new gt("Block ID too large");const f=t%o,m=o-f,x=Math.floor(t/o),C=x+1,I=Math.floor(r/o),T=I+1,R=x-I,F=C-T;if(R!==F)throw new gt("EC bytes mismatch");if(o!==m+f)throw new gt("RS blocks mismatch");if(t!==(I+R)*m+(T+F)*f)throw new gt("Total bytes mismatch");a<m?(l[0]=I,h[0]=R):(l[0]=T,h[0]=F)}static interleaveWithECBytes(t,r,o,a){if(t.getSizeInBytes()!==o)throw new gt("Number of bits and data bytes does not match");let l=0,h=0,f=0;const m=new Array;for(let C=0;C<a;++C){const I=new Int32Array(1),T=new Int32Array(1);yt.getNumDataBytesAndNumECBytesForBlockID(r,o,a,C,I,T);const R=I[0],F=new Uint8Array(R);t.toBytes(8*l,F,0,R);const z=yt.generateECBytes(F,T[0]);m.push(new xu(F,z)),h=Math.max(h,R),f=Math.max(f,z.length),l+=I[0]}if(o!==l)throw new gt("Data bytes does not match offset");const x=new J;for(let C=0;C<h;++C)for(const I of m){const T=I.getDataBytes();C<T.length&&x.appendBits(T[C],8)}for(let C=0;C<f;++C)for(const I of m){const T=I.getErrorCorrectionBytes();C<T.length&&x.appendBits(T[C],8)}if(r!==x.getSizeInBytes())throw new gt("Interleaving error: "+r+" and "+x.getSizeInBytes()+" differ.");return x}static generateECBytes(t,r){const o=t.length,a=new Int32Array(o+r);for(let h=0;h<o;h++)a[h]=t[h]&255;new bo(Ke.QR_CODE_FIELD_256).encode(a,r);const l=new Uint8Array(r);for(let h=0;h<r;h++)l[h]=a[o+h];return l}static appendModeInfo(t,r){r.appendBits(t.getBits(),4)}static appendLengthInfo(t,r,o,a){const l=o.getCharacterCountBits(r);if(t>=1<<l)throw new gt(t+" is bigger than "+((1<<l)-1));a.appendBits(t,l)}static appendBytes(t,r,o,a){switch(r){case Me.NUMERIC:yt.appendNumericBytes(t,o);break;case Me.ALPHANUMERIC:yt.appendAlphanumericBytes(t,o);break;case Me.BYTE:yt.append8BitBytes(t,o,a);break;case Me.KANJI:yt.appendKanjiBytes(t,o);break;default:throw new gt("Invalid mode: "+r)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const r=yt.getDigit(t);return r>=0&&r<=9}static appendNumericBytes(t,r){const o=t.length;let a=0;for(;a<o;){const l=yt.getDigit(t.charAt(a));if(a+2<o){const h=yt.getDigit(t.charAt(a+1)),f=yt.getDigit(t.charAt(a+2));r.appendBits(l*100+h*10+f,10),a+=3}else if(a+1<o){const h=yt.getDigit(t.charAt(a+1));r.appendBits(l*10+h,7),a+=2}else r.appendBits(l,4),a++}}static appendAlphanumericBytes(t,r){const o=t.length;let a=0;for(;a<o;){const l=yt.getAlphanumericCode(t.charCodeAt(a));if(l===-1)throw new gt;if(a+1<o){const h=yt.getAlphanumericCode(t.charCodeAt(a+1));if(h===-1)throw new gt;r.appendBits(l*45+h,11),a+=2}else r.appendBits(l,6),a++}}static append8BitBytes(t,r,o){let a;try{a=Re.encode(t,o)}catch(l){throw new gt(l)}for(let l=0,h=a.length;l!==h;l++){const f=a[l];r.appendBits(f,8)}}static appendKanjiBytes(t,r){let o;try{o=Re.encode(t,$.SJIS)}catch(l){throw new gt(l)}const a=o.length;for(let l=0;l<a;l+=2){const h=o[l]&255,f=o[l+1]&255,m=h<<8&4294967295|f;let x=-1;if(m>=33088&&m<=40956?x=m-33088:m>=57408&&m<=60351&&(x=m-49472),x===-1)throw new gt("Invalid byte sequence");const C=(x>>8)*192+(x&255);r.appendBits(C,13)}}static appendECI(t,r){r.appendBits(Me.ECI.getBits(),4),r.appendBits(t.getValue(),8)}}yt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),yt.DEFAULT_BYTE_MODE_ENCODING=$.UTF8.getName();class Zr{write(t,r,o,a=null){if(t.length===0)throw new k("Found empty contents");if(r<0||o<0)throw new k("Requested dimensions are too small: "+r+"x"+o);let l=Ye.L,h=Zr.QUIET_ZONE_SIZE;a!==null&&(a.get(Dt.ERROR_CORRECTION)!==void 0&&(l=Ye.fromString(a.get(Dt.ERROR_CORRECTION).toString())),a.get(Dt.MARGIN)!==void 0&&(h=Number.parseInt(a.get(Dt.MARGIN).toString(),10)));const f=yt.encode(t,l,a);return this.renderResult(f,r,o,h)}writeToDom(t,r,o,a,l=null){typeof t=="string"&&(t=document.querySelector(t));const h=this.write(r,o,a,l);t&&t.appendChild(h)}renderResult(t,r,o,a){const l=t.getMatrix();if(l===null)throw new yn;const h=l.getWidth(),f=l.getHeight(),m=h+a*2,x=f+a*2,C=Math.max(r,m),I=Math.max(o,x),T=Math.min(Math.floor(C/m),Math.floor(I/x)),R=Math.floor((C-h*T)/2),F=Math.floor((I-f*T)/2),z=this.createSVGElement(C,I);for(let Z=0,X=F;Z<f;Z++,X+=T)for(let ue=0,ce=R;ue<h;ue++,ce+=T)if(l.get(ue,Z)===1){const se=this.createSvgRectElement(ce,X,T,T);z.appendChild(se)}return z}createSVGElement(t,r){const o=document.createElementNS(Zr.SVG_NS,"svg");return o.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width",r.toString()),o}createSvgRectElement(t,r,o,a){const l=document.createElementNS(Zr.SVG_NS,"rect");return l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"height",o.toString()),l.setAttributeNS(null,"width",a.toString()),l.setAttributeNS(null,"fill","#000000"),l}}Zr.QUIET_ZONE_SIZE=4,Zr.SVG_NS="http://www.w3.org/2000/svg";class Ir{encode(t,r,o,a,l){if(t.length===0)throw new k("Found empty contents");if(r!==le.QR_CODE)throw new k("Can only encode QR_CODE, but got "+r);if(o<0||a<0)throw new k(`Requested dimensions are too small: ${o}x${a}`);let h=Ye.L,f=Ir.QUIET_ZONE_SIZE;l!==null&&(l.get(Dt.ERROR_CORRECTION)!==void 0&&(h=Ye.fromString(l.get(Dt.ERROR_CORRECTION).toString())),l.get(Dt.MARGIN)!==void 0&&(f=Number.parseInt(l.get(Dt.MARGIN).toString(),10)));const m=yt.encode(t,h,l);return Ir.renderResult(m,o,a,f)}static renderResult(t,r,o,a){const l=t.getMatrix();if(l===null)throw new yn;const h=l.getWidth(),f=l.getHeight(),m=h+a*2,x=f+a*2,C=Math.max(r,m),I=Math.max(o,x),T=Math.min(Math.floor(C/m),Math.floor(I/x)),R=Math.floor((C-h*T)/2),F=Math.floor((I-f*T)/2),z=new Le(C,I);for(let Z=0,X=F;Z<f;Z++,X+=T)for(let ue=0,ce=R;ue<h;ue++,ce+=T)l.get(ue,Z)===1&&z.setRegion(ce,X,T,T);return z}}Ir.QUIET_ZONE_SIZE=4;class si{encode(t,r,o,a,l){let h;switch(r){case le.QR_CODE:h=new Ir;break;default:throw new k("No encoder available for format "+r)}return h.encode(t,r,o,a,l)}}class lr extends ne{constructor(t,r,o,a,l,h,f,m){if(super(h,f),this.yuvData=t,this.dataWidth=r,this.dataHeight=o,this.left=a,this.top=l,a+h>r||l+f>o)throw new k("Crop rectangle does not fit within image data.");m&&this.reverseHorizontal(h,f)}getRow(t,r){if(t<0||t>=this.getHeight())throw new k("Requested row is outside the image: "+t);const o=this.getWidth();(r==null||r.length<o)&&(r=new Uint8ClampedArray(o));const a=(t+this.top)*this.dataWidth+this.left;return H.arraycopy(this.yuvData,a,r,0,o),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;const o=t*r,a=new Uint8ClampedArray(o);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return H.arraycopy(this.yuvData,l,a,0,o),a;for(let h=0;h<r;h++){const f=h*t;H.arraycopy(this.yuvData,l,a,f,t),l+=this.dataWidth}return a}isCropSupported(){return!0}crop(t,r,o,a){return new lr(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,o,a,!1)}renderThumbnail(){const t=this.getWidth()/lr.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/lr.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(t*r),a=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let h=0;h<r;h++){const f=h*t;for(let m=0;m<t;m++){const x=a[l+m*lr.THUMBNAIL_SCALE_FACTOR]&255;o[f+m]=4278190080|x*65793}l+=this.dataWidth*lr.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/lr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/lr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,r){const o=this.yuvData;for(let a=0,l=this.top*this.dataWidth+this.left;a<r;a++,l+=this.dataWidth){const h=l+t/2;for(let f=l,m=l+t-1;f<h;f++,m--){const x=o[f];o[f]=o[m],o[m]=x}}}invert(){return new Oe(this)}}lr.THUMBNAIL_SCALE_FACTOR=2;class oi extends ne{constructor(t,r,o,a,l,h,f){if(super(r,o),this.dataWidth=a,this.dataHeight=l,this.left=h,this.top=f,t.BYTES_PER_ELEMENT===4){const m=r*o,x=new Uint8ClampedArray(m);for(let C=0;C<m;C++){const I=t[C],T=I>>16&255,R=I>>7&510,F=I&255;x[C]=(T+R+F)/4&255}this.luminances=x}else this.luminances=t;if(a===void 0&&(this.dataWidth=r),l===void 0&&(this.dataHeight=o),h===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+o>this.dataHeight)throw new k("Crop rectangle does not fit within image data.")}getRow(t,r){if(t<0||t>=this.getHeight())throw new k("Requested row is outside the image: "+t);const o=this.getWidth();(r==null||r.length<o)&&(r=new Uint8ClampedArray(o));const a=(t+this.top)*this.dataWidth+this.left;return H.arraycopy(this.luminances,a,r,0,o),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;const o=t*r,a=new Uint8ClampedArray(o);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return H.arraycopy(this.luminances,l,a,0,o),a;for(let h=0;h<r;h++){const f=h*t;H.arraycopy(this.luminances,l,a,f,t),l+=this.dataWidth}return a}isCropSupported(){return!0}crop(t,r,o,a){return new oi(this.luminances,o,a,this.dataWidth,this.dataHeight,this.left+t,this.top+r)}invert(){return new Oe(this)}}class Mn extends ${static forName(t){return this.getCharacterSetECIByName(t)}}class ks{}ks.ISO_8859_1=$.ISO8859_1;class Io{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Da{static singletonList(t){return[t]}static min(t,r){return t.sort(r)[0]}}class To{constructor(t){this.previous=t}getPrevious(){return this.previous}}class Wr extends To{constructor(t,r,o){super(t),this.value=r,this.bitCount=o}appendTo(t,r){t.appendBits(this.value,this.bitCount)}add(t,r){return new Wr(this,t,r)}addBinaryShift(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Wr(this,t,r)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+P.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class No extends Wr{constructor(t,r,o){super(t,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=o}appendTo(t,r){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):o===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+o],8)}addBinaryShift(t,r){return new No(this,t,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function yu(b,t,r){return new No(b,t,r)}function Ii(b,t,r){return new Wr(b,t,r)}const _u=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Xt=0,Tr=1,Fn=2,ur=3,cr=4,Ti=new Wr(null,0,0),Mo=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function hs(b){for(let t of b)D.fill(t,-1);return b[Xt][cr]=0,b[Tr][cr]=0,b[Tr][Xt]=28,b[ur][cr]=0,b[Fn][cr]=0,b[Fn][Xt]=15,b}const Oo=hs(D.createInt32Array(6,6));class On{constructor(t,r,o,a){this.token=t,this.mode=r,this.binaryShiftByteCount=o,this.bitCount=a}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,r){let o=this.bitCount,a=this.token;if(t!==this.mode){let h=Mo[this.mode][t];a=Ii(a,h&65535,h>>16),o+=h>>16}let l=t===Fn?4:5;return a=Ii(a,r,l),new On(a,t,0,o+l)}shiftAndAppend(t,r){let o=this.token,a=this.mode===Fn?4:5;return o=Ii(o,Oo[this.mode][t],a),o=Ii(o,r,5),new On(o,this.mode,0,this.bitCount+a+5)}addBinaryShiftChar(t){let r=this.token,o=this.mode,a=this.bitCount;if(this.mode===cr||this.mode===Fn){let f=Mo[o][Xt];r=Ii(r,f&65535,f>>16),a+=f>>16,o=Xt}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new On(r,o,this.binaryShiftByteCount+1,a+l);return h.binaryShiftByteCount===2078&&(h=h.endBinaryShift(t+1)),h}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=yu(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new On(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let r=this.bitCount+(Mo[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=On.calculateBinaryShiftCost(t)-On.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount}toBitArray(t){let r=[];for(let a=this.endBinaryShift(t.length).token;a!==null;a=a.getPrevious())r.unshift(a);let o=new J;for(const a of r)a.appendTo(o,t);return o}toString(){return ge.format("%s bits=%d bytes=%d",_u[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}On.INITIAL_STATE=new On(Ti,Xt,0,0);function wu(b){const t=ge.getCharCode(" "),r=ge.getCharCode("."),o=ge.getCharCode(",");b[Xt][t]=1;const a=ge.getCharCode("Z"),l=ge.getCharCode("A");for(let T=l;T<=a;T++)b[Xt][T]=T-l+2;b[Tr][t]=1;const h=ge.getCharCode("z"),f=ge.getCharCode("a");for(let T=f;T<=h;T++)b[Tr][T]=T-f+2;b[Fn][t]=1;const m=ge.getCharCode("9"),x=ge.getCharCode("0");for(let T=x;T<=m;T++)b[Fn][T]=T-x+2;b[Fn][o]=12,b[Fn][r]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let T=0;T<C.length;T++)b[ur][ge.getCharCode(C[T])]=T;const I=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let T=0;T<I.length;T++)ge.getCharCode(I[T])>0&&(b[cr][ge.getCharCode(I[T])]=T);return b}const hr=wu(D.createInt32Array(5,256));class Gr{constructor(t){this.text=t}encode(){const t=ge.getCharCode(" "),r=ge.getCharCode(`
`);let o=Da.singletonList(On.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let h,f=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case ge.getCharCode("\r"):h=f===r?2:0;break;case ge.getCharCode("."):h=f===t?3:0;break;case ge.getCharCode(","):h=f===t?4:0;break;case ge.getCharCode(":"):h=f===t?5:0;break;default:h=0}h>0?(o=Gr.updateStateListForPair(o,l,h),l++):o=this.updateStateListForChar(o,l)}return Da.min(o,(l,h)=>l.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,r){const o=[];for(let a of t)this.updateStateForChar(a,r,o);return Gr.simplifyStates(o)}updateStateForChar(t,r,o){let a=this.text[r]&255,l=hr[t.getMode()][a]>0,h=null;for(let f=0;f<=cr;f++){let m=hr[f][a];if(m>0){if(h==null&&(h=t.endBinaryShift(r)),!l||f===t.getMode()||f===Fn){const x=h.latchAndAppend(f,m);o.push(x)}if(!l&&Oo[t.getMode()][f]>=0){const x=h.shiftAndAppend(f,m);o.push(x)}}}if(t.getBinaryShiftByteCount()>0||hr[t.getMode()][a]===0){let f=t.addBinaryShiftChar(r);o.push(f)}}static updateStateListForPair(t,r,o){const a=[];for(let l of t)this.updateStateForPair(l,r,o,a);return this.simplifyStates(a)}static updateStateForPair(t,r,o,a){let l=t.endBinaryShift(r);if(a.push(l.latchAndAppend(cr,o)),t.getMode()!==cr&&a.push(l.shiftAndAppend(cr,o)),o===3||o===4){let h=l.latchAndAppend(Fn,16-o).latchAndAppend(Fn,1);a.push(h)}if(t.getBinaryShiftByteCount()>0){let h=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);a.push(h)}}static simplifyStates(t){let r=[];for(const o of t){let a=!0;for(const l of r){if(l.isBetterThanOrEqualTo(o)){a=!1;break}o.isBetterThanOrEqualTo(l)&&(r=r.filter(h=>h!==l))}a&&r.push(o)}return r}}class nt{constructor(){}static encodeBytes(t){return nt.encode(t,nt.DEFAULT_EC_PERCENT,nt.DEFAULT_AZTEC_LAYERS)}static encode(t,r,o){let a=new Gr(t).encode(),l=P.truncDivision(a.getSize()*r,100)+11,h=a.getSize()+l,f,m,x,C,I;if(o!==nt.DEFAULT_AZTEC_LAYERS){if(f=o<0,m=Math.abs(o),m>(f?nt.MAX_NB_BITS_COMPACT:nt.MAX_NB_BITS))throw new k(ge.format("Illegal value %s for layers",o));x=nt.totalBitsInLayer(m,f),C=nt.WORD_SIZE[m];let se=x-x%C;if(I=nt.stuffBits(a,C),I.getSize()+l>se)throw new k("Data to large for user specified layer");if(f&&I.getSize()>C*64)throw new k("Data to large for user specified layer")}else{C=0,I=null;for(let se=0;;se++){if(se>nt.MAX_NB_BITS)throw new k("Data too large for an Aztec code");if(f=se<=3,m=f?se+1:se,x=nt.totalBitsInLayer(m,f),h>x)continue;(I==null||C!==nt.WORD_SIZE[m])&&(C=nt.WORD_SIZE[m],I=nt.stuffBits(a,C));let Xe=x-x%C;if(!(f&&I.getSize()>C*64)&&I.getSize()+l<=Xe)break}}let T=nt.generateCheckWords(I,x,C),R=I.getSize()/C,F=nt.generateModeMessage(f,m,R),z=(f?11:14)+m*4,Z=new Int32Array(z),X;if(f){X=z;for(let se=0;se<Z.length;se++)Z[se]=se}else{X=z+1+2*P.truncDivision(P.truncDivision(z,2)-1,15);let se=P.truncDivision(z,2),Xe=P.truncDivision(X,2);for(let He=0;He<se;He++){let Tt=He+P.truncDivision(He,15);Z[se-He-1]=Xe-Tt-1,Z[se+He]=Xe+Tt+1}}let ue=new Le(X);for(let se=0,Xe=0;se<m;se++){let He=(m-se)*4+(f?9:12);for(let Tt=0;Tt<He;Tt++){let wn=Tt*2;for(let vn=0;vn<2;vn++)T.get(Xe+wn+vn)&&ue.set(Z[se*2+vn],Z[se*2+Tt]),T.get(Xe+He*2+wn+vn)&&ue.set(Z[se*2+Tt],Z[z-1-se*2-vn]),T.get(Xe+He*4+wn+vn)&&ue.set(Z[z-1-se*2-vn],Z[z-1-se*2-Tt]),T.get(Xe+He*6+wn+vn)&&ue.set(Z[z-1-se*2-Tt],Z[se*2+vn])}Xe+=He*8}if(nt.drawModeMessage(ue,f,X,F),f)nt.drawBullsEye(ue,P.truncDivision(X,2),5);else{nt.drawBullsEye(ue,P.truncDivision(X,2),7);for(let se=0,Xe=0;se<P.truncDivision(z,2)-1;se+=15,Xe+=16)for(let He=P.truncDivision(X,2)&1;He<X;He+=2)ue.set(P.truncDivision(X,2)-Xe,He),ue.set(P.truncDivision(X,2)+Xe,He),ue.set(He,P.truncDivision(X,2)-Xe),ue.set(He,P.truncDivision(X,2)+Xe)}let ce=new Io;return ce.setCompact(f),ce.setSize(X),ce.setLayers(m),ce.setCodeWords(R),ce.setMatrix(ue),ce}static drawBullsEye(t,r,o){for(let a=0;a<o;a+=2)for(let l=r-a;l<=r+a;l++)t.set(l,r-a),t.set(l,r+a),t.set(r-a,l),t.set(r+a,l);t.set(r-o,r-o),t.set(r-o+1,r-o),t.set(r-o,r-o+1),t.set(r+o,r-o),t.set(r+o,r-o+1),t.set(r+o,r+o-1)}static generateModeMessage(t,r,o){let a=new J;return t?(a.appendBits(r-1,2),a.appendBits(o-1,6),a=nt.generateCheckWords(a,28,4)):(a.appendBits(r-1,5),a.appendBits(o-1,11),a=nt.generateCheckWords(a,40,4)),a}static drawModeMessage(t,r,o,a){let l=P.truncDivision(o,2);if(r)for(let h=0;h<7;h++){let f=l-3+h;a.get(h)&&t.set(f,l-5),a.get(h+7)&&t.set(l+5,f),a.get(20-h)&&t.set(f,l+5),a.get(27-h)&&t.set(l-5,f)}else for(let h=0;h<10;h++){let f=l-5+h+P.truncDivision(h,5);a.get(h)&&t.set(f,l-7),a.get(h+10)&&t.set(l+7,f),a.get(29-h)&&t.set(f,l+7),a.get(39-h)&&t.set(l-7,f)}}static generateCheckWords(t,r,o){let a=t.getSize()/o,l=new bo(nt.getGF(o)),h=P.truncDivision(r,o),f=nt.bitsToWords(t,o,h);l.encode(f,h-a);let m=r%o,x=new J;x.appendBits(0,m);for(const C of Array.from(f))x.appendBits(C,o);return x}static bitsToWords(t,r,o){let a=new Int32Array(o),l,h;for(l=0,h=t.getSize()/r;l<h;l++){let f=0;for(let m=0;m<r;m++)f|=t.get(l*r+m)?1<<r-m-1:0;a[l]=f}return a}static getGF(t){switch(t){case 4:return Ke.AZTEC_PARAM;case 6:return Ke.AZTEC_DATA_6;case 8:return Ke.AZTEC_DATA_8;case 10:return Ke.AZTEC_DATA_10;case 12:return Ke.AZTEC_DATA_12;default:throw new k("Unsupported word size "+t)}}static stuffBits(t,r){let o=new J,a=t.getSize(),l=(1<<r)-2;for(let h=0;h<a;h+=r){let f=0;for(let m=0;m<r;m++)(h+m>=a||t.get(h+m))&&(f|=1<<r-1-m);(f&l)===l?(o.appendBits(f&l,r),h--):f&l?o.appendBits(f,r):(o.appendBits(f|1,r),h--)}return o}static totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}nt.DEFAULT_EC_PERCENT=33,nt.DEFAULT_AZTEC_LAYERS=0,nt.MAX_NB_BITS=32,nt.MAX_NB_BITS_COMPACT=4,nt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ni{encode(t,r,o,a){return this.encodeWithHints(t,r,o,a,null)}encodeWithHints(t,r,o,a,l){let h=ks.ISO_8859_1,f=nt.DEFAULT_EC_PERCENT,m=nt.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(Dt.CHARACTER_SET)&&(h=Mn.forName(l.get(Dt.CHARACTER_SET).toString())),l.has(Dt.ERROR_CORRECTION)&&(f=P.parseInt(l.get(Dt.ERROR_CORRECTION).toString())),l.has(Dt.AZTEC_LAYERS)&&(m=P.parseInt(l.get(Dt.AZTEC_LAYERS).toString()))),Ni.encodeLayers(t,r,o,a,h,f,m)}static encodeLayers(t,r,o,a,l,h,f){if(r!==le.AZTEC)throw new k("Can only encode AZTEC, but got "+r);let m=nt.encode(ge.getBytes(t,l),h,f);return Ni.renderResult(m,o,a)}static renderResult(t,r,o){let a=t.getMatrix();if(a==null)throw new yn;let l=a.getWidth(),h=a.getHeight(),f=Math.max(r,l),m=Math.max(o,h),x=Math.min(f/l,m/h),C=(f-l*x)/2,I=(m-h*x)/2,T=new Le(f,m);for(let R=0,F=I;R<h;R++,F+=x)for(let z=0,Z=C;z<l;z++,Z+=x)a.get(z,R)&&T.setRegion(Z,F,x,x);return T}}s.AbstractExpandedDecoder=bs,s.ArgumentException=O,s.ArithmeticException=Wn,s.AztecCode=Io,s.AztecCodeReader=es,s.AztecCodeWriter=Ni,s.AztecDecoder=rt,s.AztecDetector=gn,s.AztecDetectorResult=_i,s.AztecEncoder=nt,s.AztecHighLevelEncoder=Gr,s.AztecPoint=ze,s.BarcodeFormat=le,s.Binarizer=te,s.BinaryBitmap=U,s.BitArray=J,s.BitMatrix=Le,s.BitSource=Ei,s.BrowserAztecCodeReader=hu,s.BrowserBarcodeReader=is,s.BrowserCodeReader=ht,s.BrowserDatamatrixCodeReader=vo,s.BrowserMultiFormatReader=La,s.BrowserPDF417Reader=Vr,s.BrowserQRCodeReader=Ra,s.BrowserQRCodeSvgWriter=Zr,s.CharacterSetECI=$,s.ChecksumException=Y,s.Code128Reader=pe,s.Code39Reader=zt,s.DataMatrixDecodedBitStreamParser=Tn,s.DataMatrixReader=ut,s.DecodeHintType=ae,s.DecoderResult=Br,s.DefaultGridSampler=Ee,s.DetectorResult=jr,s.EAN13Reader=zr,s.EncodeHintType=Dt,s.Exception=v,s.FormatException=V,s.GenericGF=Ke,s.GenericGFPoly=Vt,s.GlobalHistogramBinarizer=Ge,s.GridSampler=wi,s.GridSamplerInstance=Ne,s.HTMLCanvasElementLuminanceSource=oe,s.HybridBinarizer=_e,s.ITFReader=ft,s.IllegalArgumentException=k,s.IllegalStateException=yn,s.InvertedLuminanceSource=Oe,s.LuminanceSource=ne,s.MathUtils=qe,s.MultiFormatOneDReader=Hr,s.MultiFormatReader=ka,s.MultiFormatWriter=si,s.NotFoundException=q,s.OneDReader=Rt,s.PDF417DecodedBitStreamParser=Q,s.PDF417DecoderErrorCorrection=Ts,s.PDF417Reader=$t,s.PDF417ResultMetadata=So,s.PerspectiveTransform=rn,s.PlanarYUVLuminanceSource=lr,s.QRCodeByteMatrix=cs,s.QRCodeDataMask=un,s.QRCodeDecodedBitStreamParser=vt,s.QRCodeDecoderErrorCorrectionLevel=Ye,s.QRCodeDecoderFormatInformation=ln,s.QRCodeEncoder=yt,s.QRCodeEncoderQRCode=ii,s.QRCodeMaskUtil=It,s.QRCodeMatrixUtil=ke,s.QRCodeMode=Me,s.QRCodeReader=qt,s.QRCodeVersion=me,s.QRCodeWriter=Ir,s.RGBLuminanceSource=oi,s.RSS14Reader=kt,s.RSSExpandedReader=re,s.ReaderException=Nn,s.ReedSolomonDecoder=Cr,s.ReedSolomonEncoder=bo,s.ReedSolomonException=vr,s.Result=je,s.ResultMetadataType=dt,s.ResultPoint=Ce,s.StringUtils=ge,s.UnsupportedOperationException=Se,s.VideoInputDevice=Pe,s.WhiteRectangleDetector=Bn,s.WriterException=gt,s.ZXingArrays=D,s.ZXingCharset=Mn,s.ZXingInteger=P,s.ZXingStandardCharsets=ks,s.ZXingStringBuilder=Ze,s.ZXingStringEncoding=Re,s.ZXingSystem=H,s.createAbstractExpandedDecoder=rs,Object.defineProperty(s,"__esModule",{value:!0})})})(Xc,Xc.exports);var Pt=Xc.exports;const Wx=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var Af=function(){function e(n,s,c){if(this.formatMap=new Map([[Ae.QR_CODE,Pt.BarcodeFormat.QR_CODE],[Ae.AZTEC,Pt.BarcodeFormat.AZTEC],[Ae.CODABAR,Pt.BarcodeFormat.CODABAR],[Ae.CODE_39,Pt.BarcodeFormat.CODE_39],[Ae.CODE_93,Pt.BarcodeFormat.CODE_93],[Ae.CODE_128,Pt.BarcodeFormat.CODE_128],[Ae.DATA_MATRIX,Pt.BarcodeFormat.DATA_MATRIX],[Ae.MAXICODE,Pt.BarcodeFormat.MAXICODE],[Ae.ITF,Pt.BarcodeFormat.ITF],[Ae.EAN_13,Pt.BarcodeFormat.EAN_13],[Ae.EAN_8,Pt.BarcodeFormat.EAN_8],[Ae.PDF_417,Pt.BarcodeFormat.PDF_417],[Ae.RSS_14,Pt.BarcodeFormat.RSS_14],[Ae.RSS_EXPANDED,Pt.BarcodeFormat.RSS_EXPANDED],[Ae.UPC_A,Pt.BarcodeFormat.UPC_A],[Ae.UPC_E,Pt.BarcodeFormat.UPC_E],[Ae.UPC_EAN_EXTENSION,Pt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Wx)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=s,this.logger=c;var d=this.createZXingFormats(n),g=new Map;g.set(Pt.DecodeHintType.POSSIBLE_FORMATS,d),g.set(Pt.DecodeHintType.TRY_HARDER,!1),this.hints=g}return e.prototype.decodeAsync=function(n){var s=this;return new Promise(function(c,d){try{c(s.decode(n))}catch(g){d(g)}})},e.prototype.decode=function(n){var s=new Pt.MultiFormatReader(this.verbose,this.hints),c=new Pt.HTMLCanvasElementLuminanceSource(n),d=new Pt.BinaryBitmap(new Pt.HybridBinarizer(c)),g=s.decode(d);return{text:g.text,format:og.create(this.toHtml5QrcodeSupportedFormats(g.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(s,c,d){n.set(s,c)}),n},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createZXingFormats=function(n){for(var s=[],c=0,d=n;c<d.length;c++){var g=d[c];this.formatMap.has(g)?s.push(this.formatMap.get(g)):this.logger.logError("".concat(g," is not supported by")+"ZXingHtml5QrcodeShim")}return s},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Gx=function(e,n,s,c){function d(g){return g instanceof s?g:new s(function(_){_(g)})}return new(s||(s=Promise))(function(g,_){function A(O){try{v(c.next(O))}catch(k){_(k)}}function S(O){try{v(c.throw(O))}catch(k){_(k)}}function v(O){O.done?g(O.value):d(O.value).then(A,S)}v((c=c.apply(e,n||[])).next())})},Yx=function(e,n){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,d,g,_;return _={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function A(v){return function(O){return S([v,O])}}function S(v){if(c)throw new TypeError("Generator is already executing.");for(;_&&(_=0,v[0]&&(s=0)),s;)try{if(c=1,d&&(g=v[0]&2?d.return:v[0]?d.throw||((g=d.return)&&g.call(d),0):d.next)&&!(g=g.call(d,v[1])).done)return g;switch(d=0,g&&(v=[v[0]&2,g.value]),v[0]){case 0:case 1:g=v;break;case 4:return s.label++,{value:v[1],done:!1};case 5:s.label++,d=v[1],v=[0];continue;case 7:v=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(v[0]===6||v[0]===2)){s=0;continue}if(v[0]===3&&(!g||v[1]>g[0]&&v[1]<g[3])){s.label=v[1];break}if(v[0]===6&&s.label<g[1]){s.label=g[1],g=v;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(v);break}g[2]&&s.ops.pop(),s.trys.pop();continue}v=n.call(e,s)}catch(O){v=[6,O],d=0}finally{c=g=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Sf=function(){function e(n,s,c){if(this.formatMap=new Map([[Ae.QR_CODE,"qr_code"],[Ae.AZTEC,"aztec"],[Ae.CODABAR,"codabar"],[Ae.CODE_39,"code_39"],[Ae.CODE_93,"code_93"],[Ae.CODE_128,"code_128"],[Ae.DATA_MATRIX,"data_matrix"],[Ae.ITF,"itf"],[Ae.EAN_13,"ean_13"],[Ae.EAN_8,"ean_8"],[Ae.PDF_417,"pdf417"],[Ae.UPC_A,"upc_a"],[Ae.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=s,this.logger=c;var d=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(d),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var n=new BarcodeDetector({formats:["qr_code"]});return typeof n<"u"},e.prototype.decodeAsync=function(n){return Gx(this,void 0,void 0,function(){var s,c;return Yx(this,function(d){switch(d.label){case 0:return[4,this.detector.detect(n)];case 1:if(s=d.sent(),!s||s.length===0)throw"No barcode or QR code detected.";return c=this.selectLargestBarcode(s),[2,{text:c.rawValue,format:og.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(n){for(var s=null,c=0,d=0,g=n;d<g.length;d++){var _=g[d],A=_.boundingBox.width*_.boundingBox.height;A>c&&(c=A,s=_)}if(!s)throw"No largest barcode found";return s},e.prototype.createBarcodeDetectorFormats=function(n){for(var s=[],c=0,d=n;c<d.length;c++){var g=d[c];this.formatMap.has(g)?s.push(this.formatMap.get(g)):this.logger.warn("".concat(g," is not supported by")+"BarcodeDetectorDelegate")}return{formats:s}},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(s,c,d){n.set(s,c)}),n},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),bf=function(e,n,s,c){function d(g){return g instanceof s?g:new s(function(_){_(g)})}return new(s||(s=Promise))(function(g,_){function A(O){try{v(c.next(O))}catch(k){_(k)}}function S(O){try{v(c.throw(O))}catch(k){_(k)}}function v(O){O.done?g(O.value):d(O.value).then(A,S)}v((c=c.apply(e,n||[])).next())})},If=function(e,n){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,d,g,_;return _={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function A(v){return function(O){return S([v,O])}}function S(v){if(c)throw new TypeError("Generator is already executing.");for(;_&&(_=0,v[0]&&(s=0)),s;)try{if(c=1,d&&(g=v[0]&2?d.return:v[0]?d.throw||((g=d.return)&&g.call(d),0):d.next)&&!(g=g.call(d,v[1])).done)return g;switch(d=0,g&&(v=[v[0]&2,g.value]),v[0]){case 0:case 1:g=v;break;case 4:return s.label++,{value:v[1],done:!1};case 5:s.label++,d=v[1],v=[0];continue;case 7:v=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(v[0]===6||v[0]===2)){s=0;continue}if(v[0]===3&&(!g||v[1]>g[0]&&v[1]<g[3])){s.label=v[1];break}if(v[0]===6&&s.label<g[1]){s.label=g[1],g=v;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(v);break}g[2]&&s.ops.pop(),s.trys.pop();continue}v=n.call(e,s)}catch(O){v=[6,O],d=0}finally{c=g=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Xx=function(){function e(n,s,c,d){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=c,s&&Sf.isSupported()?(this.primaryDecoder=new Sf(n,c,d),this.secondaryDecoder=new Af(n,c,d)):this.primaryDecoder=new Af(n,c,d)}return e.prototype.decodeAsync=function(n){return bf(this,void 0,void 0,function(){var s;return If(this,function(c){switch(c.label){case 0:s=performance.now(),c.label=1;case 1:return c.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,c.sent()];case 3:return this.possiblyLogPerformance(s),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(n){return bf(this,void 0,void 0,function(){var s,c;return If(this,function(d){switch(d.label){case 0:s=performance.now(),d.label=1;case 1:return d.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,d.sent()];case 3:if(c=d.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw c;case 4:return this.possiblyLogPerformance(s),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(n){if(this.verbose){var s=performance.now()-n;this.executionResults.push(s),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,s=0,c=this.executionResults;s<c.length;s++){var d=c[s];n+=d}var g=n/this.executionResults.length;console.log("".concat(g," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Zh=function(){var e=function(n,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(c[g]=d[g])},e(n,s)};return function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(n,s);function c(){this.constructor=n}n.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}}(),Hl=function(e,n,s,c){function d(g){return g instanceof s?g:new s(function(_){_(g)})}return new(s||(s=Promise))(function(g,_){function A(O){try{v(c.next(O))}catch(k){_(k)}}function S(O){try{v(c.throw(O))}catch(k){_(k)}}function v(O){O.done?g(O.value):d(O.value).then(A,S)}v((c=c.apply(e,n||[])).next())})},Vl=function(e,n){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,d,g,_;return _={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function A(v){return function(O){return S([v,O])}}function S(v){if(c)throw new TypeError("Generator is already executing.");for(;_&&(_=0,v[0]&&(s=0)),s;)try{if(c=1,d&&(g=v[0]&2?d.return:v[0]?d.throw||((g=d.return)&&g.call(d),0):d.next)&&!(g=g.call(d,v[1])).done)return g;switch(d=0,g&&(v=[v[0]&2,g.value]),v[0]){case 0:case 1:g=v;break;case 4:return s.label++,{value:v[1],done:!1};case 5:s.label++,d=v[1],v=[0];continue;case 7:v=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(v[0]===6||v[0]===2)){s=0;continue}if(v[0]===3&&(!g||v[1]>g[0]&&v[1]<g[3])){s.label=v[1];break}if(v[0]===6&&s.label<g[1]){s.label=g[1],g=v;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(v);break}g[2]&&s.ops.pop(),s.trys.pop();continue}v=n.call(e,s)}catch(O){v=[6,O],d=0}finally{c=g=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},cg=function(){function e(n,s){this.name=n,this.track=s}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(n){var s={};s[this.name]=n;var c={advanced:[s]};return this.track.applyConstraints(c)},e.prototype.value=function(){var n=this.track.getSettings();if(this.name in n){var s=n[this.name];return s}return null},e}(),Qx=function(e){Zh(n,e);function n(s,c){return e.call(this,s,c)||this}return n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(s){var c={};c[this.name]=s;var d={advanced:[c]};return this.track.applyConstraints(d)},n.prototype.getCapabilities=function(){this.failIfNotSupported();var s=this.track.getCapabilities(),c=s[this.name];return{min:c.min,max:c.max,step:c.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},n}(cg),Kx=function(e){Zh(n,e);function n(s){return e.call(this,"zoom",s)||this}return n}(Qx),qx=function(e){Zh(n,e);function n(s){return e.call(this,"torch",s)||this}return n}(cg),Jx=function(){function e(n){this.track=n}return e.prototype.zoomFeature=function(){return new Kx(this.track)},e.prototype.torchFeature=function(){return new qx(this.track)},e}(),$x=function(){function e(n,s,c){this.isClosed=!1,this.parentElement=n,this.mediaStream=s,this.callbacks=c,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return e.prototype.createVideoElement=function(n){var s=document.createElement("video");return s.style.width="".concat(n,"px"),s.style.display="block",s.muted=!0,s.setAttribute("muted","true"),s.playsInline=!0,s},e.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var s=function(){var c=n.surface.clientWidth,d=n.surface.clientHeight;n.callbacks.onRenderSurfaceReady(c,d),n.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(n,s,c,d){return Hl(this,void 0,void 0,function(){var g,_;return Vl(this,function(A){switch(A.label){case 0:return g=new e(n,s,d),c.aspectRatio?(_={aspectRatio:c.aspectRatio},[4,g.getFirstTrackOrFail().applyConstraints(_)]):[3,2];case 1:A.sent(),A.label=2;case 2:return g.setupSurface(),[2,g]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(n){this.failIfClosed();var s=this,c=function(){setTimeout(n,200),s.surface.removeEventListener("playing",c)};this.surface.addEventListener("playing",c),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(n){return Hl(this,void 0,void 0,function(){return Vl(this,function(s){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(s,c){var d=n.mediaStream.getVideoTracks(),g=d.length,_=0;n.mediaStream.getVideoTracks().forEach(function(A){n.mediaStream.removeTrack(A),A.stop(),++_,_>=g&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),s())})})},e.prototype.getCapabilities=function(){return new Jx(this.getFirstTrackOrFail())},e}(),e2=function(){function e(n){this.mediaStream=n}return e.prototype.render=function(n,s,c){return Hl(this,void 0,void 0,function(){return Vl(this,function(d){return[2,$x.create(n,this.mediaStream,s,c)]})})},e.create=function(n){return Hl(this,void 0,void 0,function(){var s,c;return Vl(this,function(d){switch(d.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return s={audio:!1,video:n},[4,navigator.mediaDevices.getUserMedia(s)];case 1:return c=d.sent(),[2,new e(c)]}})})},e}(),Tf=function(e,n,s,c){function d(g){return g instanceof s?g:new s(function(_){_(g)})}return new(s||(s=Promise))(function(g,_){function A(O){try{v(c.next(O))}catch(k){_(k)}}function S(O){try{v(c.throw(O))}catch(k){_(k)}}function v(O){O.done?g(O.value):d(O.value).then(A,S)}v((c=c.apply(e,n||[])).next())})},Nf=function(e,n){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,d,g,_;return _={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function A(v){return function(O){return S([v,O])}}function S(v){if(c)throw new TypeError("Generator is already executing.");for(;_&&(_=0,v[0]&&(s=0)),s;)try{if(c=1,d&&(g=v[0]&2?d.return:v[0]?d.throw||((g=d.return)&&g.call(d),0):d.next)&&!(g=g.call(d,v[1])).done)return g;switch(d=0,g&&(v=[v[0]&2,g.value]),v[0]){case 0:case 1:g=v;break;case 4:return s.label++,{value:v[1],done:!1};case 5:s.label++,d=v[1],v=[0];continue;case 7:v=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(v[0]===6||v[0]===2)){s=0;continue}if(v[0]===3&&(!g||v[1]>g[0]&&v[1]<g[3])){s.label=v[1];break}if(v[0]===6&&s.label<g[1]){s.label=g[1],g=v;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(v);break}g[2]&&s.ops.pop(),s.trys.pop();continue}v=n.call(e,s)}catch(O){v=[6,O],d=0}finally{c=g=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},t2=function(){function e(){}return e.failIfNotSupported=function(){return Tf(this,void 0,void 0,function(){return Nf(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(n){return Tf(this,void 0,void 0,function(){return Nf(this,function(s){return[2,e2.create(n)]})})},e}(),n2=function(e,n,s,c){function d(g){return g instanceof s?g:new s(function(_){_(g)})}return new(s||(s=Promise))(function(g,_){function A(O){try{v(c.next(O))}catch(k){_(k)}}function S(O){try{v(c.throw(O))}catch(k){_(k)}}function v(O){O.done?g(O.value):d(O.value).then(A,S)}v((c=c.apply(e,n||[])).next())})},r2=function(e,n){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,d,g,_;return _={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function A(v){return function(O){return S([v,O])}}function S(v){if(c)throw new TypeError("Generator is already executing.");for(;_&&(_=0,v[0]&&(s=0)),s;)try{if(c=1,d&&(g=v[0]&2?d.return:v[0]?d.throw||((g=d.return)&&g.call(d),0):d.next)&&!(g=g.call(d,v[1])).done)return g;switch(d=0,g&&(v=[v[0]&2,g.value]),v[0]){case 0:case 1:g=v;break;case 4:return s.label++,{value:v[1],done:!1};case 5:s.label++,d=v[1],v=[0];continue;case 7:v=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(v[0]===6||v[0]===2)){s=0;continue}if(v[0]===3&&(!g||v[1]>g[0]&&v[1]<g[3])){s.label=v[1];break}if(v[0]===6&&s.label<g[1]){s.label=g[1],g=v;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(v);break}g[2]&&s.ops.pop(),s.trys.pop();continue}v=n.call(e,s)}catch(O){v=[6,O],d=0}finally{c=g=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},i2=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var n=Xs.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(n=Xs.insecureContextCameraQueryError()),Promise.reject(n)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var n=location.host.split(":")[0];return n==="127.0.0.1"||n==="localhost"},e.getCamerasFromMediaDevices=function(){return n2(this,void 0,void 0,function(){var n,s,c,d,g,_,A;return r2(this,function(S){switch(S.label){case 0:return n=function(v){for(var O=v.getVideoTracks(),k=0,U=O;k<U.length;k++){var Y=U[k];Y.enabled=!1,Y.stop(),v.removeTrack(Y)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return s=S.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(c=S.sent(),d=[],g=0,_=c;g<_.length;g++)A=_[g],A.kind==="videoinput"&&d.push({id:A.deviceId,label:A.label});return n(s),[2,d]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,s){var c=function(g){for(var _=[],A=0,S=g;A<S.length;A++){var v=S[A];v.kind==="video"&&_.push({id:v.id,label:v.label})}n(_)},d=MediaStreamTrack;d.getSources(c)})},e}(),Ut;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Ut||(Ut={}));var s2=function(){function e(){this.state=Ut.NOT_STARTED,this.onGoingTransactionNewState=Ut.UNKNOWN}return e.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},e.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Ut.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ut.UNKNOWN,this.directTransition(n)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ut.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ut.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ut.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(n){switch(this.state){case Ut.UNKNOWN:throw"Transition from unknown is not allowed";case Ut.NOT_STARTED:this.failIfNewStateIs(n,[Ut.PAUSED]);break;case Ut.SCANNING:break;case Ut.PAUSED:break}},e.prototype.failIfNewStateIs=function(n,s){for(var c=0,d=s;c<d.length;c++){var g=d[c];if(n===g)throw"Cannot transition from ".concat(this.state," to ").concat(n)}},e}(),o2=function(){function e(n){this.stateManager=n}return e.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},e.prototype.directTransition=function(n){this.stateManager.directTransition(n)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Ut.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Ut.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ut.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Ut.PAUSED},e}(),a2=function(){function e(){}return e.create=function(){return new o2(new s2)},e}(),l2=function(){var e=function(n,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(c[g]=d[g])},e(n,s)};return function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(n,s);function c(){this.constructor=n}n.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}}(),Kn=function(e){l2(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n}(kr),u2=function(){function e(n,s){this.logger=s,this.fps=Kn.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=n.disableFlip===!0,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=Kn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?ug.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Qr(this.qrbox)},e.create=function(n,s){return new e(n,s)},e}(),Mf=function(){function e(n,s){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.elementId=n,this.verbose=!1;var c;typeof s=="boolean"?this.verbose=s===!0:s&&(c=s,this.verbose=c.verbose===!0,c.experimentalFeatures),this.logger=new lg(this.verbose),this.qrcode=new Xx(this.getSupportedFormats(s),this.getUseBarCodeDetectorIfSupported(c),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=a2.create()}return e.prototype.start=function(n,s,c,d){var g=this;if(!n)throw"cameraIdOrConfig is required";if(!c||typeof c!="function")throw"qrCodeSuccessCallback is required and should be a function.";var _;d?_=d:_=this.verbose?this.logger.log:function(){};var A=u2.create(s,this.logger);this.clearElement();var S=!1;A.videoConstraints&&(A.isMediaStreamConstraintsValid()?S=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var v=S,O=document.getElementById(this.elementId);O.clientWidth?O.clientWidth:Kn.DEFAULT_WIDTH,O.style.position="relative",this.shouldScan=!0,this.element=O;var k=this,U=this.stateManagerProxy.startTransition(Ut.SCANNING);return new Promise(function(Y,te){var H=v?A.videoConstraints:k.createVideoConstraints(n);if(!H){U.cancel(),te("videoConstraints should be defined");return}var ye={};(!v||A.aspectRatio)&&(ye.aspectRatio=A.aspectRatio);var j={onRenderSurfaceReady:function(D,P){k.setupUi(D,P,A),k.isScanning=!0,k.foreverScan(A,c,_)}};t2.failIfNotSupported().then(function(D){D.create(H).then(function(P){return P.render(g.element,ye,j).then(function(J){k.renderedCamera=J,U.execute(),Y(null)}).catch(function(J){U.cancel(),te(J)})}).catch(function(P){U.cancel(),te(Xs.errorGettingUserMedia(P))})}).catch(function(D){U.cancel(),te(Xs.cameraStreamingNotSupported())})})},e.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ut.PAUSED),this.showPausedState(),(Qr(n)||n!==!0)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,s=function(){n.stateManagerProxy.directTransition(Ut.SCANNING),n.hidePausedState()};if(!this.renderedCamera.isPaused()){s();return}this.renderedCamera.resume(function(){s()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var s=this.stateManagerProxy.startTransition(Ut.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var c=function(){if(n.element){var g=document.getElementById(Kn.SHADED_REGION_ELEMENT_ID);g&&n.element.removeChild(g)}},d=this;return this.renderedCamera.close().then(function(){return d.renderedCamera=null,d.element&&(d.element.removeChild(d.canvasElement),d.canvasElement=null),c(),d.qrRegion&&(d.qrRegion=null),d.context&&(d.context=null),s.execute(),d.hidePausedState(),d.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(n,s){return this.scanFileV2(n,s).then(function(c){return c.decodedText})},e.prototype.scanFileV2=function(n,s){var c=this;if(!n||!(n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Qr(s)&&(s=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(d,g){c.possiblyCloseLastScanImageFile(),c.clearElement(),c.lastScanImageFile=URL.createObjectURL(n);var _=new Image;_.onload=function(){var A=_.width,S=_.height,v=document.getElementById(c.elementId),O=v.clientWidth?v.clientWidth:Kn.DEFAULT_WIDTH,k=Math.max(v.clientHeight?v.clientHeight:S,Kn.FILE_SCAN_MIN_HEIGHT),U=c.computeCanvasDrawConfig(A,S,O,k);if(s){var Y=c.createCanvasElement(O,k,"qr-canvas-visible");Y.style.display="inline-block",v.appendChild(Y);var te=Y.getContext("2d");if(!te)throw"Unable to get 2d context from canvas";te.canvas.width=O,te.canvas.height=k,te.drawImage(_,0,0,A,S,U.x,U.y,U.width,U.height)}var H=Kn.FILE_SCAN_HIDDEN_CANVAS_PADDING,ye=Math.max(_.width,U.width),j=Math.max(_.height,U.height),D=ye+2*H,P=j+2*H,J=c.createCanvasElement(D,P);v.appendChild(J);var fe=J.getContext("2d");if(!fe)throw"Unable to get 2d context from canvas";fe.canvas.width=D,fe.canvas.height=P,fe.drawImage(_,0,0,A,S,H,H,ye,j);try{c.qrcode.decodeRobustlyAsync(J).then(function(ae){d(Cf.createFromQrcodeResult(ae))}).catch(g)}catch(ae){g("QR code parse error, error = ".concat(ae))}},_.onerror=g,_.onabort=g,_.onstalled=g,_.onsuspend=g,_.src=URL.createObjectURL(n)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return i2.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(n){if(n){if(!ug.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(n){var s=[Ae.QR_CODE,Ae.AZTEC,Ae.CODABAR,Ae.CODE_39,Ae.CODE_93,Ae.CODE_128,Ae.DATA_MATRIX,Ae.MAXICODE,Ae.ITF,Ae.EAN_13,Ae.EAN_8,Ae.PDF_417,Ae.RSS_14,Ae.RSS_EXPANDED,Ae.UPC_A,Ae.UPC_E,Ae.UPC_EAN_EXTENSION];if(!n||typeof n=="boolean"||!n.formatsToSupport)return s;if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(n.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var c=[],d=0,g=n.formatsToSupport;d<g.length;d++){var _=g[d];Vx(_)?c.push(_):this.logger.warn("Invalid format: ".concat(_," passed in config, ignoring."))}if(c.length===0)throw"None of formatsToSupport match supported values.";return c},e.prototype.getUseBarCodeDetectorIfSupported=function(n){if(Qr(n))return!0;if(!Qr(n.useBarCodeDetectorIfSupported))return n.useBarCodeDetectorIfSupported!==!1;if(Qr(n.experimentalFeatures))return!0;var s=n.experimentalFeatures;return Qr(s.useBarCodeDetectorIfSupported)?!0:s.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(n,s,c){var d=this,g=c.qrbox;this.validateQrboxConfig(g);var _=this.toQrdimensions(n,s,g),A=function(v){if(v<Kn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Kn.MIN_QR_BOX_SIZE,"px.")},S=function(v){return v>n&&(d.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),v=n),v};A(_.width),A(_.height),_.width=S(_.width)},e.prototype.validateQrboxConfig=function(n){if(typeof n!="number"&&typeof n!="function"&&(n.width===void 0||n.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(n,s,c){if(typeof c=="number")return{width:c,height:c};if(typeof c=="function")try{return c(n,s)}catch(d){throw new Error("qrbox config was passed as a function but it failed with unknown error"+d)}return c},e.prototype.setupUi=function(n,s,c){c.isShadedBoxEnabled()&&this.validateQrboxSize(n,s,c);var d=Qr(c.qrbox)?{width:n,height:s}:c.qrbox;this.validateQrboxConfig(d);var g=this.toQrdimensions(n,s,d);g.height>s&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var _=c.isShadedBoxEnabled()&&g.height<=s,A={x:0,y:0,width:n,height:s},S=_?this.getShadedRegionBounds(n,s,g):A,v=this.createCanvasElement(S.width,S.height),O={willReadFrequently:!0},k=v.getContext("2d",O);k.canvas.width=S.width,k.canvas.height=S.height,this.element.append(v),_&&this.possiblyInsertShadingElement(this.element,n,s,g),this.createScannerPausedUiElement(this.element),this.qrRegion=S,this.context=k,this.canvasElement=v},e.prototype.createScannerPausedUiElement=function(n){var s=document.createElement("div");s.innerText=Xs.scannerPaused(),s.style.display="none",s.style.position="absolute",s.style.top="0px",s.style.zIndex="1",s.style.background="rgba(9, 9, 9, 0.46)",s.style.color="#FFECEC",s.style.textAlign="center",s.style.width="100%",n.appendChild(s),this.scannerPausedUiElement=s},e.prototype.scanContext=function(n,s){var c=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(d){return n(d.text,Cf.createFromQrcodeResult(d)),c.possiblyUpdateShaders(!0),!0}).catch(function(d){c.possiblyUpdateShaders(!1);var g=Xs.codeParseError(d);return s(g,ag.createFrom(g)),!1})},e.prototype.foreverScan=function(n,s,c){var d=this;if(this.shouldScan&&this.renderedCamera){var g=this.renderedCamera.getSurface(),_=g.videoWidth/g.clientWidth,A=g.videoHeight/g.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var S=this.qrRegion.width*_,v=this.qrRegion.height*A,O=this.qrRegion.x*_,k=this.qrRegion.y*A;this.context.drawImage(g,O,k,S,v,0,0,this.qrRegion.width,this.qrRegion.height);var U=function(){d.foreverScanTimeout=setTimeout(function(){d.foreverScan(n,s,c)},d.getTimeoutFps(n.fps))};this.scanContext(s,c).then(function(Y){!Y&&n.disableFlip!==!0?(d.context.translate(d.context.canvas.width,0),d.context.scale(-1,1),d.scanContext(s,c).finally(function(){U()})):U()}).catch(function(Y){d.logger.logError("Error happend while scanning context",Y),U()})}},e.prototype.createVideoConstraints=function(n){if(typeof n=="string")return{deviceId:{exact:n}};if(typeof n=="object"){var s="facingMode",c="deviceId",d={user:!0,environment:!0},g="exact",_=function(te){if(te in d)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(te,"'")},A=Object.keys(n);if(A.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(A.length," keys");var S=Object.keys(n)[0];if(S!==s&&S!==c)throw"Only '".concat(s,"' and '").concat(c,"' ")+" are supported for 'cameraIdOrConfig'";if(S===s){var v=n.facingMode;if(typeof v=="string"){if(_(v))return{facingMode:v}}else if(typeof v=="object")if(g in v){if(_(v["".concat(g)]))return{facingMode:{exact:v["".concat(g)]}}}else throw"'facingMode' should be string or object with"+" ".concat(g," as key.");else{var O=typeof v;throw"Invalid type of 'facingMode' = ".concat(O)}}else{var k=n.deviceId;if(typeof k=="string")return{deviceId:k};if(typeof k=="object"){if(g in k)return{deviceId:{exact:k["".concat(g)]}};throw"'deviceId' should be string or object with"+" ".concat(g," as key.")}else{var U=typeof k;throw"Invalid type of 'deviceId' = ".concat(U)}}}var Y=typeof n;throw"Invalid type of 'cameraIdOrConfig' = ".concat(Y)},e.prototype.computeCanvasDrawConfig=function(n,s,c,d){if(n<=c&&s<=d){var g=(c-n)/2,_=(d-s)/2;return{x:g,y:_,width:n,height:s}}else{var A=n,S=s;return n>c&&(s=c/n*s,n=c),s>d&&(n=d/s*n,s=d),this.logger.log("Image downsampled from "+"".concat(A,"X").concat(S)+" to ".concat(n,"X").concat(s,".")),this.computeCanvasDrawConfig(n,s,c,d)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},e.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(s){s.style.backgroundColor=n?Kn.BORDER_SHADER_MATCH_COLOR:Kn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(n,s,c){var d=n,g=s,_=document.createElement("canvas");return _.style.width="".concat(d,"px"),_.style.height="".concat(g,"px"),_.style.display="none",_.id=Qr(c)?"qr-canvas":c,_},e.prototype.getShadedRegionBounds=function(n,s,c){if(c.width>n||c.height>s)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-c.width)/2,y:(s-c.height)/2,width:c.width,height:c.height}},e.prototype.possiblyInsertShadingElement=function(n,s,c,d){if(!(s-d.width<1||c-d.height<1)){var g=document.createElement("div");g.style.position="absolute";var _=(s-d.width)/2,A=(c-d.height)/2;if(g.style.borderLeft="".concat(_,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderRight="".concat(_,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderTop="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderBottom="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),g.style.boxSizing="border-box",g.style.top="0px",g.style.bottom="0px",g.style.left="0px",g.style.right="0px",g.id="".concat(Kn.SHADED_REGION_ELEMENT_ID),s-d.width<11||c-d.height<11)this.hasBorderShaders=!1;else{var S=5,v=40;this.insertShaderBorders(g,v,S,-S,null,0,!0),this.insertShaderBorders(g,v,S,-S,null,0,!1),this.insertShaderBorders(g,v,S,null,-S,0,!0),this.insertShaderBorders(g,v,S,null,-S,0,!1),this.insertShaderBorders(g,S,v+S,-S,null,-S,!0),this.insertShaderBorders(g,S,v+S,null,-S,-S,!0),this.insertShaderBorders(g,S,v+S,-S,null,-S,!1),this.insertShaderBorders(g,S,v+S,null,-S,-S,!1),this.hasBorderShaders=!0}n.append(g)}},e.prototype.insertShaderBorders=function(n,s,c,d,g,_,A){var S=document.createElement("div");S.style.position="absolute",S.style.backgroundColor=Kn.BORDER_SHADER_DEFAULT_COLOR,S.style.width="".concat(s,"px"),S.style.height="".concat(c,"px"),d!==null&&(S.style.top="".concat(d,"px")),g!==null&&(S.style.bottom="".concat(g,"px")),A?S.style.left="".concat(_,"px"):S.style.right="".concat(_,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(S),n.appendChild(S)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(n){return 1e3/n},e}(),Wh="data:image/svg+xml;base64,",c2=Wh+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",h2=Wh+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Of=Wh+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",d2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",kf=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),f2=function(){function e(){this.data=kf.createDefault();var n=localStorage.getItem(e.LOCAL_STORAGE_KEY);n?this.data=JSON.parse(n):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(n){this.data.hasPermission=n,this.flush()},e.prototype.setLastUsedCameraId=function(n){this.data.lastUsedCameraId=n,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=kf.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),g2=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(n){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Ef.poweredBy();var s=document.createElement("a");s.innerText="ScanApp",s.href="https://scanapp.org",s.target="new",s.style.color="white",this.infoDiv.appendChild(s);var c=document.createElement("br"),d=document.createElement("br");this.infoDiv.appendChild(c),this.infoDiv.appendChild(d);var g=document.createElement("a");g.innerText=Ef.reportIssues(),g.href="https://github.com/mebjas/html5-qrcode/issues",g.target="new",g.style.color="white",this.infoDiv.appendChild(g),n.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),p2=function(){function e(n,s){this.isShowingInfoIcon=!0,this.onTapIn=n,this.onTapOut=s,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(n){var s=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Of,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(c){return s.onHoverIn()},this.infoIcon.onmouseout=function(c){return s.onHoverOut()},this.infoIcon.onclick=function(c){return s.onClick()},n.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=d2,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Of,this.infoIcon.style.opacity="0.6")},e}(),m2=function(){function e(){var n=this;this.infoDiv=new g2,this.infoIcon=new p2(function(){n.infoDiv.show()},function(){n.infoDiv.hide()})}return e.prototype.renderInto=function(n){this.infoDiv.renderInto(n),this.infoIcon.renderInto(n)},e}(),x2=function(e,n,s,c){function d(g){return g instanceof s?g:new s(function(_){_(g)})}return new(s||(s=Promise))(function(g,_){function A(O){try{v(c.next(O))}catch(k){_(k)}}function S(O){try{v(c.throw(O))}catch(k){_(k)}}function v(O){O.done?g(O.value):d(O.value).then(A,S)}v((c=c.apply(e,n||[])).next())})},y2=function(e,n){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,d,g,_;return _={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function A(v){return function(O){return S([v,O])}}function S(v){if(c)throw new TypeError("Generator is already executing.");for(;_&&(_=0,v[0]&&(s=0)),s;)try{if(c=1,d&&(g=v[0]&2?d.return:v[0]?d.throw||((g=d.return)&&g.call(d),0):d.next)&&!(g=g.call(d,v[1])).done)return g;switch(d=0,g&&(v=[v[0]&2,g.value]),v[0]){case 0:case 1:g=v;break;case 4:return s.label++,{value:v[1],done:!1};case 5:s.label++,d=v[1],v=[0];continue;case 7:v=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(v[0]===6||v[0]===2)){s=0;continue}if(v[0]===3&&(!g||v[1]>g[0]&&v[1]<g[3])){s.label=v[1];break}if(v[0]===6&&s.label<g[1]){s.label=g[1],g=v;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(v);break}g[2]&&s.ops.pop(),s.trys.pop();continue}v=n.call(e,s)}catch(O){v=[6,O],d=0}finally{c=g=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Lf=function(){function e(){}return e.hasPermissions=function(){return x2(this,void 0,void 0,function(){var n,s,c,d;return y2(this,function(g){switch(g.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(n=g.sent(),s=0,c=n;s<c.length;s++)if(d=c[s],d.kind==="videoinput"&&d.label)return[2,!0];return[2,!1]}})})},e}(),Li=function(){function e(n){this.supportedScanTypes=this.validateAndReturnScanTypes(n)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var n=0,s=this.supportedScanTypes;n<s.length;n++){var c=s[n];if(e.isCameraScanType(c))return!0}return!1},e.isCameraScanType=function(n){return n===Ki.SCAN_TYPE_CAMERA},e.isFileScanType=function(n){return n===Ki.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(n){if(!n||n.length===0)return kr.DEFAULT_SUPPORTED_SCAN_TYPE;var s=kr.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(n.length>s)throw"Max ".concat(s," values expected for ")+"supportedScanTypes";for(var c=0,d=n;c<d.length;c++){var g=d[c];if(!kr.DEFAULT_SUPPORTED_SCAN_TYPE.includes(g))throw"Unsupported scan type ".concat(g)}return n},e}(),$n=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),di=function(){function e(){}return e.createElement=function(n,s){var c=document.createElement(n);return c.id=s,c.classList.add($n.ALL_ELEMENT_CLASS),n==="button"&&c.setAttribute("type","button"),c},e}(),hg=function(e,n,s,c){function d(g){return g instanceof s?g:new s(function(_){_(g)})}return new(s||(s=Promise))(function(g,_){function A(O){try{v(c.next(O))}catch(k){_(k)}}function S(O){try{v(c.throw(O))}catch(k){_(k)}}function v(O){O.done?g(O.value):d(O.value).then(A,S)}v((c=c.apply(e,n||[])).next())})},dg=function(e,n){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,d,g,_;return _={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function A(v){return function(O){return S([v,O])}}function S(v){if(c)throw new TypeError("Generator is already executing.");for(;_&&(_=0,v[0]&&(s=0)),s;)try{if(c=1,d&&(g=v[0]&2?d.return:v[0]?d.throw||((g=d.return)&&g.call(d),0):d.next)&&!(g=g.call(d,v[1])).done)return g;switch(d=0,g&&(v=[v[0]&2,g.value]),v[0]){case 0:case 1:g=v;break;case 4:return s.label++,{value:v[1],done:!1};case 5:s.label++,d=v[1],v=[0];continue;case 7:v=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(v[0]===6||v[0]===2)){s=0;continue}if(v[0]===3&&(!g||v[1]>g[0]&&v[1]<g[3])){s.label=v[1];break}if(v[0]===6&&s.label<g[1]){s.label=g[1],g=v;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(v);break}g[2]&&s.ops.pop(),s.trys.pop();continue}v=n.call(e,s)}catch(O){v=[6,O],d=0}finally{c=g=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Rf=function(){function e(n,s,c){this.isTorchOn=!1,this.torchCapability=n,this.buttonController=s,this.onTorchActionFailureCallback=c}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return hg(this,void 0,void 0,function(){var n,s;return dg(this,function(c){switch(c.label){case 0:this.buttonController.disable(),n=!this.isTorchOn,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.torchCapability.apply(n)];case 2:return c.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),n),[3,4];case 3:return s=c.sent(),this.propagateFailure(n,s),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(n,s){n===s?(this.buttonController.setText(s?pt.torchOffButton():pt.torchOnButton()),this.isTorchOn=s):this.propagateFailure(s),this.buttonController.enable()},e.prototype.propagateFailure=function(n,s){var c=n?pt.torchOnFailedMessage():pt.torchOffFailedMessage();s&&(c+="; Error = "+s),this.onTorchActionFailureCallback(c)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),_2=function(){function e(n,s){this.onTorchActionFailureCallback=s,this.torchButton=di.createElement("button",$n.TORCH_BUTTON_ID),this.torchController=new Rf(n,this,s)}return e.prototype.render=function(n,s){var c=this;this.torchButton.innerText=pt.torchOnButton(),this.torchButton.style.display=s.display,this.torchButton.style.marginLeft=s.marginLeft;var d=this;this.torchButton.addEventListener("click",function(g){return hg(c,void 0,void 0,function(){return dg(this,function(_){switch(_.label){case 0:return[4,d.torchController.flipState()];case 1:return _.sent(),d.torchController.isTorchEnabled()?(d.torchButton.classList.remove($n.TORCH_BUTTON_CLASS_TORCH_OFF),d.torchButton.classList.add($n.TORCH_BUTTON_CLASS_TORCH_ON)):(d.torchButton.classList.remove($n.TORCH_BUTTON_CLASS_TORCH_ON),d.torchButton.classList.add($n.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),n.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(n){this.torchController=new Rf(n,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(n){this.torchButton.innerText=n},e.prototype.reset=function(){this.torchButton.innerText=pt.torchOnButton(),this.torchController.reset()},e.create=function(n,s,c,d){var g=new e(s,d);return g.render(n,c),g},e}(),w2=function(){function e(n,s,c){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=s?"block":"none",n.appendChild(this.fileBasedScanRegion);var d=document.createElement("label");d.setAttribute("for",this.getFileScanInputId()),d.style.display="inline-block",this.fileBasedScanRegion.appendChild(d),this.fileSelectionButton=di.createElement("button",$n.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(A){d.click()}),d.append(this.fileSelectionButton),this.fileScanInput=di.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",d.appendChild(this.fileScanInput);var g=this;this.fileScanInput.addEventListener("change",function(A){if(!(A==null||A.target==null)){var S=A.target;if(!(S.files&&S.files.length===0)){var v=S.files,O=v[0],k=O.name;g.setImageNameToButton(k),c(O)}}});var _=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(_),this.fileBasedScanRegion.addEventListener("dragenter",function(A){g.fileBasedScanRegion.style.border=g.fileBasedScanRegionActiveBorder(),A.stopPropagation(),A.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(A){g.fileBasedScanRegion.style.border=g.fileBasedScanRegionDefaultBorder(),A.stopPropagation(),A.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(A){g.fileBasedScanRegion.style.border=g.fileBasedScanRegionActiveBorder(),A.stopPropagation(),A.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(A){A.stopPropagation(),A.preventDefault(),g.fileBasedScanRegion.style.border=g.fileBasedScanRegionDefaultBorder();var S=A.dataTransfer;if(S){var v=S.files;if(!v||v.length===0)return;for(var O=!1,k=0;k<v.length;++k){var U=v.item(k);if(U){var Y=/image.*/;if(U.type.match(Y)){O=!0;var te=U.name;g.setImageNameToButton(te),c(U),_.innerText=pt.dragAndDropMessage();break}}}O||(_.innerText=pt.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var n=document.createElement("div");return n.style.textAlign="center",n.style.margin="auto",n.style.width="80%",n.style.maxWidth="600px",n.style.border=this.fileBasedScanRegionDefaultBorder(),n.style.padding="10px",n.style.marginBottom="10px",n},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var n=document.createElement("div");return n.innerText=pt.dragAndDropMessage(),n.style.fontWeight="400",n},e.prototype.setImageNameToButton=function(n){var s=20;if(n.length>s){var c=n.substring(0,8),d=n.length,g=n.substring(d-8,d);n="".concat(c,"....").concat(g)}var _=pt.fileSelectionChooseAnother()+" - "+n;this.fileSelectionButton.innerText=_},e.prototype.setInitialValueToButton=function(){var n=pt.fileSelectionChooseImage()+" - "+pt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=n},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(n,s,c){var d=new e(n,s,c);return d},e}(),v2=function(){function e(n){this.selectElement=di.createElement("select",$n.CAMERA_SELECTION_SELECT_ID),this.cameras=n,this.options=[]}return e.prototype.render=function(n){var s=document.createElement("span");s.style.marginRight="10px";var c=this.cameras.length;if(c===0)throw new Error("No cameras found");if(c===1)s.style.display="none";else{var d=pt.selectCamera();s.innerText="".concat(d," (").concat(this.cameras.length,")  ")}for(var g=1,_=0,A=this.cameras;_<A.length;_++){var S=A[_],v=S.id,O=S.label==null?v:S.label;(!O||O==="")&&(O=[pt.anonymousCameraPrefix(),g++].join(" "));var k=document.createElement("option");k.value=v,k.innerText=O,this.options.push(k),this.selectElement.appendChild(k)}s.appendChild(this.selectElement),n.appendChild(s)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(n){for(var s=0,c=this.options;s<c.length;s++){var d=c[s];if(d.value===n)return!0}return!1},e.prototype.setValue=function(n){if(!this.hasValue(n))throw new Error("".concat(n," is not present in the camera list."));this.selectElement.value=n},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(n,s){var c=new e(s);return c.render(n),c},e}(),C2=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=di.createElement("input",$n.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(n,s){this.zoomElementContainer.style.display=s?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",n.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var c=pt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(c),this.rangeText.style.marginRight="10px";var d=this;this.rangeInput.addEventListener("input",function(){return d.onValueChange()}),this.rangeInput.addEventListener("change",function(){return d.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var n=pt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(n,s,c,d){this.rangeInput.min=n.toString(),this.rangeInput.max=s.toString(),this.rangeInput.step=d.toString(),this.rangeInput.value=c.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(n){this.onChangeCallback=n},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(n,s){var c=new e;return c.render(n,s),c},e}(),qn;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(qn||(qn={}));function E2(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function A2(e,n){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:n}}var S2=function(){function e(n,s,c){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=n,this.config=this.createConfig(s),this.verbose=c===!0,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.scanTypeSelector=new Li(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new lg(this.verbose),this.persistedDataManager=new f2,s.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(n,s){var c=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(g,_){if(n)n(g,_);else{if(c.lastMatchFound===g)return;c.lastMatchFound=g,c.setHeaderMessage(pt.lastMatch(g),qn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(g,_){s&&s(g,_)};var d=document.getElementById(this.elementId);if(!d)throw"HTML Element with id=".concat(this.elementId," not found");d.innerHTML="",this.createBasicLayout(d),this.html5Qrcode=new Mf(this.getScanRegionId(),A2(this.config,this.verbose))},e.prototype.pause=function(n){(Qr(n)||n!==!0)&&(n=!1),this.getHtml5QrcodeOrFail().pause(n)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var n=this,s=function(){var c=document.getElementById(n.elementId);c&&(c.innerHTML="",n.resetBasicLayout(c))};return this.html5Qrcode?new Promise(function(c,d){if(!n.html5Qrcode){c();return}n.html5Qrcode.isScanning?n.html5Qrcode.stop().then(function(g){if(!n.html5Qrcode){c();return}n.html5Qrcode.clear(),s(),c()}).catch(function(g){n.verbose&&n.logger.logError("Unable to stop qrcode scanner",g),d(g)}):(n.html5Qrcode.clear(),s(),c())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(n){return this.getHtml5QrcodeOrFail().applyVideoConstraints(n)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(n){return n?(n.fps||(n.fps=kr.SCAN_DEFAULT_FPS),n.rememberLastUsedCamera!==!kr.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(n.rememberLastUsedCamera=kr.DEFAULT_REMEMBER_LAST_CAMERA_USED),n.supportedScanTypes||(n.supportedScanTypes=kr.DEFAULT_SUPPORTED_SCAN_TYPE),n):{fps:kr.SCAN_DEFAULT_FPS,rememberLastUsedCamera:kr.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:kr.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(n){n.style.position="relative",n.style.padding="0px",n.style.border="1px solid silver",this.createHeader(n);var s=document.createElement("div"),c=this.getScanRegionId();s.id=c,s.style.width="100%",s.style.minHeight="100px",s.style.textAlign="center",n.appendChild(s),Li.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var d=document.createElement("div"),g=this.getDashboardId();d.id=g,d.style.width="100%",n.appendChild(d),this.setupInitialDashboard(d)},e.prototype.resetBasicLayout=function(n){n.style.border="none"},e.prototype.setupInitialDashboard=function(n){this.createSection(n),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(n){var s=document.createElement("div");s.style.textAlign="left",s.style.margin="0px",n.appendChild(s);var c=new m2;c.renderInto(s);var d=document.createElement("div");d.id=this.getHeaderMessageContainerId(),d.style.display="none",d.style.textAlign="center",d.style.fontSize="14px",d.style.padding="2px 10px",d.style.margin="4px",d.style.borderTop="1px solid #f6f6f6",s.appendChild(d)},e.prototype.createSection=function(n){var s=document.createElement("div");s.id=this.getDashboardSectionId(),s.style.width="100%",s.style.padding="10px 0px 10px 0px",s.style.textAlign="left",n.appendChild(s)},e.prototype.createCameraListUi=function(n,s,c){var d=this;d.showHideScanTypeSwapLink(!1),d.setHeaderMessage(pt.cameraPermissionRequesting());var g=function(){c||d.createPermissionButton(n,s)};Mf.getCameras().then(function(_){d.persistedDataManager.setHasPermission(!0),d.showHideScanTypeSwapLink(!0),d.resetHeaderMessage(),_&&_.length>0?(n.removeChild(s),d.renderCameraSelection(_)):(d.setHeaderMessage(pt.noCameraFound(),qn.STATUS_WARNING),g())}).catch(function(_){d.persistedDataManager.setHasPermission(!1),c?c.disabled=!1:g(),d.setHeaderMessage(_,qn.STATUS_WARNING),d.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(n,s){var c=this,d=di.createElement("button",this.getCameraPermissionButtonId());d.innerText=pt.cameraPermissionTitle(),d.addEventListener("click",function(){d.disabled=!0,c.createCameraListUi(n,s,d)}),s.appendChild(d)},e.prototype.createPermissionsUi=function(n,s){var c=this;if(Li.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Lf.hasPermissions().then(function(d){d?c.createCameraListUi(n,s):(c.persistedDataManager.setHasPermission(!1),c.createPermissionButton(n,s))}).catch(function(d){c.persistedDataManager.setHasPermission(!1),c.createPermissionButton(n,s)});return}this.createPermissionButton(n,s)},e.prototype.createSectionControlPanel=function(){var n=document.getElementById(this.getDashboardSectionId()),s=document.createElement("div");n.appendChild(s);var c=document.createElement("div");c.id=this.getDashboardSectionCameraScanRegionId(),c.style.display=Li.isCameraScanType(this.currentScanType)?"block":"none",s.appendChild(c);var d=document.createElement("div");d.style.textAlign="center",c.appendChild(d),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(c,d),this.renderFileScanUi(s)},e.prototype.renderFileScanUi=function(n){var s=Li.isFileScanType(this.currentScanType),c=this,d=function(g){if(!c.html5Qrcode)throw"html5Qrcode not defined";Li.isFileScanType(c.currentScanType)&&(c.setHeaderMessage(pt.loadingImage()),c.html5Qrcode.scanFileV2(g,!0).then(function(_){c.resetHeaderMessage(),c.qrCodeSuccessCallback(_.decodedText,_)}).catch(function(_){c.setHeaderMessage(_,qn.STATUS_WARNING),c.qrCodeErrorCallback(_,ag.createFrom(_))}))};this.fileSelectionUi=w2.create(n,s,d)},e.prototype.renderCameraSelection=function(n){var s=this,c=this,d=document.getElementById(this.getDashboardSectionCameraScanRegionId());d.style.textAlign="center";var g=C2.create(d,!1),_=function(H){var ye=H.zoomFeature();if(ye.isSupported()){g.setOnCameraZoomValueChangeCallback(function(D){ye.apply(D)});var j=1;s.config.defaultZoomValueIfSupported&&(j=s.config.defaultZoomValueIfSupported),j=Zx(j,ye.min(),ye.max()),g.setValues(ye.min(),ye.max(),j,ye.step()),g.show()}},A=v2.create(d,n),S=document.createElement("span"),v=di.createElement("button",$n.CAMERA_START_BUTTON_ID);v.innerText=pt.scanButtonStartScanningText(),S.appendChild(v);var O=di.createElement("button",$n.CAMERA_STOP_BUTTON_ID);O.innerText=pt.scanButtonStopScanningText(),O.style.display="none",O.disabled=!0,S.appendChild(O);var k,U=function(H){if(!H.torchFeature().isSupported()){k&&k.hide();return}k?k.updateTorchCapability(H.torchFeature()):k=_2.create(S,H.torchFeature(),{display:"none",marginLeft:"5px"},function(ye){c.setHeaderMessage(ye,qn.STATUS_WARNING)}),k.show()};d.appendChild(S);var Y=function(H){H||(v.style.display="none"),v.innerText=pt.scanButtonStartScanningText(),v.style.opacity="1",v.disabled=!1,H&&(v.style.display="inline-block")};if(v.addEventListener("click",function(H){v.innerText=pt.scanButtonScanningStarting(),A.disable(),v.disabled=!0,v.style.opacity="0.5",s.scanTypeSelector.hasMoreThanOneScanType()&&c.showHideScanTypeSwapLink(!1),c.resetHeaderMessage();var ye=A.getValue();c.persistedDataManager.setLastUsedCameraId(ye),c.html5Qrcode.start(ye,E2(c.config),c.qrCodeSuccessCallback,c.qrCodeErrorCallback).then(function(j){O.disabled=!1,O.style.display="inline-block",Y(!1);var D=c.html5Qrcode.getRunningTrackCameraCapabilities();s.config.showTorchButtonIfSupported===!0&&U(D),s.config.showZoomSliderIfSupported===!0&&_(D)}).catch(function(j){c.showHideScanTypeSwapLink(!0),A.enable(),Y(!0),c.setHeaderMessage(j,qn.STATUS_WARNING)})}),A.hasSingleItem()&&v.click(),O.addEventListener("click",function(H){if(!c.html5Qrcode)throw"html5Qrcode not defined";O.disabled=!0,c.html5Qrcode.stop().then(function(ye){s.scanTypeSelector.hasMoreThanOneScanType()&&c.showHideScanTypeSwapLink(!0),A.enable(),v.disabled=!1,O.style.display="none",v.style.display="inline-block",k&&(k.reset(),k.hide()),g.removeOnCameraZoomValueChangeCallback(),g.hide(),c.insertCameraScanImageToScanRegion()}).catch(function(ye){O.disabled=!1,c.setHeaderMessage(ye,qn.STATUS_WARNING)})}),c.persistedDataManager.getLastUsedCameraId()){var te=c.persistedDataManager.getLastUsedCameraId();A.hasValue(te)?(A.setValue(te),v.click()):c.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var n=this,s=pt.textIfCameraScanSelected(),c=pt.textIfFileScanSelected(),d=document.getElementById(this.getDashboardSectionId()),g=document.createElement("div");g.style.textAlign="center";var _=di.createElement("span",this.getDashboardSectionSwapLinkId());_.style.textDecoration="underline",_.style.cursor="pointer",_.innerText=Li.isCameraScanType(this.currentScanType)?s:c,_.addEventListener("click",function(){if(!n.sectionSwapAllowed){n.verbose&&n.logger.logError("Section swap called when not allowed");return}n.resetHeaderMessage(),n.fileSelectionUi.resetValue(),n.sectionSwapAllowed=!1,Li.isCameraScanType(n.currentScanType)?(n.clearScanRegion(),n.getCameraScanRegion().style.display="none",n.fileSelectionUi.show(),_.innerText=c,n.currentScanType=Ki.SCAN_TYPE_FILE,n.insertFileScanImageToScanRegion()):(n.clearScanRegion(),n.getCameraScanRegion().style.display="block",n.fileSelectionUi.hide(),_.innerText=s,n.currentScanType=Ki.SCAN_TYPE_CAMERA,n.insertCameraScanImageToScanRegion(),n.startCameraScanIfPermissionExistsOnSwap()),n.sectionSwapAllowed=!0}),g.appendChild(_),d.appendChild(g)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var n=this,s=this;if(this.persistedDataManager.hasCameraPermissions()){Lf.hasPermissions().then(function(c){if(c){var d=document.getElementById(s.getCameraPermissionButtonId());if(!d)throw n.logger.logError("Permission button not found, fail;"),"Permission button not found";d.click()}else s.persistedDataManager.setHasPermission(!1)}).catch(function(c){s.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var n=document.getElementById(this.getHeaderMessageContainerId());n.style.display="none"},e.prototype.setHeaderMessage=function(n,s){s||(s=qn.STATUS_DEFAULT);var c=this.getHeaderMessageDiv();switch(c.innerText=n,c.style.display="block",s){case qn.STATUS_SUCCESS:c.style.background="rgba(106, 175, 80, 0.26)",c.style.color="#477735";break;case qn.STATUS_WARNING:c.style.background="rgba(203, 36, 49, 0.14)",c.style.color="#cb2431";break;case qn.STATUS_DEFAULT:default:c.style.background="rgba(0, 0, 0, 0)",c.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(n){this.scanTypeSelector.hasMoreThanOneScanType()&&(n!==!0&&(n=!1),this.sectionSwapAllowed=n,this.getDashboardSectionSwapLink().style.display=n?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var n=this,s=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){s.innerHTML="<br>",s.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(c){s.innerHTML="<br>",s.appendChild(n.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=c2,this.cameraScanImage.alt=pt.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var n=this,s=document.getElementById(this.getScanRegionId());if(this.fileScanImage){s.innerHTML="<br>",s.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(c){s.innerHTML="<br>",s.appendChild(n.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=h2,this.fileScanImage.alt=pt.fileScanAltText()},e.prototype.clearScanRegion=function(){var n=document.getElementById(this.getScanRegionId());n.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return $n.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return $n.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();function b2(){const[e,n]=he.useState("barcode"),[s,c]=he.useState(""),[d,g]=he.useState(null),[_,A]=he.useState(!1),[S,v]=he.useState(""),[O,k]=he.useState(null),[U,Y]=he.useState(null),te=he.useRef(null),H=he.useRef(null);he.useEffect(()=>{ye()},[]),he.useEffect(()=>{e==="barcode"&&te.current&&te.current.focus()},[e,U]),he.useEffect(()=>{if(e==="camera"&&!H.current){const V=new S2("qr-reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1});V.render(ee=>{j(ee),V.pause(!0),setTimeout(()=>V.resume(),2e3)},ee=>{console.warn("Erro scanner:",ee)}),H.current=V}return()=>{H.current&&(H.current.clear(),H.current=null)}},[e]);const ye=async()=>{try{const V=await fetch("/api/separation/start",{method:"POST"}),ee=await V.json();if(!V.ok)throw new Error(ee.detail);k(ee.session),g(ee)}catch(V){v(V.message)}},j=async V=>{if(V.trim()){A(!0),v("");try{const ee=await fetch("/api/separation/scan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({barcode:V.trim()})}),$=await ee.json();if(!ee.ok)throw new Error($.detail);Y($),$.progress&&k(Se=>({...Se,scanned_packages:$.progress.scanned,progress:$.progress.percentage})),c(""),J("success")}catch(ee){v(ee.message),J("error")}finally{A(!1)}}},D=V=>{V.preventDefault(),j(s)},P=async()=>{try{const V=await fetch("/api/separation/complete",{method:"POST"}),ee=await V.json();if(!V.ok)throw new Error(ee.detail);alert("Separao concluda! Agora voc pode enviar as rotas aos entregadores."),window.location.href="/route-analysis"}catch(V){alert(V.message)}},J=V=>{const ee=new(window.AudioContext||window.webkitAudioContext),$=ee.createOscillator(),Se=ee.createGain();$.connect(Se),Se.connect(ee.destination),V==="success"?($.frequency.value=800,Se.gain.value=.3):($.frequency.value=300,Se.gain.value=.5),$.start(),$.stop(ee.currentTime+.1)},fe=(O==null?void 0:O.progress)||0,ae=(O==null?void 0:O.scanned_packages)>=(O==null?void 0:O.total_packages);return w.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-indigo-900 to-blue-900 p-8",children:w.jsxs("div",{className:"max-w-4xl mx-auto",children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:" Modo Separao"}),w.jsx("p",{className:"text-indigo-200",children:"Bipe cada pacote para identificar rota e entregador"})]}),w.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-6 mb-6",children:[w.jsx("label",{className:"text-white font-semibold block mb-3",children:"Mtodo de Bipagem:"}),w.jsxs("div",{className:"flex gap-4",children:[w.jsx("button",{onClick:()=>n("barcode"),className:`flex-1 py-3 px-6 rounded-lg font-semibold transition ${e==="barcode"?"bg-green-500 text-white":"bg-white/20 text-white hover:bg-white/30"}`,children:" Bipadora"}),w.jsx("button",{onClick:()=>n("camera"),className:`flex-1 py-3 px-6 rounded-lg font-semibold transition ${e==="camera"?"bg-green-500 text-white":"bg-white/20 text-white hover:bg-white/30"}`,children:" Cmera"})]})]}),O&&w.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-6 mb-6",children:[w.jsxs("div",{className:"flex justify-between mb-2",children:[w.jsx("span",{className:"text-white font-semibold",children:"Progresso"}),w.jsxs("span",{className:"text-white",children:[O.scanned_packages," / ",O.total_packages," pacotes"]})]}),w.jsx("div",{className:"w-full bg-white/20 rounded-full h-4 overflow-hidden",children:w.jsx("div",{className:"bg-gradient-to-r from-green-400 to-emerald-500 h-full transition-all duration-500",style:{width:`${fe}%`}})}),w.jsxs("p",{className:"text-indigo-200 text-sm mt-2",children:[fe.toFixed(1),"% completo"]})]}),w.jsx("div",{className:"bg-white/10 backdrop-blur rounded-xl p-6 mb-6",children:e==="barcode"?w.jsxs("form",{onSubmit:D,children:[w.jsx("label",{className:"text-white font-semibold block mb-3",children:"Escaneie o cdigo de barras:"}),w.jsx("input",{ref:te,type:"text",value:s,onChange:V=>c(V.target.value),placeholder:"Posicione o cursor aqui e bipe...",className:"w-full px-4 py-3 rounded-lg bg-white/90 text-gray-900 font-mono text-lg focus:outline-none focus:ring-4 focus:ring-green-400",disabled:_||ae,autoFocus:!0}),w.jsx("button",{type:"submit",className:"w-full mt-4 py-3 bg-green-500 hover:bg-green-600 text-white font-bold rounded-lg transition",disabled:_||!s.trim()||ae,children:_?"Processando...":"Confirmar Bipagem"})]}):w.jsxs("div",{children:[w.jsx("label",{className:"text-white font-semibold block mb-3",children:"Aponte a cmera para o cdigo:"}),w.jsx("div",{id:"qr-reader",className:"rounded-lg overflow-hidden"})]})}),U&&w.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-6 mb-6 border-4 animate-pulse",style:{borderColor:U.route_color||"#fff"},children:[w.jsx("h3",{className:"text-white font-bold text-xl mb-4",children:" Pacote Identificado!"}),w.jsxs("div",{className:"grid grid-cols-2 gap-4 text-white",children:[w.jsxs("div",{children:[w.jsx("span",{className:"text-indigo-200 text-sm",children:"Entregador:"}),w.jsx("p",{className:"font-bold text-lg",children:U.deliverer_name})]}),w.jsxs("div",{children:[w.jsx("span",{className:"text-indigo-200 text-sm",children:"Cor da Rota:"}),w.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[w.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white",style:{backgroundColor:U.route_color}}),w.jsx("span",{className:"font-bold",children:U.route_color})]})]}),w.jsxs("div",{children:[w.jsx("span",{className:"text-indigo-200 text-sm",children:"Sequncia:"}),w.jsxs("p",{className:"font-bold text-lg",children:["#",U.sequence," de ",U.total_in_route]})]}),w.jsxs("div",{children:[w.jsx("span",{className:"text-indigo-200 text-sm",children:"Endereo:"}),w.jsx("p",{className:"text-sm",children:U.address})]})]})]}),S&&w.jsx("div",{className:"bg-red-500/20 border-2 border-red-500 rounded-xl p-4 mb-6",children:w.jsxs("p",{className:"text-white font-semibold",children:[" ",S]})}),ae&&w.jsx("button",{onClick:P,className:"w-full py-4 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-bold text-xl rounded-xl shadow-2xl transition transform hover:scale-105",children:" Finalizar Separao e Enviar Rotas"})]})})}function I2({visible:e=!0,percentage:n=30}){const[s,c]=he.useState(e);return he.useEffect(()=>{c(e)},[e]),s?w.jsx("div",{className:"fixed top-0 left-0 right-0 h-1 bg-gradient-to-r from-primary-500 via-purple-500 to-accent-500 shadow-lg shadow-primary-500/50 z-50 transition-all duration-300",style:{width:`${n}%`,opacity:n===100?0:1}}):null}function T2(){const[e,n]=he.useState("dashboard"),[s,c]=he.useState(null),[d,g]=he.useState({role:"loading"}),[_,A]=he.useState(null),[S,v]=he.useState(null),[O,k]=he.useState(null),[U,Y]=he.useState(!1),[te,H]=he.useState(!1),[ye,j]=he.useState(0);he.useEffect(()=>{var Ze;let ee=null;const $=window.matchMedia("(prefers-color-scheme: dark)").matches;H($),$&&document.documentElement.classList.add("dark");const Se=window.matchMedia("(prefers-color-scheme: dark)"),Re=Le=>{H(Le.matches),Le.matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};Se.addEventListener("change",Re);const ge=new URLSearchParams(window.location.search);if(ge.get("tab")&&n(ge.get("tab")),window.Telegram&&window.Telegram.WebApp){const Le=window.Telegram.WebApp;Le.ready(),Le.expand(),(Ze=Le.initDataUnsafe)!=null&&Ze.user&&(c(Le.initDataUnsafe.user),ee=Le.initDataUnsafe.user.id)}if(!ee){const Le=new URLSearchParams(window.location.search);Le.get("user_id")&&(ee=parseInt(Le.get("user_id")),c({id:ee,first_name:"Dev User"}))}return ee?D(ee):g({role:"guest"}),()=>Se.removeEventListener("change",Re)},[]);const D=async ee=>{Y(!0);try{const Se=await(await fetch(`/api/auth/me?user_id=${ee}`)).json();g(Se);const Re=[];Re.push(fetch(`/api/financial/balance?user_id=${ee}`).then(ge=>ge.json()).then(ge=>k(ge)).catch(ge=>console.error("Erro Finanas",ge))),Se.role==="admin"?Re.push(fetch("/api/admin/stats").then(ge=>ge.json()).then(ge=>v(ge))):Se.role==="deliverer"&&Re.push(fetch(`/api/deliverer/route?user_id=${ee}`).then(ge=>ge.json()).then(ge=>A(ge))),await Promise.all(Re)}catch($){console.error("Erro fetching data",$)}finally{Y(!1)}},P=()=>{if(s!=null&&s.id){j(0),Y(!0);const ee=setInterval(()=>{j($=>$>=80?(clearInterval(ee),$):$+Math.random()*40)},300);D(s.id).finally(()=>{j(100),setTimeout(()=>j(0),500)})}},J=()=>{const ee=!te;H(ee),ee?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},fe=()=>w.jsxs("div",{className:"space-y-5 animate-fade-in",children:[w.jsxs("div",{className:"relative overflow-hidden gradient-primary rounded-3xl p-6 text-white shadow-glass",children:[w.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/10 rounded-full blur-3xl -mr-20 -mt-20"}),w.jsxs("div",{className:"relative z-10",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-sm font-medium text-white/80 mb-1",children:"Painel Administrativo"}),w.jsx("p",{className:"text-2xl font-bold",children:"Viso Geral "})]}),w.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center",children:w.jsx(Ul,{className:"w-6 h-6"})})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-6",children:[w.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[w.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-xs mb-2",children:[w.jsx(to,{className:"w-3.5 h-3.5"}),w.jsx("span",{children:"Pacotes Hoje"})]}),w.jsx("p",{className:"text-3xl font-black",children:(S==null?void 0:S.packages_total)||0})]}),w.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[w.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-xs mb-2",children:[w.jsx(pl,{className:"w-3.5 h-3.5"}),w.jsx("span",{children:"Entregues"})]}),w.jsx("p",{className:"text-3xl font-black text-green-300",children:(S==null?void 0:S.delivered)||0})]})]})]})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsx(Df,{icon:w.jsx(na,{className:"w-5 h-5"}),label:"Financeiro",sublabel:"Ver receitas",color:"green",onClick:()=>n("financial")}),w.jsx(Df,{icon:w.jsx(no,{className:"w-5 h-5"}),label:"Equipe",sublabel:"Gerenciar",color:"blue",onClick:()=>n("team")})]}),w.jsxs("button",{onClick:()=>n("analysis"),className:"w-full group relative overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 via-indigo-600 to-blue-600 rounded-2xl"}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/0 via-white/20 to-purple-600/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),w.jsxs("div",{className:"relative p-5 flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:w.jsx(Ul,{className:"w-6 h-6 text-white"})}),w.jsxs("div",{className:"text-left",children:[w.jsx("p",{className:"text-white font-bold text-lg",children:"Anlise Inteligente"}),w.jsx("p",{className:"text-purple-100 text-xs font-medium",children:"Upload & Otimizao IA"})]})]}),w.jsx("div",{className:"text-white/70 group-hover:text-white group-hover:translate-x-1 transition-all",children:w.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),w.jsxs("div",{className:"card-premium p-5",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[w.jsx("div",{className:"w-10 h-10 rounded-full gradient-primary flex items-center justify-center",children:w.jsx(yf,{className:`w-5 h-5 text-white ${U?"animate-spin":""}`})}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Status da Sesso"}),w.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Monitoramento em tempo real"})]})]}),S!=null&&S.active_session?w.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800",children:[w.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse-soft"}),w.jsxs("div",{className:"flex-1",children:[w.jsx("p",{className:"font-semibold text-green-700 dark:text-green-400 text-sm",children:"Sesso Ativa"}),w.jsx("p",{className:"text-xs text-green-600 dark:text-green-500",children:S.session_name})]})]}):w.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800/50 rounded-xl",children:[w.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:"Nenhuma sesso ativa"})]})]})]}),ae=()=>{var ee;return w.jsxs("div",{className:"space-y-5 animate-fade-in",children:[w.jsxs("div",{className:"relative overflow-hidden gradient-success rounded-3xl p-6 text-white shadow-glass",children:[w.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl"}),w.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full blur-2xl"}),w.jsx("div",{className:"relative z-10",children:w.jsxs("div",{className:"flex justify-between items-start mb-3",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-sm font-medium text-white/80 mb-1",children:"Bem-vindo de volta "}),w.jsx("h2",{className:"text-2xl font-black",children:(ee=d.name)==null?void 0:ee.split(" ")[0]})]}),w.jsxs("div",{className:"flex flex-col items-end gap-2",children:[w.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center",children:w.jsx(to,{className:"w-6 h-6"})}),d.is_partner&&w.jsxs("span",{className:"badge bg-yellow-400/30 text-yellow-100 border-yellow-400/50 text-[10px] px-2 py-0.5",children:[w.jsx(tx,{className:"w-3 h-3"})," SCIO"]})]})]})})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsx(Pf,{icon:w.jsx(na,{className:"w-5 h-5"}),label:"Saldo Semana",value:`R$ ${O!=null&&O.balance?O.balance.toFixed(0):"..."}`,color:"green",onClick:()=>n("financial")}),w.jsx(Pf,{icon:w.jsx(Go,{className:"w-5 h-5"}),label:"Rota Atual",value:_!=null&&_.has_route?"Ativa":"Sem rota",color:"blue",isDisabled:!(_!=null&&_.has_route),onClick:()=>n("routes")})]}),(_==null?void 0:_.has_route)&&w.jsxs("div",{className:"card-premium overflow-hidden animate-slide-up",children:[w.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 px-5 py-3 border-b border-gray-100 dark:border-gray-700/50",children:w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"Rota em Andamento"}),w.jsxs("span",{className:"badge badge-info",children:[w.jsx(to,{className:"w-3 h-3"}),_.summary.total_packages," volumes"]})]})}),w.jsxs("div",{className:"grid grid-cols-3 divide-x divide-gray-100 dark:divide-gray-700/50",children:[w.jsx(Ku,{icon:w.jsx(Zc,{className:"w-4 h-4"}),value:_.summary.total_stops,label:"Paradas"}),w.jsx(Ku,{icon:w.jsx(ou,{className:"w-4 h-4"}),value:`${_.summary.distance_km} km`,label:"Distncia"}),w.jsx(Ku,{icon:w.jsx(pl,{className:"w-4 h-4"}),value:`${_.summary.estimated_time_min}m`,label:"Tempo"})]}),w.jsx("div",{className:"p-4",children:w.jsxs("button",{onClick:()=>n("routes"),className:"btn-primary w-full flex items-center justify-center gap-2",children:[w.jsx(Zc,{className:"w-5 h-5"}),w.jsx("span",{children:"Abrir Navegao"})]})})]}),!(_!=null&&_.has_route)&&w.jsxs("div",{className:"card-premium p-8 text-center",children:[w.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:w.jsx(Go,{className:"w-8 h-8 text-gray-400"})}),w.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:"Nenhuma rota ativa"}),w.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Aguardando designao de entregas"})]})]})},V=()=>d.role==="loading"?w.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950",children:[w.jsx("div",{className:"mb-8 animate-fade-in",children:w.jsx("div",{className:"w-24 h-24 rounded-2xl shadow-2xl shadow-primary-500/30 overflow-hidden border-4 border-white dark:border-gray-800 mx-auto",children:w.jsx("img",{src:"/logoMiniApp.jpg",alt:"Bot Entregador",className:"w-full h-full object-cover"})})}),w.jsxs("div",{className:"text-center mb-12 animate-slide-up",children:[w.jsx("h1",{className:"text-4xl font-black text-gray-900 dark:text-white mb-2",children:"Bot Entregador"}),w.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Sistema de Rotas Inteligente"})]}),w.jsx("div",{className:"mb-12 animate-fade-in",children:w.jsxs("div",{className:"relative w-16 h-16",children:[w.jsx("div",{className:"absolute inset-0 border-4 border-primary-200 dark:border-primary-900 rounded-full"}),w.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-primary-600 border-r-primary-500 rounded-full animate-spin"})]})}),w.jsxs("div",{className:"text-center mb-8 space-y-2",children:[w.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Preparando seu ambiente"}),w.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Carregando dados e sincronizando rotas..."})]}),w.jsx("div",{className:"w-48 h-2 bg-gray-200 dark:bg-gray-800 rounded-full overflow-hidden shadow-inner",children:w.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 via-purple-500 to-primary-500 animate-shimmer",style:{backgroundSize:"200% 100%",animation:"shimmer 2s infinite"}})}),w.jsx("div",{className:"absolute bottom-8 text-center",children:w.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-600",children:"Verso 3.0  Sistema Hybrid"})})]}):e==="dashboard"?d.role==="admin"?fe():d.role==="deliverer"?ae():w.jsxs("div",{className:"card-premium p-8 text-center",children:[w.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:w.jsx(no,{className:"w-8 h-8 text-gray-400"})}),w.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:"Acesso Restrito"}),w.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Voc no tem permisso para acessar"})]}):e==="analysis"?w.jsx("div",{className:"h-full overflow-y-auto",children:w.jsx(Hx,{})}):e==="separation"?w.jsx("div",{className:"h-full overflow-y-auto",children:w.jsx(b2,{})}):e==="routes"?d.role==="deliverer"&&(_!=null&&_.has_route)?w.jsxs("div",{className:"h-[calc(100vh-140px)] w-full rounded-2xl overflow-hidden shadow-glass border border-gray-200 dark:border-gray-700 relative",children:[w.jsx(Px,{stops:_.stops}),w.jsxs("div",{className:"absolute top-3 left-3 right-3 glass-strong p-3 rounded-xl shadow-lg z-[1000] flex justify-between items-center",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse-soft"}),w.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Modo Navegao"})]}),w.jsxs("span",{className:"badge badge-info text-[10px]",children:[_.stops.length," pontos"]})]})]}):w.jsxs("div",{className:"card-premium p-10 text-center",children:[w.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:w.jsx(Go,{className:"w-10 h-10 text-gray-400"})}),w.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:"Nenhuma rota disponvel"}),w.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No h rotas para exibir no mapa"})]}):e==="financial"?w.jsx(Fx,{data:O,adminStats:S}):e==="team"?w.jsx(Ux,{}):w.jsxs("div",{className:"card-premium p-10 text-center",children:[w.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:w.jsx(pl,{className:"w-8 h-8 text-gray-400"})}),w.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:"Em Desenvolvimento"}),w.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Esta funcionalidade estar disponvel em breve "})]});return w.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950 text-gray-900 dark:text-gray-100 flex flex-col font-sans",children:[w.jsxs("header",{className:"glass-strong sticky top-0 z-20 border-b border-gray-200/50 dark:border-gray-700/50 pt-safe",children:[w.jsxs("div",{className:"max-w-lg mx-auto px-5 py-4 flex justify-between items-center",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"w-12 h-12 rounded-xl shadow-lg shadow-primary-500/30 overflow-hidden flex-shrink-0 border-2 border-white dark:border-gray-700",children:w.jsx("img",{src:"/logoMiniApp.jpg",alt:"Bot Entregador",className:"w-full h-full object-cover"})}),w.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white dark:border-gray-900 animate-pulse-soft"})]}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-lg font-black text-gray-900 dark:text-white leading-none",children:"Bot Entregador"}),w.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 font-medium",children:"Sistema de Rotas"})]})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{onClick:J,className:"relative w-10 h-10 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 flex items-center justify-center transition-all active:scale-90 group",children:te?w.jsx(ux,{size:18,className:"text-gray-500 dark:text-gray-400 group-hover:text-primary-600"}):w.jsx(ax,{size:18,className:"text-gray-500 dark:text-gray-400 group-hover:text-primary-600"})}),w.jsx("button",{onClick:P,className:"relative w-10 h-10 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 flex items-center justify-center transition-all active:scale-90 group",children:w.jsx(yf,{size:18,className:`${U?"animate-spin text-primary-600":"text-gray-500 dark:text-gray-400 group-hover:text-primary-600"} transition-colors`})})]})]}),w.jsx(I2,{visible:ye>0,percentage:ye})]}),w.jsx("main",{className:"flex-1 overflow-auto pb-24 pt-5 scrollbar-premium",children:w.jsx("div",{className:"max-w-lg mx-auto px-4",children:V()})}),w.jsx("nav",{className:"fixed bottom-0 left-0 right-0 glass-strong border-t border-gray-200/50 dark:border-gray-700/50 pb-safe z-30 shadow-glass",children:w.jsx("div",{className:"max-w-lg mx-auto",children:w.jsxs("div",{className:"flex justify-around items-center h-16 px-2",children:[w.jsx(nl,{icon:w.jsx(ox,{size:22}),label:"Incio",isActive:e==="dashboard",onClick:()=>n("dashboard")}),w.jsx(nl,{icon:w.jsx(Go,{size:22}),label:"Mapa",isActive:e==="routes",onClick:()=>n("routes")}),w.jsx(nl,{icon:w.jsx(na,{size:22}),label:"Ganhos",isActive:e==="financial",onClick:()=>n("financial")}),w.jsx(nl,{icon:w.jsx(no,{size:22}),label:"Perfil",isActive:e==="profile",onClick:()=>n("dashboard")})]})})})]})}function nl({icon:e,label:n,isActive:s,onClick:c}){return w.jsxs("button",{onClick:c,className:`relative flex flex-col items-center justify-center w-full h-full transition-all duration-300 ${s?"text-primary-600 dark:text-primary-400":"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300"}`,children:[s&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"absolute -top-[1px] left-1/2 -translate-x-1/2 w-12 h-1 gradient-primary rounded-b-full shadow-lg shadow-primary-500/30"}),w.jsx("div",{className:"absolute inset-0 bg-primary-50/50 dark:bg-primary-900/10 rounded-2xl mx-2"})]}),w.jsx("div",{className:`relative z-10 transition-all duration-300 ${s?"scale-110 -translate-y-0.5":""}`,children:w.jsx("div",{className:`p-1.5 rounded-xl transition-all ${s?"bg-primary-100 dark:bg-primary-900/30":""}`,children:e})}),w.jsx("span",{className:`relative z-10 text-[10px] font-semibold mt-1 transition-all ${s?"font-bold":""}`,children:n})]})}function Df({icon:e,label:n,sublabel:s,color:c,onClick:d}){const g={green:"from-green-500 to-emerald-600 shadow-green-500/30",blue:"from-blue-500 to-indigo-600 shadow-blue-500/30",purple:"from-purple-500 to-indigo-600 shadow-purple-500/30"};return w.jsxs("button",{onClick:d,className:"group relative overflow-hidden",children:[w.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${g[c]} rounded-2xl shadow-lg transition-all group-hover:shadow-xl group-active:scale-95`}),w.jsxs("div",{className:"relative p-4 flex flex-col items-center text-center text-white",children:[w.jsx("div",{className:"w-10 h-10 mb-2 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:e}),w.jsx("p",{className:"font-bold text-sm",children:n}),w.jsx("p",{className:"text-[10px] text-white/70 font-medium",children:s})]})]})}function Pf({icon:e,label:n,value:s,color:c,isDisabled:d,onClick:g}){const _={green:"from-green-500 to-emerald-600 text-green-700 dark:text-green-400 bg-green-100 dark:bg-green-900/30",blue:"from-blue-500 to-indigo-600 text-blue-700 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30"};return w.jsxs("button",{onClick:g,disabled:d,className:`card-premium p-4 flex items-center gap-3 text-left transition-all active:scale-95 ${d?"opacity-50 cursor-not-allowed":""}`,children:[w.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${_[c].split("text-")[1]}`,children:e}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium mb-0.5",children:n}),w.jsx("p",{className:"font-bold text-lg text-gray-900 dark:text-white truncate",children:s})]})]})}function Ku({icon:e,value:n,label:s}){return w.jsxs("div",{className:"py-4 text-center",children:[w.jsxs("div",{className:"flex items-center justify-center gap-1 text-gray-400 dark:text-gray-500 mb-2",children:[e,w.jsx("span",{className:"text-xs font-medium",children:s})]}),w.jsx("p",{className:"text-xl font-black text-gray-900 dark:text-white",children:n})]})}qu.createRoot(document.getElementById("root")).render(w.jsx(ml.StrictMode,{children:w.jsx(T2,{})}));
