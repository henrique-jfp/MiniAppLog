(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))c(f);new MutationObserver(f=>{for(const g of f)if(g.type==="childList")for(const y of g.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&c(y)}).observe(document,{childList:!0,subtree:!0});function s(f){const g={};return f.integrity&&(g.integrity=f.integrity),f.referrerPolicy&&(g.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?g.credentials="include":f.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function c(f){if(f.ep)return;f.ep=!0;const g=s(f);fetch(f.href,g)}})();var Os=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Td(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Id={exports:{}},zl={},Nd={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xa=Symbol.for("react.element"),pg=Symbol.for("react.portal"),mg=Symbol.for("react.fragment"),xg=Symbol.for("react.strict_mode"),_g=Symbol.for("react.profiler"),yg=Symbol.for("react.provider"),wg=Symbol.for("react.context"),vg=Symbol.for("react.forward_ref"),Cg=Symbol.for("react.suspense"),Eg=Symbol.for("react.memo"),Ag=Symbol.for("react.lazy"),tf=Symbol.iterator;function Sg(e){return e===null||typeof e!="object"?null:(e=tf&&e[tf]||e["@@iterator"],typeof e=="function"?e:null)}var bd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Md=Object.assign,Od={};function ro(e,n,s){this.props=e,this.context=n,this.refs=Od,this.updater=s||bd}ro.prototype.isReactComponent={};ro.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};ro.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ld(){}Ld.prototype=ro.prototype;function Uc(e,n,s){this.props=e,this.context=n,this.refs=Od,this.updater=s||bd}var Hc=Uc.prototype=new Ld;Hc.constructor=Uc;Md(Hc,ro.prototype);Hc.isPureReactComponent=!0;var nf=Array.isArray,Dd=Object.prototype.hasOwnProperty,Vc={current:null},Rd={key:!0,ref:!0,__self:!0,__source:!0};function kd(e,n,s){var c,f={},g=null,y=null;if(n!=null)for(c in n.ref!==void 0&&(y=n.ref),n.key!==void 0&&(g=""+n.key),n)Dd.call(n,c)&&!Rd.hasOwnProperty(c)&&(f[c]=n[c]);var E=arguments.length-2;if(E===1)f.children=s;else if(1<E){for(var A=Array(E),C=0;C<E;C++)A[C]=arguments[C+2];f.children=A}if(e&&e.defaultProps)for(c in E=e.defaultProps,E)f[c]===void 0&&(f[c]=E[c]);return{$$typeof:xa,type:e,key:g,ref:y,props:f,_owner:Vc.current}}function Tg(e,n){return{$$typeof:xa,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function Zc(e){return typeof e=="object"&&e!==null&&e.$$typeof===xa}function Ig(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return n[s]})}var rf=/\/+/g;function xu(e,n){return typeof e=="object"&&e!==null&&e.key!=null?Ig(""+e.key):n.toString(36)}function Ja(e,n,s,c,f){var g=typeof e;(g==="undefined"||g==="boolean")&&(e=null);var y=!1;if(e===null)y=!0;else switch(g){case"string":case"number":y=!0;break;case"object":switch(e.$$typeof){case xa:case pg:y=!0}}if(y)return y=e,f=f(y),e=c===""?"."+xu(y,0):c,nf(f)?(s="",e!=null&&(s=e.replace(rf,"$&/")+"/"),Ja(f,n,s,"",function(C){return C})):f!=null&&(Zc(f)&&(f=Tg(f,s+(!f.key||y&&y.key===f.key?"":(""+f.key).replace(rf,"$&/")+"/")+e)),n.push(f)),1;if(y=0,c=c===""?".":c+":",nf(e))for(var E=0;E<e.length;E++){g=e[E];var A=c+xu(g,E);y+=Ja(g,n,s,A,f)}else if(A=Sg(e),typeof A=="function")for(e=A.call(e),E=0;!(g=e.next()).done;)g=g.value,A=c+xu(g,E++),y+=Ja(g,n,s,A,f);else if(g==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return y}function Ra(e,n,s){if(e==null)return e;var c=[],f=0;return Ja(e,c,"","",function(g){return n.call(s,g,f++)}),c}function Ng(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var On={current:null},$a={transition:null},bg={ReactCurrentDispatcher:On,ReactCurrentBatchConfig:$a,ReactCurrentOwner:Vc};function Pd(){throw Error("act(...) is not supported in production builds of React.")}Xe.Children={map:Ra,forEach:function(e,n,s){Ra(e,function(){n.apply(this,arguments)},s)},count:function(e){var n=0;return Ra(e,function(){n++}),n},toArray:function(e){return Ra(e,function(n){return n})||[]},only:function(e){if(!Zc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xe.Component=ro;Xe.Fragment=mg;Xe.Profiler=_g;Xe.PureComponent=Uc;Xe.StrictMode=xg;Xe.Suspense=Cg;Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bg;Xe.act=Pd;Xe.cloneElement=function(e,n,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var c=Md({},e.props),f=e.key,g=e.ref,y=e._owner;if(n!=null){if(n.ref!==void 0&&(g=n.ref,y=Vc.current),n.key!==void 0&&(f=""+n.key),e.type&&e.type.defaultProps)var E=e.type.defaultProps;for(A in n)Dd.call(n,A)&&!Rd.hasOwnProperty(A)&&(c[A]=n[A]===void 0&&E!==void 0?E[A]:n[A])}var A=arguments.length-2;if(A===1)c.children=s;else if(1<A){E=Array(A);for(var C=0;C<A;C++)E[C]=arguments[C+2];c.children=E}return{$$typeof:xa,type:e.type,key:f,ref:g,props:c,_owner:y}};Xe.createContext=function(e){return e={$$typeof:wg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yg,_context:e},e.Consumer=e};Xe.createElement=kd;Xe.createFactory=function(e){var n=kd.bind(null,e);return n.type=e,n};Xe.createRef=function(){return{current:null}};Xe.forwardRef=function(e){return{$$typeof:vg,render:e}};Xe.isValidElement=Zc;Xe.lazy=function(e){return{$$typeof:Ag,_payload:{_status:-1,_result:e},_init:Ng}};Xe.memo=function(e,n){return{$$typeof:Eg,type:e,compare:n===void 0?null:n}};Xe.startTransition=function(e){var n=$a.transition;$a.transition={};try{e()}finally{$a.transition=n}};Xe.unstable_act=Pd;Xe.useCallback=function(e,n){return On.current.useCallback(e,n)};Xe.useContext=function(e){return On.current.useContext(e)};Xe.useDebugValue=function(){};Xe.useDeferredValue=function(e){return On.current.useDeferredValue(e)};Xe.useEffect=function(e,n){return On.current.useEffect(e,n)};Xe.useId=function(){return On.current.useId()};Xe.useImperativeHandle=function(e,n,s){return On.current.useImperativeHandle(e,n,s)};Xe.useInsertionEffect=function(e,n){return On.current.useInsertionEffect(e,n)};Xe.useLayoutEffect=function(e,n){return On.current.useLayoutEffect(e,n)};Xe.useMemo=function(e,n){return On.current.useMemo(e,n)};Xe.useReducer=function(e,n,s){return On.current.useReducer(e,n,s)};Xe.useRef=function(e){return On.current.useRef(e)};Xe.useState=function(e){return On.current.useState(e)};Xe.useSyncExternalStore=function(e,n,s){return On.current.useSyncExternalStore(e,n,s)};Xe.useTransition=function(){return On.current.useTransition()};Xe.version="18.3.1";Nd.exports=Xe;var _e=Nd.exports;const hl=Td(_e);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg=_e,Og=Symbol.for("react.element"),Lg=Symbol.for("react.fragment"),Dg=Object.prototype.hasOwnProperty,Rg=Mg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kg={key:!0,ref:!0,__self:!0,__source:!0};function Bd(e,n,s){var c,f={},g=null,y=null;s!==void 0&&(g=""+s),n.key!==void 0&&(g=""+n.key),n.ref!==void 0&&(y=n.ref);for(c in n)Dg.call(n,c)&&!kg.hasOwnProperty(c)&&(f[c]=n[c]);if(e&&e.defaultProps)for(c in n=e.defaultProps,n)f[c]===void 0&&(f[c]=n[c]);return{$$typeof:Og,type:e,key:g,ref:y,props:f,_owner:Rg.current}}zl.Fragment=Lg;zl.jsx=Bd;zl.jsxs=Bd;Id.exports=zl;var I=Id.exports,Zu={},Fd={exports:{}},Jn={},zd={exports:{}},jd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(te,Me){var le=te.length;te.push(Me);e:for(;0<le;){var re=le-1>>>1,ge=te[re];if(0<f(ge,Me))te[re]=Me,te[le]=ge,le=re;else break e}}function s(te){return te.length===0?null:te[0]}function c(te){if(te.length===0)return null;var Me=te[0],le=te.pop();if(le!==Me){te[0]=le;e:for(var re=0,ge=te.length,Ue=ge>>>1;re<Ue;){var De=2*(re+1)-1,Qe=te[De],ue=De+1,Jt=te[ue];if(0>f(Qe,le))ue<ge&&0>f(Jt,Qe)?(te[re]=Jt,te[ue]=le,re=ue):(te[re]=Qe,te[De]=le,re=De);else if(ue<ge&&0>f(Jt,le))te[re]=Jt,te[ue]=le,re=ue;else break e}}return Me}function f(te,Me){var le=te.sortIndex-Me.sortIndex;return le!==0?le:te.id-Me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;e.unstable_now=function(){return g.now()}}else{var y=Date,E=y.now();e.unstable_now=function(){return y.now()-E}}var A=[],C=[],R=1,O=null,H=3,X=!1,ee=!1,U=!1,ye=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(te){for(var Me=s(C);Me!==null;){if(Me.callback===null)c(C);else if(Me.startTime<=te)c(C),Me.sortIndex=Me.expirationTime,n(A,Me);else break;Me=s(C)}}function K(te){if(U=!1,P(te),!ee)if(s(A)!==null)ee=!0,We(de);else{var Me=s(C);Me!==null&&Le(K,Me.startTime-te)}}function de(te,Me){ee=!1,U&&(U=!1,j(ie),ie=-1),X=!0;var le=H;try{for(P(Me),O=s(A);O!==null&&(!(O.expirationTime>Me)||te&&!Fe());){var re=O.callback;if(typeof re=="function"){O.callback=null,H=O.priorityLevel;var ge=re(O.expirationTime<=Me);Me=e.unstable_now(),typeof ge=="function"?O.callback=ge:O===s(A)&&c(A),P(Me)}else c(A);O=s(A)}if(O!==null)var Ue=!0;else{var De=s(C);De!==null&&Le(K,De.startTime-Me),Ue=!1}return Ue}finally{O=null,H=le,X=!1}}var ne=!1,V=null,ie=-1,$=5,be=-1;function Fe(){return!(e.unstable_now()-be<$)}function Ce(){if(V!==null){var te=e.unstable_now();be=te;var Me=!0;try{Me=V(!0,te)}finally{Me?Ze():(ne=!1,V=null)}}else ne=!1}var Ze;if(typeof k=="function")Ze=function(){k(Ce)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,J=nt.port2;nt.port1.onmessage=Ce,Ze=function(){J.postMessage(null)}}else Ze=function(){ye(Ce,0)};function We(te){V=te,ne||(ne=!0,Ze())}function Le(te,Me){ie=ye(function(){te(e.unstable_now())},Me)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){ee||X||(ee=!0,We(de))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return H},e.unstable_getFirstCallbackNode=function(){return s(A)},e.unstable_next=function(te){switch(H){case 1:case 2:case 3:var Me=3;break;default:Me=H}var le=H;H=Me;try{return te()}finally{H=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,Me){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var le=H;H=te;try{return Me()}finally{H=le}},e.unstable_scheduleCallback=function(te,Me,le){var re=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?re+le:re):le=re,te){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=le+ge,te={id:R++,callback:Me,priorityLevel:te,startTime:le,expirationTime:ge,sortIndex:-1},le>re?(te.sortIndex=le,n(C,te),s(A)===null&&te===s(C)&&(U?(j(ie),ie=-1):U=!0,Le(K,le-re))):(te.sortIndex=ge,n(A,te),ee||X||(ee=!0,We(de))),te},e.unstable_shouldYield=Fe,e.unstable_wrapCallback=function(te){var Me=H;return function(){var le=H;H=Me;try{return te.apply(this,arguments)}finally{H=le}}}})(jd);zd.exports=jd;var Pg=zd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bg=_e,qn=Pg;function fe(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ud=new Set,ea={};function ws(e,n){qs(e,n),qs(e+"Capture",n)}function qs(e,n){for(ea[e]=n,e=0;e<n.length;e++)Ud.add(n[e])}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wu=Object.prototype.hasOwnProperty,Fg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sf={},of={};function zg(e){return Wu.call(of,e)?!0:Wu.call(sf,e)?!1:Fg.test(e)?of[e]=!0:(sf[e]=!0,!1)}function jg(e,n,s,c){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return c?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ug(e,n,s,c){if(n===null||typeof n>"u"||jg(e,n,s,c))return!0;if(c)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Ln(e,n,s,c,f,g,y){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=g,this.removeEmptyString=y}var dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){dn[e]=new Ln(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];dn[n]=new Ln(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){dn[e]=new Ln(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){dn[e]=new Ln(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){dn[e]=new Ln(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){dn[e]=new Ln(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){dn[e]=new Ln(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){dn[e]=new Ln(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){dn[e]=new Ln(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wc=/[\-:]([a-z])/g;function Gc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Wc,Gc);dn[n]=new Ln(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Wc,Gc);dn[n]=new Ln(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Wc,Gc);dn[n]=new Ln(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){dn[e]=new Ln(e,1,!1,e.toLowerCase(),null,!1,!1)});dn.xlinkHref=new Ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){dn[e]=new Ln(e,1,!1,e.toLowerCase(),null,!0,!0)});function Yc(e,n,s,c){var f=dn.hasOwnProperty(n)?dn[n]:null;(f!==null?f.type!==0:c||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(Ug(n,s,f,c)&&(s=null),c||f===null?zg(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):f.mustUseProperty?e[f.propertyName]=s===null?f.type===3?!1:"":s:(n=f.attributeName,c=f.attributeNamespace,s===null?e.removeAttribute(n):(f=f.type,s=f===3||f===4&&s===!0?"":""+s,c?e.setAttributeNS(c,n,s):e.setAttribute(n,s))))}var hr=Bg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ka=Symbol.for("react.element"),Ls=Symbol.for("react.portal"),Ds=Symbol.for("react.fragment"),Xc=Symbol.for("react.strict_mode"),Gu=Symbol.for("react.profiler"),Hd=Symbol.for("react.provider"),Vd=Symbol.for("react.context"),Qc=Symbol.for("react.forward_ref"),Yu=Symbol.for("react.suspense"),Xu=Symbol.for("react.suspense_list"),Kc=Symbol.for("react.memo"),Nr=Symbol.for("react.lazy"),Zd=Symbol.for("react.offscreen"),af=Symbol.iterator;function Lo(e){return e===null||typeof e!="object"?null:(e=af&&e[af]||e["@@iterator"],typeof e=="function"?e:null)}var Rt=Object.assign,_u;function jo(e){if(_u===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);_u=n&&n[1]||""}return`
`+_u+e}var yu=!1;function wu(e,n){if(!e||yu)return"";yu=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(C){var c=C}Reflect.construct(e,[],n)}else{try{n.call()}catch(C){c=C}e.call(n.prototype)}else{try{throw Error()}catch(C){c=C}e()}}catch(C){if(C&&c&&typeof C.stack=="string"){for(var f=C.stack.split(`
`),g=c.stack.split(`
`),y=f.length-1,E=g.length-1;1<=y&&0<=E&&f[y]!==g[E];)E--;for(;1<=y&&0<=E;y--,E--)if(f[y]!==g[E]){if(y!==1||E!==1)do if(y--,E--,0>E||f[y]!==g[E]){var A=`
`+f[y].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=y&&0<=E);break}}}finally{yu=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?jo(e):""}function Hg(e){switch(e.tag){case 5:return jo(e.type);case 16:return jo("Lazy");case 13:return jo("Suspense");case 19:return jo("SuspenseList");case 0:case 2:case 15:return e=wu(e.type,!1),e;case 11:return e=wu(e.type.render,!1),e;case 1:return e=wu(e.type,!0),e;default:return""}}function Qu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ds:return"Fragment";case Ls:return"Portal";case Gu:return"Profiler";case Xc:return"StrictMode";case Yu:return"Suspense";case Xu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Vd:return(e.displayName||"Context")+".Consumer";case Hd:return(e._context.displayName||"Context")+".Provider";case Qc:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Kc:return n=e.displayName||null,n!==null?n:Qu(e.type)||"Memo";case Nr:n=e._payload,e=e._init;try{return Qu(e(n))}catch{}}return null}function Vg(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qu(n);case 8:return n===Xc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Hr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wd(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Zg(e){var n=Wd(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),c=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,g=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(y){c=""+y,g.call(this,y)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(y){c=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Pa(e){e._valueTracker||(e._valueTracker=Zg(e))}function Gd(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),c="";return e&&(c=Wd(e)?e.checked?"true":"false":e.value),e=c,e!==s?(n.setValue(e),!0):!1}function fl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ku(e,n){var s=n.checked;return Rt({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function lf(e,n){var s=n.defaultValue==null?"":n.defaultValue,c=n.checked!=null?n.checked:n.defaultChecked;s=Hr(n.value!=null?n.value:s),e._wrapperState={initialChecked:c,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Yd(e,n){n=n.checked,n!=null&&Yc(e,"checked",n,!1)}function qu(e,n){Yd(e,n);var s=Hr(n.value),c=n.type;if(s!=null)c==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Ju(e,n.type,s):n.hasOwnProperty("defaultValue")&&Ju(e,n.type,Hr(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function uf(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var c=n.type;if(!(c!=="submit"&&c!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Ju(e,n,s){(n!=="number"||fl(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Uo=Array.isArray;function Ws(e,n,s,c){if(e=e.options,n){n={};for(var f=0;f<s.length;f++)n["$"+s[f]]=!0;for(s=0;s<e.length;s++)f=n.hasOwnProperty("$"+e[s].value),e[s].selected!==f&&(e[s].selected=f),f&&c&&(e[s].defaultSelected=!0)}else{for(s=""+Hr(s),n=null,f=0;f<e.length;f++){if(e[f].value===s){e[f].selected=!0,c&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function $u(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(fe(91));return Rt({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cf(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(fe(92));if(Uo(s)){if(1<s.length)throw Error(fe(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:Hr(s)}}function Xd(e,n){var s=Hr(n.value),c=Hr(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),c!=null&&(e.defaultValue=""+c)}function hf(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Qd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ec(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Qd(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ba,Kd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,c,f){MSApp.execUnsafeLocalFunction(function(){return e(n,s,c,f)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Ba=Ba||document.createElement("div"),Ba.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Ba.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function ta(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Zo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wg=["Webkit","ms","Moz","O"];Object.keys(Zo).forEach(function(e){Wg.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Zo[n]=Zo[e]})});function qd(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Zo.hasOwnProperty(e)&&Zo[e]?(""+n).trim():n+"px"}function Jd(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var c=s.indexOf("--")===0,f=qd(s,n[s],c);s==="float"&&(s="cssFloat"),c?e.setProperty(s,f):e[s]=f}}var Gg=Rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tc(e,n){if(n){if(Gg[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(fe(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(fe(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(fe(61))}if(n.style!=null&&typeof n.style!="object")throw Error(fe(62))}}function nc(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ic=null;function qc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rc=null,Gs=null,Ys=null;function ff(e){if(e=wa(e)){if(typeof rc!="function")throw Error(fe(280));var n=e.stateNode;n&&(n=Zl(n),rc(e.stateNode,e.type,n))}}function $d(e){Gs?Ys?Ys.push(e):Ys=[e]:Gs=e}function e0(){if(Gs){var e=Gs,n=Ys;if(Ys=Gs=null,ff(e),n)for(e=0;e<n.length;e++)ff(n[e])}}function t0(e,n){return e(n)}function n0(){}var vu=!1;function i0(e,n,s){if(vu)return e(n,s);vu=!0;try{return t0(e,n,s)}finally{vu=!1,(Gs!==null||Ys!==null)&&(n0(),e0())}}function na(e,n){var s=e.stateNode;if(s===null)return null;var c=Zl(s);if(c===null)return null;s=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(fe(231,n,typeof s));return s}var sc=!1;if(ar)try{var Do={};Object.defineProperty(Do,"passive",{get:function(){sc=!0}}),window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{sc=!1}function Yg(e,n,s,c,f,g,y,E,A){var C=Array.prototype.slice.call(arguments,3);try{n.apply(s,C)}catch(R){this.onError(R)}}var Wo=!1,dl=null,gl=!1,oc=null,Xg={onError:function(e){Wo=!0,dl=e}};function Qg(e,n,s,c,f,g,y,E,A){Wo=!1,dl=null,Yg.apply(Xg,arguments)}function Kg(e,n,s,c,f,g,y,E,A){if(Qg.apply(this,arguments),Wo){if(Wo){var C=dl;Wo=!1,dl=null}else throw Error(fe(198));gl||(gl=!0,oc=C)}}function vs(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function r0(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function df(e){if(vs(e)!==e)throw Error(fe(188))}function qg(e){var n=e.alternate;if(!n){if(n=vs(e),n===null)throw Error(fe(188));return n!==e?null:e}for(var s=e,c=n;;){var f=s.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){s=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===s)return df(f),e;if(g===c)return df(f),n;g=g.sibling}throw Error(fe(188))}if(s.return!==c.return)s=f,c=g;else{for(var y=!1,E=f.child;E;){if(E===s){y=!0,s=f,c=g;break}if(E===c){y=!0,c=f,s=g;break}E=E.sibling}if(!y){for(E=g.child;E;){if(E===s){y=!0,s=g,c=f;break}if(E===c){y=!0,c=g,s=f;break}E=E.sibling}if(!y)throw Error(fe(189))}}if(s.alternate!==c)throw Error(fe(190))}if(s.tag!==3)throw Error(fe(188));return s.stateNode.current===s?e:n}function s0(e){return e=qg(e),e!==null?o0(e):null}function o0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=o0(e);if(n!==null)return n;e=e.sibling}return null}var a0=qn.unstable_scheduleCallback,gf=qn.unstable_cancelCallback,Jg=qn.unstable_shouldYield,$g=qn.unstable_requestPaint,Ut=qn.unstable_now,ep=qn.unstable_getCurrentPriorityLevel,Jc=qn.unstable_ImmediatePriority,l0=qn.unstable_UserBlockingPriority,pl=qn.unstable_NormalPriority,tp=qn.unstable_LowPriority,u0=qn.unstable_IdlePriority,jl=null,Vi=null;function np(e){if(Vi&&typeof Vi.onCommitFiberRoot=="function")try{Vi.onCommitFiberRoot(jl,e,void 0,(e.current.flags&128)===128)}catch{}}var Ni=Math.clz32?Math.clz32:sp,ip=Math.log,rp=Math.LN2;function sp(e){return e>>>=0,e===0?32:31-(ip(e)/rp|0)|0}var Fa=64,za=4194304;function Ho(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ml(e,n){var s=e.pendingLanes;if(s===0)return 0;var c=0,f=e.suspendedLanes,g=e.pingedLanes,y=s&268435455;if(y!==0){var E=y&~f;E!==0?c=Ho(E):(g&=y,g!==0&&(c=Ho(g)))}else y=s&~f,y!==0?c=Ho(y):g!==0&&(c=Ho(g));if(c===0)return 0;if(n!==0&&n!==c&&!(n&f)&&(f=c&-c,g=n&-n,f>=g||f===16&&(g&4194240)!==0))return n;if(c&4&&(c|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=c;0<n;)s=31-Ni(n),f=1<<s,c|=e[s],n&=~f;return c}function op(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ap(e,n){for(var s=e.suspendedLanes,c=e.pingedLanes,f=e.expirationTimes,g=e.pendingLanes;0<g;){var y=31-Ni(g),E=1<<y,A=f[y];A===-1?(!(E&s)||E&c)&&(f[y]=op(E,n)):A<=n&&(e.expiredLanes|=E),g&=~E}}function ac(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function c0(){var e=Fa;return Fa<<=1,!(Fa&4194240)&&(Fa=64),e}function Cu(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function _a(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Ni(n),e[n]=s}function lp(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<s;){var f=31-Ni(s),g=1<<f;n[f]=0,c[f]=-1,e[f]=-1,s&=~g}}function $c(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var c=31-Ni(s),f=1<<c;f&n|e[c]&n&&(e[c]|=n),s&=~f}}var ft=0;function h0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var f0,eh,d0,g0,p0,lc=!1,ja=[],Rr=null,kr=null,Pr=null,ia=new Map,ra=new Map,Mr=[],up="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pf(e,n){switch(e){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":ia.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ra.delete(n.pointerId)}}function Ro(e,n,s,c,f,g){return e===null||e.nativeEvent!==g?(e={blockedOn:n,domEventName:s,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},n!==null&&(n=wa(n),n!==null&&eh(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function cp(e,n,s,c,f){switch(n){case"focusin":return Rr=Ro(Rr,e,n,s,c,f),!0;case"dragenter":return kr=Ro(kr,e,n,s,c,f),!0;case"mouseover":return Pr=Ro(Pr,e,n,s,c,f),!0;case"pointerover":var g=f.pointerId;return ia.set(g,Ro(ia.get(g)||null,e,n,s,c,f)),!0;case"gotpointercapture":return g=f.pointerId,ra.set(g,Ro(ra.get(g)||null,e,n,s,c,f)),!0}return!1}function m0(e){var n=cs(e.target);if(n!==null){var s=vs(n);if(s!==null){if(n=s.tag,n===13){if(n=r0(s),n!==null){e.blockedOn=n,p0(e.priority,function(){d0(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function el(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=uc(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var c=new s.constructor(s.type,s);ic=c,s.target.dispatchEvent(c),ic=null}else return n=wa(s),n!==null&&eh(n),e.blockedOn=s,!1;n.shift()}return!0}function mf(e,n,s){el(e)&&s.delete(n)}function hp(){lc=!1,Rr!==null&&el(Rr)&&(Rr=null),kr!==null&&el(kr)&&(kr=null),Pr!==null&&el(Pr)&&(Pr=null),ia.forEach(mf),ra.forEach(mf)}function ko(e,n){e.blockedOn===n&&(e.blockedOn=null,lc||(lc=!0,qn.unstable_scheduleCallback(qn.unstable_NormalPriority,hp)))}function sa(e){function n(f){return ko(f,e)}if(0<ja.length){ko(ja[0],e);for(var s=1;s<ja.length;s++){var c=ja[s];c.blockedOn===e&&(c.blockedOn=null)}}for(Rr!==null&&ko(Rr,e),kr!==null&&ko(kr,e),Pr!==null&&ko(Pr,e),ia.forEach(n),ra.forEach(n),s=0;s<Mr.length;s++)c=Mr[s],c.blockedOn===e&&(c.blockedOn=null);for(;0<Mr.length&&(s=Mr[0],s.blockedOn===null);)m0(s),s.blockedOn===null&&Mr.shift()}var Xs=hr.ReactCurrentBatchConfig,xl=!0;function fp(e,n,s,c){var f=ft,g=Xs.transition;Xs.transition=null;try{ft=1,th(e,n,s,c)}finally{ft=f,Xs.transition=g}}function dp(e,n,s,c){var f=ft,g=Xs.transition;Xs.transition=null;try{ft=4,th(e,n,s,c)}finally{ft=f,Xs.transition=g}}function th(e,n,s,c){if(xl){var f=uc(e,n,s,c);if(f===null)Lu(e,n,c,_l,s),pf(e,c);else if(cp(f,e,n,s,c))c.stopPropagation();else if(pf(e,c),n&4&&-1<up.indexOf(e)){for(;f!==null;){var g=wa(f);if(g!==null&&f0(g),g=uc(e,n,s,c),g===null&&Lu(e,n,c,_l,s),g===f)break;f=g}f!==null&&c.stopPropagation()}else Lu(e,n,c,null,s)}}var _l=null;function uc(e,n,s,c){if(_l=null,e=qc(c),e=cs(e),e!==null)if(n=vs(e),n===null)e=null;else if(s=n.tag,s===13){if(e=r0(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return _l=e,null}function x0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ep()){case Jc:return 1;case l0:return 4;case pl:case tp:return 16;case u0:return 536870912;default:return 16}default:return 16}}var Lr=null,nh=null,tl=null;function _0(){if(tl)return tl;var e,n=nh,s=n.length,c,f="value"in Lr?Lr.value:Lr.textContent,g=f.length;for(e=0;e<s&&n[e]===f[e];e++);var y=s-e;for(c=1;c<=y&&n[s-c]===f[g-c];c++);return tl=f.slice(e,1<c?1-c:void 0)}function nl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ua(){return!0}function xf(){return!1}function $n(e){function n(s,c,f,g,y){this._reactName=s,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(g):g[E]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ua:xf,this.isPropagationStopped=xf,this}return Rt(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ua)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ua)},persist:function(){},isPersistent:Ua}),n}var so={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ih=$n(so),ya=Rt({},so,{view:0,detail:0}),gp=$n(ya),Eu,Au,Po,Ul=Rt({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Po&&(Po&&e.type==="mousemove"?(Eu=e.screenX-Po.screenX,Au=e.screenY-Po.screenY):Au=Eu=0,Po=e),Eu)},movementY:function(e){return"movementY"in e?e.movementY:Au}}),_f=$n(Ul),pp=Rt({},Ul,{dataTransfer:0}),mp=$n(pp),xp=Rt({},ya,{relatedTarget:0}),Su=$n(xp),_p=Rt({},so,{animationName:0,elapsedTime:0,pseudoElement:0}),yp=$n(_p),wp=Rt({},so,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vp=$n(wp),Cp=Rt({},so,{data:0}),yf=$n(Cp),Ep={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ap={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tp(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Sp[e])?!!n[e]:!1}function rh(){return Tp}var Ip=Rt({},ya,{key:function(e){if(e.key){var n=Ep[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=nl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ap[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rh,charCode:function(e){return e.type==="keypress"?nl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Np=$n(Ip),bp=Rt({},Ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wf=$n(bp),Mp=Rt({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rh}),Op=$n(Mp),Lp=Rt({},so,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dp=$n(Lp),Rp=Rt({},Ul,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kp=$n(Rp),Pp=[9,13,27,32],sh=ar&&"CompositionEvent"in window,Go=null;ar&&"documentMode"in document&&(Go=document.documentMode);var Bp=ar&&"TextEvent"in window&&!Go,y0=ar&&(!sh||Go&&8<Go&&11>=Go),vf=" ",Cf=!1;function w0(e,n){switch(e){case"keyup":return Pp.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function v0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rs=!1;function Fp(e,n){switch(e){case"compositionend":return v0(n);case"keypress":return n.which!==32?null:(Cf=!0,vf);case"textInput":return e=n.data,e===vf&&Cf?null:e;default:return null}}function zp(e,n){if(Rs)return e==="compositionend"||!sh&&w0(e,n)?(e=_0(),tl=nh=Lr=null,Rs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return y0&&n.locale!=="ko"?null:n.data;default:return null}}var jp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ef(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!jp[e.type]:n==="textarea"}function C0(e,n,s,c){$d(c),n=yl(n,"onChange"),0<n.length&&(s=new ih("onChange","change",null,s,c),e.push({event:s,listeners:n}))}var Yo=null,oa=null;function Up(e){D0(e,0)}function Hl(e){var n=Bs(e);if(Gd(n))return e}function Hp(e,n){if(e==="change")return n}var E0=!1;if(ar){var Tu;if(ar){var Iu="oninput"in document;if(!Iu){var Af=document.createElement("div");Af.setAttribute("oninput","return;"),Iu=typeof Af.oninput=="function"}Tu=Iu}else Tu=!1;E0=Tu&&(!document.documentMode||9<document.documentMode)}function Sf(){Yo&&(Yo.detachEvent("onpropertychange",A0),oa=Yo=null)}function A0(e){if(e.propertyName==="value"&&Hl(oa)){var n=[];C0(n,oa,e,qc(e)),i0(Up,n)}}function Vp(e,n,s){e==="focusin"?(Sf(),Yo=n,oa=s,Yo.attachEvent("onpropertychange",A0)):e==="focusout"&&Sf()}function Zp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hl(oa)}function Wp(e,n){if(e==="click")return Hl(n)}function Gp(e,n){if(e==="input"||e==="change")return Hl(n)}function Yp(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Mi=typeof Object.is=="function"?Object.is:Yp;function aa(e,n){if(Mi(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),c=Object.keys(n);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var f=s[c];if(!Wu.call(n,f)||!Mi(e[f],n[f]))return!1}return!0}function Tf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function If(e,n){var s=Tf(e);e=0;for(var c;s;){if(s.nodeType===3){if(c=e+s.textContent.length,e<=n&&c>=n)return{node:s,offset:n-e};e=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Tf(s)}}function S0(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?S0(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function T0(){for(var e=window,n=fl();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=fl(e.document)}return n}function oh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Xp(e){var n=T0(),s=e.focusedElem,c=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&S0(s.ownerDocument.documentElement,s)){if(c!==null&&oh(s)){if(n=c.start,e=c.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var f=s.textContent.length,g=Math.min(c.start,f);c=c.end===void 0?g:Math.min(c.end,f),!e.extend&&g>c&&(f=c,c=g,g=f),f=If(s,g);var y=If(s,c);f&&y&&(e.rangeCount!==1||e.anchorNode!==f.node||e.anchorOffset!==f.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),e.removeAllRanges(),g>c?(e.addRange(n),e.extend(y.node,y.offset)):(n.setEnd(y.node,y.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Qp=ar&&"documentMode"in document&&11>=document.documentMode,ks=null,cc=null,Xo=null,hc=!1;function Nf(e,n,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;hc||ks==null||ks!==fl(c)||(c=ks,"selectionStart"in c&&oh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Xo&&aa(Xo,c)||(Xo=c,c=yl(cc,"onSelect"),0<c.length&&(n=new ih("onSelect","select",null,n,s),e.push({event:n,listeners:c}),n.target=ks)))}function Ha(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Ps={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionend:Ha("Transition","TransitionEnd")},Nu={},I0={};ar&&(I0=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function Vl(e){if(Nu[e])return Nu[e];if(!Ps[e])return e;var n=Ps[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in I0)return Nu[e]=n[s];return e}var N0=Vl("animationend"),b0=Vl("animationiteration"),M0=Vl("animationstart"),O0=Vl("transitionend"),L0=new Map,bf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wr(e,n){L0.set(e,n),ws(n,[e])}for(var bu=0;bu<bf.length;bu++){var Mu=bf[bu],Kp=Mu.toLowerCase(),qp=Mu[0].toUpperCase()+Mu.slice(1);Wr(Kp,"on"+qp)}Wr(N0,"onAnimationEnd");Wr(b0,"onAnimationIteration");Wr(M0,"onAnimationStart");Wr("dblclick","onDoubleClick");Wr("focusin","onFocus");Wr("focusout","onBlur");Wr(O0,"onTransitionEnd");qs("onMouseEnter",["mouseout","mouseover"]);qs("onMouseLeave",["mouseout","mouseover"]);qs("onPointerEnter",["pointerout","pointerover"]);qs("onPointerLeave",["pointerout","pointerover"]);ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vo));function Mf(e,n,s){var c=e.type||"unknown-event";e.currentTarget=s,Kg(c,n,void 0,e),e.currentTarget=null}function D0(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var c=e[s],f=c.event;c=c.listeners;e:{var g=void 0;if(n)for(var y=c.length-1;0<=y;y--){var E=c[y],A=E.instance,C=E.currentTarget;if(E=E.listener,A!==g&&f.isPropagationStopped())break e;Mf(f,E,C),g=A}else for(y=0;y<c.length;y++){if(E=c[y],A=E.instance,C=E.currentTarget,E=E.listener,A!==g&&f.isPropagationStopped())break e;Mf(f,E,C),g=A}}}if(gl)throw e=oc,gl=!1,oc=null,e}function St(e,n){var s=n[mc];s===void 0&&(s=n[mc]=new Set);var c=e+"__bubble";s.has(c)||(R0(n,e,2,!1),s.add(c))}function Ou(e,n,s){var c=0;n&&(c|=4),R0(s,e,c,n)}var Va="_reactListening"+Math.random().toString(36).slice(2);function la(e){if(!e[Va]){e[Va]=!0,Ud.forEach(function(s){s!=="selectionchange"&&(Jp.has(s)||Ou(s,!1,e),Ou(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Va]||(n[Va]=!0,Ou("selectionchange",!1,n))}}function R0(e,n,s,c){switch(x0(n)){case 1:var f=fp;break;case 4:f=dp;break;default:f=th}s=f.bind(null,n,s,e),f=void 0,!sc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),c?f!==void 0?e.addEventListener(n,s,{capture:!0,passive:f}):e.addEventListener(n,s,!0):f!==void 0?e.addEventListener(n,s,{passive:f}):e.addEventListener(n,s,!1)}function Lu(e,n,s,c,f){var g=c;if(!(n&1)&&!(n&2)&&c!==null)e:for(;;){if(c===null)return;var y=c.tag;if(y===3||y===4){var E=c.stateNode.containerInfo;if(E===f||E.nodeType===8&&E.parentNode===f)break;if(y===4)for(y=c.return;y!==null;){var A=y.tag;if((A===3||A===4)&&(A=y.stateNode.containerInfo,A===f||A.nodeType===8&&A.parentNode===f))return;y=y.return}for(;E!==null;){if(y=cs(E),y===null)return;if(A=y.tag,A===5||A===6){c=g=y;continue e}E=E.parentNode}}c=c.return}i0(function(){var C=g,R=qc(s),O=[];e:{var H=L0.get(e);if(H!==void 0){var X=ih,ee=e;switch(e){case"keypress":if(nl(s)===0)break e;case"keydown":case"keyup":X=Np;break;case"focusin":ee="focus",X=Su;break;case"focusout":ee="blur",X=Su;break;case"beforeblur":case"afterblur":X=Su;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=_f;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=mp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Op;break;case N0:case b0:case M0:X=yp;break;case O0:X=Dp;break;case"scroll":X=gp;break;case"wheel":X=kp;break;case"copy":case"cut":case"paste":X=vp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=wf}var U=(n&4)!==0,ye=!U&&e==="scroll",j=U?H!==null?H+"Capture":null:H;U=[];for(var k=C,P;k!==null;){P=k;var K=P.stateNode;if(P.tag===5&&K!==null&&(P=K,j!==null&&(K=na(k,j),K!=null&&U.push(ua(k,K,P)))),ye)break;k=k.return}0<U.length&&(H=new X(H,ee,null,s,R),O.push({event:H,listeners:U}))}}if(!(n&7)){e:{if(H=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",H&&s!==ic&&(ee=s.relatedTarget||s.fromElement)&&(cs(ee)||ee[lr]))break e;if((X||H)&&(H=R.window===R?R:(H=R.ownerDocument)?H.defaultView||H.parentWindow:window,X?(ee=s.relatedTarget||s.toElement,X=C,ee=ee?cs(ee):null,ee!==null&&(ye=vs(ee),ee!==ye||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(X=null,ee=C),X!==ee)){if(U=_f,K="onMouseLeave",j="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(U=wf,K="onPointerLeave",j="onPointerEnter",k="pointer"),ye=X==null?H:Bs(X),P=ee==null?H:Bs(ee),H=new U(K,k+"leave",X,s,R),H.target=ye,H.relatedTarget=P,K=null,cs(R)===C&&(U=new U(j,k+"enter",ee,s,R),U.target=P,U.relatedTarget=ye,K=U),ye=K,X&&ee)t:{for(U=X,j=ee,k=0,P=U;P;P=Ms(P))k++;for(P=0,K=j;K;K=Ms(K))P++;for(;0<k-P;)U=Ms(U),k--;for(;0<P-k;)j=Ms(j),P--;for(;k--;){if(U===j||j!==null&&U===j.alternate)break t;U=Ms(U),j=Ms(j)}U=null}else U=null;X!==null&&Of(O,H,X,U,!1),ee!==null&&ye!==null&&Of(O,ye,ee,U,!0)}}e:{if(H=C?Bs(C):window,X=H.nodeName&&H.nodeName.toLowerCase(),X==="select"||X==="input"&&H.type==="file")var de=Hp;else if(Ef(H))if(E0)de=Gp;else{de=Zp;var ne=Vp}else(X=H.nodeName)&&X.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(de=Wp);if(de&&(de=de(e,C))){C0(O,de,s,R);break e}ne&&ne(e,H,C),e==="focusout"&&(ne=H._wrapperState)&&ne.controlled&&H.type==="number"&&Ju(H,"number",H.value)}switch(ne=C?Bs(C):window,e){case"focusin":(Ef(ne)||ne.contentEditable==="true")&&(ks=ne,cc=C,Xo=null);break;case"focusout":Xo=cc=ks=null;break;case"mousedown":hc=!0;break;case"contextmenu":case"mouseup":case"dragend":hc=!1,Nf(O,s,R);break;case"selectionchange":if(Qp)break;case"keydown":case"keyup":Nf(O,s,R)}var V;if(sh)e:{switch(e){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else Rs?w0(e,s)&&(ie="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ie="onCompositionStart");ie&&(y0&&s.locale!=="ko"&&(Rs||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&Rs&&(V=_0()):(Lr=R,nh="value"in Lr?Lr.value:Lr.textContent,Rs=!0)),ne=yl(C,ie),0<ne.length&&(ie=new yf(ie,e,null,s,R),O.push({event:ie,listeners:ne}),V?ie.data=V:(V=v0(s),V!==null&&(ie.data=V)))),(V=Bp?Fp(e,s):zp(e,s))&&(C=yl(C,"onBeforeInput"),0<C.length&&(R=new yf("onBeforeInput","beforeinput",null,s,R),O.push({event:R,listeners:C}),R.data=V))}D0(O,n)})}function ua(e,n,s){return{instance:e,listener:n,currentTarget:s}}function yl(e,n){for(var s=n+"Capture",c=[];e!==null;){var f=e,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=na(e,s),g!=null&&c.unshift(ua(e,g,f)),g=na(e,n),g!=null&&c.push(ua(e,g,f))),e=e.return}return c}function Ms(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Of(e,n,s,c,f){for(var g=n._reactName,y=[];s!==null&&s!==c;){var E=s,A=E.alternate,C=E.stateNode;if(A!==null&&A===c)break;E.tag===5&&C!==null&&(E=C,f?(A=na(s,g),A!=null&&y.unshift(ua(s,A,E))):f||(A=na(s,g),A!=null&&y.push(ua(s,A,E)))),s=s.return}y.length!==0&&e.push({event:n,listeners:y})}var $p=/\r\n?/g,em=/\u0000|\uFFFD/g;function Lf(e){return(typeof e=="string"?e:""+e).replace($p,`
`).replace(em,"")}function Za(e,n,s){if(n=Lf(n),Lf(e)!==n&&s)throw Error(fe(425))}function wl(){}var fc=null,dc=null;function gc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pc=typeof setTimeout=="function"?setTimeout:void 0,tm=typeof clearTimeout=="function"?clearTimeout:void 0,Df=typeof Promise=="function"?Promise:void 0,nm=typeof queueMicrotask=="function"?queueMicrotask:typeof Df<"u"?function(e){return Df.resolve(null).then(e).catch(im)}:pc;function im(e){setTimeout(function(){throw e})}function Du(e,n){var s=n,c=0;do{var f=s.nextSibling;if(e.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(c===0){e.removeChild(f),sa(n);return}c--}else s!=="$"&&s!=="$?"&&s!=="$!"||c++;s=f}while(s);sa(n)}function Br(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Rf(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var oo=Math.random().toString(36).slice(2),Hi="__reactFiber$"+oo,ca="__reactProps$"+oo,lr="__reactContainer$"+oo,mc="__reactEvents$"+oo,rm="__reactListeners$"+oo,sm="__reactHandles$"+oo;function cs(e){var n=e[Hi];if(n)return n;for(var s=e.parentNode;s;){if(n=s[lr]||s[Hi]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Rf(e);e!==null;){if(s=e[Hi])return s;e=Rf(e)}return n}e=s,s=e.parentNode}return null}function wa(e){return e=e[Hi]||e[lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(fe(33))}function Zl(e){return e[ca]||null}var xc=[],Fs=-1;function Gr(e){return{current:e}}function Tt(e){0>Fs||(e.current=xc[Fs],xc[Fs]=null,Fs--)}function vt(e,n){Fs++,xc[Fs]=e.current,e.current=n}var Vr={},vn=Gr(Vr),Bn=Gr(!1),ps=Vr;function Js(e,n){var s=e.type.contextTypes;if(!s)return Vr;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===n)return c.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in s)f[g]=n[g];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=f),f}function Fn(e){return e=e.childContextTypes,e!=null}function vl(){Tt(Bn),Tt(vn)}function kf(e,n,s){if(vn.current!==Vr)throw Error(fe(168));vt(vn,n),vt(Bn,s)}function k0(e,n,s){var c=e.stateNode;if(n=n.childContextTypes,typeof c.getChildContext!="function")return s;c=c.getChildContext();for(var f in c)if(!(f in n))throw Error(fe(108,Vg(e)||"Unknown",f));return Rt({},s,c)}function Cl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vr,ps=vn.current,vt(vn,e),vt(Bn,Bn.current),!0}function Pf(e,n,s){var c=e.stateNode;if(!c)throw Error(fe(169));s?(e=k0(e,n,ps),c.__reactInternalMemoizedMergedChildContext=e,Tt(Bn),Tt(vn),vt(vn,e)):Tt(Bn),vt(Bn,s)}var nr=null,Wl=!1,Ru=!1;function P0(e){nr===null?nr=[e]:nr.push(e)}function om(e){Wl=!0,P0(e)}function Yr(){if(!Ru&&nr!==null){Ru=!0;var e=0,n=ft;try{var s=nr;for(ft=1;e<s.length;e++){var c=s[e];do c=c(!0);while(c!==null)}nr=null,Wl=!1}catch(f){throw nr!==null&&(nr=nr.slice(e+1)),a0(Jc,Yr),f}finally{ft=n,Ru=!1}}return null}var zs=[],js=0,El=null,Al=0,ui=[],ci=0,ms=null,ir=1,rr="";function ls(e,n){zs[js++]=Al,zs[js++]=El,El=e,Al=n}function B0(e,n,s){ui[ci++]=ir,ui[ci++]=rr,ui[ci++]=ms,ms=e;var c=ir;e=rr;var f=32-Ni(c)-1;c&=~(1<<f),s+=1;var g=32-Ni(n)+f;if(30<g){var y=f-f%5;g=(c&(1<<y)-1).toString(32),c>>=y,f-=y,ir=1<<32-Ni(n)+f|s<<f|c,rr=g+e}else ir=1<<g|s<<f|c,rr=e}function ah(e){e.return!==null&&(ls(e,1),B0(e,1,0))}function lh(e){for(;e===El;)El=zs[--js],zs[js]=null,Al=zs[--js],zs[js]=null;for(;e===ms;)ms=ui[--ci],ui[ci]=null,rr=ui[--ci],ui[ci]=null,ir=ui[--ci],ui[ci]=null}var Kn=null,Qn=null,Nt=!1,Ii=null;function F0(e,n){var s=hi(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function Bf(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Kn=e,Qn=Br(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Kn=e,Qn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=ms!==null?{id:ir,overflow:rr}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=hi(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,Kn=e,Qn=null,!0):!1;default:return!1}}function _c(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yc(e){if(Nt){var n=Qn;if(n){var s=n;if(!Bf(e,n)){if(_c(e))throw Error(fe(418));n=Br(s.nextSibling);var c=Kn;n&&Bf(e,n)?F0(c,s):(e.flags=e.flags&-4097|2,Nt=!1,Kn=e)}}else{if(_c(e))throw Error(fe(418));e.flags=e.flags&-4097|2,Nt=!1,Kn=e}}}function Ff(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Kn=e}function Wa(e){if(e!==Kn)return!1;if(!Nt)return Ff(e),Nt=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!gc(e.type,e.memoizedProps)),n&&(n=Qn)){if(_c(e))throw z0(),Error(fe(418));for(;n;)F0(e,n),n=Br(n.nextSibling)}if(Ff(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(fe(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){Qn=Br(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}Qn=null}}else Qn=Kn?Br(e.stateNode.nextSibling):null;return!0}function z0(){for(var e=Qn;e;)e=Br(e.nextSibling)}function $s(){Qn=Kn=null,Nt=!1}function uh(e){Ii===null?Ii=[e]:Ii.push(e)}var am=hr.ReactCurrentBatchConfig;function Bo(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(fe(309));var c=s.stateNode}if(!c)throw Error(fe(147,e));var f=c,g=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===g?n.ref:(n=function(y){var E=f.refs;y===null?delete E[g]:E[g]=y},n._stringRef=g,n)}if(typeof e!="string")throw Error(fe(284));if(!s._owner)throw Error(fe(290,e))}return e}function Ga(e,n){throw e=Object.prototype.toString.call(n),Error(fe(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function zf(e){var n=e._init;return n(e._payload)}function j0(e){function n(j,k){if(e){var P=j.deletions;P===null?(j.deletions=[k],j.flags|=16):P.push(k)}}function s(j,k){if(!e)return null;for(;k!==null;)n(j,k),k=k.sibling;return null}function c(j,k){for(j=new Map;k!==null;)k.key!==null?j.set(k.key,k):j.set(k.index,k),k=k.sibling;return j}function f(j,k){return j=Ur(j,k),j.index=0,j.sibling=null,j}function g(j,k,P){return j.index=P,e?(P=j.alternate,P!==null?(P=P.index,P<k?(j.flags|=2,k):P):(j.flags|=2,k)):(j.flags|=1048576,k)}function y(j){return e&&j.alternate===null&&(j.flags|=2),j}function E(j,k,P,K){return k===null||k.tag!==6?(k=Uu(P,j.mode,K),k.return=j,k):(k=f(k,P),k.return=j,k)}function A(j,k,P,K){var de=P.type;return de===Ds?R(j,k,P.props.children,K,P.key):k!==null&&(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Nr&&zf(de)===k.type)?(K=f(k,P.props),K.ref=Bo(j,k,P),K.return=j,K):(K=ul(P.type,P.key,P.props,null,j.mode,K),K.ref=Bo(j,k,P),K.return=j,K)}function C(j,k,P,K){return k===null||k.tag!==4||k.stateNode.containerInfo!==P.containerInfo||k.stateNode.implementation!==P.implementation?(k=Hu(P,j.mode,K),k.return=j,k):(k=f(k,P.children||[]),k.return=j,k)}function R(j,k,P,K,de){return k===null||k.tag!==7?(k=gs(P,j.mode,K,de),k.return=j,k):(k=f(k,P),k.return=j,k)}function O(j,k,P){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Uu(""+k,j.mode,P),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ka:return P=ul(k.type,k.key,k.props,null,j.mode,P),P.ref=Bo(j,null,k),P.return=j,P;case Ls:return k=Hu(k,j.mode,P),k.return=j,k;case Nr:var K=k._init;return O(j,K(k._payload),P)}if(Uo(k)||Lo(k))return k=gs(k,j.mode,P,null),k.return=j,k;Ga(j,k)}return null}function H(j,k,P,K){var de=k!==null?k.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return de!==null?null:E(j,k,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case ka:return P.key===de?A(j,k,P,K):null;case Ls:return P.key===de?C(j,k,P,K):null;case Nr:return de=P._init,H(j,k,de(P._payload),K)}if(Uo(P)||Lo(P))return de!==null?null:R(j,k,P,K,null);Ga(j,P)}return null}function X(j,k,P,K,de){if(typeof K=="string"&&K!==""||typeof K=="number")return j=j.get(P)||null,E(k,j,""+K,de);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case ka:return j=j.get(K.key===null?P:K.key)||null,A(k,j,K,de);case Ls:return j=j.get(K.key===null?P:K.key)||null,C(k,j,K,de);case Nr:var ne=K._init;return X(j,k,P,ne(K._payload),de)}if(Uo(K)||Lo(K))return j=j.get(P)||null,R(k,j,K,de,null);Ga(k,K)}return null}function ee(j,k,P,K){for(var de=null,ne=null,V=k,ie=k=0,$=null;V!==null&&ie<P.length;ie++){V.index>ie?($=V,V=null):$=V.sibling;var be=H(j,V,P[ie],K);if(be===null){V===null&&(V=$);break}e&&V&&be.alternate===null&&n(j,V),k=g(be,k,ie),ne===null?de=be:ne.sibling=be,ne=be,V=$}if(ie===P.length)return s(j,V),Nt&&ls(j,ie),de;if(V===null){for(;ie<P.length;ie++)V=O(j,P[ie],K),V!==null&&(k=g(V,k,ie),ne===null?de=V:ne.sibling=V,ne=V);return Nt&&ls(j,ie),de}for(V=c(j,V);ie<P.length;ie++)$=X(V,j,ie,P[ie],K),$!==null&&(e&&$.alternate!==null&&V.delete($.key===null?ie:$.key),k=g($,k,ie),ne===null?de=$:ne.sibling=$,ne=$);return e&&V.forEach(function(Fe){return n(j,Fe)}),Nt&&ls(j,ie),de}function U(j,k,P,K){var de=Lo(P);if(typeof de!="function")throw Error(fe(150));if(P=de.call(P),P==null)throw Error(fe(151));for(var ne=de=null,V=k,ie=k=0,$=null,be=P.next();V!==null&&!be.done;ie++,be=P.next()){V.index>ie?($=V,V=null):$=V.sibling;var Fe=H(j,V,be.value,K);if(Fe===null){V===null&&(V=$);break}e&&V&&Fe.alternate===null&&n(j,V),k=g(Fe,k,ie),ne===null?de=Fe:ne.sibling=Fe,ne=Fe,V=$}if(be.done)return s(j,V),Nt&&ls(j,ie),de;if(V===null){for(;!be.done;ie++,be=P.next())be=O(j,be.value,K),be!==null&&(k=g(be,k,ie),ne===null?de=be:ne.sibling=be,ne=be);return Nt&&ls(j,ie),de}for(V=c(j,V);!be.done;ie++,be=P.next())be=X(V,j,ie,be.value,K),be!==null&&(e&&be.alternate!==null&&V.delete(be.key===null?ie:be.key),k=g(be,k,ie),ne===null?de=be:ne.sibling=be,ne=be);return e&&V.forEach(function(Ce){return n(j,Ce)}),Nt&&ls(j,ie),de}function ye(j,k,P,K){if(typeof P=="object"&&P!==null&&P.type===Ds&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case ka:e:{for(var de=P.key,ne=k;ne!==null;){if(ne.key===de){if(de=P.type,de===Ds){if(ne.tag===7){s(j,ne.sibling),k=f(ne,P.props.children),k.return=j,j=k;break e}}else if(ne.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Nr&&zf(de)===ne.type){s(j,ne.sibling),k=f(ne,P.props),k.ref=Bo(j,ne,P),k.return=j,j=k;break e}s(j,ne);break}else n(j,ne);ne=ne.sibling}P.type===Ds?(k=gs(P.props.children,j.mode,K,P.key),k.return=j,j=k):(K=ul(P.type,P.key,P.props,null,j.mode,K),K.ref=Bo(j,k,P),K.return=j,j=K)}return y(j);case Ls:e:{for(ne=P.key;k!==null;){if(k.key===ne)if(k.tag===4&&k.stateNode.containerInfo===P.containerInfo&&k.stateNode.implementation===P.implementation){s(j,k.sibling),k=f(k,P.children||[]),k.return=j,j=k;break e}else{s(j,k);break}else n(j,k);k=k.sibling}k=Hu(P,j.mode,K),k.return=j,j=k}return y(j);case Nr:return ne=P._init,ye(j,k,ne(P._payload),K)}if(Uo(P))return ee(j,k,P,K);if(Lo(P))return U(j,k,P,K);Ga(j,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,k!==null&&k.tag===6?(s(j,k.sibling),k=f(k,P),k.return=j,j=k):(s(j,k),k=Uu(P,j.mode,K),k.return=j,j=k),y(j)):s(j,k)}return ye}var eo=j0(!0),U0=j0(!1),Sl=Gr(null),Tl=null,Us=null,ch=null;function hh(){ch=Us=Tl=null}function fh(e){var n=Sl.current;Tt(Sl),e._currentValue=n}function wc(e,n,s){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===s)break;e=e.return}}function Qs(e,n){Tl=e,ch=Us=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(Pn=!0),e.firstContext=null)}function di(e){var n=e._currentValue;if(ch!==e)if(e={context:e,memoizedValue:n,next:null},Us===null){if(Tl===null)throw Error(fe(308));Us=e,Tl.dependencies={lanes:0,firstContext:e}}else Us=Us.next=e;return n}var hs=null;function dh(e){hs===null?hs=[e]:hs.push(e)}function H0(e,n,s,c){var f=n.interleaved;return f===null?(s.next=s,dh(n)):(s.next=f.next,f.next=s),n.interleaved=s,ur(e,c)}function ur(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var br=!1;function gh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function V0(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function or(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Fr(e,n,s){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,rt&2){var f=c.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),c.pending=n,ur(e,s)}return f=c.interleaved,f===null?(n.next=n,dh(c)):(n.next=f.next,f.next=n),c.interleaved=n,ur(e,s)}function il(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var c=n.lanes;c&=e.pendingLanes,s|=c,n.lanes=s,$c(e,s)}}function jf(e,n){var s=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var f=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var y={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};g===null?f=g=y:g=g.next=y,s=s.next}while(s!==null);g===null?f=g=n:g=g.next=n}else f=g=n;s={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,effects:c.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function Il(e,n,s,c){var f=e.updateQueue;br=!1;var g=f.firstBaseUpdate,y=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var A=E,C=A.next;A.next=null,y===null?g=C:y.next=C,y=A;var R=e.alternate;R!==null&&(R=R.updateQueue,E=R.lastBaseUpdate,E!==y&&(E===null?R.firstBaseUpdate=C:E.next=C,R.lastBaseUpdate=A))}if(g!==null){var O=f.baseState;y=0,R=C=A=null,E=g;do{var H=E.lane,X=E.eventTime;if((c&H)===H){R!==null&&(R=R.next={eventTime:X,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var ee=e,U=E;switch(H=n,X=s,U.tag){case 1:if(ee=U.payload,typeof ee=="function"){O=ee.call(X,O,H);break e}O=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=U.payload,H=typeof ee=="function"?ee.call(X,O,H):ee,H==null)break e;O=Rt({},O,H);break e;case 2:br=!0}}E.callback!==null&&E.lane!==0&&(e.flags|=64,H=f.effects,H===null?f.effects=[E]:H.push(E))}else X={eventTime:X,lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},R===null?(C=R=X,A=O):R=R.next=X,y|=H;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;H=E,E=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);if(R===null&&(A=O),f.baseState=A,f.firstBaseUpdate=C,f.lastBaseUpdate=R,n=f.shared.interleaved,n!==null){f=n;do y|=f.lane,f=f.next;while(f!==n)}else g===null&&(f.shared.lanes=0);_s|=y,e.lanes=y,e.memoizedState=O}}function Uf(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var c=e[n],f=c.callback;if(f!==null){if(c.callback=null,c=s,typeof f!="function")throw Error(fe(191,f));f.call(c)}}}var va={},Zi=Gr(va),ha=Gr(va),fa=Gr(va);function fs(e){if(e===va)throw Error(fe(174));return e}function ph(e,n){switch(vt(fa,n),vt(ha,e),vt(Zi,va),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ec(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=ec(n,e)}Tt(Zi),vt(Zi,n)}function to(){Tt(Zi),Tt(ha),Tt(fa)}function Z0(e){fs(fa.current);var n=fs(Zi.current),s=ec(n,e.type);n!==s&&(vt(ha,e),vt(Zi,s))}function mh(e){ha.current===e&&(Tt(Zi),Tt(ha))}var Lt=Gr(0);function Nl(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ku=[];function xh(){for(var e=0;e<ku.length;e++)ku[e]._workInProgressVersionPrimary=null;ku.length=0}var rl=hr.ReactCurrentDispatcher,Pu=hr.ReactCurrentBatchConfig,xs=0,Dt=null,Kt=null,ln=null,bl=!1,Qo=!1,da=0,lm=0;function _n(){throw Error(fe(321))}function _h(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Mi(e[s],n[s]))return!1;return!0}function yh(e,n,s,c,f,g){if(xs=g,Dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,rl.current=e===null||e.memoizedState===null?fm:dm,e=s(c,f),Qo){g=0;do{if(Qo=!1,da=0,25<=g)throw Error(fe(301));g+=1,ln=Kt=null,n.updateQueue=null,rl.current=gm,e=s(c,f)}while(Qo)}if(rl.current=Ml,n=Kt!==null&&Kt.next!==null,xs=0,ln=Kt=Dt=null,bl=!1,n)throw Error(fe(300));return e}function wh(){var e=da!==0;return da=0,e}function ji(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Dt.memoizedState=ln=e:ln=ln.next=e,ln}function gi(){if(Kt===null){var e=Dt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var n=ln===null?Dt.memoizedState:ln.next;if(n!==null)ln=n,Kt=e;else{if(e===null)throw Error(fe(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},ln===null?Dt.memoizedState=ln=e:ln=ln.next=e}return ln}function ga(e,n){return typeof n=="function"?n(e):n}function Bu(e){var n=gi(),s=n.queue;if(s===null)throw Error(fe(311));s.lastRenderedReducer=e;var c=Kt,f=c.baseQueue,g=s.pending;if(g!==null){if(f!==null){var y=f.next;f.next=g.next,g.next=y}c.baseQueue=f=g,s.pending=null}if(f!==null){g=f.next,c=c.baseState;var E=y=null,A=null,C=g;do{var R=C.lane;if((xs&R)===R)A!==null&&(A=A.next={lane:0,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),c=C.hasEagerState?C.eagerState:e(c,C.action);else{var O={lane:R,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null};A===null?(E=A=O,y=c):A=A.next=O,Dt.lanes|=R,_s|=R}C=C.next}while(C!==null&&C!==g);A===null?y=c:A.next=E,Mi(c,n.memoizedState)||(Pn=!0),n.memoizedState=c,n.baseState=y,n.baseQueue=A,s.lastRenderedState=c}if(e=s.interleaved,e!==null){f=e;do g=f.lane,Dt.lanes|=g,_s|=g,f=f.next;while(f!==e)}else f===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function Fu(e){var n=gi(),s=n.queue;if(s===null)throw Error(fe(311));s.lastRenderedReducer=e;var c=s.dispatch,f=s.pending,g=n.memoizedState;if(f!==null){s.pending=null;var y=f=f.next;do g=e(g,y.action),y=y.next;while(y!==f);Mi(g,n.memoizedState)||(Pn=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),s.lastRenderedState=g}return[g,c]}function W0(){}function G0(e,n){var s=Dt,c=gi(),f=n(),g=!Mi(c.memoizedState,f);if(g&&(c.memoizedState=f,Pn=!0),c=c.queue,vh(Q0.bind(null,s,c,e),[e]),c.getSnapshot!==n||g||ln!==null&&ln.memoizedState.tag&1){if(s.flags|=2048,pa(9,X0.bind(null,s,c,f,n),void 0,null),un===null)throw Error(fe(349));xs&30||Y0(s,n,f)}return f}function Y0(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Dt.updateQueue,n===null?(n={lastEffect:null,stores:null},Dt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function X0(e,n,s,c){n.value=s,n.getSnapshot=c,K0(n)&&q0(e)}function Q0(e,n,s){return s(function(){K0(n)&&q0(e)})}function K0(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Mi(e,s)}catch{return!0}}function q0(e){var n=ur(e,1);n!==null&&bi(n,e,1,-1)}function Hf(e){var n=ji();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:e},n.queue=e,e=e.dispatch=hm.bind(null,Dt,e),[n.memoizedState,e]}function pa(e,n,s,c){return e={tag:e,create:n,destroy:s,deps:c,next:null},n=Dt.updateQueue,n===null?(n={lastEffect:null,stores:null},Dt.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(c=s.next,s.next=e,e.next=c,n.lastEffect=e)),e}function J0(){return gi().memoizedState}function sl(e,n,s,c){var f=ji();Dt.flags|=e,f.memoizedState=pa(1|n,s,void 0,c===void 0?null:c)}function Gl(e,n,s,c){var f=gi();c=c===void 0?null:c;var g=void 0;if(Kt!==null){var y=Kt.memoizedState;if(g=y.destroy,c!==null&&_h(c,y.deps)){f.memoizedState=pa(n,s,g,c);return}}Dt.flags|=e,f.memoizedState=pa(1|n,s,g,c)}function Vf(e,n){return sl(8390656,8,e,n)}function vh(e,n){return Gl(2048,8,e,n)}function $0(e,n){return Gl(4,2,e,n)}function e1(e,n){return Gl(4,4,e,n)}function t1(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function n1(e,n,s){return s=s!=null?s.concat([e]):null,Gl(4,4,t1.bind(null,n,e),s)}function Ch(){}function i1(e,n){var s=gi();n=n===void 0?null:n;var c=s.memoizedState;return c!==null&&n!==null&&_h(n,c[1])?c[0]:(s.memoizedState=[e,n],e)}function r1(e,n){var s=gi();n=n===void 0?null:n;var c=s.memoizedState;return c!==null&&n!==null&&_h(n,c[1])?c[0]:(e=e(),s.memoizedState=[e,n],e)}function s1(e,n,s){return xs&21?(Mi(s,n)||(s=c0(),Dt.lanes|=s,_s|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,Pn=!0),e.memoizedState=s)}function um(e,n){var s=ft;ft=s!==0&&4>s?s:4,e(!0);var c=Pu.transition;Pu.transition={};try{e(!1),n()}finally{ft=s,Pu.transition=c}}function o1(){return gi().memoizedState}function cm(e,n,s){var c=jr(e);if(s={lane:c,action:s,hasEagerState:!1,eagerState:null,next:null},a1(e))l1(n,s);else if(s=H0(e,n,s,c),s!==null){var f=Mn();bi(s,e,c,f),u1(s,n,c)}}function hm(e,n,s){var c=jr(e),f={lane:c,action:s,hasEagerState:!1,eagerState:null,next:null};if(a1(e))l1(n,f);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var y=n.lastRenderedState,E=g(y,s);if(f.hasEagerState=!0,f.eagerState=E,Mi(E,y)){var A=n.interleaved;A===null?(f.next=f,dh(n)):(f.next=A.next,A.next=f),n.interleaved=f;return}}catch{}finally{}s=H0(e,n,f,c),s!==null&&(f=Mn(),bi(s,e,c,f),u1(s,n,c))}}function a1(e){var n=e.alternate;return e===Dt||n!==null&&n===Dt}function l1(e,n){Qo=bl=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function u1(e,n,s){if(s&4194240){var c=n.lanes;c&=e.pendingLanes,s|=c,n.lanes=s,$c(e,s)}}var Ml={readContext:di,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},fm={readContext:di,useCallback:function(e,n){return ji().memoizedState=[e,n===void 0?null:n],e},useContext:di,useEffect:Vf,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,sl(4194308,4,t1.bind(null,n,e),s)},useLayoutEffect:function(e,n){return sl(4194308,4,e,n)},useInsertionEffect:function(e,n){return sl(4,2,e,n)},useMemo:function(e,n){var s=ji();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var c=ji();return n=s!==void 0?s(n):n,c.memoizedState=c.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},c.queue=e,e=e.dispatch=cm.bind(null,Dt,e),[c.memoizedState,e]},useRef:function(e){var n=ji();return e={current:e},n.memoizedState=e},useState:Hf,useDebugValue:Ch,useDeferredValue:function(e){return ji().memoizedState=e},useTransition:function(){var e=Hf(!1),n=e[0];return e=um.bind(null,e[1]),ji().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var c=Dt,f=ji();if(Nt){if(s===void 0)throw Error(fe(407));s=s()}else{if(s=n(),un===null)throw Error(fe(349));xs&30||Y0(c,n,s)}f.memoizedState=s;var g={value:s,getSnapshot:n};return f.queue=g,Vf(Q0.bind(null,c,g,e),[e]),c.flags|=2048,pa(9,X0.bind(null,c,g,s,n),void 0,null),s},useId:function(){var e=ji(),n=un.identifierPrefix;if(Nt){var s=rr,c=ir;s=(c&~(1<<32-Ni(c)-1)).toString(32)+s,n=":"+n+"R"+s,s=da++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=lm++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},dm={readContext:di,useCallback:i1,useContext:di,useEffect:vh,useImperativeHandle:n1,useInsertionEffect:$0,useLayoutEffect:e1,useMemo:r1,useReducer:Bu,useRef:J0,useState:function(){return Bu(ga)},useDebugValue:Ch,useDeferredValue:function(e){var n=gi();return s1(n,Kt.memoizedState,e)},useTransition:function(){var e=Bu(ga)[0],n=gi().memoizedState;return[e,n]},useMutableSource:W0,useSyncExternalStore:G0,useId:o1,unstable_isNewReconciler:!1},gm={readContext:di,useCallback:i1,useContext:di,useEffect:vh,useImperativeHandle:n1,useInsertionEffect:$0,useLayoutEffect:e1,useMemo:r1,useReducer:Fu,useRef:J0,useState:function(){return Fu(ga)},useDebugValue:Ch,useDeferredValue:function(e){var n=gi();return Kt===null?n.memoizedState=e:s1(n,Kt.memoizedState,e)},useTransition:function(){var e=Fu(ga)[0],n=gi().memoizedState;return[e,n]},useMutableSource:W0,useSyncExternalStore:G0,useId:o1,unstable_isNewReconciler:!1};function Ai(e,n){if(e&&e.defaultProps){n=Rt({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function vc(e,n,s,c){n=e.memoizedState,s=s(c,n),s=s==null?n:Rt({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Yl={isMounted:function(e){return(e=e._reactInternals)?vs(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var c=Mn(),f=jr(e),g=or(c,f);g.payload=n,s!=null&&(g.callback=s),n=Fr(e,g,f),n!==null&&(bi(n,e,f,c),il(n,e,f))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var c=Mn(),f=jr(e),g=or(c,f);g.tag=1,g.payload=n,s!=null&&(g.callback=s),n=Fr(e,g,f),n!==null&&(bi(n,e,f,c),il(n,e,f))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Mn(),c=jr(e),f=or(s,c);f.tag=2,n!=null&&(f.callback=n),n=Fr(e,f,c),n!==null&&(bi(n,e,c,s),il(n,e,c))}};function Zf(e,n,s,c,f,g,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,y):n.prototype&&n.prototype.isPureReactComponent?!aa(s,c)||!aa(f,g):!0}function c1(e,n,s){var c=!1,f=Vr,g=n.contextType;return typeof g=="object"&&g!==null?g=di(g):(f=Fn(n)?ps:vn.current,c=n.contextTypes,g=(c=c!=null)?Js(e,f):Vr),n=new n(s,g),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Yl,e.stateNode=n,n._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=f,e.__reactInternalMemoizedMaskedChildContext=g),n}function Wf(e,n,s,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,c),n.state!==e&&Yl.enqueueReplaceState(n,n.state,null)}function Cc(e,n,s,c){var f=e.stateNode;f.props=s,f.state=e.memoizedState,f.refs={},gh(e);var g=n.contextType;typeof g=="object"&&g!==null?f.context=di(g):(g=Fn(n)?ps:vn.current,f.context=Js(e,g)),f.state=e.memoizedState,g=n.getDerivedStateFromProps,typeof g=="function"&&(vc(e,n,g,s),f.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(n=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),n!==f.state&&Yl.enqueueReplaceState(f,f.state,null),Il(e,s,f,c),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308)}function no(e,n){try{var s="",c=n;do s+=Hg(c),c=c.return;while(c);var f=s}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:e,source:n,stack:f,digest:null}}function zu(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function Ec(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var pm=typeof WeakMap=="function"?WeakMap:Map;function h1(e,n,s){s=or(-1,s),s.tag=3,s.payload={element:null};var c=n.value;return s.callback=function(){Ll||(Ll=!0,Dc=c),Ec(e,n)},s}function f1(e,n,s){s=or(-1,s),s.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var f=n.value;s.payload=function(){return c(f)},s.callback=function(){Ec(e,n)}}var g=e.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(s.callback=function(){Ec(e,n),typeof c!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})}),s}function Gf(e,n,s){var c=e.pingCache;if(c===null){c=e.pingCache=new pm;var f=new Set;c.set(n,f)}else f=c.get(n),f===void 0&&(f=new Set,c.set(n,f));f.has(s)||(f.add(s),e=bm.bind(null,e,n,s),n.then(e,e))}function Yf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Xf(e,n,s,c,f){return e.mode&1?(e.flags|=65536,e.lanes=f,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=or(-1,1),n.tag=2,Fr(s,n,1))),s.lanes|=1),e)}var mm=hr.ReactCurrentOwner,Pn=!1;function bn(e,n,s,c){n.child=e===null?U0(n,null,s,c):eo(n,e.child,s,c)}function Qf(e,n,s,c,f){s=s.render;var g=n.ref;return Qs(n,f),c=yh(e,n,s,c,g,f),s=wh(),e!==null&&!Pn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~f,cr(e,n,f)):(Nt&&s&&ah(n),n.flags|=1,bn(e,n,c,f),n.child)}function Kf(e,n,s,c,f){if(e===null){var g=s.type;return typeof g=="function"&&!Mh(g)&&g.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=g,d1(e,n,g,c,f)):(e=ul(s.type,null,c,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,!(e.lanes&f)){var y=g.memoizedProps;if(s=s.compare,s=s!==null?s:aa,s(y,c)&&e.ref===n.ref)return cr(e,n,f)}return n.flags|=1,e=Ur(g,c),e.ref=n.ref,e.return=n,n.child=e}function d1(e,n,s,c,f){if(e!==null){var g=e.memoizedProps;if(aa(g,c)&&e.ref===n.ref)if(Pn=!1,n.pendingProps=c=g,(e.lanes&f)!==0)e.flags&131072&&(Pn=!0);else return n.lanes=e.lanes,cr(e,n,f)}return Ac(e,n,s,c,f)}function g1(e,n,s){var c=n.pendingProps,f=c.children,g=e!==null?e.memoizedState:null;if(c.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(Vs,Yn),Yn|=s;else{if(!(s&1073741824))return e=g!==null?g.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,vt(Vs,Yn),Yn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:s,vt(Vs,Yn),Yn|=c}else g!==null?(c=g.baseLanes|s,n.memoizedState=null):c=s,vt(Vs,Yn),Yn|=c;return bn(e,n,f,s),n.child}function p1(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function Ac(e,n,s,c,f){var g=Fn(s)?ps:vn.current;return g=Js(n,g),Qs(n,f),s=yh(e,n,s,c,g,f),c=wh(),e!==null&&!Pn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~f,cr(e,n,f)):(Nt&&c&&ah(n),n.flags|=1,bn(e,n,s,f),n.child)}function qf(e,n,s,c,f){if(Fn(s)){var g=!0;Cl(n)}else g=!1;if(Qs(n,f),n.stateNode===null)ol(e,n),c1(n,s,c),Cc(n,s,c,f),c=!0;else if(e===null){var y=n.stateNode,E=n.memoizedProps;y.props=E;var A=y.context,C=s.contextType;typeof C=="object"&&C!==null?C=di(C):(C=Fn(s)?ps:vn.current,C=Js(n,C));var R=s.getDerivedStateFromProps,O=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function";O||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==c||A!==C)&&Wf(n,y,c,C),br=!1;var H=n.memoizedState;y.state=H,Il(n,c,y,f),A=n.memoizedState,E!==c||H!==A||Bn.current||br?(typeof R=="function"&&(vc(n,s,R,c),A=n.memoizedState),(E=br||Zf(n,s,E,c,H,A,C))?(O||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=A),y.props=c,y.state=A,y.context=C,c=E):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{y=n.stateNode,V0(e,n),E=n.memoizedProps,C=n.type===n.elementType?E:Ai(n.type,E),y.props=C,O=n.pendingProps,H=y.context,A=s.contextType,typeof A=="object"&&A!==null?A=di(A):(A=Fn(s)?ps:vn.current,A=Js(n,A));var X=s.getDerivedStateFromProps;(R=typeof X=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==O||H!==A)&&Wf(n,y,c,A),br=!1,H=n.memoizedState,y.state=H,Il(n,c,y,f);var ee=n.memoizedState;E!==O||H!==ee||Bn.current||br?(typeof X=="function"&&(vc(n,s,X,c),ee=n.memoizedState),(C=br||Zf(n,s,C,c,H,ee,A)||!1)?(R||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,ee,A),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,ee,A)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=ee),y.props=c,y.state=ee,y.context=A,c=C):(typeof y.componentDidUpdate!="function"||E===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),c=!1)}return Sc(e,n,s,c,g,f)}function Sc(e,n,s,c,f,g){p1(e,n);var y=(n.flags&128)!==0;if(!c&&!y)return f&&Pf(n,s,!1),cr(e,n,g);c=n.stateNode,mm.current=n;var E=y&&typeof s.getDerivedStateFromError!="function"?null:c.render();return n.flags|=1,e!==null&&y?(n.child=eo(n,e.child,null,g),n.child=eo(n,null,E,g)):bn(e,n,E,g),n.memoizedState=c.state,f&&Pf(n,s,!0),n.child}function m1(e){var n=e.stateNode;n.pendingContext?kf(e,n.pendingContext,n.pendingContext!==n.context):n.context&&kf(e,n.context,!1),ph(e,n.containerInfo)}function Jf(e,n,s,c,f){return $s(),uh(f),n.flags|=256,bn(e,n,s,c),n.child}var Tc={dehydrated:null,treeContext:null,retryLane:0};function Ic(e){return{baseLanes:e,cachePool:null,transitions:null}}function x1(e,n,s){var c=n.pendingProps,f=Lt.current,g=!1,y=(n.flags&128)!==0,E;if((E=y)||(E=e!==null&&e.memoizedState===null?!1:(f&2)!==0),E?(g=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(f|=1),vt(Lt,f&1),e===null)return yc(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(y=c.children,e=c.fallback,g?(c=n.mode,g=n.child,y={mode:"hidden",children:y},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=y):g=Kl(y,c,0,null),e=gs(e,c,s,null),g.return=n,e.return=n,g.sibling=e,n.child=g,n.child.memoizedState=Ic(s),n.memoizedState=Tc,e):Eh(n,y));if(f=e.memoizedState,f!==null&&(E=f.dehydrated,E!==null))return xm(e,n,y,c,E,f,s);if(g){g=c.fallback,y=n.mode,f=e.child,E=f.sibling;var A={mode:"hidden",children:c.children};return!(y&1)&&n.child!==f?(c=n.child,c.childLanes=0,c.pendingProps=A,n.deletions=null):(c=Ur(f,A),c.subtreeFlags=f.subtreeFlags&14680064),E!==null?g=Ur(E,g):(g=gs(g,y,s,null),g.flags|=2),g.return=n,c.return=n,c.sibling=g,n.child=c,c=g,g=n.child,y=e.child.memoizedState,y=y===null?Ic(s):{baseLanes:y.baseLanes|s,cachePool:null,transitions:y.transitions},g.memoizedState=y,g.childLanes=e.childLanes&~s,n.memoizedState=Tc,c}return g=e.child,e=g.sibling,c=Ur(g,{mode:"visible",children:c.children}),!(n.mode&1)&&(c.lanes=s),c.return=n,c.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=c,n.memoizedState=null,c}function Eh(e,n){return n=Kl({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Ya(e,n,s,c){return c!==null&&uh(c),eo(n,e.child,null,s),e=Eh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function xm(e,n,s,c,f,g,y){if(s)return n.flags&256?(n.flags&=-257,c=zu(Error(fe(422))),Ya(e,n,y,c)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(g=c.fallback,f=n.mode,c=Kl({mode:"visible",children:c.children},f,0,null),g=gs(g,f,y,null),g.flags|=2,c.return=n,g.return=n,c.sibling=g,n.child=c,n.mode&1&&eo(n,e.child,null,y),n.child.memoizedState=Ic(y),n.memoizedState=Tc,g);if(!(n.mode&1))return Ya(e,n,y,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var E=c.dgst;return c=E,g=Error(fe(419)),c=zu(g,c,void 0),Ya(e,n,y,c)}if(E=(y&e.childLanes)!==0,Pn||E){if(c=un,c!==null){switch(y&-y){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|y)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,ur(e,f),bi(c,e,f,-1))}return bh(),c=zu(Error(fe(421))),Ya(e,n,y,c)}return f.data==="$?"?(n.flags|=128,n.child=e.child,n=Mm.bind(null,e),f._reactRetry=n,null):(e=g.treeContext,Qn=Br(f.nextSibling),Kn=n,Nt=!0,Ii=null,e!==null&&(ui[ci++]=ir,ui[ci++]=rr,ui[ci++]=ms,ir=e.id,rr=e.overflow,ms=n),n=Eh(n,c.children),n.flags|=4096,n)}function $f(e,n,s){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),wc(e.return,n,s)}function ju(e,n,s,c,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=s,g.tailMode=f)}function _1(e,n,s){var c=n.pendingProps,f=c.revealOrder,g=c.tail;if(bn(e,n,c.children,s),c=Lt.current,c&2)c=c&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$f(e,s,n);else if(e.tag===19)$f(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if(vt(Lt,c),!(n.mode&1))n.memoizedState=null;else switch(f){case"forwards":for(s=n.child,f=null;s!==null;)e=s.alternate,e!==null&&Nl(e)===null&&(f=s),s=s.sibling;s=f,s===null?(f=n.child,n.child=null):(f=s.sibling,s.sibling=null),ju(n,!1,f,s,g);break;case"backwards":for(s=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Nl(e)===null){n.child=f;break}e=f.sibling,f.sibling=s,s=f,f=e}ju(n,!0,s,null,g);break;case"together":ju(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ol(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function cr(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),_s|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(fe(153));if(n.child!==null){for(e=n.child,s=Ur(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ur(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function _m(e,n,s){switch(n.tag){case 3:m1(n),$s();break;case 5:Z0(n);break;case 1:Fn(n.type)&&Cl(n);break;case 4:ph(n,n.stateNode.containerInfo);break;case 10:var c=n.type._context,f=n.memoizedProps.value;vt(Sl,c._currentValue),c._currentValue=f;break;case 13:if(c=n.memoizedState,c!==null)return c.dehydrated!==null?(vt(Lt,Lt.current&1),n.flags|=128,null):s&n.child.childLanes?x1(e,n,s):(vt(Lt,Lt.current&1),e=cr(e,n,s),e!==null?e.sibling:null);vt(Lt,Lt.current&1);break;case 19:if(c=(s&n.childLanes)!==0,e.flags&128){if(c)return _1(e,n,s);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),vt(Lt,Lt.current),c)break;return null;case 22:case 23:return n.lanes=0,g1(e,n,s)}return cr(e,n,s)}var y1,Nc,w1,v1;y1=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Nc=function(){};w1=function(e,n,s,c){var f=e.memoizedProps;if(f!==c){e=n.stateNode,fs(Zi.current);var g=null;switch(s){case"input":f=Ku(e,f),c=Ku(e,c),g=[];break;case"select":f=Rt({},f,{value:void 0}),c=Rt({},c,{value:void 0}),g=[];break;case"textarea":f=$u(e,f),c=$u(e,c),g=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=wl)}tc(s,c);var y;s=null;for(C in f)if(!c.hasOwnProperty(C)&&f.hasOwnProperty(C)&&f[C]!=null)if(C==="style"){var E=f[C];for(y in E)E.hasOwnProperty(y)&&(s||(s={}),s[y]="")}else C!=="dangerouslySetInnerHTML"&&C!=="children"&&C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(ea.hasOwnProperty(C)?g||(g=[]):(g=g||[]).push(C,null));for(C in c){var A=c[C];if(E=f!=null?f[C]:void 0,c.hasOwnProperty(C)&&A!==E&&(A!=null||E!=null))if(C==="style")if(E){for(y in E)!E.hasOwnProperty(y)||A&&A.hasOwnProperty(y)||(s||(s={}),s[y]="");for(y in A)A.hasOwnProperty(y)&&E[y]!==A[y]&&(s||(s={}),s[y]=A[y])}else s||(g||(g=[]),g.push(C,s)),s=A;else C==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,E=E?E.__html:void 0,A!=null&&E!==A&&(g=g||[]).push(C,A)):C==="children"?typeof A!="string"&&typeof A!="number"||(g=g||[]).push(C,""+A):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&(ea.hasOwnProperty(C)?(A!=null&&C==="onScroll"&&St("scroll",e),g||E===A||(g=[])):(g=g||[]).push(C,A))}s&&(g=g||[]).push("style",s);var C=g;(n.updateQueue=C)&&(n.flags|=4)}};v1=function(e,n,s,c){s!==c&&(n.flags|=4)};function Fo(e,n){if(!Nt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function yn(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,c=0;if(n)for(var f=e.child;f!==null;)s|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)s|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=c,e.childLanes=s,n}function ym(e,n,s){var c=n.pendingProps;switch(lh(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(n),null;case 1:return Fn(n.type)&&vl(),yn(n),null;case 3:return c=n.stateNode,to(),Tt(Bn),Tt(vn),xh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(Wa(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Ii!==null&&(Pc(Ii),Ii=null))),Nc(e,n),yn(n),null;case 5:mh(n);var f=fs(fa.current);if(s=n.type,e!==null&&n.stateNode!=null)w1(e,n,s,c,f),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!c){if(n.stateNode===null)throw Error(fe(166));return yn(n),null}if(e=fs(Zi.current),Wa(n)){c=n.stateNode,s=n.type;var g=n.memoizedProps;switch(c[Hi]=n,c[ca]=g,e=(n.mode&1)!==0,s){case"dialog":St("cancel",c),St("close",c);break;case"iframe":case"object":case"embed":St("load",c);break;case"video":case"audio":for(f=0;f<Vo.length;f++)St(Vo[f],c);break;case"source":St("error",c);break;case"img":case"image":case"link":St("error",c),St("load",c);break;case"details":St("toggle",c);break;case"input":lf(c,g),St("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},St("invalid",c);break;case"textarea":cf(c,g),St("invalid",c)}tc(s,g),f=null;for(var y in g)if(g.hasOwnProperty(y)){var E=g[y];y==="children"?typeof E=="string"?c.textContent!==E&&(g.suppressHydrationWarning!==!0&&Za(c.textContent,E,e),f=["children",E]):typeof E=="number"&&c.textContent!==""+E&&(g.suppressHydrationWarning!==!0&&Za(c.textContent,E,e),f=["children",""+E]):ea.hasOwnProperty(y)&&E!=null&&y==="onScroll"&&St("scroll",c)}switch(s){case"input":Pa(c),uf(c,g,!0);break;case"textarea":Pa(c),hf(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=wl)}c=f,n.updateQueue=c,c!==null&&(n.flags|=4)}else{y=f.nodeType===9?f:f.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qd(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=y.createElement(s,{is:c.is}):(e=y.createElement(s),s==="select"&&(y=e,c.multiple?y.multiple=!0:c.size&&(y.size=c.size))):e=y.createElementNS(e,s),e[Hi]=n,e[ca]=c,y1(e,n,!1,!1),n.stateNode=e;e:{switch(y=nc(s,c),s){case"dialog":St("cancel",e),St("close",e),f=c;break;case"iframe":case"object":case"embed":St("load",e),f=c;break;case"video":case"audio":for(f=0;f<Vo.length;f++)St(Vo[f],e);f=c;break;case"source":St("error",e),f=c;break;case"img":case"image":case"link":St("error",e),St("load",e),f=c;break;case"details":St("toggle",e),f=c;break;case"input":lf(e,c),f=Ku(e,c),St("invalid",e);break;case"option":f=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},f=Rt({},c,{value:void 0}),St("invalid",e);break;case"textarea":cf(e,c),f=$u(e,c),St("invalid",e);break;default:f=c}tc(s,f),E=f;for(g in E)if(E.hasOwnProperty(g)){var A=E[g];g==="style"?Jd(e,A):g==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&Kd(e,A)):g==="children"?typeof A=="string"?(s!=="textarea"||A!=="")&&ta(e,A):typeof A=="number"&&ta(e,""+A):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(ea.hasOwnProperty(g)?A!=null&&g==="onScroll"&&St("scroll",e):A!=null&&Yc(e,g,A,y))}switch(s){case"input":Pa(e),uf(e,c,!1);break;case"textarea":Pa(e),hf(e);break;case"option":c.value!=null&&e.setAttribute("value",""+Hr(c.value));break;case"select":e.multiple=!!c.multiple,g=c.value,g!=null?Ws(e,!!c.multiple,g,!1):c.defaultValue!=null&&Ws(e,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(e.onclick=wl)}switch(s){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return yn(n),null;case 6:if(e&&n.stateNode!=null)v1(e,n,e.memoizedProps,c);else{if(typeof c!="string"&&n.stateNode===null)throw Error(fe(166));if(s=fs(fa.current),fs(Zi.current),Wa(n)){if(c=n.stateNode,s=n.memoizedProps,c[Hi]=n,(g=c.nodeValue!==s)&&(e=Kn,e!==null))switch(e.tag){case 3:Za(c.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Za(c.nodeValue,s,(e.mode&1)!==0)}g&&(n.flags|=4)}else c=(s.nodeType===9?s:s.ownerDocument).createTextNode(c),c[Hi]=n,n.stateNode=c}return yn(n),null;case 13:if(Tt(Lt),c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Nt&&Qn!==null&&n.mode&1&&!(n.flags&128))z0(),$s(),n.flags|=98560,g=!1;else if(g=Wa(n),c!==null&&c.dehydrated!==null){if(e===null){if(!g)throw Error(fe(318));if(g=n.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(fe(317));g[Hi]=n}else $s(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;yn(n),g=!1}else Ii!==null&&(Pc(Ii),Ii=null),g=!0;if(!g)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(c=c!==null,c!==(e!==null&&e.memoizedState!==null)&&c&&(n.child.flags|=8192,n.mode&1&&(e===null||Lt.current&1?qt===0&&(qt=3):bh())),n.updateQueue!==null&&(n.flags|=4),yn(n),null);case 4:return to(),Nc(e,n),e===null&&la(n.stateNode.containerInfo),yn(n),null;case 10:return fh(n.type._context),yn(n),null;case 17:return Fn(n.type)&&vl(),yn(n),null;case 19:if(Tt(Lt),g=n.memoizedState,g===null)return yn(n),null;if(c=(n.flags&128)!==0,y=g.rendering,y===null)if(c)Fo(g,!1);else{if(qt!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(y=Nl(e),y!==null){for(n.flags|=128,Fo(g,!1),c=y.updateQueue,c!==null&&(n.updateQueue=c,n.flags|=4),n.subtreeFlags=0,c=s,s=n.child;s!==null;)g=s,e=c,g.flags&=14680066,y=g.alternate,y===null?(g.childLanes=0,g.lanes=e,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=y.childLanes,g.lanes=y.lanes,g.child=y.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=y.memoizedProps,g.memoizedState=y.memoizedState,g.updateQueue=y.updateQueue,g.type=y.type,e=y.dependencies,g.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return vt(Lt,Lt.current&1|2),n.child}e=e.sibling}g.tail!==null&&Ut()>io&&(n.flags|=128,c=!0,Fo(g,!1),n.lanes=4194304)}else{if(!c)if(e=Nl(y),e!==null){if(n.flags|=128,c=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Fo(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!Nt)return yn(n),null}else 2*Ut()-g.renderingStartTime>io&&s!==1073741824&&(n.flags|=128,c=!0,Fo(g,!1),n.lanes=4194304);g.isBackwards?(y.sibling=n.child,n.child=y):(s=g.last,s!==null?s.sibling=y:n.child=y,g.last=y)}return g.tail!==null?(n=g.tail,g.rendering=n,g.tail=n.sibling,g.renderingStartTime=Ut(),n.sibling=null,s=Lt.current,vt(Lt,c?s&1|2:s&1),n):(yn(n),null);case 22:case 23:return Nh(),c=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(n.flags|=8192),c&&n.mode&1?Yn&1073741824&&(yn(n),n.subtreeFlags&6&&(n.flags|=8192)):yn(n),null;case 24:return null;case 25:return null}throw Error(fe(156,n.tag))}function wm(e,n){switch(lh(n),n.tag){case 1:return Fn(n.type)&&vl(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return to(),Tt(Bn),Tt(vn),xh(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return mh(n),null;case 13:if(Tt(Lt),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(fe(340));$s()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Tt(Lt),null;case 4:return to(),null;case 10:return fh(n.type._context),null;case 22:case 23:return Nh(),null;case 24:return null;default:return null}}var Xa=!1,wn=!1,vm=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Hs(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(c){Bt(e,n,c)}else s.current=null}function bc(e,n,s){try{s()}catch(c){Bt(e,n,c)}}var ed=!1;function Cm(e,n){if(fc=xl,e=T0(),oh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break e}var y=0,E=-1,A=-1,C=0,R=0,O=e,H=null;t:for(;;){for(var X;O!==s||f!==0&&O.nodeType!==3||(E=y+f),O!==g||c!==0&&O.nodeType!==3||(A=y+c),O.nodeType===3&&(y+=O.nodeValue.length),(X=O.firstChild)!==null;)H=O,O=X;for(;;){if(O===e)break t;if(H===s&&++C===f&&(E=y),H===g&&++R===c&&(A=y),(X=O.nextSibling)!==null)break;O=H,H=O.parentNode}O=X}s=E===-1||A===-1?null:{start:E,end:A}}else s=null}s=s||{start:0,end:0}}else s=null;for(dc={focusedElem:e,selectionRange:s},xl=!1,Ae=n;Ae!==null;)if(n=Ae,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ae=e;else for(;Ae!==null;){n=Ae;try{var ee=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var U=ee.memoizedProps,ye=ee.memoizedState,j=n.stateNode,k=j.getSnapshotBeforeUpdate(n.elementType===n.type?U:Ai(n.type,U),ye);j.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var P=n.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(K){Bt(n,n.return,K)}if(e=n.sibling,e!==null){e.return=n.return,Ae=e;break}Ae=n.return}return ee=ed,ed=!1,ee}function Ko(e,n,s){var c=n.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&e)===e){var g=f.destroy;f.destroy=void 0,g!==void 0&&bc(n,s,g)}f=f.next}while(f!==c)}}function Xl(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var c=s.create;s.destroy=c()}s=s.next}while(s!==n)}}function Mc(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function C1(e){var n=e.alternate;n!==null&&(e.alternate=null,C1(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Hi],delete n[ca],delete n[mc],delete n[rm],delete n[sm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function E1(e){return e.tag===5||e.tag===3||e.tag===4}function td(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||E1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Oc(e,n,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=wl));else if(c!==4&&(e=e.child,e!==null))for(Oc(e,n,s),e=e.sibling;e!==null;)Oc(e,n,s),e=e.sibling}function Lc(e,n,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for(Lc(e,n,s),e=e.sibling;e!==null;)Lc(e,n,s),e=e.sibling}var hn=null,Si=!1;function Tr(e,n,s){for(s=s.child;s!==null;)A1(e,n,s),s=s.sibling}function A1(e,n,s){if(Vi&&typeof Vi.onCommitFiberUnmount=="function")try{Vi.onCommitFiberUnmount(jl,s)}catch{}switch(s.tag){case 5:wn||Hs(s,n);case 6:var c=hn,f=Si;hn=null,Tr(e,n,s),hn=c,Si=f,hn!==null&&(Si?(e=hn,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):hn.removeChild(s.stateNode));break;case 18:hn!==null&&(Si?(e=hn,s=s.stateNode,e.nodeType===8?Du(e.parentNode,s):e.nodeType===1&&Du(e,s),sa(e)):Du(hn,s.stateNode));break;case 4:c=hn,f=Si,hn=s.stateNode.containerInfo,Si=!0,Tr(e,n,s),hn=c,Si=f;break;case 0:case 11:case 14:case 15:if(!wn&&(c=s.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var g=f,y=g.destroy;g=g.tag,y!==void 0&&(g&2||g&4)&&bc(s,n,y),f=f.next}while(f!==c)}Tr(e,n,s);break;case 1:if(!wn&&(Hs(s,n),c=s.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=s.memoizedProps,c.state=s.memoizedState,c.componentWillUnmount()}catch(E){Bt(s,n,E)}Tr(e,n,s);break;case 21:Tr(e,n,s);break;case 22:s.mode&1?(wn=(c=wn)||s.memoizedState!==null,Tr(e,n,s),wn=c):Tr(e,n,s);break;default:Tr(e,n,s)}}function nd(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new vm),n.forEach(function(c){var f=Om.bind(null,e,c);s.has(c)||(s.add(c),c.then(f,f))})}}function Ei(e,n){var s=n.deletions;if(s!==null)for(var c=0;c<s.length;c++){var f=s[c];try{var g=e,y=n,E=y;e:for(;E!==null;){switch(E.tag){case 5:hn=E.stateNode,Si=!1;break e;case 3:hn=E.stateNode.containerInfo,Si=!0;break e;case 4:hn=E.stateNode.containerInfo,Si=!0;break e}E=E.return}if(hn===null)throw Error(fe(160));A1(g,y,f),hn=null,Si=!1;var A=f.alternate;A!==null&&(A.return=null),f.return=null}catch(C){Bt(f,n,C)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)S1(n,e),n=n.sibling}function S1(e,n){var s=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ei(n,e),zi(e),c&4){try{Ko(3,e,e.return),Xl(3,e)}catch(U){Bt(e,e.return,U)}try{Ko(5,e,e.return)}catch(U){Bt(e,e.return,U)}}break;case 1:Ei(n,e),zi(e),c&512&&s!==null&&Hs(s,s.return);break;case 5:if(Ei(n,e),zi(e),c&512&&s!==null&&Hs(s,s.return),e.flags&32){var f=e.stateNode;try{ta(f,"")}catch(U){Bt(e,e.return,U)}}if(c&4&&(f=e.stateNode,f!=null)){var g=e.memoizedProps,y=s!==null?s.memoizedProps:g,E=e.type,A=e.updateQueue;if(e.updateQueue=null,A!==null)try{E==="input"&&g.type==="radio"&&g.name!=null&&Yd(f,g),nc(E,y);var C=nc(E,g);for(y=0;y<A.length;y+=2){var R=A[y],O=A[y+1];R==="style"?Jd(f,O):R==="dangerouslySetInnerHTML"?Kd(f,O):R==="children"?ta(f,O):Yc(f,R,O,C)}switch(E){case"input":qu(f,g);break;case"textarea":Xd(f,g);break;case"select":var H=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var X=g.value;X!=null?Ws(f,!!g.multiple,X,!1):H!==!!g.multiple&&(g.defaultValue!=null?Ws(f,!!g.multiple,g.defaultValue,!0):Ws(f,!!g.multiple,g.multiple?[]:"",!1))}f[ca]=g}catch(U){Bt(e,e.return,U)}}break;case 6:if(Ei(n,e),zi(e),c&4){if(e.stateNode===null)throw Error(fe(162));f=e.stateNode,g=e.memoizedProps;try{f.nodeValue=g}catch(U){Bt(e,e.return,U)}}break;case 3:if(Ei(n,e),zi(e),c&4&&s!==null&&s.memoizedState.isDehydrated)try{sa(n.containerInfo)}catch(U){Bt(e,e.return,U)}break;case 4:Ei(n,e),zi(e);break;case 13:Ei(n,e),zi(e),f=e.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Th=Ut())),c&4&&nd(e);break;case 22:if(R=s!==null&&s.memoizedState!==null,e.mode&1?(wn=(C=wn)||R,Ei(n,e),wn=C):Ei(n,e),zi(e),c&8192){if(C=e.memoizedState!==null,(e.stateNode.isHidden=C)&&!R&&e.mode&1)for(Ae=e,R=e.child;R!==null;){for(O=Ae=R;Ae!==null;){switch(H=Ae,X=H.child,H.tag){case 0:case 11:case 14:case 15:Ko(4,H,H.return);break;case 1:Hs(H,H.return);var ee=H.stateNode;if(typeof ee.componentWillUnmount=="function"){c=H,s=H.return;try{n=c,ee.props=n.memoizedProps,ee.state=n.memoizedState,ee.componentWillUnmount()}catch(U){Bt(c,s,U)}}break;case 5:Hs(H,H.return);break;case 22:if(H.memoizedState!==null){rd(O);continue}}X!==null?(X.return=H,Ae=X):rd(O)}R=R.sibling}e:for(R=null,O=e;;){if(O.tag===5){if(R===null){R=O;try{f=O.stateNode,C?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(E=O.stateNode,A=O.memoizedProps.style,y=A!=null&&A.hasOwnProperty("display")?A.display:null,E.style.display=qd("display",y))}catch(U){Bt(e,e.return,U)}}}else if(O.tag===6){if(R===null)try{O.stateNode.nodeValue=C?"":O.memoizedProps}catch(U){Bt(e,e.return,U)}}else if((O.tag!==22&&O.tag!==23||O.memoizedState===null||O===e)&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===e)break e;for(;O.sibling===null;){if(O.return===null||O.return===e)break e;R===O&&(R=null),O=O.return}R===O&&(R=null),O.sibling.return=O.return,O=O.sibling}}break;case 19:Ei(n,e),zi(e),c&4&&nd(e);break;case 21:break;default:Ei(n,e),zi(e)}}function zi(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(E1(s)){var c=s;break e}s=s.return}throw Error(fe(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(ta(f,""),c.flags&=-33);var g=td(e);Lc(e,g,f);break;case 3:case 4:var y=c.stateNode.containerInfo,E=td(e);Oc(e,E,y);break;default:throw Error(fe(161))}}catch(A){Bt(e,e.return,A)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Em(e,n,s){Ae=e,T1(e)}function T1(e,n,s){for(var c=(e.mode&1)!==0;Ae!==null;){var f=Ae,g=f.child;if(f.tag===22&&c){var y=f.memoizedState!==null||Xa;if(!y){var E=f.alternate,A=E!==null&&E.memoizedState!==null||wn;E=Xa;var C=wn;if(Xa=y,(wn=A)&&!C)for(Ae=f;Ae!==null;)y=Ae,A=y.child,y.tag===22&&y.memoizedState!==null?sd(f):A!==null?(A.return=y,Ae=A):sd(f);for(;g!==null;)Ae=g,T1(g),g=g.sibling;Ae=f,Xa=E,wn=C}id(e)}else f.subtreeFlags&8772&&g!==null?(g.return=f,Ae=g):id(e)}}function id(e){for(;Ae!==null;){var n=Ae;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:wn||Xl(5,n);break;case 1:var c=n.stateNode;if(n.flags&4&&!wn)if(s===null)c.componentDidMount();else{var f=n.elementType===n.type?s.memoizedProps:Ai(n.type,s.memoizedProps);c.componentDidUpdate(f,s.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=n.updateQueue;g!==null&&Uf(n,g,c);break;case 3:var y=n.updateQueue;if(y!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Uf(n,y,s)}break;case 5:var E=n.stateNode;if(s===null&&n.flags&4){s=E;var A=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&s.focus();break;case"img":A.src&&(s.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var C=n.alternate;if(C!==null){var R=C.memoizedState;if(R!==null){var O=R.dehydrated;O!==null&&sa(O)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}wn||n.flags&512&&Mc(n)}catch(H){Bt(n,n.return,H)}}if(n===e){Ae=null;break}if(s=n.sibling,s!==null){s.return=n.return,Ae=s;break}Ae=n.return}}function rd(e){for(;Ae!==null;){var n=Ae;if(n===e){Ae=null;break}var s=n.sibling;if(s!==null){s.return=n.return,Ae=s;break}Ae=n.return}}function sd(e){for(;Ae!==null;){var n=Ae;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{Xl(4,n)}catch(A){Bt(n,s,A)}break;case 1:var c=n.stateNode;if(typeof c.componentDidMount=="function"){var f=n.return;try{c.componentDidMount()}catch(A){Bt(n,f,A)}}var g=n.return;try{Mc(n)}catch(A){Bt(n,g,A)}break;case 5:var y=n.return;try{Mc(n)}catch(A){Bt(n,y,A)}}}catch(A){Bt(n,n.return,A)}if(n===e){Ae=null;break}var E=n.sibling;if(E!==null){E.return=n.return,Ae=E;break}Ae=n.return}}var Am=Math.ceil,Ol=hr.ReactCurrentDispatcher,Ah=hr.ReactCurrentOwner,fi=hr.ReactCurrentBatchConfig,rt=0,un=null,Wt=null,fn=0,Yn=0,Vs=Gr(0),qt=0,ma=null,_s=0,Ql=0,Sh=0,qo=null,kn=null,Th=0,io=1/0,tr=null,Ll=!1,Dc=null,zr=null,Qa=!1,Dr=null,Dl=0,Jo=0,Rc=null,al=-1,ll=0;function Mn(){return rt&6?Ut():al!==-1?al:al=Ut()}function jr(e){return e.mode&1?rt&2&&fn!==0?fn&-fn:am.transition!==null?(ll===0&&(ll=c0()),ll):(e=ft,e!==0||(e=window.event,e=e===void 0?16:x0(e.type)),e):1}function bi(e,n,s,c){if(50<Jo)throw Jo=0,Rc=null,Error(fe(185));_a(e,s,c),(!(rt&2)||e!==un)&&(e===un&&(!(rt&2)&&(Ql|=s),qt===4&&Or(e,fn)),zn(e,c),s===1&&rt===0&&!(n.mode&1)&&(io=Ut()+500,Wl&&Yr()))}function zn(e,n){var s=e.callbackNode;ap(e,n);var c=ml(e,e===un?fn:0);if(c===0)s!==null&&gf(s),e.callbackNode=null,e.callbackPriority=0;else if(n=c&-c,e.callbackPriority!==n){if(s!=null&&gf(s),n===1)e.tag===0?om(od.bind(null,e)):P0(od.bind(null,e)),nm(function(){!(rt&6)&&Yr()}),s=null;else{switch(h0(c)){case 1:s=Jc;break;case 4:s=l0;break;case 16:s=pl;break;case 536870912:s=u0;break;default:s=pl}s=R1(s,I1.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function I1(e,n){if(al=-1,ll=0,rt&6)throw Error(fe(327));var s=e.callbackNode;if(Ks()&&e.callbackNode!==s)return null;var c=ml(e,e===un?fn:0);if(c===0)return null;if(c&30||c&e.expiredLanes||n)n=Rl(e,c);else{n=c;var f=rt;rt|=2;var g=b1();(un!==e||fn!==n)&&(tr=null,io=Ut()+500,ds(e,n));do try{Im();break}catch(E){N1(e,E)}while(!0);hh(),Ol.current=g,rt=f,Wt!==null?n=0:(un=null,fn=0,n=qt)}if(n!==0){if(n===2&&(f=ac(e),f!==0&&(c=f,n=kc(e,f))),n===1)throw s=ma,ds(e,0),Or(e,c),zn(e,Ut()),s;if(n===6)Or(e,c);else{if(f=e.current.alternate,!(c&30)&&!Sm(f)&&(n=Rl(e,c),n===2&&(g=ac(e),g!==0&&(c=g,n=kc(e,g))),n===1))throw s=ma,ds(e,0),Or(e,c),zn(e,Ut()),s;switch(e.finishedWork=f,e.finishedLanes=c,n){case 0:case 1:throw Error(fe(345));case 2:us(e,kn,tr);break;case 3:if(Or(e,c),(c&130023424)===c&&(n=Th+500-Ut(),10<n)){if(ml(e,0)!==0)break;if(f=e.suspendedLanes,(f&c)!==c){Mn(),e.pingedLanes|=e.suspendedLanes&f;break}e.timeoutHandle=pc(us.bind(null,e,kn,tr),n);break}us(e,kn,tr);break;case 4:if(Or(e,c),(c&4194240)===c)break;for(n=e.eventTimes,f=-1;0<c;){var y=31-Ni(c);g=1<<y,y=n[y],y>f&&(f=y),c&=~g}if(c=f,c=Ut()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Am(c/1960))-c,10<c){e.timeoutHandle=pc(us.bind(null,e,kn,tr),c);break}us(e,kn,tr);break;case 5:us(e,kn,tr);break;default:throw Error(fe(329))}}}return zn(e,Ut()),e.callbackNode===s?I1.bind(null,e):null}function kc(e,n){var s=qo;return e.current.memoizedState.isDehydrated&&(ds(e,n).flags|=256),e=Rl(e,n),e!==2&&(n=kn,kn=s,n!==null&&Pc(n)),e}function Pc(e){kn===null?kn=e:kn.push.apply(kn,e)}function Sm(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var c=0;c<s.length;c++){var f=s[c],g=f.getSnapshot;f=f.value;try{if(!Mi(g(),f))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Or(e,n){for(n&=~Sh,n&=~Ql,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Ni(n),c=1<<s;e[s]=-1,n&=~c}}function od(e){if(rt&6)throw Error(fe(327));Ks();var n=ml(e,0);if(!(n&1))return zn(e,Ut()),null;var s=Rl(e,n);if(e.tag!==0&&s===2){var c=ac(e);c!==0&&(n=c,s=kc(e,c))}if(s===1)throw s=ma,ds(e,0),Or(e,n),zn(e,Ut()),s;if(s===6)throw Error(fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,us(e,kn,tr),zn(e,Ut()),null}function Ih(e,n){var s=rt;rt|=1;try{return e(n)}finally{rt=s,rt===0&&(io=Ut()+500,Wl&&Yr())}}function ys(e){Dr!==null&&Dr.tag===0&&!(rt&6)&&Ks();var n=rt;rt|=1;var s=fi.transition,c=ft;try{if(fi.transition=null,ft=1,e)return e()}finally{ft=c,fi.transition=s,rt=n,!(rt&6)&&Yr()}}function Nh(){Yn=Vs.current,Tt(Vs)}function ds(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,tm(s)),Wt!==null)for(s=Wt.return;s!==null;){var c=s;switch(lh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&vl();break;case 3:to(),Tt(Bn),Tt(vn),xh();break;case 5:mh(c);break;case 4:to();break;case 13:Tt(Lt);break;case 19:Tt(Lt);break;case 10:fh(c.type._context);break;case 22:case 23:Nh()}s=s.return}if(un=e,Wt=e=Ur(e.current,null),fn=Yn=n,qt=0,ma=null,Sh=Ql=_s=0,kn=qo=null,hs!==null){for(n=0;n<hs.length;n++)if(s=hs[n],c=s.interleaved,c!==null){s.interleaved=null;var f=c.next,g=s.pending;if(g!==null){var y=g.next;g.next=f,c.next=y}s.pending=c}hs=null}return e}function N1(e,n){do{var s=Wt;try{if(hh(),rl.current=Ml,bl){for(var c=Dt.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}bl=!1}if(xs=0,ln=Kt=Dt=null,Qo=!1,da=0,Ah.current=null,s===null||s.return===null){qt=1,ma=n,Wt=null;break}e:{var g=e,y=s.return,E=s,A=n;if(n=fn,E.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var C=A,R=E,O=R.tag;if(!(R.mode&1)&&(O===0||O===11||O===15)){var H=R.alternate;H?(R.updateQueue=H.updateQueue,R.memoizedState=H.memoizedState,R.lanes=H.lanes):(R.updateQueue=null,R.memoizedState=null)}var X=Yf(y);if(X!==null){X.flags&=-257,Xf(X,y,E,g,n),X.mode&1&&Gf(g,C,n),n=X,A=C;var ee=n.updateQueue;if(ee===null){var U=new Set;U.add(A),n.updateQueue=U}else ee.add(A);break e}else{if(!(n&1)){Gf(g,C,n),bh();break e}A=Error(fe(426))}}else if(Nt&&E.mode&1){var ye=Yf(y);if(ye!==null){!(ye.flags&65536)&&(ye.flags|=256),Xf(ye,y,E,g,n),uh(no(A,E));break e}}g=A=no(A,E),qt!==4&&(qt=2),qo===null?qo=[g]:qo.push(g),g=y;do{switch(g.tag){case 3:g.flags|=65536,n&=-n,g.lanes|=n;var j=h1(g,A,n);jf(g,j);break e;case 1:E=A;var k=g.type,P=g.stateNode;if(!(g.flags&128)&&(typeof k.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(zr===null||!zr.has(P)))){g.flags|=65536,n&=-n,g.lanes|=n;var K=f1(g,E,n);jf(g,K);break e}}g=g.return}while(g!==null)}O1(s)}catch(de){n=de,Wt===s&&s!==null&&(Wt=s=s.return);continue}break}while(!0)}function b1(){var e=Ol.current;return Ol.current=Ml,e===null?Ml:e}function bh(){(qt===0||qt===3||qt===2)&&(qt=4),un===null||!(_s&268435455)&&!(Ql&268435455)||Or(un,fn)}function Rl(e,n){var s=rt;rt|=2;var c=b1();(un!==e||fn!==n)&&(tr=null,ds(e,n));do try{Tm();break}catch(f){N1(e,f)}while(!0);if(hh(),rt=s,Ol.current=c,Wt!==null)throw Error(fe(261));return un=null,fn=0,qt}function Tm(){for(;Wt!==null;)M1(Wt)}function Im(){for(;Wt!==null&&!Jg();)M1(Wt)}function M1(e){var n=D1(e.alternate,e,Yn);e.memoizedProps=e.pendingProps,n===null?O1(e):Wt=n,Ah.current=null}function O1(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=wm(s,n),s!==null){s.flags&=32767,Wt=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qt=6,Wt=null;return}}else if(s=ym(s,n,Yn),s!==null){Wt=s;return}if(n=n.sibling,n!==null){Wt=n;return}Wt=n=e}while(n!==null);qt===0&&(qt=5)}function us(e,n,s){var c=ft,f=fi.transition;try{fi.transition=null,ft=1,Nm(e,n,s,c)}finally{fi.transition=f,ft=c}return null}function Nm(e,n,s,c){do Ks();while(Dr!==null);if(rt&6)throw Error(fe(327));s=e.finishedWork;var f=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(fe(177));e.callbackNode=null,e.callbackPriority=0;var g=s.lanes|s.childLanes;if(lp(e,g),e===un&&(Wt=un=null,fn=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Qa||(Qa=!0,R1(pl,function(){return Ks(),null})),g=(s.flags&15990)!==0,s.subtreeFlags&15990||g){g=fi.transition,fi.transition=null;var y=ft;ft=1;var E=rt;rt|=4,Ah.current=null,Cm(e,s),S1(s,e),Xp(dc),xl=!!fc,dc=fc=null,e.current=s,Em(s),$g(),rt=E,ft=y,fi.transition=g}else e.current=s;if(Qa&&(Qa=!1,Dr=e,Dl=f),g=e.pendingLanes,g===0&&(zr=null),np(s.stateNode),zn(e,Ut()),n!==null)for(c=e.onRecoverableError,s=0;s<n.length;s++)f=n[s],c(f.value,{componentStack:f.stack,digest:f.digest});if(Ll)throw Ll=!1,e=Dc,Dc=null,e;return Dl&1&&e.tag!==0&&Ks(),g=e.pendingLanes,g&1?e===Rc?Jo++:(Jo=0,Rc=e):Jo=0,Yr(),null}function Ks(){if(Dr!==null){var e=h0(Dl),n=fi.transition,s=ft;try{if(fi.transition=null,ft=16>e?16:e,Dr===null)var c=!1;else{if(e=Dr,Dr=null,Dl=0,rt&6)throw Error(fe(331));var f=rt;for(rt|=4,Ae=e.current;Ae!==null;){var g=Ae,y=g.child;if(Ae.flags&16){var E=g.deletions;if(E!==null){for(var A=0;A<E.length;A++){var C=E[A];for(Ae=C;Ae!==null;){var R=Ae;switch(R.tag){case 0:case 11:case 15:Ko(8,R,g)}var O=R.child;if(O!==null)O.return=R,Ae=O;else for(;Ae!==null;){R=Ae;var H=R.sibling,X=R.return;if(C1(R),R===C){Ae=null;break}if(H!==null){H.return=X,Ae=H;break}Ae=X}}}var ee=g.alternate;if(ee!==null){var U=ee.child;if(U!==null){ee.child=null;do{var ye=U.sibling;U.sibling=null,U=ye}while(U!==null)}}Ae=g}}if(g.subtreeFlags&2064&&y!==null)y.return=g,Ae=y;else e:for(;Ae!==null;){if(g=Ae,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Ko(9,g,g.return)}var j=g.sibling;if(j!==null){j.return=g.return,Ae=j;break e}Ae=g.return}}var k=e.current;for(Ae=k;Ae!==null;){y=Ae;var P=y.child;if(y.subtreeFlags&2064&&P!==null)P.return=y,Ae=P;else e:for(y=k;Ae!==null;){if(E=Ae,E.flags&2048)try{switch(E.tag){case 0:case 11:case 15:Xl(9,E)}}catch(de){Bt(E,E.return,de)}if(E===y){Ae=null;break e}var K=E.sibling;if(K!==null){K.return=E.return,Ae=K;break e}Ae=E.return}}if(rt=f,Yr(),Vi&&typeof Vi.onPostCommitFiberRoot=="function")try{Vi.onPostCommitFiberRoot(jl,e)}catch{}c=!0}return c}finally{ft=s,fi.transition=n}}return!1}function ad(e,n,s){n=no(s,n),n=h1(e,n,1),e=Fr(e,n,1),n=Mn(),e!==null&&(_a(e,1,n),zn(e,n))}function Bt(e,n,s){if(e.tag===3)ad(e,e,s);else for(;n!==null;){if(n.tag===3){ad(n,e,s);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(zr===null||!zr.has(c))){e=no(s,e),e=f1(n,e,1),n=Fr(n,e,1),e=Mn(),n!==null&&(_a(n,1,e),zn(n,e));break}}n=n.return}}function bm(e,n,s){var c=e.pingCache;c!==null&&c.delete(n),n=Mn(),e.pingedLanes|=e.suspendedLanes&s,un===e&&(fn&s)===s&&(qt===4||qt===3&&(fn&130023424)===fn&&500>Ut()-Th?ds(e,0):Sh|=s),zn(e,n)}function L1(e,n){n===0&&(e.mode&1?(n=za,za<<=1,!(za&130023424)&&(za=4194304)):n=1);var s=Mn();e=ur(e,n),e!==null&&(_a(e,n,s),zn(e,s))}function Mm(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),L1(e,s)}function Om(e,n){var s=0;switch(e.tag){case 13:var c=e.stateNode,f=e.memoizedState;f!==null&&(s=f.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(fe(314))}c!==null&&c.delete(n),L1(e,s)}var D1;D1=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||Bn.current)Pn=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return Pn=!1,_m(e,n,s);Pn=!!(e.flags&131072)}else Pn=!1,Nt&&n.flags&1048576&&B0(n,Al,n.index);switch(n.lanes=0,n.tag){case 2:var c=n.type;ol(e,n),e=n.pendingProps;var f=Js(n,vn.current);Qs(n,s),f=yh(null,n,c,e,f,s);var g=wh();return n.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Fn(c)?(g=!0,Cl(n)):g=!1,n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,gh(n),f.updater=Yl,n.stateNode=f,f._reactInternals=n,Cc(n,c,e,s),n=Sc(null,n,c,!0,g,s)):(n.tag=0,Nt&&g&&ah(n),bn(null,n,f,s),n=n.child),n;case 16:c=n.elementType;e:{switch(ol(e,n),e=n.pendingProps,f=c._init,c=f(c._payload),n.type=c,f=n.tag=Dm(c),e=Ai(c,e),f){case 0:n=Ac(null,n,c,e,s);break e;case 1:n=qf(null,n,c,e,s);break e;case 11:n=Qf(null,n,c,e,s);break e;case 14:n=Kf(null,n,c,Ai(c.type,e),s);break e}throw Error(fe(306,c,""))}return n;case 0:return c=n.type,f=n.pendingProps,f=n.elementType===c?f:Ai(c,f),Ac(e,n,c,f,s);case 1:return c=n.type,f=n.pendingProps,f=n.elementType===c?f:Ai(c,f),qf(e,n,c,f,s);case 3:e:{if(m1(n),e===null)throw Error(fe(387));c=n.pendingProps,g=n.memoizedState,f=g.element,V0(e,n),Il(n,c,null,s);var y=n.memoizedState;if(c=y.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){f=no(Error(fe(423)),n),n=Jf(e,n,c,s,f);break e}else if(c!==f){f=no(Error(fe(424)),n),n=Jf(e,n,c,s,f);break e}else for(Qn=Br(n.stateNode.containerInfo.firstChild),Kn=n,Nt=!0,Ii=null,s=U0(n,null,c,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if($s(),c===f){n=cr(e,n,s);break e}bn(e,n,c,s)}n=n.child}return n;case 5:return Z0(n),e===null&&yc(n),c=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,y=f.children,gc(c,f)?y=null:g!==null&&gc(c,g)&&(n.flags|=32),p1(e,n),bn(e,n,y,s),n.child;case 6:return e===null&&yc(n),null;case 13:return x1(e,n,s);case 4:return ph(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=eo(n,null,c,s):bn(e,n,c,s),n.child;case 11:return c=n.type,f=n.pendingProps,f=n.elementType===c?f:Ai(c,f),Qf(e,n,c,f,s);case 7:return bn(e,n,n.pendingProps,s),n.child;case 8:return bn(e,n,n.pendingProps.children,s),n.child;case 12:return bn(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(c=n.type._context,f=n.pendingProps,g=n.memoizedProps,y=f.value,vt(Sl,c._currentValue),c._currentValue=y,g!==null)if(Mi(g.value,y)){if(g.children===f.children&&!Bn.current){n=cr(e,n,s);break e}}else for(g=n.child,g!==null&&(g.return=n);g!==null;){var E=g.dependencies;if(E!==null){y=g.child;for(var A=E.firstContext;A!==null;){if(A.context===c){if(g.tag===1){A=or(-1,s&-s),A.tag=2;var C=g.updateQueue;if(C!==null){C=C.shared;var R=C.pending;R===null?A.next=A:(A.next=R.next,R.next=A),C.pending=A}}g.lanes|=s,A=g.alternate,A!==null&&(A.lanes|=s),wc(g.return,s,n),E.lanes|=s;break}A=A.next}}else if(g.tag===10)y=g.type===n.type?null:g.child;else if(g.tag===18){if(y=g.return,y===null)throw Error(fe(341));y.lanes|=s,E=y.alternate,E!==null&&(E.lanes|=s),wc(y,s,n),y=g.sibling}else y=g.child;if(y!==null)y.return=g;else for(y=g;y!==null;){if(y===n){y=null;break}if(g=y.sibling,g!==null){g.return=y.return,y=g;break}y=y.return}g=y}bn(e,n,f.children,s),n=n.child}return n;case 9:return f=n.type,c=n.pendingProps.children,Qs(n,s),f=di(f),c=c(f),n.flags|=1,bn(e,n,c,s),n.child;case 14:return c=n.type,f=Ai(c,n.pendingProps),f=Ai(c.type,f),Kf(e,n,c,f,s);case 15:return d1(e,n,n.type,n.pendingProps,s);case 17:return c=n.type,f=n.pendingProps,f=n.elementType===c?f:Ai(c,f),ol(e,n),n.tag=1,Fn(c)?(e=!0,Cl(n)):e=!1,Qs(n,s),c1(n,c,f),Cc(n,c,f,s),Sc(null,n,c,!0,e,s);case 19:return _1(e,n,s);case 22:return g1(e,n,s)}throw Error(fe(156,n.tag))};function R1(e,n){return a0(e,n)}function Lm(e,n,s,c){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hi(e,n,s,c){return new Lm(e,n,s,c)}function Mh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dm(e){if(typeof e=="function")return Mh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qc)return 11;if(e===Kc)return 14}return 2}function Ur(e,n){var s=e.alternate;return s===null?(s=hi(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function ul(e,n,s,c,f,g){var y=2;if(c=e,typeof e=="function")Mh(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case Ds:return gs(s.children,f,g,n);case Xc:y=8,f|=8;break;case Gu:return e=hi(12,s,n,f|2),e.elementType=Gu,e.lanes=g,e;case Yu:return e=hi(13,s,n,f),e.elementType=Yu,e.lanes=g,e;case Xu:return e=hi(19,s,n,f),e.elementType=Xu,e.lanes=g,e;case Zd:return Kl(s,f,g,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Hd:y=10;break e;case Vd:y=9;break e;case Qc:y=11;break e;case Kc:y=14;break e;case Nr:y=16,c=null;break e}throw Error(fe(130,e==null?e:typeof e,""))}return n=hi(y,s,n,f),n.elementType=e,n.type=c,n.lanes=g,n}function gs(e,n,s,c){return e=hi(7,e,c,n),e.lanes=s,e}function Kl(e,n,s,c){return e=hi(22,e,c,n),e.elementType=Zd,e.lanes=s,e.stateNode={isHidden:!1},e}function Uu(e,n,s){return e=hi(6,e,null,n),e.lanes=s,e}function Hu(e,n,s){return n=hi(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Rm(e,n,s,c,f){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cu(0),this.expirationTimes=Cu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cu(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Oh(e,n,s,c,f,g,y,E,A){return e=new Rm(e,n,s,E,A),n===1?(n=1,g===!0&&(n|=8)):n=0,g=hi(3,null,null,n),e.current=g,g.stateNode=e,g.memoizedState={element:c,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},gh(g),e}function km(e,n,s){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ls,key:c==null?null:""+c,children:e,containerInfo:n,implementation:s}}function k1(e){if(!e)return Vr;e=e._reactInternals;e:{if(vs(e)!==e||e.tag!==1)throw Error(fe(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Fn(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(fe(171))}if(e.tag===1){var s=e.type;if(Fn(s))return k0(e,s,n)}return n}function P1(e,n,s,c,f,g,y,E,A){return e=Oh(s,c,!0,e,f,g,y,E,A),e.context=k1(null),s=e.current,c=Mn(),f=jr(s),g=or(c,f),g.callback=n??null,Fr(s,g,f),e.current.lanes=f,_a(e,f,c),zn(e,c),e}function ql(e,n,s,c){var f=n.current,g=Mn(),y=jr(f);return s=k1(s),n.context===null?n.context=s:n.pendingContext=s,n=or(g,y),n.payload={element:e},c=c===void 0?null:c,c!==null&&(n.callback=c),e=Fr(f,n,y),e!==null&&(bi(e,f,y,g),il(e,f,y)),y}function kl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ld(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Lh(e,n){ld(e,n),(e=e.alternate)&&ld(e,n)}function Pm(){return null}var B1=typeof reportError=="function"?reportError:function(e){console.error(e)};function Dh(e){this._internalRoot=e}Jl.prototype.render=Dh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(fe(409));ql(e,n,null,null)};Jl.prototype.unmount=Dh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ys(function(){ql(null,e,null,null)}),n[lr]=null}};function Jl(e){this._internalRoot=e}Jl.prototype.unstable_scheduleHydration=function(e){if(e){var n=g0();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Mr.length&&n!==0&&n<Mr[s].priority;s++);Mr.splice(s,0,e),s===0&&m0(e)}};function Rh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ud(){}function Bm(e,n,s,c,f){if(f){if(typeof c=="function"){var g=c;c=function(){var C=kl(y);g.call(C)}}var y=P1(n,c,e,0,null,!1,!1,"",ud);return e._reactRootContainer=y,e[lr]=y.current,la(e.nodeType===8?e.parentNode:e),ys(),y}for(;f=e.lastChild;)e.removeChild(f);if(typeof c=="function"){var E=c;c=function(){var C=kl(A);E.call(C)}}var A=Oh(e,0,!1,null,null,!1,!1,"",ud);return e._reactRootContainer=A,e[lr]=A.current,la(e.nodeType===8?e.parentNode:e),ys(function(){ql(n,A,s,c)}),A}function eu(e,n,s,c,f){var g=s._reactRootContainer;if(g){var y=g;if(typeof f=="function"){var E=f;f=function(){var A=kl(y);E.call(A)}}ql(n,y,e,f)}else y=Bm(s,n,e,f,c);return kl(y)}f0=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=Ho(n.pendingLanes);s!==0&&($c(n,s|1),zn(n,Ut()),!(rt&6)&&(io=Ut()+500,Yr()))}break;case 13:ys(function(){var c=ur(e,1);if(c!==null){var f=Mn();bi(c,e,1,f)}}),Lh(e,1)}};eh=function(e){if(e.tag===13){var n=ur(e,134217728);if(n!==null){var s=Mn();bi(n,e,134217728,s)}Lh(e,134217728)}};d0=function(e){if(e.tag===13){var n=jr(e),s=ur(e,n);if(s!==null){var c=Mn();bi(s,e,n,c)}Lh(e,n)}};g0=function(){return ft};p0=function(e,n){var s=ft;try{return ft=e,n()}finally{ft=s}};rc=function(e,n,s){switch(n){case"input":if(qu(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var c=s[n];if(c!==e&&c.form===e.form){var f=Zl(c);if(!f)throw Error(fe(90));Gd(c),qu(c,f)}}}break;case"textarea":Xd(e,s);break;case"select":n=s.value,n!=null&&Ws(e,!!s.multiple,n,!1)}};t0=Ih;n0=ys;var Fm={usingClientEntryPoint:!1,Events:[wa,Bs,Zl,$d,e0,Ih]},zo={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zm={bundleType:zo.bundleType,version:zo.version,rendererPackageName:zo.rendererPackageName,rendererConfig:zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=s0(e),e===null?null:e.stateNode},findFiberByHostInstance:zo.findFiberByHostInstance||Pm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ka.isDisabled&&Ka.supportsFiber)try{jl=Ka.inject(zm),Vi=Ka}catch{}}Jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fm;Jn.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rh(n))throw Error(fe(200));return km(e,n,null,s)};Jn.createRoot=function(e,n){if(!Rh(e))throw Error(fe(299));var s=!1,c="",f=B1;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(f=n.onRecoverableError)),n=Oh(e,1,!1,null,null,s,!1,c,f),e[lr]=n.current,la(e.nodeType===8?e.parentNode:e),new Dh(n)};Jn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(fe(188)):(e=Object.keys(e).join(","),Error(fe(268,e)));return e=s0(n),e=e===null?null:e.stateNode,e};Jn.flushSync=function(e){return ys(e)};Jn.hydrate=function(e,n,s){if(!$l(n))throw Error(fe(200));return eu(null,e,n,!0,s)};Jn.hydrateRoot=function(e,n,s){if(!Rh(e))throw Error(fe(405));var c=s!=null&&s.hydratedSources||null,f=!1,g="",y=B1;if(s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),n=P1(n,null,e,1,s??null,f,!1,g,y),e[lr]=n.current,la(e),c)for(e=0;e<c.length;e++)s=c[e],f=s._getVersion,f=f(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,f]:n.mutableSourceEagerHydrationData.push(s,f);return new Jl(n)};Jn.render=function(e,n,s){if(!$l(n))throw Error(fe(200));return eu(null,e,n,!1,s)};Jn.unmountComponentAtNode=function(e){if(!$l(e))throw Error(fe(40));return e._reactRootContainer?(ys(function(){eu(null,null,e,!1,function(){e._reactRootContainer=null,e[lr]=null})}),!0):!1};Jn.unstable_batchedUpdates=Ih;Jn.unstable_renderSubtreeIntoContainer=function(e,n,s,c){if(!$l(s))throw Error(fe(200));if(e==null||e._reactInternals===void 0)throw Error(fe(38));return eu(e,n,s,!1,c)};Jn.version="18.3.1-next-f1338f8080-20240426";function F1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(F1)}catch(e){console.error(e)}}F1(),Fd.exports=Jn;var z1=Fd.exports,cd=z1;Zu.createRoot=cd.createRoot,Zu.hydrateRoot=cd.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ft=(e,n)=>{const s=_e.forwardRef(({color:c="currentColor",size:f=24,strokeWidth:g=2,absoluteStrokeWidth:y,className:E="",children:A,...C},R)=>_e.createElement("svg",{ref:R,...jm,width:f,height:f,stroke:c,strokeWidth:y?Number(g)*24/Number(f):g,className:["lucide",`lucide-${Um(e)}`,E].join(" "),...C},[...n.map(([O,H])=>_e.createElement(O,H)),...Array.isArray(A)?A:[A]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=Ft("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=Ft("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=Ft("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=Ft("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=Ft("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=Ft("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=Ft("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=Ft("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=Ft("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=Ft("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=Ft("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=Ft("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=Ft("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=Ft("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=Ft("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=Ft("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=Ft("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=Ft("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=Ft("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=Ft("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=Ft("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=Ft("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);function H1(e,n){const s=_e.useRef(n);_e.useEffect(function(){n!==s.current&&e.attributionControl!=null&&(s.current!=null&&e.attributionControl.removeAttribution(s.current),n!=null&&e.attributionControl.addAttribution(n)),s.current=n},[e,n])}const rx=1;function sx(e){return Object.freeze({__version:rx,map:e})}function V1(e,n){return Object.freeze({...e,...n})}const Z1=_e.createContext(null),W1=Z1.Provider;function tu(){const e=_e.useContext(Z1);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function G1(e){function n(s,c){const{instance:f,context:g}=e(s).current;return _e.useImperativeHandle(c,()=>f),s.children==null?null:hl.createElement(W1,{value:g},s.children)}return _e.forwardRef(n)}function ox(e){function n(s,c){const[f,g]=_e.useState(!1),{instance:y}=e(s,g).current;_e.useImperativeHandle(c,()=>y),_e.useEffect(function(){f&&y.update()},[y,f,s.children]);const E=y._contentNode;return E?z1.createPortal(s.children,E):null}return _e.forwardRef(n)}function ax(e){function n(s,c){const{instance:f}=e(s).current;return _e.useImperativeHandle(c,()=>f),null}return _e.forwardRef(n)}function kh(e,n){const s=_e.useRef();_e.useEffect(function(){return n!=null&&e.instance.on(n),s.current=n,function(){s.current!=null&&e.instance.off(s.current),s.current=null}},[e,n])}function nu(e,n){const s=e.pane??n.pane;return s?{...e,pane:s}:e}function lx(e,n){return function(c,f){const g=tu(),y=e(nu(c,g),g);return H1(g.map,c.attribution),kh(y.current,c.eventHandlers),n(y.current,g,c,f),y}}var Bc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,n){(function(s,c){c(n)})(Os,function(s){var c="1.9.4";function f(r){var u,p,_,v;for(p=1,_=arguments.length;p<_;p++){v=arguments[p];for(u in v)r[u]=v[u]}return r}var g=Object.create||function(){function r(){}return function(u){return r.prototype=u,new r}}();function y(r,u){var p=Array.prototype.slice;if(r.bind)return r.bind.apply(r,p.call(arguments,1));var _=p.call(arguments,2);return function(){return r.apply(u,_.length?_.concat(p.call(arguments)):arguments)}}var E=0;function A(r){return"_leaflet_id"in r||(r._leaflet_id=++E),r._leaflet_id}function C(r,u,p){var _,v,b,B;return B=function(){_=!1,v&&(b.apply(p,v),v=!1)},b=function(){_?v=arguments:(r.apply(p,arguments),setTimeout(B,u),_=!0)},b}function R(r,u,p){var _=u[1],v=u[0],b=_-v;return r===_&&p?r:((r-v)%b+b)%b+v}function O(){return!1}function H(r,u){if(u===!1)return r;var p=Math.pow(10,u===void 0?6:u);return Math.round(r*p)/p}function X(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function ee(r){return X(r).split(/\s+/)}function U(r,u){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?g(r.options):{});for(var p in u)r.options[p]=u[p];return r.options}function ye(r,u,p){var _=[];for(var v in r)_.push(encodeURIComponent(p?v.toUpperCase():v)+"="+encodeURIComponent(r[v]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function k(r,u){return r.replace(j,function(p,_){var v=u[_];if(v===void 0)throw new Error("No value provided for variable "+p);return typeof v=="function"&&(v=v(u)),v})}var P=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function K(r,u){for(var p=0;p<r.length;p++)if(r[p]===u)return p;return-1}var de="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ne(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var V=0;function ie(r){var u=+new Date,p=Math.max(0,16-(u-V));return V=u+p,window.setTimeout(r,p)}var $=window.requestAnimationFrame||ne("RequestAnimationFrame")||ie,be=window.cancelAnimationFrame||ne("CancelAnimationFrame")||ne("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function Fe(r,u,p){if(p&&$===ie)r.call(u);else return $.call(window,y(r,u))}function Ce(r){r&&be.call(window,r)}var Ze={__proto__:null,extend:f,create:g,bind:y,get lastId(){return E},stamp:A,throttle:C,wrapNum:R,falseFn:O,formatNum:H,trim:X,splitWords:ee,setOptions:U,getParamString:ye,template:k,isArray:P,indexOf:K,emptyImageUrl:de,requestFn:$,cancelFn:be,requestAnimFrame:Fe,cancelAnimFrame:Ce};function nt(){}nt.extend=function(r){var u=function(){U(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=u.__super__=this.prototype,_=g(p);_.constructor=u,u.prototype=_;for(var v in this)Object.prototype.hasOwnProperty.call(this,v)&&v!=="prototype"&&v!=="__super__"&&(u[v]=this[v]);return r.statics&&f(u,r.statics),r.includes&&(J(r.includes),f.apply(null,[_].concat(r.includes))),f(_,r),delete _.statics,delete _.includes,_.options&&(_.options=p.options?g(p.options):{},f(_.options,r.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var b=0,B=_._initHooks.length;b<B;b++)_._initHooks[b].call(this)}},u},nt.include=function(r){var u=this.prototype.options;return f(this.prototype,r),r.options&&(this.prototype.options=u,this.mergeOptions(r.options)),this},nt.mergeOptions=function(r){return f(this.prototype.options,r),this},nt.addInitHook=function(r){var u=Array.prototype.slice.call(arguments,1),p=typeof r=="function"?r:function(){this[r].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function J(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=P(r)?r:[r];for(var u=0;u<r.length;u++)r[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var We={on:function(r,u,p){if(typeof r=="object")for(var _ in r)this._on(_,r[_],u);else{r=ee(r);for(var v=0,b=r.length;v<b;v++)this._on(r[v],u,p)}return this},off:function(r,u,p){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var _ in r)this._off(_,r[_],u);else{r=ee(r);for(var v=arguments.length===1,b=0,B=r.length;b<B;b++)v?this._off(r[b]):this._off(r[b],u,p)}return this},_on:function(r,u,p,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(r,u,p)===!1){p===this&&(p=void 0);var v={fn:u,ctx:p};_&&(v.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(v)}},_off:function(r,u,p){var _,v,b;if(this._events&&(_=this._events[r],!!_)){if(arguments.length===1){if(this._firingCount)for(v=0,b=_.length;v<b;v++)_[v].fn=O;delete this._events[r];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var B=this._listens(r,u,p);if(B!==!1){var G=_[B];this._firingCount&&(G.fn=O,this._events[r]=_=_.slice()),_.splice(B,1)}}},fire:function(r,u,p){if(!this.listens(r,p))return this;var _=f({},u,{type:r,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var v=this._events[r];if(v){this._firingCount=this._firingCount+1||1;for(var b=0,B=v.length;b<B;b++){var G=v[b],q=G.fn;G.once&&this.off(r,q,G.ctx),q.call(G.ctx||this,_)}this._firingCount--}}return p&&this._propagateEvent(_),this},listens:function(r,u,p,_){typeof r!="string"&&console.warn('"string" type argument expected');var v=u;typeof u!="function"&&(_=!!u,v=void 0,p=void 0);var b=this._events&&this._events[r];if(b&&b.length&&this._listens(r,v,p)!==!1)return!0;if(_){for(var B in this._eventParents)if(this._eventParents[B].listens(r,u,p,_))return!0}return!1},_listens:function(r,u,p){if(!this._events)return!1;var _=this._events[r]||[];if(!u)return!!_.length;p===this&&(p=void 0);for(var v=0,b=_.length;v<b;v++)if(_[v].fn===u&&_[v].ctx===p)return v;return!1},once:function(r,u,p){if(typeof r=="object")for(var _ in r)this._on(_,r[_],u,!0);else{r=ee(r);for(var v=0,b=r.length;v<b;v++)this._on(r[v],u,p,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[A(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[A(r)],this},_propagateEvent:function(r){for(var u in this._eventParents)this._eventParents[u].fire(r.type,f({layer:r.target,propagatedFrom:r.target},r),!0)}};We.addEventListener=We.on,We.removeEventListener=We.clearAllEventListeners=We.off,We.addOneTimeEventListener=We.once,We.fireEvent=We.fire,We.hasEventListeners=We.listens;var Le=nt.extend(We);function te(r,u,p){this.x=p?Math.round(r):r,this.y=p?Math.round(u):u}var Me=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};te.prototype={clone:function(){return new te(this.x,this.y)},add:function(r){return this.clone()._add(le(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(le(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new te(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new te(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Me(this.x),this.y=Me(this.y),this},distanceTo:function(r){r=le(r);var u=r.x-this.x,p=r.y-this.y;return Math.sqrt(u*u+p*p)},equals:function(r){return r=le(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=le(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+H(this.x)+", "+H(this.y)+")"}};function le(r,u,p){return r instanceof te?r:P(r)?new te(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new te(r.x,r.y):new te(r,u,p)}function re(r,u){if(r)for(var p=u?[r,u]:r,_=0,v=p.length;_<v;_++)this.extend(p[_])}re.prototype={extend:function(r){var u,p;if(!r)return this;if(r instanceof te||typeof r[0]=="number"||"x"in r)u=p=le(r);else if(r=ge(r),u=r.min,p=r.max,!u||!p)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=p.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(r){return le((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return le(this.min.x,this.max.y)},getTopRight:function(){return le(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var u,p;return typeof r[0]=="number"||r instanceof te?r=le(r):r=ge(r),r instanceof re?(u=r.min,p=r.max):u=p=r,u.x>=this.min.x&&p.x<=this.max.x&&u.y>=this.min.y&&p.y<=this.max.y},intersects:function(r){r=ge(r);var u=this.min,p=this.max,_=r.min,v=r.max,b=v.x>=u.x&&_.x<=p.x,B=v.y>=u.y&&_.y<=p.y;return b&&B},overlaps:function(r){r=ge(r);var u=this.min,p=this.max,_=r.min,v=r.max,b=v.x>u.x&&_.x<p.x,B=v.y>u.y&&_.y<p.y;return b&&B},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var u=this.min,p=this.max,_=Math.abs(u.x-p.x)*r,v=Math.abs(u.y-p.y)*r;return ge(le(u.x-_,u.y-v),le(p.x+_,p.y+v))},equals:function(r){return r?(r=ge(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function ge(r,u){return!r||r instanceof re?r:new re(r,u)}function Ue(r,u){if(r)for(var p=u?[r,u]:r,_=0,v=p.length;_<v;_++)this.extend(p[_])}Ue.prototype={extend:function(r){var u=this._southWest,p=this._northEast,_,v;if(r instanceof Qe)_=r,v=r;else if(r instanceof Ue){if(_=r._southWest,v=r._northEast,!_||!v)return this}else return r?this.extend(ue(r)||De(r)):this;return!u&&!p?(this._southWest=new Qe(_.lat,_.lng),this._northEast=new Qe(v.lat,v.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),p.lat=Math.max(v.lat,p.lat),p.lng=Math.max(v.lng,p.lng)),this},pad:function(r){var u=this._southWest,p=this._northEast,_=Math.abs(u.lat-p.lat)*r,v=Math.abs(u.lng-p.lng)*r;return new Ue(new Qe(u.lat-_,u.lng-v),new Qe(p.lat+_,p.lng+v))},getCenter:function(){return new Qe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Qe(this.getNorth(),this.getWest())},getSouthEast:function(){return new Qe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof Qe||"lat"in r?r=ue(r):r=De(r);var u=this._southWest,p=this._northEast,_,v;return r instanceof Ue?(_=r.getSouthWest(),v=r.getNorthEast()):_=v=r,_.lat>=u.lat&&v.lat<=p.lat&&_.lng>=u.lng&&v.lng<=p.lng},intersects:function(r){r=De(r);var u=this._southWest,p=this._northEast,_=r.getSouthWest(),v=r.getNorthEast(),b=v.lat>=u.lat&&_.lat<=p.lat,B=v.lng>=u.lng&&_.lng<=p.lng;return b&&B},overlaps:function(r){r=De(r);var u=this._southWest,p=this._northEast,_=r.getSouthWest(),v=r.getNorthEast(),b=v.lat>u.lat&&_.lat<p.lat,B=v.lng>u.lng&&_.lng<p.lng;return b&&B},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,u){return r?(r=De(r),this._southWest.equals(r.getSouthWest(),u)&&this._northEast.equals(r.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function De(r,u){return r instanceof Ue?r:new Ue(r,u)}function Qe(r,u,p){if(isNaN(r)||isNaN(u))throw new Error("Invalid LatLng object: ("+r+", "+u+")");this.lat=+r,this.lng=+u,p!==void 0&&(this.alt=+p)}Qe.prototype={equals:function(r,u){if(!r)return!1;r=ue(r);var p=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return p<=(u===void 0?1e-9:u)},toString:function(r){return"LatLng("+H(this.lat,r)+", "+H(this.lng,r)+")"},distanceTo:function(r){return pt.distance(this,ue(r))},wrap:function(){return pt.wrapLatLng(this)},toBounds:function(r){var u=180*r/40075017,p=u/Math.cos(Math.PI/180*this.lat);return De([this.lat-u,this.lng-p],[this.lat+u,this.lng+p])},clone:function(){return new Qe(this.lat,this.lng,this.alt)}};function ue(r,u,p){return r instanceof Qe?r:P(r)&&typeof r[0]!="object"?r.length===3?new Qe(r[0],r[1],r[2]):r.length===2?new Qe(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new Qe(r.lat,"lng"in r?r.lng:r.lon,r.alt):u===void 0?null:new Qe(r,u,p)}var Jt={latLngToPoint:function(r,u){var p=this.projection.project(r),_=this.scale(u);return this.transformation._transform(p,_)},pointToLatLng:function(r,u){var p=this.scale(u),_=this.transformation.untransform(r,p);return this.projection.unproject(_)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var u=this.projection.bounds,p=this.scale(r),_=this.transformation.transform(u.min,p),v=this.transformation.transform(u.max,p);return new re(_,v)},infinite:!1,wrapLatLng:function(r){var u=this.wrapLng?R(r.lng,this.wrapLng,!0):r.lng,p=this.wrapLat?R(r.lat,this.wrapLat,!0):r.lat,_=r.alt;return new Qe(p,u,_)},wrapLatLngBounds:function(r){var u=r.getCenter(),p=this.wrapLatLng(u),_=u.lat-p.lat,v=u.lng-p.lng;if(_===0&&v===0)return r;var b=r.getSouthWest(),B=r.getNorthEast(),G=new Qe(b.lat-_,b.lng-v),q=new Qe(B.lat-_,B.lng-v);return new Ue(G,q)}},pt=f({},Jt,{wrapLng:[-180,180],R:6371e3,distance:function(r,u){var p=Math.PI/180,_=r.lat*p,v=u.lat*p,b=Math.sin((u.lat-r.lat)*p/2),B=Math.sin((u.lng-r.lng)*p/2),G=b*b+Math.cos(_)*Math.cos(v)*B*B,q=2*Math.atan2(Math.sqrt(G),Math.sqrt(1-G));return this.R*q}}),fr=6378137,Wi={R:fr,MAX_LATITUDE:85.0511287798,project:function(r){var u=Math.PI/180,p=this.MAX_LATITUDE,_=Math.max(Math.min(p,r.lat),-p),v=Math.sin(_*u);return new te(this.R*r.lng*u,this.R*Math.log((1+v)/(1-v))/2)},unproject:function(r){var u=180/Math.PI;return new Qe((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*u,r.x*u/this.R)},bounds:function(){var r=fr*Math.PI;return new re([-r,-r],[r,r])}()};function $t(r,u,p,_){if(P(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=u,this._c=p,this._d=_}$t.prototype={transform:function(r,u){return this._transform(r.clone(),u)},_transform:function(r,u){return u=u||1,r.x=u*(this._a*r.x+this._b),r.y=u*(this._c*r.y+this._d),r},untransform:function(r,u){return u=u||1,new te((r.x/u-this._b)/this._a,(r.y/u-this._d)/this._c)}};function Oi(r,u,p,_){return new $t(r,u,p,_)}var qe=f({},pt,{code:"EPSG:3857",projection:Wi,transformation:function(){var r=.5/(Math.PI*Wi.R);return Oi(r,.5,-r,.5)}()}),dr=f({},qe,{code:"EPSG:900913"});function jn(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function gr(r,u){var p="",_,v,b,B,G,q;for(_=0,b=r.length;_<b;_++){for(G=r[_],v=0,B=G.length;v<B;v++)q=G[v],p+=(v?"L":"M")+q.x+" "+q.y;p+=u?Te.svg?"z":"x":""}return p||"M0 0"}var zt=document.documentElement.style,ot="ActiveXObject"in window,Je=ot&&!document.addEventListener,Xr="msLaunchUri"in navigator&&!("documentMode"in document),Se=Ct("webkit"),Qr=Ct("android"),lo=Ct("android 2")||Ct("android 3"),pi=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),uo=Qr&&Ct("Google")&&pi<537&&!("AudioNode"in window),Cn=!!window.opera,co=!Xr&&Ct("chrome"),mi=Ct("gecko")&&!Se&&!Cn&&!ot,cn=!co&&Ct("safari"),ho=Ct("phantom"),Kr="OTransition"in zt,su=navigator.platform.indexOf("Win")===0,bt=ot&&"transition"in zt,pe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!lo,kt="MozPerspective"in zt,ut=!window.L_DISABLE_3D&&(bt||pe||kt)&&!Kr&&!ho,dt=typeof orientation<"u"||Ct("mobile"),qr=dt&&Se,fo=dt&&pe,go=!window.PointerEvent&&window.MSPointerEvent,et=!!(window.PointerEvent||go),Li="ontouchstart"in window||!!window.TouchEvent,Ca=!window.L_NO_TOUCH&&(Li||et),Ea=dt&&Cn,Un=dt&&mi,po=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,en=function(){var r=!1;try{var u=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",O,u),window.removeEventListener("testPassiveEventSupport",O,u)}catch{}return r}(),pr=function(){return!!document.createElement("canvas").getContext}(),mr=!!(document.createElementNS&&jn("svg").createSVGRect),ei=!!mr&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ou=!mr&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var u=r.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),Gi=navigator.platform.indexOf("Mac")===0,mo=navigator.platform.indexOf("Linux")===0;function Ct(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Te={ie:ot,ielt9:Je,edge:Xr,webkit:Se,android:Qr,android23:lo,androidStock:uo,opera:Cn,chrome:co,gecko:mi,safari:cn,phantom:ho,opera12:Kr,win:su,ie3d:bt,webkit3d:pe,gecko3d:kt,any3d:ut,mobile:dt,mobileWebkit:qr,mobileWebkit3d:fo,msPointer:go,pointer:et,touch:Ca,touchNative:Li,mobileOpera:Ea,mobileGecko:Un,retina:po,passiveEvents:en,canvas:pr,svg:mr,vml:ou,inlineSvg:ei,mac:Gi,linux:mo},En=Te.msPointer?"MSPointerDown":"pointerdown",we=Te.msPointer?"MSPointerMove":"pointermove",Yi=Te.msPointer?"MSPointerUp":"pointerup",Cs=Te.msPointer?"MSPointerCancel":"pointercancel",tn={touchstart:En,touchmove:we,touchend:Yi,touchcancel:Cs},Xi={touchstart:Di,touchmove:$r,touchend:$r,touchcancel:$r},xi={},Jr=!1;function ti(r,u,p){return u==="touchstart"&&_t(),Xi[u]?(p=Xi[u].bind(this,p),r.addEventListener(tn[u],p,!1),p):(console.warn("wrong event specified:",u),O)}function au(r,u,p){if(!tn[u]){console.warn("wrong event specified:",u);return}r.removeEventListener(tn[u],p,!1)}function lu(r){xi[r.pointerId]=r}function ni(r){xi[r.pointerId]&&(xi[r.pointerId]=r)}function nn(r){delete xi[r.pointerId]}function _t(){Jr||(document.addEventListener(En,lu,!0),document.addEventListener(we,ni,!0),document.addEventListener(Yi,nn,!0),document.addEventListener(Cs,nn,!0),Jr=!0)}function $r(r,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var p in xi)u.touches.push(xi[p]);u.changedTouches=[u],r(u)}}function Di(r,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Yt(u),$r(r,u)}function xo(r){var u={},p,_;for(_ in r)p=r[_],u[_]=p&&p.bind?p.bind(r):p;return r=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var se=200;function uu(r,u){r.addEventListener("dblclick",u);var p=0,_;function v(b){if(b.detail!==1){_=b.detail;return}if(!(b.pointerType==="mouse"||b.sourceCapabilities&&!b.sourceCapabilities.firesTouchEvents)){var B=_r(b);if(!(B.some(function(q){return q instanceof HTMLLabelElement&&q.attributes.for})&&!B.some(function(q){return q instanceof HTMLInputElement||q instanceof HTMLSelectElement}))){var G=Date.now();G-p<=se?(_++,_===2&&u(xo(b))):_=1,p=G}}}return r.addEventListener("click",v),{dblclick:u,simDblclick:v}}function It(r,u){r.removeEventListener("dblclick",u.dblclick),r.removeEventListener("click",u.simDblclick)}var Ri=W(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),es=W(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),it=es==="webkitTransition"||es==="OTransition"?es+"End":"transitionend";function tt(r){return typeof r=="string"?document.getElementById(r):r}function je(r,u){var p=r.style[u]||r.currentStyle&&r.currentStyle[u];if((!p||p==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(r,null);p=_?_[u]:null}return p==="auto"?null:p}function Ke(r,u,p){var _=document.createElement(r);return _.className=u||"",p&&p.appendChild(_),_}function mt(r){var u=r.parentNode;u&&u.removeChild(r)}function xr(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function yt(r){var u=r.parentNode;u&&u.lastChild!==r&&u.appendChild(r)}function An(r){var u=r.parentNode;u&&u.firstChild!==r&&u.insertBefore(r,u.firstChild)}function _o(r,u){if(r.classList!==void 0)return r.classList.contains(u);var p=_i(r);return p.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(p)}function Ie(r,u){if(r.classList!==void 0)for(var p=ee(u),_=0,v=p.length;_<v;_++)r.classList.add(p[_]);else if(!_o(r,u)){var b=_i(r);yo(r,(b?b+" ":"")+u)}}function at(r,u){r.classList!==void 0?r.classList.remove(u):yo(r,X((" "+_i(r)+" ").replace(" "+u+" "," ")))}function yo(r,u){r.className.baseVal===void 0?r.className=u:r.className.baseVal=u}function _i(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function He(r,u){"opacity"in r.style?r.style.opacity=u:"filter"in r.style&&rn(r,u)}function rn(r,u){var p=!1,_="DXImageTransform.Microsoft.Alpha";try{p=r.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),p?(p.Enabled=u!==100,p.Opacity=u):r.style.filter+=" progid:"+_+"(opacity="+u+")"}function W(r){for(var u=document.documentElement.style,p=0;p<r.length;p++)if(r[p]in u)return r[p];return!1}function M(r,u,p){var _=u||new te(0,0);r.style[Ri]=(Te.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(p?" scale("+p+")":"")}function me(r,u){r._leaflet_pos=u,Te.any3d?M(r,u):(r.style.left=u.x+"px",r.style.top=u.y+"px")}function wt(r){return r._leaflet_pos||new te(0,0)}var sn,ts,ns;if("onselectstart"in document)sn=function(){ke(window,"selectstart",Yt)},ts=function(){xe(window,"selectstart",Yt)};else{var on=W(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);sn=function(){if(on){var r=document.documentElement.style;ns=r[on],r[on]="none"}},ts=function(){on&&(document.documentElement.style[on]=ns,ns=void 0)}}function Ne(){ke(window,"dragstart",Yt)}function xt(){xe(window,"dragstart",Yt)}var is,wo;function rs(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Qi(),is=r,wo=r.style.outlineStyle,r.style.outlineStyle="none",ke(window,"keydown",Qi))}function Qi(){is&&(is.style.outlineStyle=wo,is=void 0,wo=void 0,xe(window,"keydown",Qi))}function Es(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function vo(r){var u=r.getBoundingClientRect();return{x:u.width/r.offsetWidth||1,y:u.height/r.offsetHeight||1,boundingClientRect:u}}var Ht={__proto__:null,TRANSFORM:Ri,TRANSITION:es,TRANSITION_END:it,get:tt,getStyle:je,create:Ke,remove:mt,empty:xr,toFront:yt,toBack:An,hasClass:_o,addClass:Ie,removeClass:at,setClass:yo,getClass:_i,setOpacity:He,testProp:W,setTransform:M,setPosition:me,getPosition:wt,get disableTextSelection(){return sn},get enableTextSelection(){return ts},disableImageDrag:Ne,enableImageDrag:xt,preventOutline:rs,restoreOutline:Qi,getSizedParentNode:Es,getScale:vo};function ke(r,u,p,_){if(u&&typeof u=="object")for(var v in u)jt(r,v,u[v],p);else{u=ee(u);for(var b=0,B=u.length;b<B;b++)jt(r,u[b],p,_)}return this}var Gt="_leaflet_events";function xe(r,u,p,_){if(arguments.length===1)Aa(r),delete r[Gt];else if(u&&typeof u=="object")for(var v in u)Co(r,v,u[v],p);else if(u=ee(u),arguments.length===2)Aa(r,function(G){return K(u,G)!==-1});else for(var b=0,B=u.length;b<B;b++)Co(r,u[b],p,_);return this}function Aa(r,u){for(var p in r[Gt]){var _=p.split(/\d/)[0];(!u||u(_))&&Co(r,_,null,null,p)}}var Pe={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function jt(r,u,p,_){var v=u+A(p)+(_?"_"+A(_):"");if(r[Gt]&&r[Gt][v])return this;var b=function(G){return p.call(_||r,G||window.event)},B=b;!Te.touchNative&&Te.pointer&&u.indexOf("touch")===0?b=ti(r,u,b):Te.touch&&u==="dblclick"?b=uu(r,b):"addEventListener"in r?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?r.addEventListener(Pe[u]||u,b,Te.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(b=function(G){G=G||window.event,Ki(r,G)&&B(G)},r.addEventListener(Pe[u],b,!1)):r.addEventListener(u,B,!1):r.attachEvent("on"+u,b),r[Gt]=r[Gt]||{},r[Gt][v]=b}function Co(r,u,p,_,v){v=v||u+A(p)+(_?"_"+A(_):"");var b=r[Gt]&&r[Gt][v];if(!b)return this;!Te.touchNative&&Te.pointer&&u.indexOf("touch")===0?au(r,u,b):Te.touch&&u==="dblclick"?It(r,b):"removeEventListener"in r?r.removeEventListener(Pe[u]||u,b,!1):r.detachEvent("on"+u,b),r[Gt][v]=null}function yi(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function As(r){return jt(r,"wheel",yi),this}function Hn(r){return ke(r,"mousedown touchstart dblclick contextmenu",yi),r._leaflet_disable_click=!0,this}function Yt(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function Vn(r){return Yt(r),yi(r),this}function _r(r){if(r.composedPath)return r.composedPath();for(var u=[],p=r.target;p;)u.push(p),p=p.parentNode;return u}function yr(r,u){if(!u)return new te(r.clientX,r.clientY);var p=vo(u),_=p.boundingClientRect;return new te((r.clientX-_.left)/p.x-u.clientLeft,(r.clientY-_.top)/p.y-u.clientTop)}var Sa=Te.linux&&Te.chrome?window.devicePixelRatio:Te.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function wr(r){return Te.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Sa:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Ki(r,u){var p=u.relatedTarget;if(!p)return!0;try{for(;p&&p!==r;)p=p.parentNode}catch{return!1}return p!==r}var gn={__proto__:null,on:ke,off:xe,stopPropagation:yi,disableScrollPropagation:As,disableClickPropagation:Hn,preventDefault:Yt,stop:Vn,getPropagationPath:_r,getMousePosition:yr,getWheelDelta:wr,isExternalTarget:Ki,addListener:ke,removeListener:xe},Eo=Le.extend({run:function(r,u,p,_){this.stop(),this._el=r,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=wt(r),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Fe(this._animate,this),this._step()},_step:function(r){var u=+new Date-this._startTime,p=this._duration*1e3;u<p?this._runFrame(this._easeOut(u/p),r):(this._runFrame(1),this._complete())},_runFrame:function(r,u){var p=this._startPos.add(this._offset.multiplyBy(r));u&&p._round(),me(this._el,p),this.fire("step")},_complete:function(){Ce(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Ye=Le.extend({options:{crs:qe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,u){u=U(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=y(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(ue(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=es&&Te.any3d&&!Te.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ke(this._proxy,it,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,u,p){if(u=u===void 0?this._zoom:this._limitZoom(u),r=this._limitCenter(ue(r),u,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=f({animate:p.animate},p.zoom),p.pan=f({animate:p.animate,duration:p.duration},p.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,u,p.zoom):this._tryAnimatedPan(r,p.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(r,u,p.pan&&p.pan.noMoveStart),this},setZoom:function(r,u){return this._loaded?this.setView(this.getCenter(),r,{zoom:u}):(this._zoom=r,this)},zoomIn:function(r,u){return r=r||(Te.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,u)},zoomOut:function(r,u){return r=r||(Te.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,u)},setZoomAround:function(r,u,p){var _=this.getZoomScale(u),v=this.getSize().divideBy(2),b=r instanceof te?r:this.latLngToContainerPoint(r),B=b.subtract(v).multiplyBy(1-1/_),G=this.containerPointToLatLng(v.add(B));return this.setView(G,u,{zoom:p})},_getBoundsCenterZoom:function(r,u){u=u||{},r=r.getBounds?r.getBounds():De(r);var p=le(u.paddingTopLeft||u.padding||[0,0]),_=le(u.paddingBottomRight||u.padding||[0,0]),v=this.getBoundsZoom(r,!1,p.add(_));if(v=typeof u.maxZoom=="number"?Math.min(u.maxZoom,v):v,v===1/0)return{center:r.getCenter(),zoom:v};var b=_.subtract(p).divideBy(2),B=this.project(r.getSouthWest(),v),G=this.project(r.getNorthEast(),v),q=this.unproject(B.add(G).divideBy(2).add(b),v);return{center:q,zoom:v}},fitBounds:function(r,u){if(r=De(r),!r.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(r,u);return this.setView(p.center,p.zoom,u)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,u){return this.setView(r,this._zoom,{pan:u})},panBy:function(r,u){if(r=le(r).round(),u=u||{},!r.x&&!r.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Eo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Ie(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,p,u.duration||.25,u.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,u,p){if(p=p||{},p.animate===!1||!Te.any3d)return this.setView(r,u,p);this._stop();var _=this.project(this.getCenter()),v=this.project(r),b=this.getSize(),B=this._zoom;r=ue(r),u=u===void 0?B:u;var G=Math.max(b.x,b.y),q=G*this.getZoomScale(B,u),oe=v.distanceTo(_)||1,ve=1.42,Re=ve*ve;function Ge(Zt){var Da=Zt?-1:1,hg=Zt?q:G,fg=q*q-G*G+Da*Re*Re*oe*oe,dg=2*hg*Re*oe,mu=fg/dg,ef=Math.sqrt(mu*mu+1)-mu,gg=ef<1e-9?-18:Math.log(ef);return gg}function Nn(Zt){return(Math.exp(Zt)-Math.exp(-Zt))/2}function an(Zt){return(Math.exp(Zt)+Math.exp(-Zt))/2}function li(Zt){return Nn(Zt)/an(Zt)}var Rn=Ge(0);function bs(Zt){return G*(an(Rn)/an(Rn+ve*Zt))}function ag(Zt){return G*(an(Rn)*li(Rn+ve*Zt)-Nn(Rn))/Re}function lg(Zt){return 1-Math.pow(1-Zt,1.5)}var ug=Date.now(),Jh=(Ge(1)-Rn)/ve,cg=p.duration?1e3*p.duration:1e3*Jh*.8;function $h(){var Zt=(Date.now()-ug)/cg,Da=lg(Zt)*Jh;Zt<=1?(this._flyToFrame=Fe($h,this),this._move(this.unproject(_.add(v.subtract(_).multiplyBy(ag(Da)/oe)),B),this.getScaleZoom(G/bs(Da),B),{flyTo:!0})):this._move(r,u)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),$h.call(this),this},flyToBounds:function(r,u){var p=this._getBoundsCenterZoom(r,u);return this.flyTo(p.center,p.zoom,u)},setMaxBounds:function(r){return r=De(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var u=this.options.minZoom;return this.options.minZoom=r,this._loaded&&u!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var u=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&u!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,u){this._enforcingBounds=!0;var p=this.getCenter(),_=this._limitCenter(p,this._zoom,De(r));return p.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(r,u){u=u||{};var p=le(u.paddingTopLeft||u.padding||[0,0]),_=le(u.paddingBottomRight||u.padding||[0,0]),v=this.project(this.getCenter()),b=this.project(r),B=this.getPixelBounds(),G=ge([B.min.add(p),B.max.subtract(_)]),q=G.getSize();if(!G.contains(b)){this._enforcingBounds=!0;var oe=b.subtract(G.getCenter()),ve=G.extend(b).getSize().subtract(q);v.x+=oe.x<0?-ve.x:ve.x,v.y+=oe.y<0?-ve.y:ve.y,this.panTo(this.unproject(v),u),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=f({animate:!1,pan:!0},r===!0?{animate:!0}:r);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),_=u.divideBy(2).round(),v=p.divideBy(2).round(),b=_.subtract(v);return!b.x&&!b.y?this:(r.animate&&r.pan?this.panBy(b):(r.pan&&this._rawPanBy(b),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(y(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=f({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=y(this._handleGeolocationResponse,this),p=y(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,p,r):navigator.geolocation.getCurrentPosition(u,p,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var u=r.code,p=r.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var u=r.coords.latitude,p=r.coords.longitude,_=new Qe(u,p),v=_.toBounds(r.coords.accuracy*2),b=this._locateOptions;if(b.setView){var B=this.getBoundsZoom(v);this.setView(_,b.maxZoom?Math.min(B,b.maxZoom):B)}var G={latlng:_,bounds:v,timestamp:r.timestamp};for(var q in r.coords)typeof r.coords[q]=="number"&&(G[q]=r.coords[q]);this.fire("locationfound",G)}},addHandler:function(r,u){if(!u)return this;var p=this[r]=new u(this);return this._handlers.push(p),this.options[r]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),mt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ce(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)mt(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,u){var p="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),_=Ke("div",p,u||this._mapPane);return r&&(this._panes[r]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),u=this.unproject(r.getBottomLeft()),p=this.unproject(r.getTopRight());return new Ue(u,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,u,p){r=De(r),p=le(p||[0,0]);var _=this.getZoom()||0,v=this.getMinZoom(),b=this.getMaxZoom(),B=r.getNorthWest(),G=r.getSouthEast(),q=this.getSize().subtract(p),oe=ge(this.project(G,_),this.project(B,_)).getSize(),ve=Te.any3d?this.options.zoomSnap:1,Re=q.x/oe.x,Ge=q.y/oe.y,Nn=u?Math.max(Re,Ge):Math.min(Re,Ge);return _=this.getScaleZoom(Nn,_),ve&&(_=Math.round(_/(ve/100))*(ve/100),_=u?Math.ceil(_/ve)*ve:Math.floor(_/ve)*ve),Math.max(v,Math.min(b,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new te(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,u){var p=this._getTopLeftPoint(r,u);return new re(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,u){var p=this.options.crs;return u=u===void 0?this._zoom:u,p.scale(r)/p.scale(u)},getScaleZoom:function(r,u){var p=this.options.crs;u=u===void 0?this._zoom:u;var _=p.zoom(r*p.scale(u));return isNaN(_)?1/0:_},project:function(r,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(ue(r),u)},unproject:function(r,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(le(r),u)},layerPointToLatLng:function(r){var u=le(r).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(r){var u=this.project(ue(r))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(ue(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(De(r))},distance:function(r,u){return this.options.crs.distance(ue(r),ue(u))},containerPointToLayerPoint:function(r){return le(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return le(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var u=this.containerPointToLayerPoint(le(r));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ue(r)))},mouseEventToContainerPoint:function(r){return yr(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var u=this._container=tt(r);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ke(u,"scroll",this._onScroll,this),this._containerId=A(u)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Te.any3d,Ie(r,"leaflet-container"+(Te.touch?" leaflet-touch":"")+(Te.retina?" leaflet-retina":"")+(Te.ielt9?" leaflet-oldie":"")+(Te.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=je(r,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),me(this._mapPane,new te(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ie(r.markerPane,"leaflet-zoom-hide"),Ie(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,u,p){me(this._mapPane,new te(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var v=this._zoom!==u;this._moveStart(v,p)._move(r,u)._moveEnd(v),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(r,u){return r&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(r,u,p,_){u===void 0&&(u=this._zoom);var v=this._zoom!==u;return this._zoom=u,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),_?p&&p.pinch&&this.fire("zoom",p):((v||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ce(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){me(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[A(this._container)]=this;var u=r?xe:ke;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Te.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ce(this._resizeRequest),this._resizeRequest=Fe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,u){for(var p=[],_,v=u==="mouseout"||u==="mouseover",b=r.target||r.srcElement,B=!1;b;){if(_=this._targets[A(b)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){B=!0;break}if(_&&_.listens(u,!0)&&(v&&!Ki(b,r)||(p.push(_),v))||b===this._container)break;b=b.parentNode}return!p.length&&!B&&!v&&this.listens(u,!0)&&(p=[this]),p},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var u=r.target||r.srcElement;if(!(!this._loaded||u._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(u))){var p=r.type;p==="mousedown"&&rs(u),this._fireDOMEvent(r,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,u,p){if(r.type==="click"){var _=f({},r);_.type="preclick",this._fireDOMEvent(_,_.type,p)}var v=this._findEventTargets(r,u);if(p){for(var b=[],B=0;B<p.length;B++)p[B].listens(u,!0)&&b.push(p[B]);v=b.concat(v)}if(v.length){u==="contextmenu"&&Yt(r);var G=v[0],q={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var oe=G.getLatLng&&(!G._radius||G._radius<=10);q.containerPoint=oe?this.latLngToContainerPoint(G.getLatLng()):this.mouseEventToContainerPoint(r),q.layerPoint=this.containerPointToLayerPoint(q.containerPoint),q.latlng=oe?G.getLatLng():this.layerPointToLatLng(q.layerPoint)}for(B=0;B<v.length;B++)if(v[B].fire(u,q,!0),q.originalEvent._stopped||v[B].options.bubblingMouseEvents===!1&&K(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,u=this._handlers.length;r<u;r++)this._handlers[r].disable()},whenReady:function(r,u){return this._loaded?r.call(u||this,{target:this}):this.on("load",r,u),this},_getMapPanePos:function(){return wt(this._mapPane)||new te(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,u){var p=r&&u!==void 0?this._getNewPixelOrigin(r,u):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,u){var p=this.getSize()._divideBy(2);return this.project(r,u)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,u,p){var _=this._getNewPixelOrigin(p,u);return this.project(r,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(r,u,p){var _=this._getNewPixelOrigin(p,u);return ge([this.project(r.getSouthWest(),u)._subtract(_),this.project(r.getNorthWest(),u)._subtract(_),this.project(r.getSouthEast(),u)._subtract(_),this.project(r.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,u,p){if(!p)return r;var _=this.project(r,u),v=this.getSize().divideBy(2),b=new re(_.subtract(v),_.add(v)),B=this._getBoundsOffset(b,p,u);return Math.abs(B.x)<=1&&Math.abs(B.y)<=1?r:this.unproject(_.add(B),u)},_limitOffset:function(r,u){if(!u)return r;var p=this.getPixelBounds(),_=new re(p.min.add(r),p.max.add(r));return r.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(r,u,p){var _=ge(this.project(u.getNorthEast(),p),this.project(u.getSouthWest(),p)),v=_.min.subtract(r.min),b=_.max.subtract(r.max),B=this._rebound(v.x,-b.x),G=this._rebound(v.y,-b.y);return new te(B,G)},_rebound:function(r,u){return r+u>0?Math.round(r-u)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(u))},_limitZoom:function(r){var u=this.getMinZoom(),p=this.getMaxZoom(),_=Te.any3d?this.options.zoomSnap:1;return _&&(r=Math.round(r/_)*_),Math.max(u,Math.min(p,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){at(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,u){var p=this._getCenterOffset(r)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,u),!0)},_createAnimProxy:function(){var r=this._proxy=Ke("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(u){var p=Ri,_=this._proxy.style[p];M(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){mt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),u=this.getZoom();M(this._proxy,this.project(r,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,u,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),v=this._getCenterOffset(r)._divideBy(1-1/_);return p.animate!==!0&&!this.getSize().contains(v)?!1:(Fe(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(r,u,!0)},this),!0)},_animateZoom:function(r,u,p,_){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=u,Ie(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(y(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&at(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ta(r,u){return new Ye(r,u)}var Zn=nt.extend({options:{position:"topright"},initialize:function(r){U(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var u=this._map;return u&&u.removeControl(this),this.options.position=r,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var u=this._container=this.onAdd(r),p=this.getPosition(),_=r._controlCorners[p];return Ie(u,"leaflet-control"),p.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(mt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),ss=function(r){return new Zn(r)};Ye.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},u="leaflet-",p=this._controlContainer=Ke("div",u+"control-container",this._container);function _(v,b){var B=u+v+" "+u+b;r[v+b]=Ke("div",B,p)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)mt(this._controlCorners[r]);mt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ia=Zn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,u,p,_){return p<_?-1:_<p?1:0}},initialize:function(r,u,p){U(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in r)this._addLayer(r[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Zn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,u){return this._addLayer(r,u),this._map?this._update():this},addOverlay:function(r,u){return this._addLayer(r,u,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var u=this._getLayer(A(r));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Ie(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Ie(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):at(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return at(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",u=this._container=Ke("div",r),p=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Hn(u),As(u);var _=this._section=Ke("section",r+"-list");p&&(this._map.on("click",this.collapse,this),ke(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var v=this._layersLink=Ke("a",r+"-toggle",u);v.href="#",v.title="Layers",v.setAttribute("role","button"),ke(v,{keydown:function(b){b.keyCode===13&&this._expandSafely()},click:function(b){Yt(b),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=Ke("div",r+"-base",_),this._separator=Ke("div",r+"-separator",_),this._overlaysList=Ke("div",r+"-overlays",_),u.appendChild(_)},_getLayer:function(r){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&A(this._layers[u].layer)===r)return this._layers[u]},_addLayer:function(r,u,p){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:u,overlay:p}),this.options.sortLayers&&this._layers.sort(y(function(_,v){return this.options.sortFunction(_.layer,v.layer,_.name,v.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;xr(this._baseLayersList),xr(this._overlaysList),this._layerControlInputs=[];var r,u,p,_,v=0;for(p=0;p<this._layers.length;p++)_=this._layers[p],this._addItem(_),u=u||_.overlay,r=r||!_.overlay,v+=_.overlay?0:1;return this.options.hideSingleBase&&(r=r&&v>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=u&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var u=this._getLayer(A(r.target)),p=u.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;p&&this._map.fire(p,u)},_createRadioElement:function(r,u){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=p,_.firstChild},_addItem:function(r){var u=document.createElement("label"),p=this._map.hasLayer(r.layer),_;r.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=p):_=this._createRadioElement("leaflet-base-layers_"+A(this),p),this._layerControlInputs.push(_),_.layerId=A(r.layer),ke(_,"click",this._onInputClick,this);var v=document.createElement("span");v.innerHTML=" "+r.name;var b=document.createElement("span");u.appendChild(b),b.appendChild(_),b.appendChild(v);var B=r.overlay?this._overlaysList:this._baseLayersList;return B.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,u,p,_=[],v=[];this._handlingClick=!0;for(var b=r.length-1;b>=0;b--)u=r[b],p=this._getLayer(u.layerId).layer,u.checked?_.push(p):u.checked||v.push(p);for(b=0;b<v.length;b++)this._map.hasLayer(v[b])&&this._map.removeLayer(v[b]);for(b=0;b<_.length;b++)this._map.hasLayer(_[b])||this._map.addLayer(_[b]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,u,p,_=this._map.getZoom(),v=r.length-1;v>=0;v--)u=r[v],p=this._getLayer(u.layerId).layer,u.disabled=p.options.minZoom!==void 0&&_<p.options.minZoom||p.options.maxZoom!==void 0&&_>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,ke(r,"click",Yt),this.expand();var u=this;setTimeout(function(){xe(r,"click",Yt),u._preventClick=!1})}}),lt=function(r,u,p){return new Ia(r,u,p)},Ss=Zn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var u="leaflet-control-zoom",p=Ke("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",p,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,u,p,_,v){var b=Ke("a",p,_);return b.innerHTML=r,b.href="#",b.title=u,b.setAttribute("role","button"),b.setAttribute("aria-label",u),Hn(b),ke(b,"click",Vn),ke(b,"click",v,this),ke(b,"click",this._refocusOnMap,this),b},_updateDisabled:function(){var r=this._map,u="leaflet-disabled";at(this._zoomInButton,u),at(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Ie(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Ie(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ye.mergeOptions({zoomControl:!0}),Ye.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ss,this.addControl(this.zoomControl))});var Ts=function(r){return new Ss(r)},wi=Zn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var u="leaflet-control-scale",p=Ke("div",u),_=this.options;return this._addScales(_,u+"-line",p),r.on(_.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),p},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,u,p){r.metric&&(this._mScale=Ke("div",u,p)),r.imperial&&(this._iScale=Ke("div",u,p))},_update:function(){var r=this._map,u=r.getSize().y/2,p=r.distance(r.containerPointToLatLng([0,u]),r.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(p)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var u=this._getRoundNum(r),p=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,p,u/r)},_updateImperial:function(r){var u=r*3.2808399,p,_,v;u>5280?(p=u/5280,_=this._getRoundNum(p),this._updateScale(this._iScale,_+" mi",_/p)):(v=this._getRoundNum(u),this._updateScale(this._iScale,v+" ft",v/u))},_updateScale:function(r,u,p){r.style.width=Math.round(this.options.maxWidth*p)+"px",r.innerHTML=u},_getRoundNum:function(r){var u=Math.pow(10,(Math.floor(r)+"").length-1),p=r/u;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,u*p}}),cu=function(r){return new wi(r)},Q='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ze=Zn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Te.inlineSvg?Q+" ":"")+"Leaflet</a>"},initialize:function(r){U(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=Ke("div","leaflet-control-attribution"),Hn(this._container);for(var u in r._layers)r._layers[u].getAttribution&&this.addAttribution(r._layers[u].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var u in this._attributions)this._attributions[u]&&r.push(u);var p=[];this.options.prefix&&p.push(this.options.prefix),r.length&&p.push(r.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});Ye.mergeOptions({attributionControl:!0}),Ye.addInitHook(function(){this.options.attributionControl&&new ze().addTo(this)});var Xt=function(r){return new ze(r)};Zn.Layers=Ia,Zn.Zoom=Ss,Zn.Scale=wi,Zn.Attribution=ze,ss.layers=lt,ss.zoom=Ts,ss.scale=cu,ss.attribution=Xt;var Sn=nt.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Sn.addTo=function(r,u){return r.addHandler(u,this),this};var Na={Events:We},ba=Te.touch?"touchstart mousedown":"mousedown",ki=Le.extend({options:{clickTolerance:3},initialize:function(r,u,p,_){U(this,_),this._element=r,this._dragStartTarget=u||r,this._preventOutline=p},enable:function(){this._enabled||(ke(this._dragStartTarget,ba,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ki._dragging===this&&this.finishDrag(!0),xe(this._dragStartTarget,ba,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!_o(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){ki._dragging===this&&this.finishDrag();return}if(!(ki._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(ki._dragging=this,this._preventOutline&&rs(this._element),Ne(),sn(),!this._moving)){this.fire("down");var u=r.touches?r.touches[0]:r,p=Es(this._element);this._startPoint=new te(u.clientX,u.clientY),this._startPos=wt(this._element),this._parentScale=vo(p);var _=r.type==="mousedown";ke(document,_?"mousemove":"touchmove",this._onMove,this),ke(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var u=r.touches&&r.touches.length===1?r.touches[0]:r,p=new te(u.clientX,u.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,Yt(r),this._moved||(this.fire("dragstart"),this._moved=!0,Ie(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ie(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),me(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){at(document.body,"leaflet-dragging"),this._lastTarget&&(at(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),xe(document,"mousemove touchmove",this._onMove,this),xe(document,"mouseup touchend touchcancel",this._onUp,this),xt(),ts();var u=this._moved&&this._moving;this._moving=!1,ki._dragging=!1,u&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Ma(r,u,p){var _,v=[1,4,2,8],b,B,G,q,oe,ve,Re,Ge;for(b=0,ve=r.length;b<ve;b++)r[b]._code=Ji(r[b],u);for(G=0;G<4;G++){for(Re=v[G],_=[],b=0,ve=r.length,B=ve-1;b<ve;B=b++)q=r[b],oe=r[B],q._code&Re?oe._code&Re||(Ge=vi(oe,q,Re,u,p),Ge._code=Ji(Ge,u),_.push(Ge)):(oe._code&Re&&(Ge=vi(oe,q,Re,u,p),Ge._code=Ji(Ge,u),_.push(Ge)),_.push(q));r=_}return r}function Is(r,u){var p,_,v,b,B,G,q,oe,ve;if(!r||r.length===0)throw new Error("latlngs not passed");Tn(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Re=ue([0,0]),Ge=De(r),Nn=Ge.getNorthWest().distanceTo(Ge.getSouthWest())*Ge.getNorthEast().distanceTo(Ge.getNorthWest());Nn<1700&&(Re=Mt(r));var an=r.length,li=[];for(p=0;p<an;p++){var Rn=ue(r[p]);li.push(u.project(ue([Rn.lat-Re.lat,Rn.lng-Re.lng])))}for(G=q=oe=0,p=0,_=an-1;p<an;_=p++)v=li[p],b=li[_],B=v.y*b.x-b.y*v.x,q+=(v.x+b.x)*B,oe+=(v.y+b.y)*B,G+=B*3;G===0?ve=li[0]:ve=[q/G,oe/G];var bs=u.unproject(le(ve));return ue([bs.lat+Re.lat,bs.lng+Re.lng])}function Mt(r){for(var u=0,p=0,_=0,v=0;v<r.length;v++){var b=ue(r[v]);u+=b.lat,p+=b.lng,_++}return ue([u/_,p/_])}var Ao={__proto__:null,clipPolygon:Ma,polygonCenter:Is,centroid:Mt};function Et(r,u){if(!u||!r.length)return r.slice();var p=u*u;return r=hu(r,p),r=ct(r,p),r}function os(r,u,p){return Math.sqrt($i(r,u,p,!0))}function qi(r,u,p){return $i(r,u,p)}function ct(r,u){var p=r.length,_=typeof Uint8Array<"u"?Uint8Array:Array,v=new _(p);v[0]=v[p-1]=1,Oe(r,v,u,0,p-1);var b,B=[];for(b=0;b<p;b++)v[b]&&B.push(r[b]);return B}function Oe(r,u,p,_,v){var b=0,B,G,q;for(G=_+1;G<=v-1;G++)q=$i(r[G],r[_],r[v],!0),q>b&&(B=G,b=q);b>p&&(u[B]=1,Oe(r,u,p,_,B),Oe(r,u,p,B,v))}function hu(r,u){for(var p=[r[0]],_=1,v=0,b=r.length;_<b;_++)ii(r[_],r[v])>u&&(p.push(r[_]),v=_);return v<b-1&&p.push(r[b-1]),p}var gt;function Pi(r,u,p,_,v){var b=_?gt:Ji(r,p),B=Ji(u,p),G,q,oe;for(gt=B;;){if(!(b|B))return[r,u];if(b&B)return!1;G=b||B,q=vi(r,u,G,p,v),oe=Ji(q,p),G===b?(r=q,b=oe):(u=q,B=oe)}}function vi(r,u,p,_,v){var b=u.x-r.x,B=u.y-r.y,G=_.min,q=_.max,oe,ve;return p&8?(oe=r.x+b*(q.y-r.y)/B,ve=q.y):p&4?(oe=r.x+b*(G.y-r.y)/B,ve=G.y):p&2?(oe=q.x,ve=r.y+B*(q.x-r.x)/b):p&1&&(oe=G.x,ve=r.y+B*(G.x-r.x)/b),new te(oe,ve,v)}function Ji(r,u){var p=0;return r.x<u.min.x?p|=1:r.x>u.max.x&&(p|=2),r.y<u.min.y?p|=4:r.y>u.max.y&&(p|=8),p}function ii(r,u){var p=u.x-r.x,_=u.y-r.y;return p*p+_*_}function $i(r,u,p,_){var v=u.x,b=u.y,B=p.x-v,G=p.y-b,q=B*B+G*G,oe;return q>0&&(oe=((r.x-v)*B+(r.y-b)*G)/q,oe>1?(v=p.x,b=p.y):oe>0&&(v+=B*oe,b+=G*oe)),B=r.x-v,G=r.y-b,_?B*B+G*G:new te(v,b)}function Tn(r){return!P(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function Ns(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Tn(r)}function So(r,u){var p,_,v,b,B,G,q,oe;if(!r||r.length===0)throw new Error("latlngs not passed");Tn(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var ve=ue([0,0]),Re=De(r),Ge=Re.getNorthWest().distanceTo(Re.getSouthWest())*Re.getNorthEast().distanceTo(Re.getNorthWest());Ge<1700&&(ve=Mt(r));var Nn=r.length,an=[];for(p=0;p<Nn;p++){var li=ue(r[p]);an.push(u.project(ue([li.lat-ve.lat,li.lng-ve.lng])))}for(p=0,_=0;p<Nn-1;p++)_+=an[p].distanceTo(an[p+1])/2;if(_===0)oe=an[0];else for(p=0,b=0;p<Nn-1;p++)if(B=an[p],G=an[p+1],v=B.distanceTo(G),b+=v,b>_){q=(b-_)/v,oe=[G.x-q*(G.x-B.x),G.y-q*(G.y-B.y)];break}var Rn=u.unproject(le(oe));return ue([Rn.lat+ve.lat,Rn.lng+ve.lng])}var Oa={__proto__:null,simplify:Et,pointToSegmentDistance:os,closestPointOnSegment:qi,clipSegment:Pi,_getEdgeIntersection:vi,_getBitCode:Ji,_sqClosestPointOnSegment:$i,isFlat:Tn,_flat:Ns,polylineCenter:So},To={project:function(r){return new te(r.lng,r.lat)},unproject:function(r){return new Qe(r.y,r.x)},bounds:new re([-180,-90],[180,90])},Bi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new re([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var u=Math.PI/180,p=this.R,_=r.lat*u,v=this.R_MINOR/p,b=Math.sqrt(1-v*v),B=b*Math.sin(_),G=Math.tan(Math.PI/4-_/2)/Math.pow((1-B)/(1+B),b/2);return _=-p*Math.log(Math.max(G,1e-10)),new te(r.lng*u*p,_)},unproject:function(r){for(var u=180/Math.PI,p=this.R,_=this.R_MINOR/p,v=Math.sqrt(1-_*_),b=Math.exp(-r.y/p),B=Math.PI/2-2*Math.atan(b),G=0,q=.1,oe;G<15&&Math.abs(q)>1e-7;G++)oe=v*Math.sin(B),oe=Math.pow((1-oe)/(1+oe),v/2),q=Math.PI/2-2*Math.atan(b*oe)-B,B+=q;return new Qe(B*u,r.x*u/p)}},Io={__proto__:null,LonLat:To,Mercator:Bi,SphericalMercator:Wi},fu=f({},pt,{code:"EPSG:3395",projection:Bi,transformation:function(){var r=.5/(Math.PI*Bi.R);return Oi(r,.5,-r,.5)}()}),vr=f({},pt,{code:"EPSG:4326",projection:To,transformation:Oi(1/180,1,-1/180,.5)}),du=f({},Jt,{projection:To,transformation:Oi(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,u){var p=u.lng-r.lng,_=u.lat-r.lat;return Math.sqrt(p*p+_*_)},infinite:!0});Jt.Earth=pt,Jt.EPSG3395=fu,Jt.EPSG3857=qe,Jt.EPSG900913=dr,Jt.EPSG4326=vr,Jt.Simple=du;var Vt=Le.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[A(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[A(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var u=r.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var p=this.getEvents();u.on(p,this),this.once("remove",function(){u.off(p,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Ye.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var u=A(r);return this._layers[u]?this:(this._layers[u]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var u=A(r);return this._layers[u]?(this._loaded&&r.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return A(r)in this._layers},eachLayer:function(r,u){for(var p in this._layers)r.call(u,this._layers[p]);return this},_addLayers:function(r){r=r?P(r)?r:[r]:[];for(var u=0,p=r.length;u<p;u++)this.addLayer(r[u])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[A(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var u=A(r);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,u=-1/0,p=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var v=this._zoomBoundLayers[_].options;r=v.minZoom===void 0?r:Math.min(r,v.minZoom),u=v.maxZoom===void 0?u:Math.max(u,v.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=r===1/0?void 0:r,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ci=Vt.extend({initialize:function(r,u){U(this,u),this._layers={};var p,_;if(r)for(p=0,_=r.length;p<_;p++)this.addLayer(r[p])},addLayer:function(r){var u=this.getLayerId(r);return this._layers[u]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var u=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(r){var u=typeof r=="number"?r:this.getLayerId(r);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var u=Array.prototype.slice.call(arguments,1),p,_;for(p in this._layers)_=this._layers[p],_[r]&&_[r].apply(_,u);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,u){for(var p in this._layers)r.call(u,this._layers[p]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return A(r)}}),Dn=function(r,u){return new Ci(r,u)},ri=Ci.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),Ci.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),Ci.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new Ue;for(var u in this._layers){var p=this._layers[u];r.extend(p.getBounds?p.getBounds():p.getLatLng())}return r}}),si=function(r,u){return new ri(r,u)},Cr=nt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){U(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,u){var p=this._getIconUrl(r);if(!p){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(p,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(r,u){var p=this.options,_=p[u+"Size"];typeof _=="number"&&(_=[_,_]);var v=le(_),b=le(u==="shadow"&&p.shadowAnchor||p.iconAnchor||v&&v.divideBy(2,!0));r.className="leaflet-marker-"+u+" "+(p.className||""),b&&(r.style.marginLeft=-b.x+"px",r.style.marginTop=-b.y+"px"),v&&(r.style.width=v.x+"px",r.style.height=v.y+"px")},_createImg:function(r,u){return u=u||document.createElement("img"),u.src=r,u},_getIconUrl:function(r){return Te.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function No(r){return new Cr(r)}var as=Cr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof as.imagePath!="string"&&(as.imagePath=this._detectIconPath()),(this.options.imagePath||as.imagePath)+Cr.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var u=function(p,_,v){var b=_.exec(p);return b&&b[v]};return r=u(r,/^url\((['"])?(.+)\1\)$/,2),r&&u(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=Ke("div","leaflet-default-icon-path",document.body),u=je(r,"background-image")||je(r,"backgroundImage");if(document.body.removeChild(r),u=this._stripUrl(u),u)return u;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),bo=Sn.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new ki(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ie(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&at(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var u=this._marker,p=u._map,_=this._marker.options.autoPanSpeed,v=this._marker.options.autoPanPadding,b=wt(u._icon),B=p.getPixelBounds(),G=p.getPixelOrigin(),q=ge(B.min._subtract(G).add(v),B.max._subtract(G).subtract(v));if(!q.contains(b)){var oe=le((Math.max(q.max.x,b.x)-q.max.x)/(B.max.x-q.max.x)-(Math.min(q.min.x,b.x)-q.min.x)/(B.min.x-q.min.x),(Math.max(q.max.y,b.y)-q.max.y)/(B.max.y-q.max.y)-(Math.min(q.min.y,b.y)-q.min.y)/(B.min.y-q.min.y)).multiplyBy(_);p.panBy(oe,{animate:!1}),this._draggable._newPos._add(oe),this._draggable._startPos._add(oe),me(u._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=Fe(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(Ce(this._panRequest),this._panRequest=Fe(this._adjustPan.bind(this,r)))},_onDrag:function(r){var u=this._marker,p=u._shadow,_=wt(u._icon),v=u._map.layerPointToLatLng(_);p&&me(p,_),u._latlng=v,r.latlng=v,r.oldLatLng=this._oldLatLng,u.fire("move",r).fire("drag",r)},_onDragEnd:function(r){Ce(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),In=Vt.extend({options:{icon:new as,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,u){U(this,u),this._latlng=ue(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var u=this._latlng;return this._latlng=ue(r),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=r.icon.createIcon(this._icon),_=!1;p!==this._icon&&(this._icon&&this._removeIcon(),_=!0,r.title&&(p.title=r.title),p.tagName==="IMG"&&(p.alt=r.alt||"")),Ie(p,u),r.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ke(p,"focus",this._panOnFocus,this);var v=r.icon.createShadow(this._shadow),b=!1;v!==this._shadow&&(this._removeShadow(),b=!0),v&&(Ie(v,u),v.alt=""),this._shadow=v,r.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),v&&b&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&xe(this._icon,"focus",this._panOnFocus,this),mt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&mt(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&me(this._icon,r),this._shadow&&me(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Ie(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),bo)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new bo(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&He(this._icon,r),this._shadow&&He(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var u=this.options.icon.options,p=u.iconSize?le(u.iconSize):le(0,0),_=u.iconAnchor?le(u.iconAnchor):le(0,0);r.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:p.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function gu(r,u){return new In(r,u)}var oi=Vt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return U(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Fi=oi.extend({options:{fill:!0,radius:10},initialize:function(r,u){U(this,u),this._latlng=ue(r),this._radius=this.options.radius},setLatLng:function(r){var u=this._latlng;return this._latlng=ue(r),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var u=r&&r.radius||this._radius;return oi.prototype.setStyle.call(this,r),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,u=this._radiusY||r,p=this._clickTolerance(),_=[r+p,u+p];this._pxBounds=new re(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function $e(r,u){return new Fi(r,u)}var Er=Fi.extend({initialize:function(r,u,p){if(typeof u=="number"&&(u=f({},p,{radius:u})),U(this,u),this._latlng=ue(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new Ue(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:oi.prototype.setStyle,_project:function(){var r=this._latlng.lng,u=this._latlng.lat,p=this._map,_=p.options.crs;if(_.distance===pt.distance){var v=Math.PI/180,b=this._mRadius/pt.R/v,B=p.project([u+b,r]),G=p.project([u-b,r]),q=B.add(G).divideBy(2),oe=p.unproject(q).lat,ve=Math.acos((Math.cos(b*v)-Math.sin(u*v)*Math.sin(oe*v))/(Math.cos(u*v)*Math.cos(oe*v)))/v;(isNaN(ve)||ve===0)&&(ve=b/Math.cos(Math.PI/180*u)),this._point=q.subtract(p.getPixelOrigin()),this._radius=isNaN(ve)?0:q.x-p.project([oe,r-ve]).x,this._radiusY=q.y-B.y}else{var Re=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(Re).x}this._updateBounds()}});function S(r,u,p){return new Er(r,u,p)}var t=oi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,u){U(this,u),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var u=1/0,p=null,_=$i,v,b,B=0,G=this._parts.length;B<G;B++)for(var q=this._parts[B],oe=1,ve=q.length;oe<ve;oe++){v=q[oe-1],b=q[oe];var Re=_(r,v,b,!0);Re<u&&(u=Re,p=_(r,v,b))}return p&&(p.distance=Math.sqrt(u)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return So(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,u){return u=u||this._defaultShape(),r=ue(r),u.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new Ue,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return Tn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var u=[],p=Tn(r),_=0,v=r.length;_<v;_++)p?(u[_]=ue(r[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(r[_]);return u},_project:function(){var r=new re;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),u=new te(r,r);this._rawPxBounds&&(this._pxBounds=new re([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(r,u,p){var _=r[0]instanceof Qe,v=r.length,b,B;if(_){for(B=[],b=0;b<v;b++)B[b]=this._map.latLngToLayerPoint(r[b]),p.extend(B[b]);u.push(B)}else for(b=0;b<v;b++)this._projectLatlngs(r[b],u,p)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,p,_,v,b,B,G,q;for(p=0,v=0,b=this._rings.length;p<b;p++)for(q=this._rings[p],_=0,B=q.length;_<B-1;_++)G=Pi(q[_],q[_+1],r,_,!0),G&&(u[v]=u[v]||[],u[v].push(G[0]),(G[1]!==q[_+1]||_===B-2)&&(u[v].push(G[1]),v++))}},_simplifyPoints:function(){for(var r=this._parts,u=this.options.smoothFactor,p=0,_=r.length;p<_;p++)r[p]=Et(r[p],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,u){var p,_,v,b,B,G,q=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(p=0,b=this._parts.length;p<b;p++)for(G=this._parts[p],_=0,B=G.length,v=B-1;_<B;v=_++)if(!(!u&&_===0)&&os(r,G[v],G[_])<=q)return!0;return!1}});function i(r,u){return new t(r,u)}t._flat=Ns;var o=t.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Is(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var u=t.prototype._convertLatLngs.call(this,r),p=u.length;return p>=2&&u[0]instanceof Qe&&u[0].equals(u[p-1])&&u.pop(),u},_setLatLngs:function(r){t.prototype._setLatLngs.call(this,r),Tn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Tn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,u=this.options.weight,p=new te(u,u);if(r=new re(r.min.subtract(p),r.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,v=this._rings.length,b;_<v;_++)b=Ma(this._rings[_],r,!0),b.length&&this._parts.push(b)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var u=!1,p,_,v,b,B,G,q,oe;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(b=0,q=this._parts.length;b<q;b++)for(p=this._parts[b],B=0,oe=p.length,G=oe-1;B<oe;G=B++)_=p[B],v=p[G],_.y>r.y!=v.y>r.y&&r.x<(v.x-_.x)*(r.y-_.y)/(v.y-_.y)+_.x&&(u=!u);return u||t.prototype._containsPoint.call(this,r,!0)}});function a(r,u){return new o(r,u)}var l=ri.extend({initialize:function(r,u){U(this,u),this._layers={},r&&this.addData(r)},addData:function(r){var u=P(r)?r:r.features,p,_,v;if(u){for(p=0,_=u.length;p<_;p++)v=u[p],(v.geometries||v.geometry||v.features||v.coordinates)&&this.addData(v);return this}var b=this.options;if(b.filter&&!b.filter(r))return this;var B=h(r,b);return B?(B.feature=D(r),B.defaultOptions=B.options,this.resetStyle(B),b.onEachFeature&&b.onEachFeature(r,B),this.addLayer(B)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=f({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(u){this._setLayerStyle(u,r)},this)},_setLayerStyle:function(r,u){r.setStyle&&(typeof u=="function"&&(u=u(r.feature)),r.setStyle(u))}});function h(r,u){var p=r.type==="Feature"?r.geometry:r,_=p?p.coordinates:null,v=[],b=u&&u.pointToLayer,B=u&&u.coordsToLatLng||m,G,q,oe,ve;if(!_&&!p)return null;switch(p.type){case"Point":return G=B(_),d(b,r,G,u);case"MultiPoint":for(oe=0,ve=_.length;oe<ve;oe++)G=B(_[oe]),v.push(d(b,r,G,u));return new ri(v);case"LineString":case"MultiLineString":return q=x(_,p.type==="LineString"?0:1,B),new t(q,u);case"Polygon":case"MultiPolygon":return q=x(_,p.type==="Polygon"?1:2,B),new o(q,u);case"GeometryCollection":for(oe=0,ve=p.geometries.length;oe<ve;oe++){var Re=h({geometry:p.geometries[oe],type:"Feature",properties:r.properties},u);Re&&v.push(Re)}return new ri(v);case"FeatureCollection":for(oe=0,ve=p.features.length;oe<ve;oe++){var Ge=h(p.features[oe],u);Ge&&v.push(Ge)}return new ri(v);default:throw new Error("Invalid GeoJSON object.")}}function d(r,u,p,_){return r?r(u,p):new In(p,_&&_.markersInheritOptions&&_)}function m(r){return new Qe(r[1],r[0],r[2])}function x(r,u,p){for(var _=[],v=0,b=r.length,B;v<b;v++)B=u?x(r[v],u-1,p):(p||m)(r[v]),_.push(B);return _}function w(r,u){return r=ue(r),r.alt!==void 0?[H(r.lng,u),H(r.lat,u),H(r.alt,u)]:[H(r.lng,u),H(r.lat,u)]}function T(r,u,p,_){for(var v=[],b=0,B=r.length;b<B;b++)v.push(u?T(r[b],Tn(r[b])?0:u-1,p,_):w(r[b],_));return!u&&p&&v.length>0&&v.push(v[0].slice()),v}function N(r,u){return r.feature?f({},r.feature,{geometry:u}):D(u)}function D(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var F={toGeoJSON:function(r){return N(this,{type:"Point",coordinates:w(this.getLatLng(),r)})}};In.include(F),Er.include(F),Fi.include(F),t.include({toGeoJSON:function(r){var u=!Tn(this._latlngs),p=T(this._latlngs,u?1:0,!1,r);return N(this,{type:(u?"Multi":"")+"LineString",coordinates:p})}}),o.include({toGeoJSON:function(r){var u=!Tn(this._latlngs),p=u&&!Tn(this._latlngs[0]),_=T(this._latlngs,p?2:u?1:0,!0,r);return u||(_=[_]),N(this,{type:(p?"Multi":"")+"Polygon",coordinates:_})}}),Ci.include({toMultiPoint:function(r){var u=[];return this.eachLayer(function(p){u.push(p.toGeoJSON(r).geometry.coordinates)}),N(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(r){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(r);var p=u==="GeometryCollection",_=[];return this.eachLayer(function(v){if(v.toGeoJSON){var b=v.toGeoJSON(r);if(p)_.push(b.geometry);else{var B=D(b);B.type==="FeatureCollection"?_.push.apply(_,B.features):_.push(B)}}}),p?N(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function z(r,u){return new l(r,u)}var Z=z,Y=Vt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,u,p){this._url=r,this._bounds=De(u),U(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ie(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){mt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&yt(this._image),this},bringToBack:function(){return this._map&&An(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=De(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",u=this._image=r?this._url:Ke("img");if(Ie(u,"leaflet-image-layer"),this._zoomAnimated&&Ie(u,"leaflet-zoom-animated"),this.options.className&&Ie(u,this.options.className),u.onselectstart=O,u.onmousemove=O,u.onload=y(this.fire,this,"load"),u.onerror=y(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(r){var u=this._map.getZoomScale(r.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;M(this._image,p,u)},_reset:function(){var r=this._image,u=new re(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=u.getSize();me(r,u.min),r.style.width=p.x+"px",r.style.height=p.y+"px"},_updateOpacity:function(){He(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),ce=function(r,u,p){return new Y(r,u,p)},he=Y.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",u=this._image=r?this._url:Ke("video");if(Ie(u,"leaflet-image-layer"),this._zoomAnimated&&Ie(u,"leaflet-zoom-animated"),this.options.className&&Ie(u,this.options.className),u.onselectstart=O,u.onmousemove=O,u.onloadeddata=y(this.fire,this,"load"),r){for(var p=u.getElementsByTagName("source"),_=[],v=0;v<p.length;v++)_.push(p[v].src);this._url=p.length>0?_:[u.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var b=0;b<this._url.length;b++){var B=Ke("source");B.src=this._url[b],u.appendChild(B)}}});function ae(r,u,p){return new he(r,u,p)}var Ve=Y.extend({_initImage:function(){var r=this._image=this._url;Ie(r,"leaflet-image-layer"),this._zoomAnimated&&Ie(r,"leaflet-zoom-animated"),this.options.className&&Ie(r,this.options.className),r.onselectstart=O,r.onmousemove=O}});function Be(r,u,p){return new Ve(r,u,p)}var At=Vt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,u){r&&(r instanceof Qe||P(r))?(this._latlng=ue(r),U(this,u)):(U(this,r),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&He(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&He(this._container,1),this.bringToFront(),this.options.interactive&&(Ie(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(He(this._container,0),this._removeTimeout=setTimeout(y(mt,void 0,this._container),200)):mt(this._container),this.options.interactive&&(at(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=ue(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&yt(this._container),this},bringToBack:function(){return this._map&&An(this._container),this},_prepareOpen:function(r){var u=this._source;if(!u._map)return!1;if(u instanceof ri){u=null;var p=this._source._layers;for(var _ in p)if(p[_]._map){u=p[_];break}if(!u)return!1;this._source=u}if(!r)if(u.getCenter)r=u.getCenter();else if(u.getLatLng)r=u.getLatLng();else if(u.getBounds)r=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")r.innerHTML=u;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),u=le(this.options.offset),p=this._getAnchor();this._zoomAnimated?me(this._container,r.add(p)):u=u.add(r).add(p);var _=this._containerBottom=-u.y,v=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=v+"px"}},_getAnchor:function(){return[0,0]}});Ye.include({_initOverlay:function(r,u,p,_){var v=u;return v instanceof r||(v=new r(_).setContent(u)),p&&v.setLatLng(p),v}}),Vt.include({_initOverlay:function(r,u,p,_){var v=p;return v instanceof r?(U(v,_),v._source=this):(v=u&&!_?u:new r(_,this),v.setContent(p)),v}});var pn=At.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,At.prototype.openOn.call(this,r)},onAdd:function(r){At.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof oi||this._source.on("preclick",yi))},onRemove:function(r){At.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof oi||this._source.off("preclick",yi))},getEvents:function(){var r=At.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",u=this._container=Ke("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=Ke("div",r+"-content-wrapper",u);if(this._contentNode=Ke("div",r+"-content",p),Hn(u),As(this._contentNode),ke(u,"contextmenu",yi),this._tipContainer=Ke("div",r+"-tip-container",u),this._tip=Ke("div",r+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Ke("a",r+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',ke(_,"click",function(v){Yt(v),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,u=r.style;u.width="",u.whiteSpace="nowrap";var p=r.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),u.width=p+1+"px",u.whiteSpace="",u.height="";var _=r.offsetHeight,v=this.options.maxHeight,b="leaflet-popup-scrolled";v&&_>v?(u.height=v+"px",Ie(r,b)):at(r,b),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),p=this._getAnchor();me(this._container,u.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,u=parseInt(je(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+u,_=this._containerWidth,v=new te(this._containerLeft,-p-this._containerBottom);v._add(wt(this._container));var b=r.layerPointToContainerPoint(v),B=le(this.options.autoPanPadding),G=le(this.options.autoPanPaddingTopLeft||B),q=le(this.options.autoPanPaddingBottomRight||B),oe=r.getSize(),ve=0,Re=0;b.x+_+q.x>oe.x&&(ve=b.x+_-oe.x+q.x),b.x-ve-G.x<0&&(ve=b.x-G.x),b.y+p+q.y>oe.y&&(Re=b.y+p-oe.y+q.y),b.y-Re-G.y<0&&(Re=b.y-G.y),(ve||Re)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([ve,Re]))}},_getAnchor:function(){return le(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),mn=function(r,u){return new pn(r,u)};Ye.mergeOptions({closePopupOnClick:!0}),Ye.include({openPopup:function(r,u,p){return this._initOverlay(pn,r,u,p).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),Vt.include({bindPopup:function(r,u){return this._popup=this._initOverlay(pn,this._popup,r,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof ri||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){Vn(r);var u=r.layer||r.target;if(this._popup._source===u&&!(u instanceof oi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=u,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var st=At.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){At.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){At.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=At.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",u=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ke("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+A(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var u,p,_=this._map,v=this._container,b=_.latLngToContainerPoint(_.getCenter()),B=_.layerPointToContainerPoint(r),G=this.options.direction,q=v.offsetWidth,oe=v.offsetHeight,ve=le(this.options.offset),Re=this._getAnchor();G==="top"?(u=q/2,p=oe):G==="bottom"?(u=q/2,p=0):G==="center"?(u=q/2,p=oe/2):G==="right"?(u=0,p=oe/2):G==="left"?(u=q,p=oe/2):B.x<b.x?(G="right",u=0,p=oe/2):(G="left",u=q+(ve.x+Re.x)*2,p=oe/2),r=r.subtract(le(u,p,!0)).add(ve).add(Re),at(v,"leaflet-tooltip-right"),at(v,"leaflet-tooltip-left"),at(v,"leaflet-tooltip-top"),at(v,"leaflet-tooltip-bottom"),Ie(v,"leaflet-tooltip-"+G),me(v,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&He(this._container,r)},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(u)},_getAnchor:function(){return le(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Qt=function(r,u){return new st(r,u)};Ye.include({openTooltip:function(r,u,p){return this._initOverlay(st,r,u,p).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Vt.include({bindTooltip:function(r,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(st,this._tooltip,r,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var u=r?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[u](p),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof ri||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var u=typeof r.getElement=="function"&&r.getElement();u&&(ke(u,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),ke(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var u=typeof r.getElement=="function"&&r.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var u=r.latlng,p,_;this._tooltip.options.sticky&&r.originalEvent&&(p=this._map.mouseEventToContainerPoint(r.originalEvent),_=this._map.containerPointToLayerPoint(p),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var xn=Cr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var u=r&&r.tagName==="DIV"?r:document.createElement("div"),p=this.options;if(p.html instanceof Element?(xr(u),u.appendChild(p.html)):u.innerHTML=p.html!==!1?p.html:"",p.bgPos){var _=le(p.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Ar(r){return new xn(r)}Cr.Default=as;var ai=Vt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Te.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){U(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),mt(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(yt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(An(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=C(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof te?r:new te(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var u=this.getPane().children,p=-r(-1/0,1/0),_=0,v=u.length,b;_<v;_++)b=u[_].style.zIndex,u[_]!==this._container&&b&&(p=r(p,+b));isFinite(p)&&(this.options.zIndex=p+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Te.ielt9){He(this._container,this.options.opacity);var r=+new Date,u=!1,p=!1;for(var _ in this._tiles){var v=this._tiles[_];if(!(!v.current||!v.loaded)){var b=Math.min(1,(r-v.loaded)/200);He(v.el,b),b<1?u=!0:(v.active?p=!0:this._onOpaqueTile(v),v.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),u&&(Ce(this._fadeFrame),this._fadeFrame=Fe(this._updateOpacity,this))}},_onOpaqueTile:O,_initContainer:function(){this._container||(this._container=Ke("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,u=this.options.maxZoom;if(r!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===r?(this._levels[p].el.style.zIndex=u-Math.abs(r-p),this._onUpdateLevel(p)):(mt(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var _=this._levels[r],v=this._map;return _||(_=this._levels[r]={},_.el=Ke("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=v.project(v.unproject(v.getPixelOrigin()),r).round(),_.zoom=r,this._setZoomTransform(_,v.getCenter(),v.getZoom()),O(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:O,_onRemoveLevel:O,_onCreateLevel:O,_pruneTiles:function(){if(this._map){var r,u,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)u=this._tiles[r],u.retain=u.current;for(r in this._tiles)if(u=this._tiles[r],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var u in this._tiles)this._tiles[u].coords.z===r&&this._removeTile(u)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)mt(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,u,p,_){var v=Math.floor(r/2),b=Math.floor(u/2),B=p-1,G=new te(+v,+b);G.z=+B;var q=this._tileCoordsToKey(G),oe=this._tiles[q];return oe&&oe.active?(oe.retain=!0,!0):(oe&&oe.loaded&&(oe.retain=!0),B>_?this._retainParent(v,b,B,_):!1)},_retainChildren:function(r,u,p,_){for(var v=2*r;v<2*r+2;v++)for(var b=2*u;b<2*u+2;b++){var B=new te(v,b);B.z=p+1;var G=this._tileCoordsToKey(B),q=this._tiles[G];if(q&&q.active){q.retain=!0;continue}else q&&q.loaded&&(q.retain=!0);p+1<_&&this._retainChildren(v,b,p+1,_)}},_resetView:function(r){var u=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var u=this.options;return u.minNativeZoom!==void 0&&r<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<r?u.maxNativeZoom:r},_setView:function(r,u,p,_){var v=Math.round(u);this.options.maxZoom!==void 0&&v>this.options.maxZoom||this.options.minZoom!==void 0&&v<this.options.minZoom?v=void 0:v=this._clampZoom(v);var b=this.options.updateWhenZooming&&v!==this._tileZoom;(!_||b)&&(this._tileZoom=v,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),v!==void 0&&this._update(r),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(r,u)},_setZoomTransforms:function(r,u){for(var p in this._levels)this._setZoomTransform(this._levels[p],r,u)},_setZoomTransform:function(r,u,p){var _=this._map.getZoomScale(p,r.zoom),v=r.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,p)).round();Te.any3d?M(r.el,v,_):me(r.el,v)},_resetGrid:function(){var r=this._map,u=r.options.crs,p=this._tileSize=this.getTileSize(),_=this._tileZoom,v=this._map.getPixelWorldBounds(this._tileZoom);v&&(this._globalTileRange=this._pxBoundsToTileRange(v)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,u.wrapLng[0]],_).x/p.x),Math.ceil(r.project([0,u.wrapLng[1]],_).x/p.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([u.wrapLat[0],0],_).y/p.x),Math.ceil(r.project([u.wrapLat[1],0],_).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var u=this._map,p=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(p,this._tileZoom),v=u.project(r,this._tileZoom).floor(),b=u.getSize().divideBy(_*2);return new re(v.subtract(b),v.add(b))},_update:function(r){var u=this._map;if(u){var p=this._clampZoom(u.getZoom());if(r===void 0&&(r=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(r),v=this._pxBoundsToTileRange(_),b=v.getCenter(),B=[],G=this.options.keepBuffer,q=new re(v.getBottomLeft().subtract([G,-G]),v.getTopRight().add([G,-G]));if(!(isFinite(v.min.x)&&isFinite(v.min.y)&&isFinite(v.max.x)&&isFinite(v.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var oe in this._tiles){var ve=this._tiles[oe].coords;(ve.z!==this._tileZoom||!q.contains(new te(ve.x,ve.y)))&&(this._tiles[oe].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(r,p);return}for(var Re=v.min.y;Re<=v.max.y;Re++)for(var Ge=v.min.x;Ge<=v.max.x;Ge++){var Nn=new te(Ge,Re);if(Nn.z=this._tileZoom,!!this._isValidTile(Nn)){var an=this._tiles[this._tileCoordsToKey(Nn)];an?an.current=!0:B.push(Nn)}}if(B.sort(function(Rn,bs){return Rn.distanceTo(b)-bs.distanceTo(b)}),B.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var li=document.createDocumentFragment();for(Ge=0;Ge<B.length;Ge++)this._addTile(B[Ge],li);this._level.el.appendChild(li)}}}},_isValidTile:function(r){var u=this._map.options.crs;if(!u.infinite){var p=this._globalTileRange;if(!u.wrapLng&&(r.x<p.min.x||r.x>p.max.x)||!u.wrapLat&&(r.y<p.min.y||r.y>p.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(r);return De(this.options.bounds).overlaps(_)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var u=this._map,p=this.getTileSize(),_=r.scaleBy(p),v=_.add(p),b=u.unproject(_,r.z),B=u.unproject(v,r.z);return[b,B]},_tileCoordsToBounds:function(r){var u=this._tileCoordsToNwSe(r),p=new Ue(u[0],u[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var u=r.split(":"),p=new te(+u[0],+u[1]);return p.z=+u[2],p},_removeTile:function(r){var u=this._tiles[r];u&&(mt(u.el),delete this._tiles[r],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Ie(r,"leaflet-tile");var u=this.getTileSize();r.style.width=u.x+"px",r.style.height=u.y+"px",r.onselectstart=O,r.onmousemove=O,Te.ielt9&&this.options.opacity<1&&He(r,this.options.opacity)},_addTile:function(r,u){var p=this._getTilePos(r),_=this._tileCoordsToKey(r),v=this.createTile(this._wrapCoords(r),y(this._tileReady,this,r));this._initTile(v),this.createTile.length<2&&Fe(y(this._tileReady,this,r,null,v)),me(v,p),this._tiles[_]={el:v,coords:r,current:!0},u.appendChild(v),this.fire("tileloadstart",{tile:v,coords:r})},_tileReady:function(r,u,p){u&&this.fire("tileerror",{error:u,tile:p,coords:r});var _=this._tileCoordsToKey(r);p=this._tiles[_],p&&(p.loaded=+new Date,this._map._fadeAnimated?(He(p.el,0),Ce(this._fadeFrame),this._fadeFrame=Fe(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),u||(Ie(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Te.ielt9||!this._map._fadeAnimated?Fe(this._pruneTiles,this):setTimeout(y(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var u=new te(this._wrapX?R(r.x,this._wrapX):r.x,this._wrapY?R(r.y,this._wrapY):r.y);return u.z=r.z,u},_pxBoundsToTileRange:function(r){var u=this.getTileSize();return new re(r.min.unscaleBy(u).floor(),r.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function pu(r){return new ai(r)}var Sr=ai.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,u){this._url=r,u=U(this,u),u.detectRetina&&Te.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,u){return this._url===r&&u===void 0&&(u=!0),this._url=r,u||this.redraw(),this},createTile:function(r,u){var p=document.createElement("img");return ke(p,"load",y(this._tileOnLoad,this,u,p)),ke(p,"error",y(this._tileOnError,this,u,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(r),p},getTileUrl:function(r){var u={r:Te.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-r.y;this.options.tms&&(u.y=p),u["-y"]=p}return k(this._url,f(u,this.options))},_tileOnLoad:function(r,u){Te.ielt9?setTimeout(y(r,this,null,u),0):r(null,u)},_tileOnError:function(r,u,p){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),r(p,u)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,u=this.options.maxZoom,p=this.options.zoomReverse,_=this.options.zoomOffset;return p&&(r=u-r),r+_},_getSubdomain:function(r){var u=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var r,u;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(u=this._tiles[r].el,u.onload=O,u.onerror=O,!u.complete)){u.src=de;var p=this._tiles[r].coords;mt(u),delete this._tiles[r],this.fire("tileabort",{tile:u,coords:p})}},_removeTile:function(r){var u=this._tiles[r];if(u)return u.el.setAttribute("src",de),ai.prototype._removeTile.call(this,r)},_tileReady:function(r,u,p){if(!(!this._map||p&&p.getAttribute("src")===de))return ai.prototype._tileReady.call(this,r,u,p)}});function zh(r,u){return new Sr(r,u)}var jh=Sr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,u){this._url=r;var p=f({},this.defaultWmsParams);for(var _ in u)_ in this.options||(p[_]=u[_]);u=U(this,u);var v=u.detectRetina&&Te.retina?2:1,b=this.getTileSize();p.width=b.x*v,p.height=b.y*v,this.wmsParams=p},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Sr.prototype.onAdd.call(this,r)},getTileUrl:function(r){var u=this._tileCoordsToNwSe(r),p=this._crs,_=ge(p.project(u[0]),p.project(u[1])),v=_.min,b=_.max,B=(this._wmsVersion>=1.3&&this._crs===vr?[v.y,v.x,b.y,b.x]:[v.x,v.y,b.x,b.y]).join(","),G=Sr.prototype.getTileUrl.call(this,r);return G+ye(this.wmsParams,G,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+B},setParams:function(r,u){return f(this.wmsParams,r),u||this.redraw(),this}});function ng(r,u){return new jh(r,u)}Sr.WMS=jh,zh.wms=ng;var er=Vt.extend({options:{padding:.1},initialize:function(r){U(this,r),A(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ie(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,u){var p=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),v=this._map.project(this._center,u),b=_.multiplyBy(-p).add(v).subtract(this._map._getNewPixelOrigin(r,u));Te.any3d?M(this._container,b,p):me(this._container,b)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,u=this._map.getSize(),p=this._map.containerPointToLayerPoint(u.multiplyBy(-r)).round();this._bounds=new re(p,p.add(u.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Uh=er.extend({options:{tolerance:0},getEvents:function(){var r=er.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){er.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");ke(r,"mousemove",this._onMouseMove,this),ke(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ke(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){Ce(this._redrawRequest),delete this._ctx,mt(this._container),xe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var u in this._layers)r=this._layers[u],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){er.prototype._update.call(this);var r=this._bounds,u=this._container,p=r.getSize(),_=Te.retina?2:1;me(u,r.min),u.width=_*p.x,u.height=_*p.y,u.style.width=p.x+"px",u.style.height=p.y+"px",Te.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){er.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[A(r)]=r;var u=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var u=r._order,p=u.next,_=u.prev;p?p.prev=_:this._drawLast=_,_?_.next=p:this._drawFirst=p,delete r._order,delete this._layers[A(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var u=r.options.dashArray.split(/[, ]+/),p=[],_,v;for(v=0;v<u.length;v++){if(_=Number(u[v]),isNaN(_))return;p.push(_)}r.options._dashArray=p}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||Fe(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var u=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new re,this._redrawBounds.extend(r._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(r._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var u=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,u=this._redrawBounds;if(this._ctx.save(),u){var p=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)r=_.layer,(!u||r._pxBounds&&r._pxBounds.intersects(u))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,u){if(this._drawing){var p,_,v,b,B=r._parts,G=B.length,q=this._ctx;if(G){for(q.beginPath(),p=0;p<G;p++){for(_=0,v=B[p].length;_<v;_++)b=B[p][_],q[_?"lineTo":"moveTo"](b.x,b.y);u&&q.closePath()}this._fillStroke(q,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var u=r._point,p=this._ctx,_=Math.max(Math.round(r._radius),1),v=(Math.max(Math.round(r._radiusY),1)||_)/_;v!==1&&(p.save(),p.scale(1,v)),p.beginPath(),p.arc(u.x,u.y/v,_,0,Math.PI*2,!1),v!==1&&p.restore(),this._fillStroke(p,r)}},_fillStroke:function(r,u){var p=u.options;p.fill&&(r.globalAlpha=p.fillOpacity,r.fillStyle=p.fillColor||p.color,r.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(r.setLineDash&&r.setLineDash(u.options&&u.options._dashArray||[]),r.globalAlpha=p.opacity,r.lineWidth=p.weight,r.strokeStyle=p.color,r.lineCap=p.lineCap,r.lineJoin=p.lineJoin,r.stroke())},_onClick:function(r){for(var u=this._map.mouseEventToLayerPoint(r),p,_,v=this._drawFirst;v;v=v.next)p=v.layer,p.options.interactive&&p._containsPoint(u)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(p))&&(_=p);this._fireEvent(_?[_]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,u)}},_handleMouseOut:function(r){var u=this._hoveredLayer;u&&(at(this._container,"leaflet-interactive"),this._fireEvent([u],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,u){if(!this._mouseHoverThrottled){for(var p,_,v=this._drawFirst;v;v=v.next)p=v.layer,p.options.interactive&&p._containsPoint(u)&&(_=p);_!==this._hoveredLayer&&(this._handleMouseOut(r),_&&(Ie(this._container,"leaflet-interactive"),this._fireEvent([_],r,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(y(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,u,p){this._map._fireDOMEvent(u,p||u.type,r)},_bringToFront:function(r){var u=r._order;if(u){var p=u.next,_=u.prev;if(p)p.prev=_;else return;_?_.next=p:p&&(this._drawFirst=p),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(r)}},_bringToBack:function(r){var u=r._order;if(u){var p=u.next,_=u.prev;if(_)_.next=p;else return;p?p.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(r)}}});function Hh(r){return Te.canvas?new Uh(r):null}var Mo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ig={_initContainer:function(){this._container=Ke("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(er.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var u=r._container=Mo("shape");Ie(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",r._path=Mo("path"),u.appendChild(r._path),this._updateStyle(r),this._layers[A(r)]=r},_addPath:function(r){var u=r._container;this._container.appendChild(u),r.options.interactive&&r.addInteractiveTarget(u)},_removePath:function(r){var u=r._container;mt(u),r.removeInteractiveTarget(u),delete this._layers[A(r)]},_updateStyle:function(r){var u=r._stroke,p=r._fill,_=r.options,v=r._container;v.stroked=!!_.stroke,v.filled=!!_.fill,_.stroke?(u||(u=r._stroke=Mo("stroke")),v.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=P(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(v.removeChild(u),r._stroke=null),_.fill?(p||(p=r._fill=Mo("fill")),v.appendChild(p),p.color=_.fillColor||_.color,p.opacity=_.fillOpacity):p&&(v.removeChild(p),r._fill=null)},_updateCircle:function(r){var u=r._point.round(),p=Math.round(r._radius),_=Math.round(r._radiusY||p);this._setPath(r,r._empty()?"M0 0":"AL "+u.x+","+u.y+" "+p+","+_+" 0,"+65535*360)},_setPath:function(r,u){r._path.v=u},_bringToFront:function(r){yt(r._container)},_bringToBack:function(r){An(r._container)}},La=Te.vml?Mo:jn,Oo=er.extend({_initContainer:function(){this._container=La("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=La("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){mt(this._container),xe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){er.prototype._update.call(this);var r=this._bounds,u=r.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,p.setAttribute("width",u.x),p.setAttribute("height",u.y)),me(p,r.min),p.setAttribute("viewBox",[r.min.x,r.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(r){var u=r._path=La("path");r.options.className&&Ie(u,r.options.className),r.options.interactive&&Ie(u,"leaflet-interactive"),this._updateStyle(r),this._layers[A(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){mt(r._path),r.removeInteractiveTarget(r._path),delete this._layers[A(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var u=r._path,p=r.options;u&&(p.stroke?(u.setAttribute("stroke",p.color),u.setAttribute("stroke-opacity",p.opacity),u.setAttribute("stroke-width",p.weight),u.setAttribute("stroke-linecap",p.lineCap),u.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?u.setAttribute("stroke-dasharray",p.dashArray):u.removeAttribute("stroke-dasharray"),p.dashOffset?u.setAttribute("stroke-dashoffset",p.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),p.fill?(u.setAttribute("fill",p.fillColor||p.color),u.setAttribute("fill-opacity",p.fillOpacity),u.setAttribute("fill-rule",p.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(r,u){this._setPath(r,gr(r._parts,u))},_updateCircle:function(r){var u=r._point,p=Math.max(Math.round(r._radius),1),_=Math.max(Math.round(r._radiusY),1)||p,v="a"+p+","+_+" 0 1,0 ",b=r._empty()?"M0 0":"M"+(u.x-p)+","+u.y+v+p*2+",0 "+v+-p*2+",0 ";this._setPath(r,b)},_setPath:function(r,u){r._path.setAttribute("d",u)},_bringToFront:function(r){yt(r._path)},_bringToBack:function(r){An(r._path)}});Te.vml&&Oo.include(ig);function Vh(r){return Te.svg||Te.vml?new Oo(r):null}Ye.include({getRenderer:function(r){var u=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var u=this._paneRenderers[r];return u===void 0&&(u=this._createRenderer({pane:r}),this._paneRenderers[r]=u),u},_createRenderer:function(r){return this.options.preferCanvas&&Hh(r)||Vh(r)}});var Zh=o.extend({initialize:function(r,u){o.prototype.initialize.call(this,this._boundsToLatLngs(r),u)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=De(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function rg(r,u){return new Zh(r,u)}Oo.create=La,Oo.pointsToPath=gr,l.geometryToLayer=h,l.coordsToLatLng=m,l.coordsToLatLngs=x,l.latLngToCoords=w,l.latLngsToCoords=T,l.getFeature=N,l.asFeature=D,Ye.mergeOptions({boxZoom:!0});var Wh=Sn.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){ke(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){xe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){mt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),sn(),Ne(),this._startPoint=this._map.mouseEventToContainerPoint(r),ke(document,{contextmenu:Vn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=Ke("div","leaflet-zoom-box",this._container),Ie(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var u=new re(this._point,this._startPoint),p=u.getSize();me(this._box,u.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(mt(this._box),at(this._container,"leaflet-crosshair")),ts(),xt(),xe(document,{contextmenu:Vn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(y(this._resetState,this),0);var u=new Ue(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ye.addInitHook("addHandler","boxZoom",Wh),Ye.mergeOptions({doubleClickZoom:!0});var Gh=Sn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var u=this._map,p=u.getZoom(),_=u.options.zoomDelta,v=r.originalEvent.shiftKey?p-_:p+_;u.options.doubleClickZoom==="center"?u.setZoom(v):u.setZoomAround(r.containerPoint,v)}});Ye.addInitHook("addHandler","doubleClickZoom",Gh),Ye.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Yh=Sn.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new ki(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Ie(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){at(this._map._container,"leaflet-grab"),at(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=De(this._map.options.maxBounds);this._offsetLimit=ge(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var u=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(u),this._prunePositions(u)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,u){return r-(r-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;r.x<u.min.x&&(r.x=this._viscousLimit(r.x,u.min.x)),r.y<u.min.y&&(r.y=this._viscousLimit(r.y,u.min.y)),r.x>u.max.x&&(r.x=this._viscousLimit(r.x,u.max.x)),r.y>u.max.y&&(r.y=this._viscousLimit(r.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,u=Math.round(r/2),p=this._initialWorldOffset,_=this._draggable._newPos.x,v=(_-u+p)%r+u-p,b=(_+u+p)%r-u-p,B=Math.abs(v+p)<Math.abs(b+p)?v:b;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=B},_onDragEnd:function(r){var u=this._map,p=u.options,_=!p.inertia||r.noInertia||this._times.length<2;if(u.fire("dragend",r),_)u.fire("moveend");else{this._prunePositions(+new Date);var v=this._lastPos.subtract(this._positions[0]),b=(this._lastTime-this._times[0])/1e3,B=p.easeLinearity,G=v.multiplyBy(B/b),q=G.distanceTo([0,0]),oe=Math.min(p.inertiaMaxSpeed,q),ve=G.multiplyBy(oe/q),Re=oe/(p.inertiaDeceleration*B),Ge=ve.multiplyBy(-Re/2).round();!Ge.x&&!Ge.y?u.fire("moveend"):(Ge=u._limitOffset(Ge,u.options.maxBounds),Fe(function(){u.panBy(Ge,{duration:Re,easeLinearity:B,noMoveStart:!0,animate:!0})}))}}});Ye.addInitHook("addHandler","dragging",Yh),Ye.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Xh=Sn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),ke(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),xe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,u=document.documentElement,p=r.scrollTop||u.scrollTop,_=r.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var u=this._panKeys={},p=this.keyCodes,_,v;for(_=0,v=p.left.length;_<v;_++)u[p.left[_]]=[-1*r,0];for(_=0,v=p.right.length;_<v;_++)u[p.right[_]]=[r,0];for(_=0,v=p.down.length;_<v;_++)u[p.down[_]]=[0,r];for(_=0,v=p.up.length;_<v;_++)u[p.up[_]]=[0,-1*r]},_setZoomDelta:function(r){var u=this._zoomKeys={},p=this.keyCodes,_,v;for(_=0,v=p.zoomIn.length;_<v;_++)u[p.zoomIn[_]]=r;for(_=0,v=p.zoomOut.length;_<v;_++)u[p.zoomOut[_]]=-r},_addHooks:function(){ke(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){xe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var u=r.keyCode,p=this._map,_;if(u in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(_=this._panKeys[u],r.shiftKey&&(_=le(_).multiplyBy(3)),p.options.maxBounds&&(_=p._limitOffset(le(_),p.options.maxBounds)),p.options.worldCopyJump){var v=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(_)));p.panTo(v)}else p.panBy(_)}else if(u in this._zoomKeys)p.setZoom(p.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;Vn(r)}}});Ye.addInitHook("addHandler","keyboard",Xh),Ye.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Qh=Sn.extend({addHooks:function(){ke(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){xe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var u=wr(r),p=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var _=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(y(this._performZoom,this),_),Vn(r)},_performZoom:function(){var r=this._map,u=r.getZoom(),p=this._map.options.zoomSnap||0;r._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),v=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,b=p?Math.ceil(v/p)*p:v,B=r._limitZoom(u+(this._delta>0?b:-b))-u;this._delta=0,this._startTime=null,B&&(r.options.scrollWheelZoom==="center"?r.setZoom(u+B):r.setZoomAround(this._lastMousePos,u+B))}});Ye.addInitHook("addHandler","scrollWheelZoom",Qh);var sg=600;Ye.mergeOptions({tapHold:Te.touchNative&&Te.safari&&Te.mobile,tapTolerance:15});var Kh=Sn.extend({addHooks:function(){ke(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){xe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var u=r.touches[0];this._startPos=this._newPos=new te(u.clientX,u.clientY),this._holdTimeout=setTimeout(y(function(){this._cancel(),this._isTapValid()&&(ke(document,"touchend",Yt),ke(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),sg),ke(document,"touchend touchcancel contextmenu",this._cancel,this),ke(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){xe(document,"touchend",Yt),xe(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),xe(document,"touchend touchcancel contextmenu",this._cancel,this),xe(document,"touchmove",this._onMove,this)},_onMove:function(r){var u=r.touches[0];this._newPos=new te(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,u){var p=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});p._simulated=!0,u.target.dispatchEvent(p)}});Ye.addInitHook("addHandler","tapHold",Kh),Ye.mergeOptions({touchZoom:Te.touch,bounceAtZoomLimits:!0});var qh=Sn.extend({addHooks:function(){Ie(this._map._container,"leaflet-touch-zoom"),ke(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){at(this._map._container,"leaflet-touch-zoom"),xe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var u=this._map;if(!(!r.touches||r.touches.length!==2||u._animatingZoom||this._zooming)){var p=u.mouseEventToContainerPoint(r.touches[0]),_=u.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(p.add(_)._divideBy(2))),this._startDist=p.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),ke(document,"touchmove",this._onTouchMove,this),ke(document,"touchend touchcancel",this._onTouchEnd,this),Yt(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var u=this._map,p=u.mouseEventToContainerPoint(r.touches[0]),_=u.mouseEventToContainerPoint(r.touches[1]),v=p.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(v,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&v<1||this._zoom>u.getMaxZoom()&&v>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,v===1)return}else{var b=p._add(_)._divideBy(2)._subtract(this._centerPoint);if(v===1&&b.x===0&&b.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(b),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),Ce(this._animRequest);var B=y(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Fe(B,this,!0),Yt(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ce(this._animRequest),xe(document,"touchmove",this._onTouchMove,this),xe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ye.addInitHook("addHandler","touchZoom",qh),Ye.BoxZoom=Wh,Ye.DoubleClickZoom=Gh,Ye.Drag=Yh,Ye.Keyboard=Xh,Ye.ScrollWheelZoom=Qh,Ye.TapHold=Kh,Ye.TouchZoom=qh,s.Bounds=re,s.Browser=Te,s.CRS=Jt,s.Canvas=Uh,s.Circle=Er,s.CircleMarker=Fi,s.Class=nt,s.Control=Zn,s.DivIcon=xn,s.DivOverlay=At,s.DomEvent=gn,s.DomUtil=Ht,s.Draggable=ki,s.Evented=Le,s.FeatureGroup=ri,s.GeoJSON=l,s.GridLayer=ai,s.Handler=Sn,s.Icon=Cr,s.ImageOverlay=Y,s.LatLng=Qe,s.LatLngBounds=Ue,s.Layer=Vt,s.LayerGroup=Ci,s.LineUtil=Oa,s.Map=Ye,s.Marker=In,s.Mixin=Na,s.Path=oi,s.Point=te,s.PolyUtil=Ao,s.Polygon=o,s.Polyline=t,s.Popup=pn,s.PosAnimation=Eo,s.Projection=Io,s.Rectangle=Zh,s.Renderer=er,s.SVG=Oo,s.SVGOverlay=Ve,s.TileLayer=Sr,s.Tooltip=st,s.Transformation=$t,s.Util=Ze,s.VideoOverlay=he,s.bind=y,s.bounds=ge,s.canvas=Hh,s.circle=S,s.circleMarker=$e,s.control=ss,s.divIcon=Ar,s.extend=f,s.featureGroup=si,s.geoJSON=z,s.geoJson=Z,s.gridLayer=pu,s.icon=No,s.imageOverlay=ce,s.latLng=ue,s.latLngBounds=De,s.layerGroup=Dn,s.map=Ta,s.marker=gu,s.point=le,s.polygon=a,s.polyline=i,s.popup=mn,s.rectangle=rg,s.setOptions=U,s.stamp=A,s.svg=Vh,s.svgOverlay=Be,s.tileLayer=zh,s.tooltip=Qt,s.transformation=Oi,s.version=c,s.videoOverlay=ae;var og=window.L;s.noConflict=function(){return window.L=og,this},window.L=s})})(Bc,Bc.exports);var ao=Bc.exports;const Ph=Td(ao);function iu(e,n,s){return Object.freeze({instance:e,context:n,container:s})}function ru(e,n){return n==null?function(c,f){const g=_e.useRef();return g.current||(g.current=e(c,f)),g}:function(c,f){const g=_e.useRef();g.current||(g.current=e(c,f));const y=_e.useRef(c),{instance:E}=g.current;return _e.useEffect(function(){y.current!==c&&(n(E,c,y.current),y.current=c)},[E,c,f]),g}}function Y1(e,n){_e.useEffect(function(){return(n.layerContainer??n.map).addLayer(e.instance),function(){var g;(g=n.layerContainer)==null||g.removeLayer(e.instance),n.map.removeLayer(e.instance)}},[n,e])}function X1(e){return function(s){const c=tu(),f=e(nu(s,c),c);return H1(c.map,s.attribution),kh(f.current,s.eventHandlers),Y1(f.current,c),f}}function ux(e,n){const s=_e.useRef();_e.useEffect(function(){if(n.pathOptions!==s.current){const f=n.pathOptions??{};e.instance.setStyle(f),s.current=f}},[e,n])}function cx(e){return function(s){const c=tu(),f=e(nu(s,c),c);return kh(f.current,s.eventHandlers),Y1(f.current,c),ux(f.current,s),f}}function hx(e,n){const s=ru(e,n),c=X1(s);return G1(c)}function fx(e,n){const s=ru(e),c=lx(s,n);return ox(c)}function dx(e,n){const s=ru(e,n),c=cx(s);return G1(c)}function gx(e,n){const s=ru(e,n),c=X1(s);return ax(c)}function px(e,n,s){const{opacity:c,zIndex:f}=n;c!=null&&c!==s.opacity&&e.setOpacity(c),f!=null&&f!==s.zIndex&&e.setZIndex(f)}function mx(){return tu().map}function Fc(){return Fc=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(e[c]=s[c])}return e},Fc.apply(this,arguments)}function xx({bounds:e,boundsOptions:n,center:s,children:c,className:f,id:g,placeholder:y,style:E,whenReady:A,zoom:C,...R},O){const[H]=_e.useState({className:f,id:g,style:E}),[X,ee]=_e.useState(null);_e.useImperativeHandle(O,()=>(X==null?void 0:X.map)??null,[X]);const U=_e.useCallback(j=>{if(j!==null&&X===null){const k=new ao.Map(j,R);s!=null&&C!=null?k.setView(s,C):e!=null&&k.fitBounds(e,n),A!=null&&k.whenReady(A),ee(sx(k))}},[]);_e.useEffect(()=>()=>{X==null||X.map.remove()},[X]);const ye=X?hl.createElement(W1,{value:X},c):y??null;return hl.createElement("div",Fc({},H,{ref:U}),ye)}const _x=_e.forwardRef(xx),yx=hx(function({position:n,...s},c){const f=new ao.Marker(n,s);return iu(f,V1(c,{overlayContainer:f}))},function(n,s,c){s.position!==c.position&&n.setLatLng(s.position),s.icon!=null&&s.icon!==c.icon&&n.setIcon(s.icon),s.zIndexOffset!=null&&s.zIndexOffset!==c.zIndexOffset&&n.setZIndexOffset(s.zIndexOffset),s.opacity!=null&&s.opacity!==c.opacity&&n.setOpacity(s.opacity),n.dragging!=null&&s.draggable!==c.draggable&&(s.draggable===!0?n.dragging.enable():n.dragging.disable())}),wx=dx(function({positions:n,...s},c){const f=new ao.Polyline(n,s);return iu(f,V1(c,{overlayContainer:f}))},function(n,s,c){s.positions!==c.positions&&n.setLatLngs(s.positions)}),vx=fx(function(n,s){const c=new ao.Popup(n,s.overlayContainer);return iu(c,s)},function(n,s,{position:c},f){_e.useEffect(function(){const{instance:y}=n;function E(C){C.popup===y&&(y.update(),f(!0))}function A(C){C.popup===y&&f(!1)}return s.map.on({popupopen:E,popupclose:A}),s.overlayContainer==null?(c!=null&&y.setLatLng(c),y.openOn(s.map)):s.overlayContainer.bindPopup(y),function(){var R;s.map.off({popupopen:E,popupclose:A}),(R=s.overlayContainer)==null||R.unbindPopup(),s.map.removeLayer(y)}},[n,s,f,c])}),Cx=gx(function({url:n,...s},c){const f=new ao.TileLayer(n,nu(s,c));return iu(f,c)},function(n,s,c){px(n,s,c);const{url:f}=s;f!=null&&f!==c.url&&n.setUrl(f)});delete Ph.Icon.Default.prototype._getIconUrl;Ph.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});function Ex({points:e}){const n=mx();return _e.useEffect(()=>{if(e&&e.length>0){const s=Ph.latLngBounds(e.map(c=>[c.lat,c.lng]));n.fitBounds(s,{padding:[50,50]})}},[e,n]),null}function Ax({stops:e}){if(!e||e.length===0)return I.jsx("div",{className:"p-4 text-center text-gray-500",children:"Sem pontos no mapa."});const n=e.map(c=>[c.lat,c.lng]),s=[e[0].lat,e[0].lng];return I.jsx("div",{className:"h-full w-full rounded-xl overflow-hidden shadow-lg border border-gray-200 dark:border-gray-700 relative z-0",children:I.jsxs(_x,{center:s,zoom:13,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[I.jsx(Cx,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),I.jsx(wx,{positions:n,pathOptions:{color:"blue",weight:4,opacity:.7}}),e.map((c,f)=>I.jsx(yx,{position:[c.lat,c.lng],children:I.jsx(vx,{children:I.jsxs("div",{className:"text-sm",children:[I.jsxs("strong",{className:"block text-base mb-1",children:["Parada ",c.id]}),I.jsx("span",{className:"block text-gray-600 dark:text-gray-300",children:c.address}),I.jsxs("div",{className:"mt-2 text-xs bg-blue-100 text-blue-800 p-1 rounded inline-block",children:[c.packages.length," pacotes"]})]})})},f)),I.jsx(Ex,{points:e})]})})}function Sx({data:e}){return e?e.view==="personal"?I.jsx(Tx,{data:e}):e.view==="company"?I.jsx(Ix,{data:e}):I.jsx("div",{children:"Tipo de visualizao desconhecido."}):I.jsx("div",{className:"p-8 text-center text-gray-500",children:"Carregando finanas..."})}function Tx({data:e}){return I.jsxs("div",{className:"space-y-6",children:[I.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-700 rounded-2xl p-6 text-white shadow-xl",children:[I.jsxs("div",{className:"flex items-center gap-2 opacity-90 mb-2",children:[I.jsx(nx,{size:20}),I.jsxs("span",{className:"text-sm font-medium",children:["Seus Ganhos (",e.period,")"]})]}),I.jsxs("div",{className:"text-4xl font-bold flex items-baseline gap-1",children:[I.jsx("span",{className:"text-2xl opacity-80",children:"R$"}),e.balance.toFixed(2).replace(".",",")]}),I.jsxs("div",{className:"mt-4 pt-4 border-t border-white/20 text-xs opacity-80 flex justify-between",children:[I.jsx("span",{children:"Pagamento previsto: Sexta-feira"}),I.jsx("span",{className:"bg-white/20 px-2 py-0.5 rounded text-white font-bold",children:"A RECEBER"})]})]}),I.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm border border-gray-100 dark:border-gray-700",children:[I.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-3 text-sm uppercase tracking-wide",children:"Extrato Recente"}),I.jsxs("div",{className:"space-y-3",children:[I.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-50 dark:border-gray-700 last:border-0",children:[I.jsxs("div",{className:"flex flex-col",children:[I.jsx("span",{className:"font-medium text-sm",children:"Rota de Hoje"}),I.jsx("span",{className:"text-xs text-gray-400",children:"Processando..."})]}),I.jsx("span",{className:"text-gray-400 font-mono text-sm",children:"--"})]}),I.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-50 dark:border-gray-700 last:border-0",children:[I.jsxs("div",{className:"flex flex-col",children:[I.jsx("span",{className:"font-medium text-sm",children:"Rota Ontem"}),I.jsx("span",{className:"text-xs text-green-600",children:"Concluda"})]}),I.jsxs("span",{className:"text-green-600 font-bold font-mono text-sm",children:["+ R$ ",((e.balance>0?e.balance:50)*.4).toFixed(2).replace(".",",")]})]}),I.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-50 dark:border-gray-700 last:border-0",children:[I.jsxs("div",{className:"flex flex-col",children:[I.jsx("span",{className:"font-medium text-sm",children:"Bnus Meta"}),I.jsx("span",{className:"text-xs text-blue-500",children:"Extra"})]}),I.jsxs("span",{className:"text-blue-600 font-bold font-mono text-sm",children:["+ R$ ",((e.balance>0?e.balance:50)*.1).toFixed(2).replace(".",",")]})]})]})]})]})}function Ix({data:e}){const{revenue:n,costs:s,profit:c}=e.company_stats;return I.jsxs("div",{className:"space-y-6",children:[I.jsxs("div",{className:"bg-gray-900 text-white rounded-2xl p-6 shadow-xl relative overflow-hidden",children:[I.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:I.jsx(cl,{size:100})}),I.jsxs("h2",{className:"text-sm font-medium text-gray-400 mb-1",children:["Lucro Lquido (",e.period,")"]}),I.jsxs("div",{className:`text-4xl font-bold ${c>=0?"text-green-400":"text-red-400"}`,children:["R$ ",c.toFixed(2).replace(".",",")]}),I.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[I.jsxs("div",{className:"bg-white/10 p-3 rounded-lg",children:[I.jsxs("div",{className:"flex items-center gap-1 text-green-300 text-xs mb-1",children:[I.jsx($m,{size:12})," Receita"]}),I.jsxs("div",{className:"font-semibold text-lg",children:["R$ ",n.toFixed(0)]})]}),I.jsxs("div",{className:"bg-white/10 p-3 rounded-lg",children:[I.jsxs("div",{className:"flex items-center gap-1 text-red-300 text-xs mb-1",children:[I.jsx(Jm,{size:12})," Custos"]}),I.jsxs("div",{className:"font-semibold text-lg",children:["R$ ",s.toFixed(0)]})]})]})]}),I.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 shadow-sm border border-gray-100 dark:border-gray-700",children:[I.jsxs("h3",{className:"font-bold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[I.jsx(Nx,{})," Repasse aos Entregadores"]}),I.jsxs("div",{className:"space-y-4",children:[Object.entries(e.deliverers_stats).map(([f,g],y)=>I.jsxs("div",{className:"flex justify-between items-center group",children:[I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300 flex items-center justify-center font-bold text-xs",children:f.substring(0,2).toUpperCase()}),I.jsx("span",{className:"font-medium text-sm text-gray-700 dark:text-gray-300",children:f})]}),I.jsxs("span",{className:"font-mono font-bold text-gray-900 dark:text-white text-sm",children:["R$ ",g.toFixed(2).replace(".",",")]})]},y)),Object.keys(e.deliverers_stats).length===0&&I.jsx("div",{className:"text-center text-gray-400 text-sm py-2",children:"Nenhum repasse registrado ainda."})]})]})]})}const Nx=()=>I.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-users",children:[I.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),I.jsx("circle",{cx:"9",cy:"7",r:"4"}),I.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),I.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]});function bx(){const[e,n]=_e.useState([]),[s,c]=_e.useState(!0),[f,g]=_e.useState(!1),[y,E]=_e.useState({name:"",telegram_id:"",is_partner:!1}),[A,C]=_e.useState([]),R=()=>{c(!0),fetch("/api/admin/team").then(U=>U.json()).then(U=>{n(U),c(!1)}).catch(U=>{console.error(U),c(!1)})};_e.useEffect(()=>{R(),X()},[]);const O=async U=>{if(U.preventDefault(),!y.name||!y.telegram_id)return;(await fetch("/api/admin/team",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...y,telegram_id:parseInt(y.telegram_id)})})).ok?(g(!1),E({name:"",telegram_id:"",is_partner:!1}),R()):alert("Erro ao adicionar member")},H=async U=>{confirm("Tem certeza que deseja remover este entregador?")&&(await fetch(`/api/admin/team/${U}`,{method:"DELETE"}),R())},X=async()=>{try{const ye=await(await fetch("/api/delivery/pending-transfers")).json();C(ye.transfers||[])}catch(U){console.error("Erro ao buscar transferncias:",U)}},ee=async(U,ye,j="")=>{try{(await fetch("/api/delivery/transfer-approve",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transfer_id:U,approved:ye,admin_id:123456,admin_name:"Admin",rejection_reason:j})})).ok&&(alert(ye?"Transferncia aprovada!":"Transferncia rejeitada!"),X())}catch{alert("Erro ao processar transferncia")}};return I.jsxs("div",{className:"space-y-6",children:[I.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[I.jsxs("div",{children:[I.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[I.jsx(Pl,{className:"text-blue-500"})," Gesto de Equipe"]}),I.jsx("p",{className:"text-sm text-gray-500",children:"Gerencie seus entregadores e parceiros"})]}),I.jsx("button",{onClick:()=>g(!0),className:"bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-lg shadow-lg shadow-blue-500/30 transition-all active:scale-95",children:I.jsx(tx,{size:20})})]}),I.jsx("div",{className:"space-y-3",children:s?I.jsx("div",{className:"text-center text-gray-500 py-10",children:"Carregando equipe..."}):e.length===0?I.jsx("div",{className:"text-center text-gray-400 py-10 bg-gray-50 dark:bg-gray-800 rounded-xl border border-dashed border-gray-300",children:"Nenhum membro na equipe ainda."}):e.map(U=>I.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 flex justify-between items-center group",children:[I.jsxs("div",{className:"flex items-center gap-4",children:[I.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg ${U.is_partner?"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-300":"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-300"}`,children:U.name.substring(0,1).toUpperCase()}),I.jsxs("div",{children:[I.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[U.name,U.is_partner&&I.jsx(Km,{size:14,className:"text-purple-500",title:"Scio"})]}),I.jsxs("div",{className:"flex gap-3 text-xs text-gray-500 mt-1",children:[I.jsxs("span",{className:"flex items-center gap-1",children:[I.jsx(ex,{size:10})," ",U.deliveries," entregas"]}),I.jsxs("span",{className:"font-mono",children:["ID: ",U.id]})]})]})]}),I.jsx("button",{onClick:()=>H(U.id),className:"text-gray-400 hover:text-red-500 p-2 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:I.jsx(qm,{size:18})})]},U.id))}),A.length>0&&I.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-xl p-6 border border-yellow-200 dark:border-yellow-800",children:[I.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2 mb-4 text-yellow-800 dark:text-yellow-200",children:[I.jsx(j1,{size:20})," Solicitaes de Transferncia Pendentes (",A.length,")"]}),I.jsx("div",{className:"space-y-3",children:A.map(U=>I.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[I.jsxs("div",{className:"flex justify-between items-start mb-3",children:[I.jsxs("div",{children:[I.jsxs("p",{className:"font-semibold text-sm",children:[U.from_deliverer.name,"  ",U.to_deliverer.name]}),I.jsxs("p",{className:"text-xs text-gray-500",children:[U.package_count," pacote(s)"]})]}),I.jsx("span",{className:"text-xs bg-yellow-100 dark:bg-yellow-900/50 text-yellow-700 dark:text-yellow-300 px-2 py-1 rounded",children:"Pendente"})]}),I.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:[I.jsx("strong",{children:"Motivo:"})," ",U.reason]}),I.jsxs("div",{className:"flex gap-2",children:[I.jsxs("button",{onClick:()=>ee(U.id,!0),className:"flex-1 flex items-center justify-center gap-2 bg-green-500 hover:bg-green-600 text-white py-2 rounded-lg text-sm font-semibold transition",children:[I.jsx(Hm,{size:16})," Aprovar"]}),I.jsxs("button",{onClick:()=>{const ye=prompt("Motivo da rejeio (opcional):");ee(U.id,!1,ye||"")},className:"flex-1 flex items-center justify-center gap-2 bg-red-500 hover:bg-red-600 text-white py-2 rounded-lg text-sm font-semibold transition",children:[I.jsx(ix,{size:16})," Rejeitar"]})]})]},U.id))})]}),f&&I.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:I.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-sm shadow-2xl animate-fade-in",children:[I.jsx("h3",{className:"text-lg font-bold mb-4",children:"Novo Entregador"}),I.jsxs("form",{onSubmit:O,className:"space-y-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Nome"}),I.jsx("input",{type:"text",required:!0,className:"w-full bg-gray-50 dark:bg-gray-800 border-none rounded-lg p-3 outline-none focus:ring-2 ring-blue-500",placeholder:"Ex: Joo Silva",value:y.name,onChange:U=>E({...y,name:U.target.value})})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Telegram ID"}),I.jsx("input",{type:"number",required:!0,className:"w-full bg-gray-50 dark:bg-gray-800 border-none rounded-lg p-3 outline-none focus:ring-2 ring-blue-500 font-mono",placeholder:"Ex: 123456789",value:y.telegram_id,onChange:U=>E({...y,telegram_id:U.target.value})}),I.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Pea pro entregador enviar /id para o bot."})]}),I.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[I.jsx("input",{type:"checkbox",id:"is_partner",className:"w-5 h-5 rounded text-blue-600 focus:ring-blue-500 border-gray-300",checked:y.is_partner,onChange:U=>E({...y,is_partner:U.target.checked})}),I.jsx("label",{htmlFor:"is_partner",className:"text-sm font-medium",children:"Scio (No recebe por pacote)"})]}),I.jsxs("div",{className:"flex gap-3 pt-4",children:[I.jsx("button",{type:"button",onClick:()=>g(!1),className:"flex-1 py-3 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl text-sm font-medium",children:"Cancelar"}),I.jsx("button",{type:"submit",className:"flex-1 py-3 bg-blue-600 text-white rounded-xl text-sm font-bold shadow-lg shadow-blue-500/30",children:"Salvar"})]})]})]})})]})}function Mx(){var le;const[e,n]=_e.useState(null),[s,c]=_e.useState(null),[f,g]=_e.useState(!1),[y,E]=_e.useState(null),[A,C]=_e.useState(""),[R,O]=_e.useState(null),[H,X]=_e.useState([]),[ee,U]=_e.useState(2),[ye,j]=_e.useState([]),[k,P]=_e.useState({}),[K,de]=_e.useState(null),[ne,V]=_e.useState(""),[ie,$]=_e.useState(""),be=_e.useRef(null);_e.useEffect(()=>{fetch("/api/admin/team").then(re=>re.json()).then(X).catch(()=>X([]))},[]);const Fe=re=>{re.target.files.length>0&&(n(re.target.files[0]),E(null))},Ce=async()=>{if(!e)return;g(!0),E(null),c(null);const re=new FormData;re.append("file",e),A&&re.append("route_value",A);try{const ge=await fetch("/api/route/analyze",{method:"POST",body:re});if(!ge.ok){const De=await ge.json();throw new Error(De.detail||"Falha ao analisar rota")}const Ue=await ge.json();c(Ue)}catch(ge){E(ge.message)}finally{g(!1)}},Ze=async()=>{if(A)try{await fetch("/api/session/route-value",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({value:parseFloat(A)})})}catch{E("Erro ao salvar valor da rota")}},nt=async()=>{if(!e)return;g(!0),E(null);const re=new FormData;re.append("file",e);try{const ge=await fetch("/api/session/romaneio/import",{method:"POST",body:re});if(!ge.ok){const De=await ge.json();throw new Error(De.detail||"Falha ao importar romaneio")}const Ue=await ge.json();O(Ue.minimap_url||null)}catch(ge){E(ge.message)}finally{g(!1)}},J=async()=>{g(!0),E(null),j([]),de(null);try{const re=await fetch("/api/routes/optimize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({num_deliverers:Number(ee)})});if(!re.ok){const Ue=await re.json();throw new Error(Ue.detail||"Falha ao otimizar rotas")}const ge=await re.json();j(ge.routes||[])}catch(re){E(re.message)}finally{g(!1)}},We=async(re,ge)=>{try{const Ue=await fetch("/api/routes/assign",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({route_id:re,deliverer_id:Number(ge)})});if(!Ue.ok){const De=await Ue.json();throw new Error(De.detail||"Falha ao atribuir")}P(De=>({...De,[re]:ge}))}catch(Ue){E(Ue.message)}},Le=async()=>{g(!0),E(null);try{const re=await fetch("/api/routes/send",{method:"POST"});if(!re.ok){const ge=await re.json();throw new Error(ge.detail||"Falha ao enviar rotas")}}catch(re){E(re.message)}finally{g(!1)}},te=async()=>{try{const re=await fetch("/api/routes/combined-map");if(!re.ok){const Ue=await re.json();throw new Error(Ue.detail||"Falha ao gerar mapa completo")}const ge=await re.json();de(ge.map_url||null)}catch(re){E(re.message)}},Me=async()=>{g(!0),E(null);try{const re=await fetch("/api/session/finalize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({revenue:ne?parseFloat(ne):void 0,other_costs:ie?parseFloat(ie):0})});if(!re.ok){const ge=await re.json();throw new Error(ge.detail||"Falha ao finalizar sesso")}}catch(re){E(re.message)}finally{g(!1)}};return I.jsxs("div",{className:"space-y-6 animate-fade-in pb-20",children:[I.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-700",children:[I.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 mb-2",children:[I.jsx(U1,{className:"text-purple-500"})," Anlise de Rota com IA"]}),I.jsx("p",{className:"text-sm text-gray-500",children:"Envie o romaneio da Shopee (.xlsx) para inteligncia verificar se vale a pena."})]}),I.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-700",children:[I.jsxs("div",{onClick:()=>{var re;return(re=be.current)==null?void 0:re.click()},className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-8 text-center cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[I.jsx("input",{type:"file",ref:be,onChange:Fe,accept:".xlsx,.xls",className:"hidden"}),I.jsx(Vm,{size:48,className:"mx-auto text-gray-400 mb-4"}),e?I.jsxs("div",{children:[I.jsx("p",{className:"font-bold text-green-600",children:e.name}),I.jsxs("p",{className:"text-sm text-gray-500",children:[(e.size/1024).toFixed(1)," KB"]})]}):I.jsxs("div",{children:[I.jsx("p",{className:"font-medium",children:"Toque para selecionar o arquivo"}),I.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Suporta apenas Romaneio Shopee (.xlsx)"})]})]}),I.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2",children:[I.jsx("input",{type:"number",placeholder:"Valor total da rota",value:A,onChange:re=>C(re.target.value),className:"col-span-2 px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900"}),I.jsx("button",{onClick:Ze,className:"bg-gray-900 text-white rounded-lg text-sm font-semibold",children:"Salvar"})]}),I.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[I.jsx("button",{onClick:Ce,disabled:!e||f,className:`py-3 rounded-xl font-bold text-white shadow-lg transition-all ${f?"bg-gray-400 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700 shadow-purple-500/30"}`,children:f?"Analisando...":"Analisar IA"}),I.jsx("button",{onClick:nt,disabled:!e||f,className:`py-3 rounded-xl font-bold text-white shadow-lg transition-all ${f?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 shadow-blue-500/30"}`,children:f?"Importando...":"Importar Romaneio"})]}),R&&I.jsxs("a",{href:R,target:"_blank",rel:"noreferrer",className:"mt-4 inline-flex items-center gap-2 text-sm text-blue-600",children:[I.jsx($o,{size:16})," Ver minimapa completo"]}),y&&I.jsxs("div",{className:"mt-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-300 rounded-xl flex items-center gap-3 text-sm",children:[I.jsx(j1,{size:20}),y]})]}),I.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 space-y-4",children:[I.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[I.jsx(Pl,{size:18,className:"text-indigo-500"})," Otimizar e Distribuir"]}),I.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[I.jsx("input",{type:"number",min:1,value:ee,onChange:re=>U(re.target.value),className:"col-span-2 px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900"}),I.jsx("button",{onClick:J,className:"bg-indigo-600 text-white rounded-lg text-sm font-semibold",children:"Otimizar"})]}),ye.length>0&&I.jsxs("div",{className:"space-y-3",children:[I.jsx("button",{onClick:()=>window.location.href="/?tab=separation",className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white py-4 rounded-xl font-bold text-lg shadow-xl flex items-center justify-center gap-2 transition-all",children:" Iniciar Modo Separao"}),ye.map(re=>I.jsxs("div",{className:"p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{children:[I.jsx("p",{className:"font-semibold",children:re.route_id}),I.jsxs("p",{className:"text-xs text-gray-500",children:[re.total_packages," pacotes"]})]}),I.jsx("a",{href:re.map_url,target:"_blank",rel:"noreferrer",className:"text-sm text-blue-600",children:"Mapa"})]}),I.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2",children:[I.jsxs("select",{value:k[re.route_id]||"",onChange:ge=>We(re.route_id,ge.target.value),className:"px-2 py-2 rounded border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-sm",children:[I.jsx("option",{value:"",children:"Selecionar entregador"}),H.map(ge=>I.jsx("option",{value:ge.id,children:ge.name},ge.id))]}),I.jsxs("button",{onClick:Le,className:"bg-emerald-600 text-white rounded-lg text-sm font-semibold flex items-center justify-center gap-2",children:[I.jsx(Qm,{size:14})," Enviar"]})]})]},re.route_id))]}),I.jsx("button",{onClick:te,className:"w-full bg-gray-900 text-white py-3 rounded-lg text-sm font-semibold",children:"Gerar mapa completo colorido"}),K&&I.jsxs("a",{href:K,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 text-sm text-blue-600",children:[I.jsx($o,{size:16})," Ver mapa completo"]})]}),I.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 space-y-4",children:[I.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[I.jsx(Wm,{size:18,className:"text-green-500"})," Fechar Dia"]}),I.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[I.jsx("input",{type:"number",placeholder:"Receita total",value:ne,onChange:re=>V(re.target.value),className:"px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900"}),I.jsx("input",{type:"number",placeholder:"Custos extras",value:ie,onChange:re=>$(re.target.value),className:"px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900"})]}),I.jsx("button",{onClick:Me,className:"w-full bg-green-600 text-white py-3 rounded-lg text-sm font-semibold",children:"Finalizar Rota"})]}),s&&I.jsxs("div",{className:"space-y-4 animate-fade-in-up",children:[I.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:[I.jsxs("div",{className:"flex justify-between items-start",children:[I.jsxs("div",{children:[I.jsx("p",{className:"text-white/80 text-sm mb-1 uppercase tracking-wider",children:"Score Geral"}),I.jsxs("h1",{className:"text-5xl font-black",children:[s.overall_score.toFixed(1),I.jsx("span",{className:"text-2xl font-normal opacity-50",children:"/10"})]})]}),I.jsxs("div",{className:"text-right",children:[I.jsx("div",{className:"bg-white/20 px-3 py-1 rounded-full text-xs font-bold inline-block mb-1",children:s.recommendation}),I.jsxs("p",{className:"text-sm opacity-90",children:[s.total_packages," pacotes"]})]})]}),I.jsxs("div",{className:"mt-4 bg-black/20 p-3 rounded-lg text-sm italic",children:['" ',s.ai_comment,' "']})]}),I.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[I.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700",children:[I.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Distncia Tot."}),I.jsxs("p",{className:"text-xl font-bold",children:[s.total_distance_km.toFixed(1)," km"]})]}),I.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700",children:[I.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Ganho Est."}),I.jsxs("p",{className:"text-xl font-bold text-green-600",children:["R$ ",((le=s.route_value)==null?void 0:le.toFixed(2))||"0.00"]})]})]}),I.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-700",children:[I.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[I.jsx(Gm,{size:18,className:"text-blue-500"})," Bairros Encontrados"]}),I.jsx("div",{className:"flex flex-wrap gap-2",children:s.neighborhood_list&&s.neighborhood_list.map((re,ge)=>I.jsx("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-sm",children:re},ge))})]}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[I.jsxs("div",{className:"bg-green-50 dark:bg-green-900/10 p-5 rounded-xl",children:[I.jsx("h4",{className:"text-green-700 dark:text-green-400 font-bold mb-2",children:"Pontos Fortes"}),I.jsx("ul",{className:"text-sm space-y-1 text-gray-600 dark:text-gray-300",children:s.pros&&s.pros.map((re,ge)=>I.jsxs("li",{children:[" ",re]},ge))})]}),I.jsxs("div",{className:"bg-red-50 dark:bg-red-900/10 p-5 rounded-xl",children:[I.jsx("h4",{className:"text-red-700 dark:text-red-400 font-bold mb-2",children:"Pontos Fracos"}),I.jsx("ul",{className:"text-sm space-y-1 text-gray-600 dark:text-gray-300",children:s.cons&&s.cons.map((re,ge)=>I.jsxs("li",{children:[" ",re]},ge))})]})]})]})]})}var Ee;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ee||(Ee={}));var hd=new Map([[Ee.QR_CODE,"QR_CODE"],[Ee.AZTEC,"AZTEC"],[Ee.CODABAR,"CODABAR"],[Ee.CODE_39,"CODE_39"],[Ee.CODE_93,"CODE_93"],[Ee.CODE_128,"CODE_128"],[Ee.DATA_MATRIX,"DATA_MATRIX"],[Ee.MAXICODE,"MAXICODE"],[Ee.ITF,"ITF"],[Ee.EAN_13,"EAN_13"],[Ee.EAN_8,"EAN_8"],[Ee.PDF_417,"PDF_417"],[Ee.RSS_14,"RSS_14"],[Ee.RSS_EXPANDED,"RSS_EXPANDED"],[Ee.UPC_A,"UPC_A"],[Ee.UPC_E,"UPC_E"],[Ee.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),fd;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(fd||(fd={}));function Ox(e){return Object.values(Ee).includes(e)}var Zr;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Zr||(Zr={}));var Ti=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Zr.SCAN_TYPE_CAMERA,Zr.SCAN_TYPE_FILE],e}(),Q1=function(){function e(n,s){this.format=n,this.formatName=s}return e.prototype.toString=function(){return this.formatName},e.create=function(n){if(!hd.has(n))throw"".concat(n," not in html5QrcodeSupportedFormatsTextMap");return new e(n,hd.get(n))},e}(),dd=function(){function e(){}return e.createFromText=function(n){var s={text:n};return{decodedText:n,result:s}},e.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},e}(),zc;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(zc||(zc={}));var K1=function(){function e(){}return e.createFrom=function(n){return{errorMessage:n,type:zc.UNKWOWN_ERROR}},e}(),q1=function(){function e(n){this.verbose=n}return e.prototype.log=function(n){this.verbose&&console.log(n)},e.prototype.warn=function(n){this.verbose&&console.warn(n)},e.prototype.logError=function(n,s){(this.verbose||s===!0)&&console.error(n)},e.prototype.logErrors=function(n){if(n.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},e}();function Ui(e){return typeof e>"u"||e===null}function Lx(e,n,s){return e>s?s:e<n?n:e}var Zs=function(){function e(){}return e.codeParseError=function(n){return"QR code parse error, error = ".concat(n)},e.errorGettingUserMedia=function(n){return"Error getting userMedia, error = ".concat(n)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),ht=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(n){return"Last Match: ".concat(n)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),gd=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),J1=function(){function e(){}return e.isMediaStreamConstraintsValid=function(n,s){if(typeof n!="object"){var c=typeof n;return s.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(c,"."),!0),!1}for(var f=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],g=new Set(f),y=Object.keys(n),E=0,A=y;E<A.length;E++){var C=A[E];if(g.has(C))return s.logError("".concat(C," is not supported videoConstaints."),!0),!1}return!0},e}(),jc={exports:{}};(function(e,n){(function(s,c){c(n)})(Os,function(s){function c(S){return S==null}var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,t){S.__proto__=t}||function(S,t){for(var i in t)t.hasOwnProperty(i)&&(S[i]=t[i])};function g(S,t){f(S,t);function i(){this.constructor=S}S.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}function y(S,t){var i=Object.setPrototypeOf;i?i(S,t):S.__proto__=t}function E(S,t){t===void 0&&(t=S.constructor);var i=Error.captureStackTrace;i&&i(S,t)}var A=function(S){g(t,S);function t(i){var o=this.constructor,a=S.call(this,i)||this;return Object.defineProperty(a,"name",{value:o.name,enumerable:!1}),y(a,o.prototype),E(a),a}return t}(Error);class C extends A{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}C.kind="Exception";class R extends C{}R.kind="ArgumentException";class O extends C{}O.kind="IllegalArgumentException";class H{constructor(t){if(this.binarizer=t,t===null)throw new O("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,i){return this.binarizer.getBlackRow(t,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,i,o,a){const l=this.binarizer.getLuminanceSource().crop(t,i,o,a);return new H(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new H(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new H(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class X extends C{static getChecksumInstance(){return new X}}X.kind="ChecksumException";class ee{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class U{static arraycopy(t,i,o,a,l){for(;l--;)o[a++]=t[i++]}static currentTimeMillis(){return Date.now()}}class ye extends C{}ye.kind="IndexOutOfBoundsException";class j extends ye{constructor(t=void 0,i=void 0){super(i),this.index=t,this.message=i}}j.kind="ArrayIndexOutOfBoundsException";class k{static fill(t,i){for(let o=0,a=t.length;o<a;o++)t[o]=i}static fillWithin(t,i,o,a){k.rangeCheck(t.length,i,o);for(let l=i;l<o;l++)t[l]=a}static rangeCheck(t,i,o){if(i>o)throw new O("fromIndex("+i+") > toIndex("+o+")");if(i<0)throw new j(i);if(o>t)throw new j(o)}static asList(...t){return t}static create(t,i,o){return Array.from({length:t}).map(l=>Array.from({length:i}).fill(o))}static createInt32Array(t,i,o){return Array.from({length:t}).map(l=>Int32Array.from({length:i}).fill(o))}static equals(t,i){if(!t||!i||!t.length||!i.length||t.length!==i.length)return!1;for(let o=0,a=t.length;o<a;o++)if(t[o]!==i[o])return!1;return!0}static hashCode(t){if(t===null)return 0;let i=1;for(const o of t)i=31*i+o;return i}static fillUint8Array(t,i){for(let o=0;o!==t.length;o++)t[o]=i}static copyOf(t,i){return t.slice(0,i)}static copyOfUint8Array(t,i){if(t.length<=i){const o=new Uint8Array(i);return o.set(t),o}return t.slice(0,i)}static copyOfRange(t,i,o){const a=o-i,l=new Int32Array(a);return U.arraycopy(t,i,l,0,a),l}static binarySearch(t,i,o){o===void 0&&(o=k.numberComparator);let a=0,l=t.length-1;for(;a<=l;){const h=l+a>>1,d=o(i,t[h]);if(d>0)a=h+1;else if(d<0)l=h-1;else return h}return-a-1}static numberComparator(t,i){return t-i}}class P{static numberOfTrailingZeros(t){let i;if(t===0)return 32;let o=31;return i=t<<16,i!==0&&(o-=16,t=i),i=t<<8,i!==0&&(o-=8,t=i),i=t<<4,i!==0&&(o-=4,t=i),i=t<<2,i!==0&&(o-=2,t=i),o-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let i=1;return t>>>16||(i+=16,t<<=16),t>>>24||(i+=8,t<<=8),t>>>28||(i+=4,t<<=4),t>>>30||(i+=2,t<<=2),i-=t>>>31,i}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,i){return Math.trunc(t/i)}static parseInt(t,i=void 0){return parseInt(t,i)}}P.MIN_VALUE_32_BITS=-2147483648,P.MAX_VALUE=Number.MAX_SAFE_INTEGER;class K{constructor(t,i){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,i==null?this.bits=K.makeArray(t):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const i=K.makeArray(t);U.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const i=this.size;if(t>=i)return i;const o=this.bits;let a=Math.floor(t/32),l=o[a];l&=~((1<<(t&31))-1);const h=o.length;for(;l===0;){if(++a===h)return i;l=o[a]}const d=a*32+P.numberOfTrailingZeros(l);return d>i?i:d}getNextUnset(t){const i=this.size;if(t>=i)return i;const o=this.bits;let a=Math.floor(t/32),l=~o[a];l&=~((1<<(t&31))-1);const h=o.length;for(;l===0;){if(++a===h)return i;l=~o[a]}const d=a*32+P.numberOfTrailingZeros(l);return d>i?i:d}setBulk(t,i){this.bits[Math.floor(t/32)]=i}setRange(t,i){if(i<t||t<0||i>this.size)throw new O;if(i===t)return;i--;const o=Math.floor(t/32),a=Math.floor(i/32),l=this.bits;for(let h=o;h<=a;h++){const d=h>o?0:t&31,x=(2<<(h<a?31:i&31))-(1<<d);l[h]|=x}}clear(){const t=this.bits.length,i=this.bits;for(let o=0;o<t;o++)i[o]=0}isRange(t,i,o){if(i<t||t<0||i>this.size)throw new O;if(i===t)return!0;i--;const a=Math.floor(t/32),l=Math.floor(i/32),h=this.bits;for(let d=a;d<=l;d++){const m=d>a?0:t&31,w=(2<<(d<l?31:i&31))-(1<<m)&4294967295;if((h[d]&w)!==(o?w:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,i){if(i<0||i>32)throw new O("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let o=i;o>0;o--)this.appendBit((t>>o-1&1)===1)}appendBitArray(t){const i=t.size;this.ensureCapacity(this.size+i);for(let o=0;o<i;o++)this.appendBit(t.get(o))}xor(t){if(this.size!==t.size)throw new O("Sizes don't match");const i=this.bits;for(let o=0,a=i.length;o<a;o++)i[o]^=t.bits[o]}toBytes(t,i,o,a){for(let l=0;l<a;l++){let h=0;for(let d=0;d<8;d++)this.get(t)&&(h|=1<<7-d),t++;i[o+l]=h}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),o=i+1,a=this.bits;for(let l=0;l<o;l++){let h=a[l];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,t[i-l]=h}if(this.size!==o*32){const l=o*32-this.size;let h=t[0]>>>l;for(let d=1;d<o;d++){const m=t[d];h|=m<<32-l,t[d-1]=h,h=m>>>l}t[o-1]=h}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof K))return!1;const i=t;return this.size===i.size&&k.equals(this.bits,i.bits)}hashCode(){return 31*this.size+k.hashCode(this.bits)}toString(){let t="";for(let i=0,o=this.size;i<o;i++)i&7||(t+=" "),t+=this.get(i)?"X":".";return t}clone(){return new K(this.size,this.bits.slice())}}var de;(function(S){S[S.OTHER=0]="OTHER",S[S.PURE_BARCODE=1]="PURE_BARCODE",S[S.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",S[S.TRY_HARDER=3]="TRY_HARDER",S[S.CHARACTER_SET=4]="CHARACTER_SET",S[S.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",S[S.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",S[S.ASSUME_GS1=7]="ASSUME_GS1",S[S.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",S[S.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",S[S.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(de||(de={}));var ne=de;class V extends C{static getFormatInstance(){return new V}}V.kind="FormatException";var ie;(function(S){S[S.Cp437=0]="Cp437",S[S.ISO8859_1=1]="ISO8859_1",S[S.ISO8859_2=2]="ISO8859_2",S[S.ISO8859_3=3]="ISO8859_3",S[S.ISO8859_4=4]="ISO8859_4",S[S.ISO8859_5=5]="ISO8859_5",S[S.ISO8859_6=6]="ISO8859_6",S[S.ISO8859_7=7]="ISO8859_7",S[S.ISO8859_8=8]="ISO8859_8",S[S.ISO8859_9=9]="ISO8859_9",S[S.ISO8859_10=10]="ISO8859_10",S[S.ISO8859_11=11]="ISO8859_11",S[S.ISO8859_13=12]="ISO8859_13",S[S.ISO8859_14=13]="ISO8859_14",S[S.ISO8859_15=14]="ISO8859_15",S[S.ISO8859_16=15]="ISO8859_16",S[S.SJIS=16]="SJIS",S[S.Cp1250=17]="Cp1250",S[S.Cp1251=18]="Cp1251",S[S.Cp1252=19]="Cp1252",S[S.Cp1256=20]="Cp1256",S[S.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",S[S.UTF8=22]="UTF8",S[S.ASCII=23]="ASCII",S[S.Big5=24]="Big5",S[S.GB18030=25]="GB18030",S[S.EUC_KR=26]="EUC_KR"})(ie||(ie={}));class ${constructor(t,i,o,...a){this.valueIdentifier=t,this.name=o,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=a,$.VALUE_IDENTIFIER_TO_ECI.set(t,this),$.NAME_TO_ECI.set(o,this);const l=this.values;for(let h=0,d=l.length;h!==d;h++){const m=l[h];$.VALUES_TO_ECI.set(m,this)}for(const h of a)$.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new V("incorect value");const i=$.VALUES_TO_ECI.get(t);if(i===void 0)throw new V("incorect value");return i}static getCharacterSetECIByName(t){const i=$.NAME_TO_ECI.get(t);if(i===void 0)throw new V("incorect value");return i}equals(t){if(!(t instanceof $))return!1;const i=t;return this.getName()===i.getName()}}$.VALUE_IDENTIFIER_TO_ECI=new Map,$.VALUES_TO_ECI=new Map,$.NAME_TO_ECI=new Map,$.Cp437=new $(ie.Cp437,Int32Array.from([0,2]),"Cp437"),$.ISO8859_1=new $(ie.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),$.ISO8859_2=new $(ie.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),$.ISO8859_3=new $(ie.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),$.ISO8859_4=new $(ie.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),$.ISO8859_5=new $(ie.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),$.ISO8859_6=new $(ie.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),$.ISO8859_7=new $(ie.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),$.ISO8859_8=new $(ie.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),$.ISO8859_9=new $(ie.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),$.ISO8859_10=new $(ie.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),$.ISO8859_11=new $(ie.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),$.ISO8859_13=new $(ie.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),$.ISO8859_14=new $(ie.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),$.ISO8859_15=new $(ie.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),$.ISO8859_16=new $(ie.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),$.SJIS=new $(ie.SJIS,20,"SJIS","Shift_JIS"),$.Cp1250=new $(ie.Cp1250,21,"Cp1250","windows-1250"),$.Cp1251=new $(ie.Cp1251,22,"Cp1251","windows-1251"),$.Cp1252=new $(ie.Cp1252,23,"Cp1252","windows-1252"),$.Cp1256=new $(ie.Cp1256,24,"Cp1256","windows-1256"),$.UnicodeBigUnmarked=new $(ie.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),$.UTF8=new $(ie.UTF8,26,"UTF8","UTF-8"),$.ASCII=new $(ie.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),$.Big5=new $(ie.Big5,28,"Big5"),$.GB18030=new $(ie.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),$.EUC_KR=new $(ie.EUC_KR,30,"EUC_KR","EUC-KR");class be extends C{}be.kind="UnsupportedOperationException";class Fe{static decode(t,i){const o=this.encodingName(i);return this.customDecoder?this.customDecoder(t,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(t,o):new TextDecoder(o).decode(t)}static shouldDecodeOnFallback(t){return!Fe.isBrowser()&&t==="ISO-8859-1"}static encode(t,i){const o=this.encodingName(i);return this.customEncoder?this.customEncoder(t,o):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof $?t:$.getCharacterSetECIByName(t)}static decodeFallback(t,i){const o=this.encodingCharacterSet(i);if(Fe.isDecodeFallbackSupported(o)){let a="";for(let l=0,h=t.length;l<h;l++){let d=t[l].toString(16);d.length<2&&(d="0"+d),a+="%"+d}return decodeURIComponent(a)}if(o.equals($.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new be(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals($.UTF8)||t.equals($.ISO8859_1)||t.equals($.ASCII)}static encodeFallback(t){const o=btoa(unescape(encodeURIComponent(t))).split(""),a=[];for(let l=0;l<o.length;l++)a.push(o[l].charCodeAt(0));return new Uint8Array(a)}}class Ce{static castAsNonUtf8Char(t,i=null){const o=i?i.getName():this.ISO88591;return Fe.decode(new Uint8Array([t]),o)}static guessEncoding(t,i){if(i!=null&&i.get(ne.CHARACTER_SET)!==void 0)return i.get(ne.CHARACTER_SET).toString();const o=t.length;let a=!0,l=!0,h=!0,d=0,m=0,x=0,w=0,T=0,N=0,D=0,F=0,z=0,Z=0,Y=0;const ce=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let he=0;he<o&&(a||l||h);he++){const ae=t[he]&255;h&&(d>0?ae&128?d--:h=!1:ae&128&&(ae&64?(d++,ae&32?(d++,ae&16?(d++,ae&8?h=!1:w++):x++):m++):h=!1)),a&&(ae>127&&ae<160?a=!1:ae>159&&(ae<192||ae===215||ae===247)&&Y++),l&&(T>0?ae<64||ae===127||ae>252?l=!1:T--:ae===128||ae===160||ae>239?l=!1:ae>160&&ae<224?(N++,F=0,D++,D>z&&(z=D)):ae>127?(T++,D=0,F++,F>Z&&(Z=F)):(D=0,F=0))}return h&&d>0&&(h=!1),l&&T>0&&(l=!1),h&&(ce||m+x+w>0)?Ce.UTF8:l&&(Ce.ASSUME_SHIFT_JIS||z>=3||Z>=3)?Ce.SHIFT_JIS:a&&l?z===2&&N===2||Y*10>=o?Ce.SHIFT_JIS:Ce.ISO88591:a?Ce.ISO88591:l?Ce.SHIFT_JIS:h?Ce.UTF8:Ce.PLATFORM_DEFAULT_ENCODING}static format(t,...i){let o=-1;function a(h,d,m,x,w,T){if(h==="%%")return"%";if(i[++o]===void 0)return;h=x?parseInt(x.substr(1)):void 0;let N=w?parseInt(w.substr(1)):void 0,D;switch(T){case"s":D=i[o];break;case"c":D=i[o][0];break;case"f":D=parseFloat(i[o]).toFixed(h);break;case"p":D=parseFloat(i[o]).toPrecision(h);break;case"e":D=parseFloat(i[o]).toExponential(h);break;case"x":D=parseInt(i[o]).toString(N||16);break;case"d":D=parseFloat(parseInt(i[o],N||10).toPrecision(h)).toFixed(0);break}D=typeof D=="object"?JSON.stringify(D):(+D).toString(N);let F=parseInt(m),z=m&&m[0]+""=="0"?"0":" ";for(;D.length<F;)D=d!==void 0?D+z:z+D;return D}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,a)}static getBytes(t,i){return Fe.encode(t,i)}static getCharCode(t,i=0){return t.charCodeAt(i)}static getCharAt(t){return String.fromCharCode(t)}}Ce.SHIFT_JIS=$.SJIS.getName(),Ce.GB2312="GB2312",Ce.ISO88591=$.ISO8859_1.getName(),Ce.EUC_JP="EUC_JP",Ce.UTF8=$.UTF8.getName(),Ce.PLATFORM_DEFAULT_ENCODING=Ce.UTF8,Ce.ASSUME_SHIFT_JIS=!1;class Ze{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=Ce.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,i,o){for(let a=i;i<i+o;a++)this.append(t[a]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+1)}substring(t,i){return this.value.substring(t,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+i.length)}}class nt{constructor(t,i,o,a){if(this.width=t,this.height=i,this.rowSize=o,this.bits=a,i==null&&(i=t),this.height=i,t<1||i<1)throw new O("Both dimensions must be greater than 0");o==null&&(o=Math.floor((t+31)/32)),this.rowSize=o,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const i=t.length,o=t[0].length,a=new nt(o,i);for(let l=0;l<i;l++){const h=t[l];for(let d=0;d<o;d++)h[d]&&a.set(d,l)}return a}static parseFromString(t,i,o){if(t===null)throw new O("stringRepresentation cannot be null");const a=new Array(t.length);let l=0,h=0,d=-1,m=0,x=0;for(;x<t.length;)if(t.charAt(x)===`
`||t.charAt(x)==="\r"){if(l>h){if(d===-1)d=l-h;else if(l-h!==d)throw new O("row lengths do not match");h=l,m++}x++}else if(t.substring(x,x+i.length)===i)x+=i.length,a[l]=!0,l++;else if(t.substring(x,x+o.length)===o)x+=o.length,a[l]=!1,l++;else throw new O("illegal character encountered: "+t.substring(x));if(l>h){if(d===-1)d=l-h;else if(l-h!==d)throw new O("row lengths do not match");m++}const w=new nt(d,m);for(let T=0;T<l;T++)a[T]&&w.set(Math.floor(T%d),Math.floor(T/d));return w}get(t,i){const o=i*this.rowSize+Math.floor(t/32);return(this.bits[o]>>>(t&31)&1)!==0}set(t,i){const o=i*this.rowSize+Math.floor(t/32);this.bits[o]|=1<<(t&31)&4294967295}unset(t,i){const o=i*this.rowSize+Math.floor(t/32);this.bits[o]&=~(1<<(t&31)&4294967295)}flip(t,i){const o=i*this.rowSize+Math.floor(t/32);this.bits[o]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new O("input matrix dimensions do not match");const i=new K(Math.floor(this.width/32)+1),o=this.rowSize,a=this.bits;for(let l=0,h=this.height;l<h;l++){const d=l*o,m=t.getRow(l,i).getBitArray();for(let x=0;x<o;x++)a[d+x]^=m[x]}}clear(){const t=this.bits,i=t.length;for(let o=0;o<i;o++)t[o]=0}setRegion(t,i,o,a){if(i<0||t<0)throw new O("Left and top must be nonnegative");if(a<1||o<1)throw new O("Height and width must be at least 1");const l=t+o,h=i+a;if(h>this.height||l>this.width)throw new O("The region must fit inside the matrix");const d=this.rowSize,m=this.bits;for(let x=i;x<h;x++){const w=x*d;for(let T=t;T<l;T++)m[w+Math.floor(T/32)]|=1<<(T&31)&4294967295}}getRow(t,i){i==null||i.getSize()<this.width?i=new K(this.width):i.clear();const o=this.rowSize,a=this.bits,l=t*o;for(let h=0;h<o;h++)i.setBulk(h*32,a[l+h]);return i}setRow(t,i){U.arraycopy(i.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),i=this.getHeight();let o=new K(t),a=new K(t);for(let l=0,h=Math.floor((i+1)/2);l<h;l++)o=this.getRow(l,o),a=this.getRow(i-1-l,a),o.reverse(),a.reverse(),this.setRow(l,a),this.setRow(i-1-l,o)}getEnclosingRectangle(){const t=this.width,i=this.height,o=this.rowSize,a=this.bits;let l=t,h=i,d=-1,m=-1;for(let x=0;x<i;x++)for(let w=0;w<o;w++){const T=a[x*o+w];if(T!==0){if(x<h&&(h=x),x>m&&(m=x),w*32<l){let N=0;for(;!(T<<31-N&4294967295);)N++;w*32+N<l&&(l=w*32+N)}if(w*32+31>d){let N=31;for(;!(T>>>N);)N--;w*32+N>d&&(d=w*32+N)}}}return d<l||m<h?null:Int32Array.from([l,h,d-l+1,m-h+1])}getTopLeftOnBit(){const t=this.rowSize,i=this.bits;let o=0;for(;o<i.length&&i[o]===0;)o++;if(o===i.length)return null;const a=o/t;let l=o%t*32;const h=i[o];let d=0;for(;!(h<<31-d&4294967295);)d++;return l+=d,Int32Array.from([l,a])}getBottomRightOnBit(){const t=this.rowSize,i=this.bits;let o=i.length-1;for(;o>=0&&i[o]===0;)o--;if(o<0)return null;const a=Math.floor(o/t);let l=Math.floor(o%t)*32;const h=i[o];let d=31;for(;!(h>>>d);)d--;return l+=d,Int32Array.from([l,a])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof nt))return!1;const i=t;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&k.equals(this.bits,i.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+k.hashCode(this.bits),t}toString(t="X ",i="  ",o=`
`){return this.buildToString(t,i,o)}buildToString(t,i,o){let a=new Ze;for(let l=0,h=this.height;l<h;l++){for(let d=0,m=this.width;d<m;d++)a.append(this.get(d,l)?t:i);a.append(o)}return a.toString()}clone(){return new nt(this.width,this.height,this.rowSize,this.bits.slice())}}class J extends C{static getNotFoundInstance(){return new J}}J.kind="NotFoundException";class We extends ee{constructor(t){super(t),this.luminances=We.EMPTY,this.buckets=new Int32Array(We.LUMINANCE_BUCKETS)}getBlackRow(t,i){const o=this.getLuminanceSource(),a=o.getWidth();i==null||i.getSize()<a?i=new K(a):i.clear(),this.initArrays(a);const l=o.getRow(t,this.luminances),h=this.buckets;for(let m=0;m<a;m++)h[(l[m]&255)>>We.LUMINANCE_SHIFT]++;const d=We.estimateBlackPoint(h);if(a<3)for(let m=0;m<a;m++)(l[m]&255)<d&&i.set(m);else{let m=l[0]&255,x=l[1]&255;for(let w=1;w<a-1;w++){const T=l[w+1]&255;(x*4-m-T)/2<d&&i.set(w),m=x,x=T}}return i}getBlackMatrix(){const t=this.getLuminanceSource(),i=t.getWidth(),o=t.getHeight(),a=new nt(i,o);this.initArrays(i);const l=this.buckets;for(let m=1;m<5;m++){const x=Math.floor(o*m/5),w=t.getRow(x,this.luminances),T=Math.floor(i*4/5);for(let N=Math.floor(i/5);N<T;N++){const D=w[N]&255;l[D>>We.LUMINANCE_SHIFT]++}}const h=We.estimateBlackPoint(l),d=t.getMatrix();for(let m=0;m<o;m++){const x=m*i;for(let w=0;w<i;w++)(d[x+w]&255)<h&&a.set(w,m)}return a}createBinarizer(t){return new We(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const i=this.buckets;for(let o=0;o<We.LUMINANCE_BUCKETS;o++)i[o]=0}static estimateBlackPoint(t){const i=t.length;let o=0,a=0,l=0;for(let w=0;w<i;w++)t[w]>l&&(a=w,l=t[w]),t[w]>o&&(o=t[w]);let h=0,d=0;for(let w=0;w<i;w++){const T=w-a,N=t[w]*T*T;N>d&&(h=w,d=N)}if(a>h){const w=a;a=h,h=w}if(h-a<=i/16)throw new J;let m=h-1,x=-1;for(let w=h-1;w>a;w--){const T=w-a,N=T*T*(h-w)*(o-t[w]);N>x&&(m=w,x=N)}return m<<We.LUMINANCE_SHIFT}}We.LUMINANCE_BITS=5,We.LUMINANCE_SHIFT=8-We.LUMINANCE_BITS,We.LUMINANCE_BUCKETS=1<<We.LUMINANCE_BITS,We.EMPTY=Uint8ClampedArray.from([0]);class Le extends We{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),i=t.getWidth(),o=t.getHeight();if(i>=Le.MINIMUM_DIMENSION&&o>=Le.MINIMUM_DIMENSION){const a=t.getMatrix();let l=i>>Le.BLOCK_SIZE_POWER;i&Le.BLOCK_SIZE_MASK&&l++;let h=o>>Le.BLOCK_SIZE_POWER;o&Le.BLOCK_SIZE_MASK&&h++;const d=Le.calculateBlackPoints(a,l,h,i,o),m=new nt(i,o);Le.calculateThresholdForBlock(a,l,h,i,o,d,m),this.matrix=m}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new Le(t)}static calculateThresholdForBlock(t,i,o,a,l,h,d){const m=l-Le.BLOCK_SIZE,x=a-Le.BLOCK_SIZE;for(let w=0;w<o;w++){let T=w<<Le.BLOCK_SIZE_POWER;T>m&&(T=m);const N=Le.cap(w,2,o-3);for(let D=0;D<i;D++){let F=D<<Le.BLOCK_SIZE_POWER;F>x&&(F=x);const z=Le.cap(D,2,i-3);let Z=0;for(let ce=-2;ce<=2;ce++){const he=h[N+ce];Z+=he[z-2]+he[z-1]+he[z]+he[z+1]+he[z+2]}const Y=Z/25;Le.thresholdBlock(t,F,T,Y,a,d)}}}static cap(t,i,o){return t<i?i:t>o?o:t}static thresholdBlock(t,i,o,a,l,h){for(let d=0,m=o*l+i;d<Le.BLOCK_SIZE;d++,m+=l)for(let x=0;x<Le.BLOCK_SIZE;x++)(t[m+x]&255)<=a&&h.set(i+x,o+d)}static calculateBlackPoints(t,i,o,a,l){const h=l-Le.BLOCK_SIZE,d=a-Le.BLOCK_SIZE,m=new Array(o);for(let x=0;x<o;x++){m[x]=new Int32Array(i);let w=x<<Le.BLOCK_SIZE_POWER;w>h&&(w=h);for(let T=0;T<i;T++){let N=T<<Le.BLOCK_SIZE_POWER;N>d&&(N=d);let D=0,F=255,z=0;for(let Y=0,ce=w*a+N;Y<Le.BLOCK_SIZE;Y++,ce+=a){for(let he=0;he<Le.BLOCK_SIZE;he++){const ae=t[ce+he]&255;D+=ae,ae<F&&(F=ae),ae>z&&(z=ae)}if(z-F>Le.MIN_DYNAMIC_RANGE)for(Y++,ce+=a;Y<Le.BLOCK_SIZE;Y++,ce+=a)for(let he=0;he<Le.BLOCK_SIZE;he++)D+=t[ce+he]&255}let Z=D>>Le.BLOCK_SIZE_POWER*2;if(z-F<=Le.MIN_DYNAMIC_RANGE&&(Z=F/2,x>0&&T>0)){const Y=(m[x-1][T]+2*m[x][T-1]+m[x-1][T-1])/4;F<Y&&(Z=Y)}m[x][T]=Z}}return m}}Le.BLOCK_SIZE_POWER=3,Le.BLOCK_SIZE=1<<Le.BLOCK_SIZE_POWER,Le.BLOCK_SIZE_MASK=Le.BLOCK_SIZE-1,Le.MINIMUM_DIMENSION=Le.BLOCK_SIZE*5,Le.MIN_DYNAMIC_RANGE=24;class te{constructor(t,i){this.width=t,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,i,o,a){throw new be("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new be("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new be("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let i=new Ze;for(let o=0;o<this.height;o++){const a=this.getRow(o,t);for(let l=0;l<this.width;l++){const h=a[l]&255;let d;h<64?d="#":h<128?d="+":h<192?d=".":d=" ",i.append(d)}i.append(`
`)}return i.toString()}}class Me extends te{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,i){const o=this.delegate.getRow(t,i),a=this.getWidth();for(let l=0;l<a;l++)o[l]=255-(o[l]&255);return o}getMatrix(){const t=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(i);for(let a=0;a<i;a++)o[a]=255-(t[a]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(t,i,o,a){return new Me(this.delegate.crop(t,i,o,a))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Me(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Me(this.delegate.rotateCounterClockwise45())}}class le extends te{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=le.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const i=t.getContext("2d").getImageData(0,0,t.width,t.height);return le.toGrayscaleBuffer(i.data,t.width,t.height)}static toGrayscaleBuffer(t,i,o){const a=new Uint8ClampedArray(i*o);for(let l=0,h=0,d=t.length;l<d;l+=4,h++){let m;if(t[l+3]===0)m=255;else{const w=t[l],T=t[l+1],N=t[l+2];m=306*w+601*T+117*N+512>>10}a[h]=m}return a}getRow(t,i){if(t<0||t>=this.getHeight())throw new O("Requested row is outside the image: "+t);const o=this.getWidth(),a=t*o;return i===null?i=this.buffer.slice(a,a+o):(i.length<o&&(i=new Uint8ClampedArray(o)),i.set(this.buffer.slice(a,a+o))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,i,o,a){return super.crop(t,i,o,a),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const i=this.getTempCanvasElement(),o=i.getContext("2d"),a=t*le.DEGREE_TO_RADIANS,l=this.canvas.width,h=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(a))*l+Math.abs(Math.sin(a))*h),m=Math.ceil(Math.abs(Math.sin(a))*l+Math.abs(Math.cos(a))*h);return i.width=d,i.height=m,o.translate(d/2,m/2),o.rotate(a),o.drawImage(this.canvas,l/-2,h/-2),this.buffer=le.makeBufferFromCanvasImageData(i),this}invert(){return new Me(this)}}le.DEGREE_TO_RADIANS=Math.PI/180;class re{constructor(t,i,o){this.deviceId=t,this.label=i,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ge=(globalThis||Os||self||window||void 0)&&(globalThis||Os||self||window||void 0).__awaiter||function(S,t,i,o){function a(l){return l instanceof i?l:new i(function(h){h(l)})}return new(i||(i=Promise))(function(l,h){function d(w){try{x(o.next(w))}catch(T){h(T)}}function m(w){try{x(o.throw(w))}catch(T){h(T)}}function x(w){w.done?l(w.value):a(w.value).then(d,m)}x((o=o.apply(S,t||[])).next())})};class Ue{constructor(t,i=500,o){this.reader=t,this.timeBetweenScansMillis=i,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return ge(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const o of t){const a=o.kind==="video"?"videoinput":o.kind;if(a!=="videoinput")continue;const l=o.deviceId||o.id,h=o.label||`Video device ${i.length+1}`,d=o.groupId,m={deviceId:l,label:h,kind:a,groupId:d};i.push(m)}return i})}getVideoInputDevices(){return ge(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new re(i.deviceId,i.label))})}findDeviceById(t){return ge(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(o=>o.deviceId===t):null})}decodeFromInputVideoDevice(t,i){return ge(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,i)})}decodeOnceFromVideoDevice(t,i){return ge(this,void 0,void 0,function*(){this.reset();let o;t?o={deviceId:{exact:t}}:o={facingMode:"environment"};const a={video:o};return yield this.decodeOnceFromConstraints(a,i)})}decodeOnceFromConstraints(t,i){return ge(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(o,i)})}decodeOnceFromStream(t,i){return ge(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(t,i);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(t,i,o){return ge(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,i,o)})}decodeFromVideoDevice(t,i,o){return ge(this,void 0,void 0,function*(){let a;t?a={deviceId:{exact:t}}:a={facingMode:"environment"};const l={video:a};return yield this.decodeFromConstraints(l,i,o)})}decodeFromConstraints(t,i,o){return ge(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(a,i,o)})}decodeFromStream(t,i,o){return ge(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(t,i);return yield this.decodeContinuously(a,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,i){return ge(this,void 0,void 0,function*(){const o=this.prepareVideoElement(i);return this.addVideoSource(o,t),this.videoElement=o,this.stream=t,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(t){return new Promise((i,o)=>this.playVideoOnLoad(t,()=>i()))}playVideoOnLoad(t,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",i),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return ge(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,i){const o=document.getElementById(t);if(!o)throw new R(`element with id '${t}' not found`);if(o.nodeName.toLowerCase()!==i.toLowerCase())throw new R(`element with id '${t}' must be an ${i} element`);return o}decodeFromImage(t,i){if(!t&&!i)throw new R("either imageElement with a src set or an url must be provided");return i&&!t?this.decodeFromImageUrl(i):this.decodeFromImageElement(t)}decodeFromVideo(t,i){if(!t&&!i)throw new R("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,i,o){if(t===void 0&&i===void 0)throw new R("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrlContinuously(i,o):this.decodeFromVideoElementContinuously(t,o)}decodeFromImageElement(t){if(!t)throw new R("An image element must be provided.");this.reset();const i=this.prepareImageElement(t);this.imageElement=i;let o;return this.isImageLoaded(i)?o=this.decodeOnce(i,!1,!0):o=this._decodeOnLoadImage(i),o}decodeFromVideoElement(t){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(t,i){const o=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(o,i)}_decodeFromVideoElementSetup(t){if(!t)throw new R("A video element must be provided.");this.reset();const i=this.prepareVideoElement(t);return this.videoElement=i,i}decodeFromImageUrl(t){if(!t)throw new R("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const o=this._decodeOnLoadImage(i);return i.src=t,o}decodeFromVideoUrl(t){if(!t)throw new R("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElement(i);return i.src=t,o}decodeFromVideoUrlContinuously(t,i){if(!t)throw new R("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(o,i);return o.src=t,a}_decodeOnLoadImage(t){return new Promise((i,o)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(i,o),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return ge(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,i){return ge(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,i)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let i;return typeof t>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(i=t),i}prepareVideoElement(t){let i;return!t&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(i=t),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(t,i=!0,o=!0){this._stopAsyncDecode=!1;const a=(l,h)=>{if(this._stopAsyncDecode){h(new J("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const d=this.decode(t);l(d)}catch(d){const m=i&&d instanceof J,w=(d instanceof X||d instanceof V)&&o;if(m||w)return setTimeout(a,this._timeBetweenDecodingAttempts,l,h);h(d)}};return new Promise((l,h)=>a(l,h))}decodeContinuously(t,i){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const a=this.decode(t);i(a,null),setTimeout(o,this.timeBetweenScansMillis)}catch(a){i(null,a);const l=a instanceof X||a instanceof V,h=a instanceof J;(l||h)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(t){const i=this.createBinaryBitmap(t);return this.decodeBitmap(i)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,i,o){i||(i={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(t,i,o=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const i=this.getCaptureCanvas(t),o=new le(i),a=new Le(o);return new H(a)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const i=this.createCaptureCanvas(t);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let o,a;return typeof t<"u"&&(t instanceof HTMLVideoElement?(o=t.videoWidth,a=t.videoHeight):t instanceof HTMLImageElement&&(o=t.naturalWidth||t.width,a=t.naturalHeight||t.height)),i.style.width=o+"px",i.style.height=a+"px",i.width=o,i.height=a,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,i){try{t.srcObject=i}catch{t.src=URL.createObjectURL(i)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class De{constructor(t,i,o=i==null?0:8*i.length,a,l,h=U.currentTimeMillis()){this.text=t,this.rawBytes=i,this.numBits=o,this.resultPoints=a,this.format=l,this.timestamp=h,this.text=t,this.rawBytes=i,o==null?this.numBits=i==null?0:8*i.length:this.numBits=o,this.resultPoints=a,this.format=l,this.resultMetadata=null,h==null?this.timestamp=U.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,i)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const i=this.resultPoints;if(i===null)this.resultPoints=t;else if(t!==null&&t.length>0){const o=new Array(i.length+t.length);U.arraycopy(i,0,o,0,i.length),U.arraycopy(t,0,o,i.length,t.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Qe;(function(S){S[S.AZTEC=0]="AZTEC",S[S.CODABAR=1]="CODABAR",S[S.CODE_39=2]="CODE_39",S[S.CODE_93=3]="CODE_93",S[S.CODE_128=4]="CODE_128",S[S.DATA_MATRIX=5]="DATA_MATRIX",S[S.EAN_8=6]="EAN_8",S[S.EAN_13=7]="EAN_13",S[S.ITF=8]="ITF",S[S.MAXICODE=9]="MAXICODE",S[S.PDF_417=10]="PDF_417",S[S.QR_CODE=11]="QR_CODE",S[S.RSS_14=12]="RSS_14",S[S.RSS_EXPANDED=13]="RSS_EXPANDED",S[S.UPC_A=14]="UPC_A",S[S.UPC_E=15]="UPC_E",S[S.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Qe||(Qe={}));var ue=Qe,Jt;(function(S){S[S.OTHER=0]="OTHER",S[S.ORIENTATION=1]="ORIENTATION",S[S.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",S[S.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",S[S.ISSUE_NUMBER=4]="ISSUE_NUMBER",S[S.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",S[S.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",S[S.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",S[S.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",S[S.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",S[S.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Jt||(Jt={}));var pt=Jt;class fr{constructor(t,i,o,a,l=-1,h=-1){this.rawBytes=t,this.text=i,this.byteSegments=o,this.ecLevel=a,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=h,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Wi{exp(t){return this.expTable[t]}log(t){if(t===0)throw new O;return this.logTable[t]}static addOrSubtract(t,i){return t^i}}class $t{constructor(t,i){if(i.length===0)throw new O;this.field=t;const o=i.length;if(o>1&&i[0]===0){let a=1;for(;a<o&&i[a]===0;)a++;a===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-a),U.arraycopy(i,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const i=this.coefficients;let o;if(t===1){o=0;for(let h=0,d=i.length;h!==d;h++){const m=i[h];o=Wi.addOrSubtract(o,m)}return o}o=i[0];const a=i.length,l=this.field;for(let h=1;h<a;h++)o=Wi.addOrSubtract(l.multiply(t,o),i[h]);return o}addOrSubtract(t){if(!this.field.equals(t.field))throw new O("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,o=t.coefficients;if(i.length>o.length){const h=i;i=o,o=h}let a=new Int32Array(o.length);const l=o.length-i.length;U.arraycopy(o,0,a,0,l);for(let h=l;h<o.length;h++)a[h]=Wi.addOrSubtract(i[h-l],o[h]);return new $t(this.field,a)}multiply(t){if(!this.field.equals(t.field))throw new O("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const i=this.coefficients,o=i.length,a=t.coefficients,l=a.length,h=new Int32Array(o+l-1),d=this.field;for(let m=0;m<o;m++){const x=i[m];for(let w=0;w<l;w++)h[m+w]=Wi.addOrSubtract(h[m+w],d.multiply(x,a[w]))}return new $t(d,h)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const i=this.coefficients.length,o=this.field,a=new Int32Array(i),l=this.coefficients;for(let h=0;h<i;h++)a[h]=o.multiply(l[h],t);return new $t(o,a)}multiplyByMonomial(t,i){if(t<0)throw new O;if(i===0)return this.field.getZero();const o=this.coefficients,a=o.length,l=new Int32Array(a+t),h=this.field;for(let d=0;d<a;d++)l[d]=h.multiply(o[d],i);return new $t(h,l)}divide(t){if(!this.field.equals(t.field))throw new O("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new O("Divide by 0");const i=this.field;let o=i.getZero(),a=this;const l=t.getCoefficient(t.getDegree()),h=i.inverse(l);for(;a.getDegree()>=t.getDegree()&&!a.isZero();){const d=a.getDegree()-t.getDegree(),m=i.multiply(a.getCoefficient(a.getDegree()),h),x=t.multiplyByMonomial(d,m),w=i.buildMonomial(d,m);o=o.addOrSubtract(w),a=a.addOrSubtract(x)}return[o,a]}toString(){let t="";for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);if(o!==0){if(o<0?(t+=" - ",o=-o):t.length>0&&(t+=" + "),i===0||o!==1){const a=this.field.log(o);a===0?t+="1":a===1?t+="a":(t+="a^",t+=a)}i!==0&&(i===1?t+="x":(t+="x^",t+=i))}}return t}}class Oi extends C{}Oi.kind="ArithmeticException";class qe extends Wi{constructor(t,i,o){super(),this.primitive=t,this.size=i,this.generatorBase=o;const a=new Int32Array(i);let l=1;for(let d=0;d<i;d++)a[d]=l,l*=2,l>=i&&(l^=t,l&=i-1);this.expTable=a;const h=new Int32Array(i);for(let d=0;d<i-1;d++)h[a[d]]=d;this.logTable=h,this.zero=new $t(this,Int32Array.from([0])),this.one=new $t(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new O;if(i===0)return this.zero;const o=new Int32Array(t+1);return o[0]=i,new $t(this,o)}inverse(t){if(t===0)throw new Oi;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+P.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}qe.AZTEC_DATA_12=new qe(4201,4096,1),qe.AZTEC_DATA_10=new qe(1033,1024,1),qe.AZTEC_DATA_6=new qe(67,64,1),qe.AZTEC_PARAM=new qe(19,16,1),qe.QR_CODE_FIELD_256=new qe(285,256,0),qe.DATA_MATRIX_FIELD_256=new qe(301,256,1),qe.AZTEC_DATA_8=qe.DATA_MATRIX_FIELD_256,qe.MAXICODE_FIELD_64=qe.AZTEC_DATA_6;class dr extends C{}dr.kind="ReedSolomonException";class jn extends C{}jn.kind="IllegalStateException";class gr{constructor(t){this.field=t}decode(t,i){const o=this.field,a=new $t(o,t),l=new Int32Array(i);let h=!0;for(let D=0;D<i;D++){const F=a.evaluateAt(o.exp(D+o.getGeneratorBase()));l[l.length-1-D]=F,F!==0&&(h=!1)}if(h)return;const d=new $t(o,l),m=this.runEuclideanAlgorithm(o.buildMonomial(i,1),d,i),x=m[0],w=m[1],T=this.findErrorLocations(x),N=this.findErrorMagnitudes(w,T);for(let D=0;D<T.length;D++){const F=t.length-1-o.log(T[D]);if(F<0)throw new dr("Bad error location");t[F]=qe.addOrSubtract(t[F],N[D])}}runEuclideanAlgorithm(t,i,o){if(t.getDegree()<i.getDegree()){const D=t;t=i,i=D}const a=this.field;let l=t,h=i,d=a.getZero(),m=a.getOne();for(;h.getDegree()>=(o/2|0);){let D=l,F=d;if(l=h,d=m,l.isZero())throw new dr("r_{i-1} was zero");h=D;let z=a.getZero();const Z=l.getCoefficient(l.getDegree()),Y=a.inverse(Z);for(;h.getDegree()>=l.getDegree()&&!h.isZero();){const ce=h.getDegree()-l.getDegree(),he=a.multiply(h.getCoefficient(h.getDegree()),Y);z=z.addOrSubtract(a.buildMonomial(ce,he)),h=h.addOrSubtract(l.multiplyByMonomial(ce,he))}if(m=z.multiply(d).addOrSubtract(F),h.getDegree()>=l.getDegree())throw new jn("Division algorithm failed to reduce polynomial?")}const x=m.getCoefficient(0);if(x===0)throw new dr("sigmaTilde(0) was zero");const w=a.inverse(x),T=m.multiplyScalar(w),N=h.multiplyScalar(w);return[T,N]}findErrorLocations(t){const i=t.getDegree();if(i===1)return Int32Array.from([t.getCoefficient(1)]);const o=new Int32Array(i);let a=0;const l=this.field;for(let h=1;h<l.getSize()&&a<i;h++)t.evaluateAt(h)===0&&(o[a]=l.inverse(h),a++);if(a!==i)throw new dr("Error locator degree does not match number of roots");return o}findErrorMagnitudes(t,i){const o=i.length,a=new Int32Array(o),l=this.field;for(let h=0;h<o;h++){const d=l.inverse(i[h]);let m=1;for(let x=0;x<o;x++)if(h!==x){const w=l.multiply(i[x],d),T=w&1?w&-2:w|1;m=l.multiply(m,T)}a[h]=l.multiply(t.evaluateAt(d),l.inverse(m)),l.getGeneratorBase()!==0&&(a[h]=l.multiply(a[h],d))}return a}}var zt;(function(S){S[S.UPPER=0]="UPPER",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.DIGIT=3]="DIGIT",S[S.PUNCT=4]="PUNCT",S[S.BINARY=5]="BINARY"})(zt||(zt={}));class ot{decode(t){this.ddata=t;let i=t.getBits(),o=this.extractBits(i),a=this.correctBits(o),l=ot.convertBoolArrayToByteArray(a),h=ot.getEncodedData(a),d=new fr(l,h,null,null);return d.setNumBits(a.length),d}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let i=t.length,o=zt.UPPER,a=zt.UPPER,l="",h=0;for(;h<i;)if(a===zt.BINARY){if(i-h<5)break;let d=ot.readCode(t,h,5);if(h+=5,d===0){if(i-h<11)break;d=ot.readCode(t,h,11)+31,h+=11}for(let m=0;m<d;m++){if(i-h<8){h=i;break}const x=ot.readCode(t,h,8);l+=Ce.castAsNonUtf8Char(x),h+=8}a=o}else{let d=a===zt.DIGIT?4:5;if(i-h<d)break;let m=ot.readCode(t,h,d);h+=d;let x=ot.getCharacter(a,m);x.startsWith("CTRL_")?(o=a,a=ot.getTable(x.charAt(5)),x.charAt(6)==="L"&&(o=a)):(l+=x,a=o)}return l}static getTable(t){switch(t){case"L":return zt.LOWER;case"P":return zt.PUNCT;case"M":return zt.MIXED;case"D":return zt.DIGIT;case"B":return zt.BINARY;case"U":default:return zt.UPPER}}static getCharacter(t,i){switch(t){case zt.UPPER:return ot.UPPER_TABLE[i];case zt.LOWER:return ot.LOWER_TABLE[i];case zt.MIXED:return ot.MIXED_TABLE[i];case zt.PUNCT:return ot.PUNCT_TABLE[i];case zt.DIGIT:return ot.DIGIT_TABLE[i];default:throw new jn("Bad table")}}correctBits(t){let i,o;this.ddata.getNbLayers()<=2?(o=6,i=qe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,i=qe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,i=qe.AZTEC_DATA_10):(o=12,i=qe.AZTEC_DATA_12);let a=this.ddata.getNbDatablocks(),l=t.length/o;if(l<a)throw new V;let h=t.length%o,d=new Int32Array(l);for(let N=0;N<l;N++,h+=o)d[N]=ot.readCode(t,h,o);try{new gr(i).decode(d,l-a)}catch(N){throw new V(N)}let m=(1<<o)-1,x=0;for(let N=0;N<a;N++){let D=d[N];if(D===0||D===m)throw new V;(D===1||D===m-1)&&x++}let w=new Array(a*o-x),T=0;for(let N=0;N<a;N++){let D=d[N];if(D===1||D===m-1)w.fill(D>1,T,T+o-1),T+=o-1;else for(let F=o-1;F>=0;--F)w[T++]=(D&1<<F)!==0}return w}extractBits(t){let i=this.ddata.isCompact(),o=this.ddata.getNbLayers(),a=(i?11:14)+o*4,l=new Int32Array(a),h=new Array(this.totalBitsInLayer(o,i));if(i)for(let d=0;d<l.length;d++)l[d]=d;else{let d=a+1+2*P.truncDivision(P.truncDivision(a,2)-1,15),m=a/2,x=P.truncDivision(d,2);for(let w=0;w<m;w++){let T=w+P.truncDivision(w,15);l[m-w-1]=x-T-1,l[m+w]=x+T+1}}for(let d=0,m=0;d<o;d++){let x=(o-d)*4+(i?9:12),w=d*2,T=a-1-w;for(let N=0;N<x;N++){let D=N*2;for(let F=0;F<2;F++)h[m+D+F]=t.get(l[w+F],l[w+N]),h[m+2*x+D+F]=t.get(l[w+N],l[T-F]),h[m+4*x+D+F]=t.get(l[T-F],l[T-N]),h[m+6*x+D+F]=t.get(l[T-N],l[w+F])}m+=x*8}return h}static readCode(t,i,o){let a=0;for(let l=i;l<i+o;l++)a<<=1,t[l]&&(a|=1);return a}static readByte(t,i){let o=t.length-i;return o>=8?ot.readCode(t,i,8):ot.readCode(t,i,o)<<8-o}static convertBoolArrayToByteArray(t){let i=new Uint8Array((t.length+7)/8);for(let o=0;o<i.length;o++)i[o]=ot.readByte(t,8*o);return i}totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}ot.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ot.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ot.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ot.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ot.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Je{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,i,o,a){const l=t-o,h=i-a;return Math.sqrt(l*l+h*h)}static sum(t){let i=0;for(let o=0,a=t.length;o!==a;o++){const l=t[o];i+=l}return i}}class Xr{static floatToIntBits(t){return t}}Xr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Se{constructor(t,i){this.x=t,this.y=i}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof Se){const i=t;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Xr.floatToIntBits(this.x)+Xr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const i=this.distance(t[0],t[1]),o=this.distance(t[1],t[2]),a=this.distance(t[0],t[2]);let l,h,d;if(o>=i&&o>=a?(h=t[0],l=t[1],d=t[2]):a>=o&&a>=i?(h=t[1],l=t[0],d=t[2]):(h=t[2],l=t[0],d=t[1]),this.crossProductZ(l,h,d)<0){const m=l;l=d,d=m}t[0]=l,t[1]=h,t[2]=d}static distance(t,i){return Je.distance(t.x,t.y,i.x,i.y)}static crossProductZ(t,i,o){const a=i.x,l=i.y;return(o.x-a)*(t.y-l)-(o.y-l)*(t.x-a)}}class Qr{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class lo extends Qr{constructor(t,i,o,a,l){super(t,i),this.compact=o,this.nbDatablocks=a,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class pi{constructor(t,i,o,a){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),i==null&&(i=pi.INIT_SIZE),o==null&&(o=t.getWidth()/2|0),a==null&&(a=t.getHeight()/2|0);const l=i/2|0;if(this.leftInit=o-l,this.rightInit=o+l,this.upInit=a-l,this.downInit=a+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new J}detect(){let t=this.leftInit,i=this.rightInit,o=this.upInit,a=this.downInit,l=!1,h=!0,d=!1,m=!1,x=!1,w=!1,T=!1;const N=this.width,D=this.height;for(;h;){h=!1;let F=!0;for(;(F||!m)&&i<N;)F=this.containsBlackPoint(o,a,i,!1),F?(i++,h=!0,m=!0):m||i++;if(i>=N){l=!0;break}let z=!0;for(;(z||!x)&&a<D;)z=this.containsBlackPoint(t,i,a,!0),z?(a++,h=!0,x=!0):x||a++;if(a>=D){l=!0;break}let Z=!0;for(;(Z||!w)&&t>=0;)Z=this.containsBlackPoint(o,a,t,!1),Z?(t--,h=!0,w=!0):w||t--;if(t<0){l=!0;break}let Y=!0;for(;(Y||!T)&&o>=0;)Y=this.containsBlackPoint(t,i,o,!0),Y?(o--,h=!0,T=!0):T||o--;if(o<0){l=!0;break}h&&(d=!0)}if(!l&&d){const F=i-t;let z=null;for(let he=1;z===null&&he<F;he++)z=this.getBlackPointOnSegment(t,a-he,t+he,a);if(z==null)throw new J;let Z=null;for(let he=1;Z===null&&he<F;he++)Z=this.getBlackPointOnSegment(t,o+he,t+he,o);if(Z==null)throw new J;let Y=null;for(let he=1;Y===null&&he<F;he++)Y=this.getBlackPointOnSegment(i,o+he,i-he,o);if(Y==null)throw new J;let ce=null;for(let he=1;ce===null&&he<F;he++)ce=this.getBlackPointOnSegment(i,a-he,i-he,a);if(ce==null)throw new J;return this.centerEdges(ce,z,Y,Z)}else throw new J}getBlackPointOnSegment(t,i,o,a){const l=Je.round(Je.distance(t,i,o,a)),h=(o-t)/l,d=(a-i)/l,m=this.image;for(let x=0;x<l;x++){const w=Je.round(t+x*h),T=Je.round(i+x*d);if(m.get(w,T))return new Se(w,T)}return null}centerEdges(t,i,o,a){const l=t.getX(),h=t.getY(),d=i.getX(),m=i.getY(),x=o.getX(),w=o.getY(),T=a.getX(),N=a.getY(),D=pi.CORR;return l<this.width/2?[new Se(T-D,N+D),new Se(d+D,m+D),new Se(x-D,w-D),new Se(l+D,h-D)]:[new Se(T+D,N+D),new Se(d+D,m-D),new Se(x-D,w+D),new Se(l-D,h-D)]}containsBlackPoint(t,i,o,a){const l=this.image;if(a){for(let h=t;h<=i;h++)if(l.get(h,o))return!0}else for(let h=t;h<=i;h++)if(l.get(o,h))return!0;return!1}}pi.INIT_SIZE=10,pi.CORR=1;class uo{static checkAndNudgePoints(t,i){const o=t.getWidth(),a=t.getHeight();let l=!0;for(let h=0;h<i.length&&l;h+=2){const d=Math.floor(i[h]),m=Math.floor(i[h+1]);if(d<-1||d>o||m<-1||m>a)throw new J;l=!1,d===-1?(i[h]=0,l=!0):d===o&&(i[h]=o-1,l=!0),m===-1?(i[h+1]=0,l=!0):m===a&&(i[h+1]=a-1,l=!0)}l=!0;for(let h=i.length-2;h>=0&&l;h-=2){const d=Math.floor(i[h]),m=Math.floor(i[h+1]);if(d<-1||d>o||m<-1||m>a)throw new J;l=!1,d===-1?(i[h]=0,l=!0):d===o&&(i[h]=o-1,l=!0),m===-1?(i[h+1]=0,l=!0):m===a&&(i[h+1]=a-1,l=!0)}}}class Cn{constructor(t,i,o,a,l,h,d,m,x){this.a11=t,this.a21=i,this.a31=o,this.a12=a,this.a22=l,this.a32=h,this.a13=d,this.a23=m,this.a33=x}static quadrilateralToQuadrilateral(t,i,o,a,l,h,d,m,x,w,T,N,D,F,z,Z){const Y=Cn.quadrilateralToSquare(t,i,o,a,l,h,d,m);return Cn.squareToQuadrilateral(x,w,T,N,D,F,z,Z).times(Y)}transformPoints(t){const i=t.length,o=this.a11,a=this.a12,l=this.a13,h=this.a21,d=this.a22,m=this.a23,x=this.a31,w=this.a32,T=this.a33;for(let N=0;N<i;N+=2){const D=t[N],F=t[N+1],z=l*D+m*F+T;t[N]=(o*D+h*F+x)/z,t[N+1]=(a*D+d*F+w)/z}}transformPointsWithValues(t,i){const o=this.a11,a=this.a12,l=this.a13,h=this.a21,d=this.a22,m=this.a23,x=this.a31,w=this.a32,T=this.a33,N=t.length;for(let D=0;D<N;D++){const F=t[D],z=i[D],Z=l*F+m*z+T;t[D]=(o*F+h*z+x)/Z,i[D]=(a*F+d*z+w)/Z}}static squareToQuadrilateral(t,i,o,a,l,h,d,m){const x=t-o+l-d,w=i-a+h-m;if(x===0&&w===0)return new Cn(o-t,l-o,t,a-i,h-a,i,0,0,1);{const T=o-l,N=d-l,D=a-h,F=m-h,z=T*F-N*D,Z=(x*F-N*w)/z,Y=(T*w-x*D)/z;return new Cn(o-t+Z*o,d-t+Y*d,t,a-i+Z*a,m-i+Y*m,i,Z,Y,1)}}static quadrilateralToSquare(t,i,o,a,l,h,d,m){return Cn.squareToQuadrilateral(t,i,o,a,l,h,d,m).buildAdjoint()}buildAdjoint(){return new Cn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new Cn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class co extends uo{sampleGrid(t,i,o,a,l,h,d,m,x,w,T,N,D,F,z,Z,Y,ce,he){const ae=Cn.quadrilateralToQuadrilateral(a,l,h,d,m,x,w,T,N,D,F,z,Z,Y,ce,he);return this.sampleGridWithTransform(t,i,o,ae)}sampleGridWithTransform(t,i,o,a){if(i<=0||o<=0)throw new J;const l=new nt(i,o),h=new Float32Array(2*i);for(let d=0;d<o;d++){const m=h.length,x=d+.5;for(let w=0;w<m;w+=2)h[w]=w/2+.5,h[w+1]=x;a.transformPoints(h),uo.checkAndNudgePoints(t,h);try{for(let w=0;w<m;w+=2)t.get(Math.floor(h[w]),Math.floor(h[w+1]))&&l.set(w/2,d)}catch{throw new J}}return l}}class mi{static setGridSampler(t){mi.gridSampler=t}static getInstance(){return mi.gridSampler}}mi.gridSampler=new co;class cn{constructor(t,i){this.x=t,this.y=i}toResultPoint(){return new Se(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ho{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let i=this.getMatrixCenter(),o=this.getBullsEyeCorners(i);if(t){let h=o[0];o[0]=o[2],o[2]=h}this.extractParameters(o);let a=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),l=this.getMatrixCornerPoints(o);return new lo(a,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new J;let i=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(t[0],t[1],i),this.sampleLine(t[1],t[2],i),this.sampleLine(t[2],t[3],i),this.sampleLine(t[3],t[0],i)]);this.shift=this.getRotation(o,i);let a=0;for(let h=0;h<4;h++){let d=o[(this.shift+h)%4];this.compact?(a<<=7,a+=d>>1&127):(a<<=10,a+=(d>>2&992)+(d>>1&31))}let l=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(t,i){let o=0;t.forEach((a,l,h)=>{let d=(a>>i-2<<1)+(a&1);o=(o<<3)+d}),o=((o&1)<<11)+(o>>1);for(let a=0;a<4;a++)if(P.bitCount(o^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new J}getCorrectedParameterData(t,i){let o,a;i?(o=7,a=2):(o=10,a=4);let l=o-a,h=new Int32Array(o);for(let m=o-1;m>=0;--m)h[m]=t&15,t>>=4;try{new gr(qe.AZTEC_PARAM).decode(h,l)}catch{throw new J}let d=0;for(let m=0;m<a;m++)d=(d<<4)+h[m];return d}getBullsEyeCorners(t){let i=t,o=t,a=t,l=t,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let T=this.getFirstDifferent(i,h,1,-1),N=this.getFirstDifferent(o,h,1,1),D=this.getFirstDifferent(a,h,-1,1),F=this.getFirstDifferent(l,h,-1,-1);if(this.nbCenterLayers>2){let z=this.distancePoint(F,T)*this.nbCenterLayers/(this.distancePoint(l,i)*(this.nbCenterLayers+2));if(z<.75||z>1.25||!this.isWhiteOrBlackRectangle(T,N,D,F))break}i=T,o=N,a=D,l=F,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new J;this.compact=this.nbCenterLayers===5;let d=new Se(i.getX()+.5,i.getY()-.5),m=new Se(o.getX()+.5,o.getY()+.5),x=new Se(a.getX()-.5,a.getY()+.5),w=new Se(l.getX()-.5,l.getY()-.5);return this.expandSquare([d,m,x,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,i,o,a;try{let d=new pi(this.image).detect();t=d[0],i=d[1],o=d[2],a=d[3]}catch{let m=this.image.getWidth()/2,x=this.image.getHeight()/2;t=this.getFirstDifferent(new cn(m+7,x-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new cn(m+7,x+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new cn(m-7,x+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new cn(m-7,x-7),!1,-1,-1).toResultPoint()}let l=Je.round((t.getX()+a.getX()+i.getX()+o.getX())/4),h=Je.round((t.getY()+a.getY()+i.getY()+o.getY())/4);try{let d=new pi(this.image,15,l,h).detect();t=d[0],i=d[1],o=d[2],a=d[3]}catch{t=this.getFirstDifferent(new cn(l+7,h-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new cn(l+7,h+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new cn(l-7,h+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new cn(l-7,h-7),!1,-1,-1).toResultPoint()}return l=Je.round((t.getX()+a.getX()+i.getX()+o.getX())/4),h=Je.round((t.getY()+a.getY()+i.getY()+o.getY())/4),new cn(l,h)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,i,o,a,l){let h=mi.getInstance(),d=this.getDimension(),m=d/2-this.nbCenterLayers,x=d/2+this.nbCenterLayers;return h.sampleGrid(t,d,d,m,m,x,m,x,x,m,x,i.getX(),i.getY(),o.getX(),o.getY(),a.getX(),a.getY(),l.getX(),l.getY())}sampleLine(t,i,o){let a=0,l=this.distanceResultPoint(t,i),h=l/o,d=t.getX(),m=t.getY(),x=h*(i.getX()-t.getX())/l,w=h*(i.getY()-t.getY())/l;for(let T=0;T<o;T++)this.image.get(Je.round(d+T*x),Je.round(m+T*w))&&(a|=1<<o-T-1);return a}isWhiteOrBlackRectangle(t,i,o,a){let l=3;t=new cn(t.getX()-l,t.getY()+l),i=new cn(i.getX()-l,i.getY()-l),o=new cn(o.getX()+l,o.getY()-l),a=new cn(a.getX()+l,a.getY()+l);let h=this.getColor(a,t);if(h===0)return!1;let d=this.getColor(t,i);return d!==h||(d=this.getColor(i,o),d!==h)?!1:(d=this.getColor(o,a),d===h)}getColor(t,i){let o=this.distancePoint(t,i),a=(i.getX()-t.getX())/o,l=(i.getY()-t.getY())/o,h=0,d=t.getX(),m=t.getY(),x=this.image.get(t.getX(),t.getY()),w=Math.ceil(o);for(let N=0;N<w;N++)d+=a,m+=l,this.image.get(Je.round(d),Je.round(m))!==x&&h++;let T=h/o;return T>.1&&T<.9?0:T<=.1===x?1:-1}getFirstDifferent(t,i,o,a){let l=t.getX()+o,h=t.getY()+a;for(;this.isValid(l,h)&&this.image.get(l,h)===i;)l+=o,h+=a;for(l-=o,h-=a;this.isValid(l,h)&&this.image.get(l,h)===i;)l+=o;for(l-=o;this.isValid(l,h)&&this.image.get(l,h)===i;)h+=a;return h-=a,new cn(l,h)}expandSquare(t,i,o){let a=o/(2*i),l=t[0].getX()-t[2].getX(),h=t[0].getY()-t[2].getY(),d=(t[0].getX()+t[2].getX())/2,m=(t[0].getY()+t[2].getY())/2,x=new Se(d+a*l,m+a*h),w=new Se(d-a*l,m-a*h);l=t[1].getX()-t[3].getX(),h=t[1].getY()-t[3].getY(),d=(t[1].getX()+t[3].getX())/2,m=(t[1].getY()+t[3].getY())/2;let T=new Se(d+a*l,m+a*h),N=new Se(d-a*l,m-a*h);return[x,T,w,N]}isValid(t,i){return t>=0&&t<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(t){let i=Je.round(t.getX()),o=Je.round(t.getY());return this.isValid(i,o)}distancePoint(t,i){return Je.distance(t.getX(),t.getY(),i.getX(),i.getY())}distanceResultPoint(t,i){return Je.distance(t.getX(),t.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(P.truncDivision(this.nbLayers-4,8)+1)+15}}class Kr{decode(t,i=null){let o=null,a=new ho(t.getBlackMatrix()),l=null,h=null;try{let w=a.detectMirror(!1);l=w.getPoints(),this.reportFoundResultPoints(i,l),h=new ot().decode(w)}catch(w){o=w}if(h==null)try{let w=a.detectMirror(!0);l=w.getPoints(),this.reportFoundResultPoints(i,l),h=new ot().decode(w)}catch(w){throw o??w}let d=new De(h.getText(),h.getRawBytes(),h.getNumBits(),l,ue.AZTEC,U.currentTimeMillis()),m=h.getByteSegments();m!=null&&d.putMetadata(pt.BYTE_SEGMENTS,m);let x=h.getECLevel();return x!=null&&d.putMetadata(pt.ERROR_CORRECTION_LEVEL,x),d}reportFoundResultPoints(t,i){if(t!=null){let o=t.get(ne.NEED_RESULT_POINT_CALLBACK);o!=null&&i.forEach((a,l,h)=>{o.foundPossibleResultPoint(a)})}}reset(){}}class su extends Ue{constructor(t=500){super(new Kr,t)}}class bt{decode(t,i){try{return this.doDecode(t,i)}catch{if(i&&i.get(ne.TRY_HARDER)===!0&&t.isRotateSupported()){const l=t.rotateCounterClockwise(),h=this.doDecode(l,i),d=h.getResultMetadata();let m=270;d!==null&&d.get(pt.ORIENTATION)===!0&&(m=m+d.get(pt.ORIENTATION)%360),h.putMetadata(pt.ORIENTATION,m);const x=h.getResultPoints();if(x!==null){const w=l.getHeight();for(let T=0;T<x.length;T++)x[T]=new Se(w-x[T].getY()-1,x[T].getX())}return h}else throw new J}}reset(){}doDecode(t,i){const o=t.getWidth(),a=t.getHeight();let l=new K(o);const h=i&&i.get(ne.TRY_HARDER)===!0,d=Math.max(1,a>>(h?8:5));let m;h?m=a:m=15;const x=Math.trunc(a/2);for(let w=0;w<m;w++){const T=Math.trunc((w+1)/2),N=(w&1)===0,D=x+d*(N?T:-T);if(D<0||D>=a)break;try{l=t.getBlackRow(D,l)}catch{continue}for(let F=0;F<2;F++){if(F===1&&(l.reverse(),i&&i.get(ne.NEED_RESULT_POINT_CALLBACK)===!0)){const z=new Map;i.forEach((Z,Y)=>z.set(Y,Z)),z.delete(ne.NEED_RESULT_POINT_CALLBACK),i=z}try{const z=this.decodeRow(D,l,i);if(F===1){z.putMetadata(pt.ORIENTATION,180);const Z=z.getResultPoints();Z!==null&&(Z[0]=new Se(o-Z[0].getX()-1,Z[0].getY()),Z[1]=new Se(o-Z[1].getX()-1,Z[1].getY()))}return z}catch{}}}throw new J}static recordPattern(t,i,o){const a=o.length;for(let x=0;x<a;x++)o[x]=0;const l=t.getSize();if(i>=l)throw new J;let h=!t.get(i),d=0,m=i;for(;m<l;){if(t.get(m)!==h)o[d]++;else{if(++d===a)break;o[d]=1,h=!h}m++}if(!(d===a||d===a-1&&m===l))throw new J}static recordPatternInReverse(t,i,o){let a=o.length,l=t.get(i);for(;i>0&&a>=0;)t.get(--i)!==l&&(a--,l=!l);if(a>=0)throw new J;bt.recordPattern(t,i+1,o)}static patternMatchVariance(t,i,o){const a=t.length;let l=0,h=0;for(let x=0;x<a;x++)l+=t[x],h+=i[x];if(l<h)return Number.POSITIVE_INFINITY;const d=l/h;o*=d;let m=0;for(let x=0;x<a;x++){const w=t[x],T=i[x]*d,N=w>T?w-T:T-w;if(N>o)return Number.POSITIVE_INFINITY;m+=N}return m/l}}class pe extends bt{static findStartPattern(t){const i=t.getSize(),o=t.getNextSet(0);let a=0,l=Int32Array.from([0,0,0,0,0,0]),h=o,d=!1;const m=6;for(let x=o;x<i;x++)if(t.get(x)!==d)l[a]++;else{if(a===m-1){let w=pe.MAX_AVG_VARIANCE,T=-1;for(let N=pe.CODE_START_A;N<=pe.CODE_START_C;N++){const D=bt.patternMatchVariance(l,pe.CODE_PATTERNS[N],pe.MAX_INDIVIDUAL_VARIANCE);D<w&&(w=D,T=N)}if(T>=0&&t.isRange(Math.max(0,h-(x-h)/2),h,!1))return Int32Array.from([h,x,T]);h+=l[0]+l[1],l=l.slice(2,l.length-1),l[a-1]=0,l[a]=0,a--}else a++;l[a]=1,d=!d}throw new J}static decodeCode(t,i,o){bt.recordPattern(t,o,i);let a=pe.MAX_AVG_VARIANCE,l=-1;for(let h=0;h<pe.CODE_PATTERNS.length;h++){const d=pe.CODE_PATTERNS[h],m=this.patternMatchVariance(i,d,pe.MAX_INDIVIDUAL_VARIANCE);m<a&&(a=m,l=h)}if(l>=0)return l;throw new J}decodeRow(t,i,o){const a=o&&o.get(ne.ASSUME_GS1)===!0,l=pe.findStartPattern(i),h=l[2];let d=0;const m=new Uint8Array(20);m[d++]=h;let x;switch(h){case pe.CODE_START_A:x=pe.CODE_CODE_A;break;case pe.CODE_START_B:x=pe.CODE_CODE_B;break;case pe.CODE_START_C:x=pe.CODE_CODE_C;break;default:throw new V}let w=!1,T=!1,N="",D=l[0],F=l[1];const z=Int32Array.from([0,0,0,0,0,0]);let Z=0,Y=0,ce=h,he=0,ae=!0,Ve=!1,Be=!1;for(;!w;){const ai=T;switch(T=!1,Z=Y,Y=pe.decodeCode(i,z,F),m[d++]=Y,Y!==pe.CODE_STOP&&(ae=!0),Y!==pe.CODE_STOP&&(he++,ce+=he*Y),D=F,F+=z.reduce((pu,Sr)=>pu+Sr,0),Y){case pe.CODE_START_A:case pe.CODE_START_B:case pe.CODE_START_C:throw new V}switch(x){case pe.CODE_CODE_A:if(Y<64)Be===Ve?N+=String.fromCharCode(32+Y):N+=String.fromCharCode(32+Y+128),Be=!1;else if(Y<96)Be===Ve?N+=String.fromCharCode(Y-64):N+=String.fromCharCode(Y+64),Be=!1;else switch(Y!==pe.CODE_STOP&&(ae=!1),Y){case pe.CODE_FNC_1:a&&(N.length===0?N+="]C1":N+="");break;case pe.CODE_FNC_2:case pe.CODE_FNC_3:break;case pe.CODE_FNC_4_A:!Ve&&Be?(Ve=!0,Be=!1):Ve&&Be?(Ve=!1,Be=!1):Be=!0;break;case pe.CODE_SHIFT:T=!0,x=pe.CODE_CODE_B;break;case pe.CODE_CODE_B:x=pe.CODE_CODE_B;break;case pe.CODE_CODE_C:x=pe.CODE_CODE_C;break;case pe.CODE_STOP:w=!0;break}break;case pe.CODE_CODE_B:if(Y<96)Be===Ve?N+=String.fromCharCode(32+Y):N+=String.fromCharCode(32+Y+128),Be=!1;else switch(Y!==pe.CODE_STOP&&(ae=!1),Y){case pe.CODE_FNC_1:a&&(N.length===0?N+="]C1":N+="");break;case pe.CODE_FNC_2:case pe.CODE_FNC_3:break;case pe.CODE_FNC_4_B:!Ve&&Be?(Ve=!0,Be=!1):Ve&&Be?(Ve=!1,Be=!1):Be=!0;break;case pe.CODE_SHIFT:T=!0,x=pe.CODE_CODE_A;break;case pe.CODE_CODE_A:x=pe.CODE_CODE_A;break;case pe.CODE_CODE_C:x=pe.CODE_CODE_C;break;case pe.CODE_STOP:w=!0;break}break;case pe.CODE_CODE_C:if(Y<100)Y<10&&(N+="0"),N+=Y;else switch(Y!==pe.CODE_STOP&&(ae=!1),Y){case pe.CODE_FNC_1:a&&(N.length===0?N+="]C1":N+="");break;case pe.CODE_CODE_A:x=pe.CODE_CODE_A;break;case pe.CODE_CODE_B:x=pe.CODE_CODE_B;break;case pe.CODE_STOP:w=!0;break}break}ai&&(x=x===pe.CODE_CODE_A?pe.CODE_CODE_B:pe.CODE_CODE_A)}const At=F-D;if(F=i.getNextUnset(F),!i.isRange(F,Math.min(i.getSize(),F+(F-D)/2),!1))throw new J;if(ce-=he*Z,ce%103!==Z)throw new X;const pn=N.length;if(pn===0)throw new J;pn>0&&ae&&(x===pe.CODE_CODE_C?N=N.substring(0,pn-2):N=N.substring(0,pn-1));const mn=(l[1]+l[0])/2,st=D+At/2,Qt=m.length,xn=new Uint8Array(Qt);for(let ai=0;ai<Qt;ai++)xn[ai]=m[ai];const Ar=[new Se(mn,t),new Se(st,t)];return new De(N,xn,0,Ar,ue.CODE_128,new Date().getTime())}}pe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],pe.MAX_AVG_VARIANCE=.25,pe.MAX_INDIVIDUAL_VARIANCE=.7,pe.CODE_SHIFT=98,pe.CODE_CODE_C=99,pe.CODE_CODE_B=100,pe.CODE_CODE_A=101,pe.CODE_FNC_1=102,pe.CODE_FNC_2=97,pe.CODE_FNC_3=96,pe.CODE_FNC_4_A=101,pe.CODE_FNC_4_B=100,pe.CODE_START_A=103,pe.CODE_START_B=104,pe.CODE_START_C=105,pe.CODE_STOP=106;class kt extends bt{constructor(t=!1,i=!1){super(),this.usingCheckDigit=t,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,i,o){let a=this.counters;a.fill(0),this.decodeRowResult="";let l=kt.findAsteriskPattern(i,a),h=i.getNextSet(l[1]),d=i.getSize(),m,x;do{kt.recordPattern(i,h,a);let z=kt.toNarrowWidePattern(a);if(z<0)throw new J;m=kt.patternToChar(z),this.decodeRowResult+=m,x=h;for(let Z of a)h+=Z;h=i.getNextSet(h)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let w=0;for(let z of a)w+=z;let T=h-x-w;if(h!==d&&T*2<w)throw new J;if(this.usingCheckDigit){let z=this.decodeRowResult.length-1,Z=0;for(let Y=0;Y<z;Y++)Z+=kt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Y));if(this.decodeRowResult.charAt(z)!==kt.ALPHABET_STRING.charAt(Z%43))throw new X;this.decodeRowResult=this.decodeRowResult.substring(0,z)}if(this.decodeRowResult.length===0)throw new J;let N;this.extendedMode?N=kt.decodeExtended(this.decodeRowResult):N=this.decodeRowResult;let D=(l[1]+l[0])/2,F=x+w/2;return new De(N,null,0,[new Se(D,t),new Se(F,t)],ue.CODE_39,new Date().getTime())}static findAsteriskPattern(t,i){let o=t.getSize(),a=t.getNextSet(0),l=0,h=a,d=!1,m=i.length;for(let x=a;x<o;x++)if(t.get(x)!==d)i[l]++;else{if(l===m-1){if(this.toNarrowWidePattern(i)===kt.ASTERISK_ENCODING&&t.isRange(Math.max(0,h-Math.floor((x-h)/2)),h,!1))return[h,x];h+=i[0]+i[1],i.copyWithin(0,2,2+l-1),i[l-1]=0,i[l]=0,l--}else l++;i[l]=1,d=!d}throw new J}static toNarrowWidePattern(t){let i=t.length,o=0,a;do{let l=2147483647;for(let m of t)m<l&&m>o&&(l=m);o=l,a=0;let h=0,d=0;for(let m=0;m<i;m++){let x=t[m];x>o&&(d|=1<<i-1-m,a++,h+=x)}if(a===3){for(let m=0;m<i&&a>0;m++){let x=t[m];if(x>o&&(a--,x*2>=h))return-1}return d}}while(a>3);return-1}static patternToChar(t){for(let i=0;i<kt.CHARACTER_ENCODINGS.length;i++)if(kt.CHARACTER_ENCODINGS[i]===t)return kt.ALPHABET_STRING.charAt(i);if(t===kt.ASTERISK_ENCODING)return"*";throw new J}static decodeExtended(t){let i=t.length,o="";for(let a=0;a<i;a++){let l=t.charAt(a);if(l==="+"||l==="$"||l==="%"||l==="/"){let h=t.charAt(a+1),d="\0";switch(l){case"+":if(h>="A"&&h<="Z")d=String.fromCharCode(h.charCodeAt(0)+32);else throw new V;break;case"$":if(h>="A"&&h<="Z")d=String.fromCharCode(h.charCodeAt(0)-64);else throw new V;break;case"%":if(h>="A"&&h<="E")d=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")d=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")d=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")d=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")d="\0";else if(h==="V")d="@";else if(h==="W")d="`";else if(h==="X"||h==="Y"||h==="Z")d="";else throw new V;break;case"/":if(h>="A"&&h<="O")d=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")d=":";else throw new V;break}o+=d,a++}else o+=l}return o}}kt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",kt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],kt.ASTERISK_ENCODING=148;class ut extends bt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,i,o){let a=this.decodeStart(i),l=this.decodeEnd(i),h=new Ze;ut.decodeMiddle(i,a[1],l[0],h);let d=h.toString(),m=null;o!=null&&(m=o.get(ne.ALLOWED_LENGTHS)),m==null&&(m=ut.DEFAULT_ALLOWED_LENGTHS);let x=d.length,w=!1,T=0;for(let F of m){if(x===F){w=!0;break}F>T&&(T=F)}if(!w&&x>T&&(w=!0),!w)throw new V;const N=[new Se(a[1],t),new Se(l[0],t)];return new De(d,null,0,N,ue.ITF,new Date().getTime())}static decodeMiddle(t,i,o,a){let l=new Int32Array(10),h=new Int32Array(5),d=new Int32Array(5);for(l.fill(0),h.fill(0),d.fill(0);i<o;){bt.recordPattern(t,i,l);for(let x=0;x<5;x++){let w=2*x;h[x]=l[w],d[x]=l[w+1]}let m=ut.decodeDigit(h);a.append(m.toString()),m=this.decodeDigit(d),a.append(m.toString()),l.forEach(function(x){i+=x})}}decodeStart(t){let i=ut.skipWhiteSpace(t),o=ut.findGuardPattern(t,i,ut.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(t,o[0]),o}validateQuietZone(t,i){let o=this.narrowLineWidth*10;o=o<i?o:i;for(let a=i-1;o>0&&a>=0&&!t.get(a);a--)o--;if(o!==0)throw new J}static skipWhiteSpace(t){const i=t.getSize(),o=t.getNextSet(0);if(o===i)throw new J;return o}decodeEnd(t){t.reverse();try{let i=ut.skipWhiteSpace(t),o;try{o=ut.findGuardPattern(t,i,ut.END_PATTERN_REVERSED[0])}catch(l){l instanceof J&&(o=ut.findGuardPattern(t,i,ut.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,o[0]);let a=o[0];return o[0]=t.getSize()-o[1],o[1]=t.getSize()-a,o}finally{t.reverse()}}static findGuardPattern(t,i,o){let a=o.length,l=new Int32Array(a),h=t.getSize(),d=!1,m=0,x=i;l.fill(0);for(let w=i;w<h;w++)if(t.get(w)!==d)l[m]++;else{if(m===a-1){if(bt.patternMatchVariance(l,o,ut.MAX_INDIVIDUAL_VARIANCE)<ut.MAX_AVG_VARIANCE)return[x,w];x+=l[0]+l[1],U.arraycopy(l,2,l,0,m-1),l[m-1]=0,l[m]=0,m--}else m++;l[m]=1,d=!d}throw new J}static decodeDigit(t){let i=ut.MAX_AVG_VARIANCE,o=-1,a=ut.PATTERNS.length;for(let l=0;l<a;l++){let h=ut.PATTERNS[l],d=bt.patternMatchVariance(t,h,ut.MAX_INDIVIDUAL_VARIANCE);d<i?(i=d,o=l):d===i&&(o=-1)}if(o>=0)return o%10;throw new J}}ut.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ut.MAX_AVG_VARIANCE=.38,ut.MAX_INDIVIDUAL_VARIANCE=.5,ut.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ut.START_PATTERN=Int32Array.from([1,1,1,1]),ut.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class dt extends bt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let i=!1,o,a=0,l=Int32Array.from([0,0,0]);for(;!i;){l=Int32Array.from([0,0,0]),o=dt.findGuardPattern(t,a,!1,this.START_END_PATTERN,l);let h=o[0];a=o[1];let d=h-(a-h);d>=0&&(i=t.isRange(d,h,!1))}return o}static checkChecksum(t){return dt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let o=parseInt(t.charAt(i-1),10);return dt.getStandardUPCEANChecksum(t.substring(0,i-1))===o}static getStandardUPCEANChecksum(t){let i=t.length,o=0;for(let a=i-1;a>=0;a-=2){let l=t.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new V;o+=l}o*=3;for(let a=i-2;a>=0;a-=2){let l=t.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new V;o+=l}return(1e3-o)%10}static decodeEnd(t,i){return dt.findGuardPattern(t,i,!1,dt.START_END_PATTERN,new Int32Array(dt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,i,o,a){return this.findGuardPattern(t,i,o,a,new Int32Array(a.length))}static findGuardPattern(t,i,o,a,l){let h=t.getSize();i=o?t.getNextUnset(i):t.getNextSet(i);let d=0,m=i,x=a.length,w=o;for(let T=i;T<h;T++)if(t.get(T)!==w)l[d]++;else{if(d===x-1){if(bt.patternMatchVariance(l,a,dt.MAX_INDIVIDUAL_VARIANCE)<dt.MAX_AVG_VARIANCE)return Int32Array.from([m,T]);m+=l[0]+l[1];let N=l.slice(2,l.length-1);for(let D=0;D<d-1;D++)l[D]=N[D];l[d-1]=0,l[d]=0,d--}else d++;l[d]=1,w=!w}throw new J}static decodeDigit(t,i,o,a){this.recordPattern(t,o,i);let l=this.MAX_AVG_VARIANCE,h=-1,d=a.length;for(let m=0;m<d;m++){let x=a[m],w=bt.patternMatchVariance(i,x,dt.MAX_INDIVIDUAL_VARIANCE);w<l&&(l=w,h=m)}if(h>=0)return h;throw new J}}dt.MAX_AVG_VARIANCE=.48,dt.MAX_INDIVIDUAL_VARIANCE=.7,dt.START_END_PATTERN=Int32Array.from([1,1,1]),dt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),dt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),dt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class qr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,o){let a=this.decodeRowStringBuffer,l=this.decodeMiddle(i,o,a),h=a.toString(),d=qr.parseExtensionString(h),m=[new Se((o[0]+o[1])/2,t),new Se(l,t)],x=new De(h,null,0,m,ue.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&x.putAllMetadata(d),x}decodeMiddle(t,i,o){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=t.getSize(),h=i[1],d=0;for(let x=0;x<5&&h<l;x++){let w=dt.decodeDigit(t,a,h,dt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+w%10);for(let T of a)h+=T;w>=10&&(d|=1<<4-x),x!==4&&(h=t.getNextSet(h),h=t.getNextUnset(h))}if(o.length!==5)throw new J;let m=this.determineCheckDigit(d);if(qr.extensionChecksum(o.toString())!==m)throw new J;return h}static extensionChecksum(t){let i=t.length,o=0;for(let a=i-2;a>=0;a-=2)o+=t.charAt(a).charCodeAt(0)-48;o*=3;for(let a=i-1;a>=0;a-=2)o+=t.charAt(a).charCodeAt(0)-48;return o*=3,o%10}determineCheckDigit(t){for(let i=0;i<10;i++)if(t===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new J}static parseExtensionString(t){if(t.length!==5)return null;let i=qr.parseExtension5String(t);return i==null?null:new Map([[pt.SUGGESTED_PRICE,i]])}static parseExtension5String(t){let i;switch(t.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let o=parseInt(t.substring(1)),a=(o/100).toString(),l=o%100,h=l<10?"0"+l:l.toString();return i+a+"."+h}}class fo{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,o){let a=this.decodeRowStringBuffer,l=this.decodeMiddle(i,o,a),h=a.toString(),d=fo.parseExtensionString(h),m=[new Se((o[0]+o[1])/2,t),new Se(l,t)],x=new De(h,null,0,m,ue.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&x.putAllMetadata(d),x}decodeMiddle(t,i,o){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=t.getSize(),h=i[1],d=0;for(let m=0;m<2&&h<l;m++){let x=dt.decodeDigit(t,a,h,dt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+x%10);for(let w of a)h+=w;x>=10&&(d|=1<<1-m),m!==1&&(h=t.getNextSet(h),h=t.getNextUnset(h))}if(o.length!==2)throw new J;if(parseInt(o.toString())%4!==d)throw new J;return h}static parseExtensionString(t){return t.length!==2?null:new Map([[pt.ISSUE_NUMBER,parseInt(t)]])}}class go{static decodeRow(t,i,o){let a=dt.findGuardPattern(i,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new qr().decodeRow(t,i,a)}catch{return new fo().decodeRow(t,i,a)}}}go.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class et extends dt{constructor(){super(),this.decodeRowStringBuffer="",et.L_AND_G_PATTERNS=et.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let i=et.L_PATTERNS[t-10],o=new Int32Array(i.length);for(let a=0;a<i.length;a++)o[a]=i[i.length-a-1];et.L_AND_G_PATTERNS[t]=o}}decodeRow(t,i,o){let a=et.findStartGuardPattern(i),l=o==null?null:o.get(ne.NEED_RESULT_POINT_CALLBACK);if(l!=null){const ae=new Se((a[0]+a[1])/2,t);l.foundPossibleResultPoint(ae)}let h=this.decodeMiddle(i,a,this.decodeRowStringBuffer),d=h.rowOffset,m=h.resultString;if(l!=null){const ae=new Se(d,t);l.foundPossibleResultPoint(ae)}let x=this.decodeEnd(i,d);if(l!=null){const ae=new Se((x[0]+x[1])/2,t);l.foundPossibleResultPoint(ae)}let w=x[1],T=w+(w-x[0]);if(T>=i.getSize()||!i.isRange(w,T,!1))throw new J;let N=m.toString();if(N.length<8)throw new V;if(!et.checkChecksum(N))throw new X;let D=(a[1]+a[0])/2,F=(x[1]+x[0])/2,z=this.getBarcodeFormat(),Z=[new Se(D,t),new Se(F,t)],Y=new De(N,null,0,Z,z,new Date().getTime()),ce=0;try{let ae=go.decodeRow(t,i,x[1]);Y.putMetadata(pt.UPC_EAN_EXTENSION,ae.getText()),Y.putAllMetadata(ae.getResultMetadata()),Y.addResultPoints(ae.getResultPoints()),ce=ae.getText().length}catch{}let he=o==null?null:o.get(ne.ALLOWED_EAN_EXTENSIONS);if(he!=null){let ae=!1;for(let Ve in he)if(ce.toString()===Ve){ae=!0;break}if(!ae)throw new J}return Y}decodeEnd(t,i){return et.findGuardPattern(t,i,!1,et.START_END_PATTERN,new Int32Array(et.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return et.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let o=parseInt(t.charAt(i-1),10);return et.getStandardUPCEANChecksum(t.substring(0,i-1))===o}static getStandardUPCEANChecksum(t){let i=t.length,o=0;for(let a=i-1;a>=0;a-=2){let l=t.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new V;o+=l}o*=3;for(let a=i-2;a>=0;a-=2){let l=t.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new V;o+=l}return(1e3-o)%10}}class Li extends et{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,o){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=t.getSize(),h=i[1],d=0;for(let x=0;x<6&&h<l;x++){let w=et.decodeDigit(t,a,h,et.L_AND_G_PATTERNS);o+=String.fromCharCode(48+w%10);for(let T of a)h+=T;w>=10&&(d|=1<<5-x)}o=Li.determineFirstDigit(o,d),h=et.findGuardPattern(t,h,!0,et.MIDDLE_PATTERN,new Int32Array(et.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<6&&h<l;x++){let w=et.decodeDigit(t,a,h,et.L_PATTERNS);o+=String.fromCharCode(48+w);for(let T of a)h+=T}return{rowOffset:h,resultString:o}}getBarcodeFormat(){return ue.EAN_13}static determineFirstDigit(t,i){for(let o=0;o<10;o++)if(i===this.FIRST_DIGIT_ENCODINGS[o])return t=String.fromCharCode(48+o)+t,t;throw new J}}Li.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ca extends et{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,o){const a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=t.getSize(),h=i[1];for(let m=0;m<4&&h<l;m++){let x=et.decodeDigit(t,a,h,et.L_PATTERNS);o+=String.fromCharCode(48+x);for(let w of a)h+=w}h=et.findGuardPattern(t,h,!0,et.MIDDLE_PATTERN,new Int32Array(et.MIDDLE_PATTERN.length).fill(0))[1];for(let m=0;m<4&&h<l;m++){let x=et.decodeDigit(t,a,h,et.L_PATTERNS);o+=String.fromCharCode(48+x);for(let w of a)h+=w}return{rowOffset:h,resultString:o}}getBarcodeFormat(){return ue.EAN_8}}class Ea extends et{constructor(){super(...arguments),this.ean13Reader=new Li}getBarcodeFormat(){return ue.UPC_A}decode(t,i){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,i,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,i,o))}decodeMiddle(t,i,o){return this.ean13Reader.decodeMiddle(t,i,o)}maybeReturnResult(t){let i=t.getText();if(i.charAt(0)==="0"){let o=new De(i.substring(1),null,null,t.getResultPoints(),ue.UPC_A);return t.getResultMetadata()!=null&&o.putAllMetadata(t.getResultMetadata()),o}else throw new J}reset(){this.ean13Reader.reset()}}class Un extends et{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,i,o){const a=this.decodeMiddleCounters.map(x=>x);a[0]=0,a[1]=0,a[2]=0,a[3]=0;const l=t.getSize();let h=i[1],d=0;for(let x=0;x<6&&h<l;x++){const w=Un.decodeDigit(t,a,h,Un.L_AND_G_PATTERNS);o+=String.fromCharCode(48+w%10);for(let T of a)h+=T;w>=10&&(d|=1<<5-x)}let m=Un.determineNumSysAndCheckDigit(o,d);return{rowOffset:h,resultString:m}}decodeEnd(t,i){return Un.findGuardPatternWithoutCounters(t,i,!0,Un.MIDDLE_END_PATTERN)}checkChecksum(t){return et.checkChecksum(Un.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,i){for(let o=0;o<=1;o++)for(let a=0;a<10;a++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][a]){let l=String.fromCharCode(48+o),h=String.fromCharCode(48+a);return l+t+h}throw J.getNotFoundInstance()}getBarcodeFormat(){return ue.UPC_E}static convertUPCEtoUPCA(t){const i=t.slice(1,7).split("").map(l=>l.charCodeAt(0)),o=new Ze;o.append(t.charAt(0));let a=i[5];switch(a){case 0:case 1:case 2:o.appendChars(i,0,2),o.append(a),o.append("0000"),o.appendChars(i,2,3);break;case 3:o.appendChars(i,0,3),o.append("00000"),o.appendChars(i,3,2);break;case 4:o.appendChars(i,0,4),o.append("00000"),o.append(i[4]);break;default:o.appendChars(i,0,5),o.append("0000"),o.append(a);break}return t.length>=8&&o.append(t.charAt(7)),o.toString()}}Un.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Un.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class po extends bt{constructor(t){super();let i=t==null?null:t.get(ne.POSSIBLE_FORMATS),o=[];c(i)?(o.push(new Li),o.push(new Ea),o.push(new Ca),o.push(new Un)):(i.indexOf(ue.EAN_13)>-1&&o.push(new Li),i.indexOf(ue.UPC_A)>-1&&o.push(new Ea),i.indexOf(ue.EAN_8)>-1&&o.push(new Ca),i.indexOf(ue.UPC_E)>-1&&o.push(new Un)),this.readers=o}decodeRow(t,i,o){for(let a of this.readers)try{const l=a.decodeRow(t,i,o),h=l.getBarcodeFormat()===ue.EAN_13&&l.getText().charAt(0)==="0",d=o==null?null:o.get(ne.POSSIBLE_FORMATS),m=d==null||d.includes(ue.UPC_A);if(h&&m){const x=l.getRawBytes(),w=new De(l.getText().substring(1),x,x?x.length:null,l.getResultPoints(),ue.UPC_A);return w.putAllMetadata(l.getResultMetadata()),w}return l}catch{}throw new J}reset(){for(let t of this.readers)t.reset()}}class en extends bt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,i){for(let o=0;o<i.length;o++)if(bt.patternMatchVariance(t,i[o],en.MAX_INDIVIDUAL_VARIANCE)<en.MAX_AVG_VARIANCE)return o;throw new J}static count(t){return Je.sum(new Int32Array(t))}static increment(t,i){let o=0,a=i[0];for(let l=1;l<t.length;l++)i[l]>a&&(a=i[l],o=l);t[o]++}static decrement(t,i){let o=0,a=i[0];for(let l=1;l<t.length;l++)i[l]<a&&(a=i[l],o=l);t[o]--}static isFinderPattern(t){let i=t[0]+t[1],o=i+t[2]+t[3],a=i/o;if(a>=en.MIN_FINDER_PATTERN_RATIO&&a<=en.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let d of t)d>h&&(h=d),d<l&&(l=d);return h<10*l}return!1}}en.MAX_AVG_VARIANCE=.2,en.MAX_INDIVIDUAL_VARIANCE=.45,en.MIN_FINDER_PATTERN_RATIO=9.5/12,en.MAX_FINDER_PATTERN_RATIO=12.5/14;class pr{constructor(t,i){this.value=t,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof pr))return!1;const i=t;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class mr{constructor(t,i,o,a,l){this.value=t,this.startEnd=i,this.value=t,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new Se(o,l)),this.resultPoints.push(new Se(a,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof mr))return!1;const i=t;return this.value===i.value}hashCode(){return this.value}}class ei{constructor(){}static getRSSvalue(t,i,o){let a=0;for(let m of t)a+=m;let l=0,h=0,d=t.length;for(let m=0;m<d-1;m++){let x;for(x=1,h|=1<<m;x<t[m];x++,h&=~(1<<m)){let w=ei.combins(a-x-1,d-m-2);if(o&&h===0&&a-x-(d-m-1)>=d-m-1&&(w-=ei.combins(a-x-(d-m),d-m-2)),d-m-1>1){let T=0;for(let N=a-x-(d-m-2);N>i;N--)T+=ei.combins(a-x-N-1,d-m-3);w-=T*(d-1-m)}else a-x>i&&w--;l+=w}a-=x}return l}static combins(t,i){let o,a;t-i>i?(a=i,o=t-i):(a=t-i,o=i);let l=1,h=1;for(let d=t;d>o;d--)l*=d,h<=a&&(l/=h,h++);for(;h<=a;)l/=h,h++;return l}}class ou{static buildBitArray(t){let i=t.length*2-1;t[t.length-1].getRightChar()==null&&(i-=1);let o=12*i,a=new K(o),l=0,d=t[0].getRightChar().getValue();for(let m=11;m>=0;--m)d&1<<m&&a.set(l),l++;for(let m=1;m<t.length;++m){let x=t[m],w=x.getLeftChar().getValue();for(let T=11;T>=0;--T)w&1<<T&&a.set(l),l++;if(x.getRightChar()!=null){let T=x.getRightChar().getValue();for(let N=11;N>=0;--N)T&1<<N&&a.set(l),l++}}return a}}class Gi{constructor(t,i){i?this.decodedInformation=null:(this.finished=t,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class mo{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Ct extends mo{constructor(t,i){super(t),this.value=i}getValue(){return this.value}isFNC1(){return this.value===Ct.FNC1}}Ct.FNC1="$";class Te extends mo{constructor(t,i,o){super(t),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class En extends mo{constructor(t,i,o){if(super(t),i<0||i>10||o<0||o>10)throw new V;this.firstDigit=i,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===En.FNC1}isSecondDigitFNC1(){return this.secondDigit===En.FNC1}isAnyFNC1(){return this.firstDigit===En.FNC1||this.secondDigit===En.FNC1}}En.FNC1=10;class we{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new J;let i=t.substring(0,2);for(let l of we.TWO_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===we.VARIABLE_LENGTH?we.processVariableAI(2,l[2],t):we.processFixedAI(2,l[1],t);if(t.length<3)throw new J;let o=t.substring(0,3);for(let l of we.THREE_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===we.VARIABLE_LENGTH?we.processVariableAI(3,l[2],t):we.processFixedAI(3,l[1],t);for(let l of we.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===we.VARIABLE_LENGTH?we.processVariableAI(4,l[2],t):we.processFixedAI(4,l[1],t);if(t.length<4)throw new J;let a=t.substring(0,4);for(let l of we.FOUR_DIGIT_DATA_LENGTH)if(l[0]===a)return l[1]===we.VARIABLE_LENGTH?we.processVariableAI(4,l[2],t):we.processFixedAI(4,l[1],t);throw new J}static processFixedAI(t,i,o){if(o.length<t)throw new J;let a=o.substring(0,t);if(o.length<t+i)throw new J;let l=o.substring(t,t+i),h=o.substring(t+i),d="("+a+")"+l,m=we.parseFieldsInGeneralPurpose(h);return m==null?d:d+m}static processVariableAI(t,i,o){let a=o.substring(0,t),l;o.length<t+i?l=o.length:l=t+i;let h=o.substring(t,l),d=o.substring(l),m="("+a+")"+h,x=we.parseFieldsInGeneralPurpose(d);return x==null?m:m+x}}we.VARIABLE_LENGTH=[],we.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",we.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",we.VARIABLE_LENGTH,20],["22",we.VARIABLE_LENGTH,29],["30",we.VARIABLE_LENGTH,8],["37",we.VARIABLE_LENGTH,8],["90",we.VARIABLE_LENGTH,30],["91",we.VARIABLE_LENGTH,30],["92",we.VARIABLE_LENGTH,30],["93",we.VARIABLE_LENGTH,30],["94",we.VARIABLE_LENGTH,30],["95",we.VARIABLE_LENGTH,30],["96",we.VARIABLE_LENGTH,30],["97",we.VARIABLE_LENGTH,3],["98",we.VARIABLE_LENGTH,30],["99",we.VARIABLE_LENGTH,30]],we.THREE_DIGIT_DATA_LENGTH=[["240",we.VARIABLE_LENGTH,30],["241",we.VARIABLE_LENGTH,30],["242",we.VARIABLE_LENGTH,6],["250",we.VARIABLE_LENGTH,30],["251",we.VARIABLE_LENGTH,30],["253",we.VARIABLE_LENGTH,17],["254",we.VARIABLE_LENGTH,20],["400",we.VARIABLE_LENGTH,30],["401",we.VARIABLE_LENGTH,30],["402",17],["403",we.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",we.VARIABLE_LENGTH,20],["421",we.VARIABLE_LENGTH,15],["422",3],["423",we.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],we.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",we.VARIABLE_LENGTH,15],["391",we.VARIABLE_LENGTH,18],["392",we.VARIABLE_LENGTH,15],["393",we.VARIABLE_LENGTH,18],["703",we.VARIABLE_LENGTH,30]],we.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",we.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",we.VARIABLE_LENGTH,20],["8003",we.VARIABLE_LENGTH,30],["8004",we.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",we.VARIABLE_LENGTH,30],["8008",we.VARIABLE_LENGTH,12],["8018",18],["8020",we.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",we.VARIABLE_LENGTH,70],["8200",we.VARIABLE_LENGTH,70]];class Yi{constructor(t){this.buffer=new Ze,this.information=t}decodeAllCodes(t,i){let o=i,a=null;do{let l=this.decodeGeneralPurposeField(o,a),h=we.parseFieldsInGeneralPurpose(l.getNewString());if(h!=null&&t.append(h),l.isRemaining()?a=""+l.getRemainingValue():a=null,o===l.getNewPosition())break;o=l.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let i=t;i<t+3;++i)if(this.information.get(i))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(t,4);return l===0?new En(this.information.getSize(),En.FNC1,En.FNC1):new En(this.information.getSize(),l-1,En.FNC1)}let i=this.extractNumericValueFromBitArray(t,7),o=(i-8)/11,a=(i-8)%11;return new En(t+7,o,a)}extractNumericValueFromBitArray(t,i){return Yi.extractNumericValueFromBitArray(this.information,t,i)}static extractNumericValueFromBitArray(t,i,o){let a=0;for(let l=0;l<o;++l)t.get(i+l)&&(a|=1<<o-l-1);return a}decodeGeneralPurposeField(t,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(t);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new Te(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new Te(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,i;do{let o=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),t=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),t=i.isFinished()):(i=this.parseNumericBlock(),t=i.isFinished()),!(o!==this.current.getPosition())&&!t)break}while(!t);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let i;return t.isSecondDigitFNC1()?i=new Te(this.current.getPosition(),this.buffer.toString()):i=new Te(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Gi(!0,i)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let i=new Te(this.current.getPosition(),this.buffer.toString());return new Gi(!0,i)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Gi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new Te(this.current.getPosition(),this.buffer.toString());return new Gi(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Gi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new Te(this.current.getPosition(),this.buffer.toString());return new Gi(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Gi(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,7);if(o>=64&&o<116)return!0;if(t+8>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,8);return a>=232&&a<253}decodeIsoIec646(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new Ct(t+5,Ct.FNC1);if(i>=5&&i<15)return new Ct(t+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(t,7);if(o>=64&&o<90)return new Ct(t+7,""+(o+1));if(o>=90&&o<116)return new Ct(t+7,""+(o+7));let a=this.extractNumericValueFromBitArray(t,8),l;switch(a){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new V}return new Ct(t+8,l)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,6);return o>=16&&o<63}decodeAlphanumeric(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new Ct(t+5,Ct.FNC1);if(i>=5&&i<15)return new Ct(t+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(t,6);if(o>=32&&o<58)return new Ct(t+6,""+(o+33));let a;switch(o){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new jn("Decoding invalid alphanumeric value: "+o)}return new Ct(t+6,a)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<5&&i+t<this.information.getSize();++i)if(i===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+i))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let i=t;i<t+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<4&&i+t<this.information.getSize();++i)if(this.information.get(t+i))return!1;return!0}}class Cs{constructor(t){this.information=t,this.generalDecoder=new Yi(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class tn extends Cs{constructor(t){super(t)}encodeCompressedGtin(t,i){t.append("(01)");let o=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,i,o)}encodeCompressedGtinWithoutAI(t,i,o){for(let a=0;a<4;++a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*a,10);l/100===0&&t.append("0"),l/10===0&&t.append("0"),t.append(l)}tn.appendCheckDigit(t,o)}static appendCheckDigit(t,i){let o=0;for(let a=0;a<13;a++){let l=t.charAt(a+i).charCodeAt(0)-48;o+=a&1?l:3*l}o=10-o%10,o===10&&(o=0),t.append(o)}}tn.GTIN_SIZE=40;class Xi extends tn{constructor(t){super(t)}parseInformation(){let t=new Ze;t.append("(01)");let i=t.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(Xi.HEADER_SIZE,4);return t.append(o),this.encodeCompressedGtinWithoutAI(t,Xi.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(t,Xi.HEADER_SIZE+44)}}Xi.HEADER_SIZE=4;class xi extends Cs{constructor(t){super(t)}parseInformation(){let t=new Ze;return this.getGeneralDecoder().decodeAllCodes(t,xi.HEADER_SIZE)}}xi.HEADER_SIZE=5;class Jr extends tn{constructor(t){super(t)}encodeCompressedWeight(t,i,o){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(i,o);this.addWeightCode(t,a);let l=this.checkWeight(a),h=1e5;for(let d=0;d<5;++d)l/h===0&&t.append("0"),h/=10;t.append(l)}}class ti extends Jr{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=ti.HEADER_SIZE+Jr.GTIN_SIZE+ti.WEIGHT_SIZE)throw new J;let t=new Ze;return this.encodeCompressedGtin(t,ti.HEADER_SIZE),this.encodeCompressedWeight(t,ti.HEADER_SIZE+Jr.GTIN_SIZE,ti.WEIGHT_SIZE),t.toString()}}ti.HEADER_SIZE=5,ti.WEIGHT_SIZE=15;class au extends ti{constructor(t){super(t)}addWeightCode(t,i){t.append("(3103)")}checkWeight(t){return t}}class lu extends ti{constructor(t){super(t)}addWeightCode(t,i){i<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class ni extends tn{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<ni.HEADER_SIZE+tn.GTIN_SIZE)throw new J;let t=new Ze;this.encodeCompressedGtin(t,ni.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(ni.HEADER_SIZE+tn.GTIN_SIZE,ni.LAST_DIGIT_SIZE);t.append("(392"),t.append(i),t.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(ni.HEADER_SIZE+tn.GTIN_SIZE+ni.LAST_DIGIT_SIZE,null);return t.append(o.getNewString()),t.toString()}}ni.HEADER_SIZE=8,ni.LAST_DIGIT_SIZE=2;class nn extends tn{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<nn.HEADER_SIZE+tn.GTIN_SIZE)throw new J;let t=new Ze;this.encodeCompressedGtin(t,nn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(nn.HEADER_SIZE+tn.GTIN_SIZE,nn.LAST_DIGIT_SIZE);t.append("(393"),t.append(i),t.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(nn.HEADER_SIZE+tn.GTIN_SIZE+nn.LAST_DIGIT_SIZE,nn.FIRST_THREE_DIGITS_SIZE);o/100==0&&t.append("0"),o/10==0&&t.append("0"),t.append(o);let a=this.getGeneralDecoder().decodeGeneralPurposeField(nn.HEADER_SIZE+tn.GTIN_SIZE+nn.LAST_DIGIT_SIZE+nn.FIRST_THREE_DIGITS_SIZE,null);return t.append(a.getNewString()),t.toString()}}nn.HEADER_SIZE=8,nn.LAST_DIGIT_SIZE=2,nn.FIRST_THREE_DIGITS_SIZE=10;class _t extends Jr{constructor(t,i,o){super(t),this.dateCode=o,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=_t.HEADER_SIZE+_t.GTIN_SIZE+_t.WEIGHT_SIZE+_t.DATE_SIZE)throw new J;let t=new Ze;return this.encodeCompressedGtin(t,_t.HEADER_SIZE),this.encodeCompressedWeight(t,_t.HEADER_SIZE+_t.GTIN_SIZE,_t.WEIGHT_SIZE),this.encodeCompressedDate(t,_t.HEADER_SIZE+_t.GTIN_SIZE+_t.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(i,_t.DATE_SIZE);if(o==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let a=o%32;o/=32;let l=o%12+1;o/=12;let h=o;h/10==0&&t.append("0"),t.append(h),l/10==0&&t.append("0"),t.append(l),a/10==0&&t.append("0"),t.append(a)}addWeightCode(t,i){t.append("("),t.append(this.firstAIdigits),t.append(i/1e5),t.append(")")}checkWeight(t){return t%1e5}}_t.HEADER_SIZE=8,_t.WEIGHT_SIZE=20,_t.DATE_SIZE=16;function $r(S){try{if(S.get(1))return new Xi(S);if(!S.get(2))return new xi(S);switch(Yi.extractNumericValueFromBitArray(S,1,4)){case 4:return new au(S);case 5:return new lu(S)}switch(Yi.extractNumericValueFromBitArray(S,1,5)){case 12:return new ni(S);case 13:return new nn(S)}switch(Yi.extractNumericValueFromBitArray(S,1,7)){case 56:return new _t(S,"310","11");case 57:return new _t(S,"320","11");case 58:return new _t(S,"310","13");case 59:return new _t(S,"320","13");case 60:return new _t(S,"310","15");case 61:return new _t(S,"320","15");case 62:return new _t(S,"310","17");case 63:return new _t(S,"320","17")}}catch(t){throw console.log(t),new jn("unknown decoder: "+S)}}class Di{constructor(t,i,o,a){this.leftchar=t,this.rightchar=i,this.finderpattern=o,this.maybeLast=a}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,i){return t instanceof Di?Di.equalsOrNull(t.leftchar,i.leftchar)&&Di.equalsOrNull(t.rightchar,i.rightchar)&&Di.equalsOrNull(t.finderpattern,i.finderpattern):!1}static equalsOrNull(t,i){return t===null?i===null:Di.equals(t,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class xo{constructor(t,i,o){this.pairs=t,this.rowNumber=i,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,i){return t instanceof xo?this.checkEqualitity(t,i)&&t.wasReversed===i.wasReversed:!1}checkEqualitity(t,i){if(!t||!i)return;let o;return t.forEach((a,l)=>{i.forEach(h=>{a.getLeftChar().getValue()===h.getLeftChar().getValue()&&a.getRightChar().getValue()===h.getRightChar().getValue()&&a.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(o=!0)})}),o}}class se extends en{constructor(t){super(...arguments),this.pairs=new Array(se.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,i,o){this.pairs.length=0,this.startFromEven=!1;try{return se.constructResult(this.decodeRow2pairs(t,i))}catch(a){this.verbose&&console.log(a)}return this.pairs.length=0,this.startFromEven=!0,se.constructResult(this.decodeRow2pairs(t,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,i){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,t))}catch(l){if(l instanceof J){if(!this.pairs.length)throw new J;o=!0}}if(this.checkChecksum())return this.pairs;let a;if(this.rows.length?a=!0:a=!1,this.storeRow(t,!1),a){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new J}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return t&&(this.rows=this.rows.reverse()),i}checkRows(t,i){for(let o=i;o<this.rows.length;o++){let a=this.rows[o];this.pairs.length=0;for(let h of t)this.pairs.push(h.getPairs());if(this.pairs.push(a.getPairs()),!se.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(t);l.push(a);try{return this.checkRows(l,o+1)}catch(h){this.verbose&&console.log(h)}}throw new J}static isValidSequence(t){for(let i of se.FINDER_PATTERN_SEQUENCES){if(t.length>i.length)continue;let o=!0;for(let a=0;a<t.length;a++)if(t[a].getFinderPattern().getValue()!=i[a]){o=!1;break}if(o)return!0}return!1}storeRow(t,i){let o=0,a=!1,l=!1;for(;o<this.rows.length;){let h=this.rows[o];if(h.getRowNumber()>t){l=h.isEquivalent(this.pairs);break}a=h.isEquivalent(this.pairs),o++}l||a||se.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new xo(this.pairs,t,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,i){for(let o of i)if(o.getPairs().length!==t.length){for(let a of o.getPairs())for(let l of t)if(Di.equals(a,l))break}}static isPartialRow(t,i){for(let o of i){let a=!0;for(let l of t){let h=!1;for(let d of o.getPairs())if(l.equals(d)){h=!0;break}if(!h){a=!1;break}}if(a)return!0}return!1}getRows(){return this.rows}static constructResult(t){let i=ou.buildBitArray(t),a=$r(i).parseInformation(),l=t[0].getFinderPattern().getResultPoints(),h=t[t.length-1].getFinderPattern().getResultPoints(),d=[l[0],l[1],h[0],h[1]];return new De(a,null,null,d,ue.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),i=t.getLeftChar(),o=t.getRightChar();if(o==null)return!1;let a=o.getChecksumPortion(),l=2;for(let d=1;d<this.pairs.size();++d){let m=this.pairs.get(d);a+=m.getLeftChar().getChecksumPortion(),l++;let x=m.getRightChar();x!=null&&(a+=x.getChecksumPortion(),l++)}return a%=211,211*(l-4)+a==i.getValue()}static getNextSecondBar(t,i){let o;return t.get(i)?(o=t.getNextUnset(i),o=t.getNextSet(o)):(o=t.getNextSet(i),o=t.getNextUnset(o)),o}retrieveNextPair(t,i,o){let a=i.length%2==0;this.startFromEven&&(a=!a);let l,h=!0,d=-1;do this.findNextPair(t,i,d),l=this.parseFoundFinderPattern(t,o,a),l==null?d=se.getNextSecondBar(t,this.startEnd[0]):h=!1;while(h);let m=this.decodeDataCharacter(t,l,a,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new J;let x;try{x=this.decodeDataCharacter(t,l,a,!1)}catch(w){x=null,this.verbose&&console.log(w)}return new Di(m,x,l,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,i,o){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=t.getSize(),h;o>=0?h=o:this.isEmptyPair(i)?h=0:h=i[i.length-1].getFinderPattern().getStartEnd()[1];let d=i.length%2!=0;this.startFromEven&&(d=!d);let m=!1;for(;h<l&&(m=!t.get(h),!!m);)h++;let x=0,w=h;for(let T=h;T<l;T++)if(t.get(T)!=m)a[x]++;else{if(x==3){if(d&&se.reverseCounters(a),se.isFinderPattern(a)){this.startEnd[0]=w,this.startEnd[1]=T;return}d&&se.reverseCounters(a),w+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,x--}else x++;a[x]=1,m=!m}throw new J}static reverseCounters(t){let i=t.length;for(let o=0;o<i/2;++o){let a=t[o];t[o]=t[i-o-1],t[i-o-1]=a}}parseFoundFinderPattern(t,i,o){let a,l,h;if(o){let x=this.startEnd[0]-1;for(;x>=0&&!t.get(x);)x--;x++,a=this.startEnd[0]-x,l=x,h=this.startEnd[1]}else l=this.startEnd[0],h=t.getNextUnset(this.startEnd[1]+1),a=h-this.startEnd[1];let d=this.getDecodeFinderCounters();U.arraycopy(d,0,d,1,d.length-1),d[0]=a;let m;try{m=this.parseFinderValue(d,se.FINDER_PATTERNS)}catch{return null}return new mr(m,[l,h],l,h,i)}decodeDataCharacter(t,i,o,a){let l=this.getDataCharacterCounters();for(let st=0;st<l.length;st++)l[st]=0;if(a)se.recordPatternInReverse(t,i.getStartEnd()[0],l);else{se.recordPattern(t,i.getStartEnd()[1],l);for(let st=0,Qt=l.length-1;st<Qt;st++,Qt--){let xn=l[st];l[st]=l[Qt],l[Qt]=xn}}let h=17,d=Je.sum(new Int32Array(l))/h,m=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(d-m)/m>.3)throw new J;let x=this.getOddCounts(),w=this.getEvenCounts(),T=this.getOddRoundingErrors(),N=this.getEvenRoundingErrors();for(let st=0;st<l.length;st++){let Qt=1*l[st]/d,xn=Qt+.5;if(xn<1){if(Qt<.3)throw new J;xn=1}else if(xn>8){if(Qt>8.7)throw new J;xn=8}let Ar=st/2;st&1?(w[Ar]=xn,N[Ar]=Qt-xn):(x[Ar]=xn,T[Ar]=Qt-xn)}this.adjustOddEvenCounts(h);let D=4*i.getValue()+(o?0:2)+(a?0:1)-1,F=0,z=0;for(let st=x.length-1;st>=0;st--){if(se.isNotA1left(i,o,a)){let Qt=se.WEIGHTS[D][2*st];z+=x[st]*Qt}F+=x[st]}let Z=0;for(let st=w.length-1;st>=0;st--)if(se.isNotA1left(i,o,a)){let Qt=se.WEIGHTS[D][2*st+1];Z+=w[st]*Qt}let Y=z+Z;if(F&1||F>13||F<4)throw new J;let ce=(13-F)/2,he=se.SYMBOL_WIDEST[ce],ae=9-he,Ve=ei.getRSSvalue(x,he,!0),Be=ei.getRSSvalue(w,ae,!1),At=se.EVEN_TOTAL_SUBSET[ce],pn=se.GSUM[ce],mn=Ve*At+Be+pn;return new pr(mn,Y)}static isNotA1left(t,i,o){return!(t.getValue()==0&&i&&o)}adjustOddEvenCounts(t){let i=Je.sum(new Int32Array(this.getOddCounts())),o=Je.sum(new Int32Array(this.getEvenCounts())),a=!1,l=!1;i>13?l=!0:i<4&&(a=!0);let h=!1,d=!1;o>13?d=!0:o<4&&(h=!0);let m=i+o-t,x=(i&1)==1,w=(o&1)==0;if(m==1)if(x){if(w)throw new J;l=!0}else{if(!w)throw new J;d=!0}else if(m==-1)if(x){if(w)throw new J;a=!0}else{if(!w)throw new J;h=!0}else if(m==0){if(x){if(!w)throw new J;i<o?(a=!0,d=!0):(l=!0,h=!0)}else if(w)throw new J}else throw new J;if(a){if(l)throw new J;se.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&se.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(d)throw new J;se.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&se.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}se.SYMBOL_WIDEST=[7,5,4,3,1],se.EVEN_TOTAL_SUBSET=[4,20,52,104,204],se.GSUM=[0,348,1388,2948,3988],se.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],se.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],se.FINDER_PAT_A=0,se.FINDER_PAT_B=1,se.FINDER_PAT_C=2,se.FINDER_PAT_D=3,se.FINDER_PAT_E=4,se.FINDER_PAT_F=5,se.FINDER_PATTERN_SEQUENCES=[[se.FINDER_PAT_A,se.FINDER_PAT_A],[se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B],[se.FINDER_PAT_A,se.FINDER_PAT_C,se.FINDER_PAT_B,se.FINDER_PAT_D],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_C],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_D,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_D],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_E],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F]],se.MAX_PAIRS=11;class uu extends pr{constructor(t,i,o){super(t,i),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class It extends en{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,i,o){const a=this.decodePair(i,!1,t,o);It.addOrTally(this.possibleLeftPairs,a),i.reverse();let l=this.decodePair(i,!0,t,o);It.addOrTally(this.possibleRightPairs,l),i.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let d of this.possibleRightPairs)if(d.getCount()>1&&It.checkChecksum(h,d))return It.constructResult(h,d)}throw new J}static addOrTally(t,i){if(i==null)return;let o=!1;for(let a of t)if(a.getValue()===i.getValue()){a.incrementCount(),o=!0;break}o||t.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,i){let o=4537077*t.getValue()+i.getValue(),a=new String(o).toString(),l=new Ze;for(let x=13-a.length;x>0;x--)l.append("0");l.append(a);let h=0;for(let x=0;x<13;x++){let w=l.charAt(x).charCodeAt(0)-48;h+=x&1?w:3*w}h=10-h%10,h===10&&(h=0),l.append(h.toString());let d=t.getFinderPattern().getResultPoints(),m=i.getFinderPattern().getResultPoints();return new De(l.toString(),null,0,[d[0],d[1],m[0],m[1]],ue.RSS_14,new Date().getTime())}static checkChecksum(t,i){let o=(t.getChecksumPortion()+16*i.getChecksumPortion())%79,a=9*t.getFinderPattern().getValue()+i.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,o===a}decodePair(t,i,o,a){try{let l=this.findFinderPattern(t,i),h=this.parseFoundFinderPattern(t,o,i,l),d=a==null?null:a.get(ne.NEED_RESULT_POINT_CALLBACK);if(d!=null){let w=(l[0]+l[1])/2;i&&(w=t.getSize()-1-w),d.foundPossibleResultPoint(new Se(w,o))}let m=this.decodeDataCharacter(t,h,!0),x=this.decodeDataCharacter(t,h,!1);return new uu(1597*m.getValue()+x.getValue(),m.getChecksumPortion()+4*x.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(t,i,o){let a=this.getDataCharacterCounters();for(let Z=0;Z<a.length;Z++)a[Z]=0;if(o)bt.recordPatternInReverse(t,i.getStartEnd()[0],a);else{bt.recordPattern(t,i.getStartEnd()[1]+1,a);for(let Z=0,Y=a.length-1;Z<Y;Z++,Y--){let ce=a[Z];a[Z]=a[Y],a[Y]=ce}}let l=o?16:15,h=Je.sum(new Int32Array(a))/l,d=this.getOddCounts(),m=this.getEvenCounts(),x=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors();for(let Z=0;Z<a.length;Z++){let Y=a[Z]/h,ce=Math.floor(Y+.5);ce<1?ce=1:ce>8&&(ce=8);let he=Math.floor(Z/2);Z&1?(m[he]=ce,w[he]=Y-ce):(d[he]=ce,x[he]=Y-ce)}this.adjustOddEvenCounts(o,l);let T=0,N=0;for(let Z=d.length-1;Z>=0;Z--)N*=9,N+=d[Z],T+=d[Z];let D=0,F=0;for(let Z=m.length-1;Z>=0;Z--)D*=9,D+=m[Z],F+=m[Z];let z=N+3*D;if(o){if(T&1||T>12||T<4)throw new J;let Z=(12-T)/2,Y=It.OUTSIDE_ODD_WIDEST[Z],ce=9-Y,he=ei.getRSSvalue(d,Y,!1),ae=ei.getRSSvalue(m,ce,!0),Ve=It.OUTSIDE_EVEN_TOTAL_SUBSET[Z],Be=It.OUTSIDE_GSUM[Z];return new pr(he*Ve+ae+Be,z)}else{if(F&1||F>10||F<4)throw new J;let Z=(10-F)/2,Y=It.INSIDE_ODD_WIDEST[Z],ce=9-Y,he=ei.getRSSvalue(d,Y,!0),ae=ei.getRSSvalue(m,ce,!1),Ve=It.INSIDE_ODD_TOTAL_SUBSET[Z],Be=It.INSIDE_GSUM[Z];return new pr(ae*Ve+he+Be,z)}}findFinderPattern(t,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=t.getSize(),l=!1,h=0;for(;h<a&&(l=!t.get(h),i!==l);)h++;let d=0,m=h;for(let x=h;x<a;x++)if(t.get(x)!==l)o[d]++;else{if(d===3){if(en.isFinderPattern(o))return[m,x];m+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,d--}else d++;o[d]=1,l=!l}throw new J}parseFoundFinderPattern(t,i,o,a){let l=t.get(a[0]),h=a[0]-1;for(;h>=0&&l!==t.get(h);)h--;h++;const d=a[0]-h,m=this.getDecodeFinderCounters(),x=new Int32Array(m.length);U.arraycopy(m,0,x,1,m.length-1),x[0]=d;const w=this.parseFinderValue(x,It.FINDER_PATTERNS);let T=h,N=a[1];return o&&(T=t.getSize()-1-T,N=t.getSize()-1-N),new mr(w,[h,a[1]],T,N,i)}adjustOddEvenCounts(t,i){let o=Je.sum(new Int32Array(this.getOddCounts())),a=Je.sum(new Int32Array(this.getEvenCounts())),l=!1,h=!1,d=!1,m=!1;t?(o>12?h=!0:o<4&&(l=!0),a>12?m=!0:a<4&&(d=!0)):(o>11?h=!0:o<5&&(l=!0),a>10?m=!0:a<4&&(d=!0));let x=o+a-i,w=(o&1)===(t?1:0),T=(a&1)===1;if(x===1)if(w){if(T)throw new J;h=!0}else{if(!T)throw new J;m=!0}else if(x===-1)if(w){if(T)throw new J;l=!0}else{if(!T)throw new J;d=!0}else if(x===0){if(w){if(!T)throw new J;o<a?(l=!0,m=!0):(h=!0,d=!0)}else if(T)throw new J}else throw new J;if(l){if(h)throw new J;en.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&en.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(m)throw new J;en.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&en.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}It.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],It.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],It.OUTSIDE_GSUM=[0,161,961,2015,2715],It.INSIDE_GSUM=[0,336,1036,1516],It.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],It.INSIDE_ODD_WIDEST=[2,4,6,8],It.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ri extends bt{constructor(t,i){super(),this.readers=[],this.verbose=i===!0;const o=t?t.get(ne.POSSIBLE_FORMATS):null,a=t&&t.get(ne.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(ue.EAN_13)||o.includes(ue.UPC_A)||o.includes(ue.EAN_8)||o.includes(ue.UPC_E))&&this.readers.push(new po(t)),o.includes(ue.CODE_39)&&this.readers.push(new kt(a)),o.includes(ue.CODE_128)&&this.readers.push(new pe),o.includes(ue.ITF)&&this.readers.push(new ut),o.includes(ue.RSS_14)&&this.readers.push(new It),o.includes(ue.RSS_EXPANDED)&&this.readers.push(new se(this.verbose))):(this.readers.push(new po(t)),this.readers.push(new kt),this.readers.push(new po(t)),this.readers.push(new pe),this.readers.push(new ut),this.readers.push(new It),this.readers.push(new se(this.verbose)))}decodeRow(t,i,o){for(let a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(t,i,o)}catch{}throw new J}reset(){this.readers.forEach(t=>t.reset())}}class es extends Ue{constructor(t=500,i){super(new Ri(i),t,i)}}class it{constructor(t,i,o){this.ecCodewords=t,this.ecBlocks=[i],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class tt{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class je{constructor(t,i,o,a,l,h){this.versionNumber=t,this.symbolSizeRows=i,this.symbolSizeColumns=o,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=l,this.ecBlocks=h;let d=0;const m=h.getECCodewords(),x=h.getECBlocks();for(let w of x)d+=w.getCount()*(w.getDataCodewords()+m);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,i){if(t&1||i&1)throw new V;for(let o of je.VERSIONS)if(o.symbolSizeRows===t&&o.symbolSizeColumns===i)return o;throw new V}toString(){return""+this.versionNumber}static buildVersions(){return[new je(1,10,10,8,8,new it(5,new tt(1,3))),new je(2,12,12,10,10,new it(7,new tt(1,5))),new je(3,14,14,12,12,new it(10,new tt(1,8))),new je(4,16,16,14,14,new it(12,new tt(1,12))),new je(5,18,18,16,16,new it(14,new tt(1,18))),new je(6,20,20,18,18,new it(18,new tt(1,22))),new je(7,22,22,20,20,new it(20,new tt(1,30))),new je(8,24,24,22,22,new it(24,new tt(1,36))),new je(9,26,26,24,24,new it(28,new tt(1,44))),new je(10,32,32,14,14,new it(36,new tt(1,62))),new je(11,36,36,16,16,new it(42,new tt(1,86))),new je(12,40,40,18,18,new it(48,new tt(1,114))),new je(13,44,44,20,20,new it(56,new tt(1,144))),new je(14,48,48,22,22,new it(68,new tt(1,174))),new je(15,52,52,24,24,new it(42,new tt(2,102))),new je(16,64,64,14,14,new it(56,new tt(2,140))),new je(17,72,72,16,16,new it(36,new tt(4,92))),new je(18,80,80,18,18,new it(48,new tt(4,114))),new je(19,88,88,20,20,new it(56,new tt(4,144))),new je(20,96,96,22,22,new it(68,new tt(4,174))),new je(21,104,104,24,24,new it(56,new tt(6,136))),new je(22,120,120,18,18,new it(68,new tt(6,175))),new je(23,132,132,20,20,new it(62,new tt(8,163))),new je(24,144,144,22,22,new it(62,new tt(8,156),new tt(2,155))),new je(25,8,18,6,16,new it(7,new tt(1,5))),new je(26,8,32,6,14,new it(11,new tt(1,10))),new je(27,12,26,10,24,new it(14,new tt(1,16))),new je(28,12,36,10,16,new it(18,new tt(1,22))),new je(29,16,36,14,16,new it(24,new tt(1,32))),new je(30,16,48,14,22,new it(28,new tt(1,49)))]}}je.VERSIONS=je.buildVersions();class Ke{constructor(t){const i=t.getHeight();if(i<8||i>144||i&1)throw new V;this.version=Ke.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new nt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const i=t.getHeight(),o=t.getWidth();return je.getVersionForDimensions(i,o)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let i=0,o=4,a=0;const l=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let d=!1,m=!1,x=!1,w=!1;do if(o===l&&a===0&&!d)t[i++]=this.readCorner1(l,h)&255,o-=2,a+=2,d=!0;else if(o===l-2&&a===0&&h&3&&!m)t[i++]=this.readCorner2(l,h)&255,o-=2,a+=2,m=!0;else if(o===l+4&&a===2&&!(h&7)&&!x)t[i++]=this.readCorner3(l,h)&255,o-=2,a+=2,x=!0;else if(o===l-2&&a===0&&(h&7)===4&&!w)t[i++]=this.readCorner4(l,h)&255,o-=2,a+=2,w=!0;else{do o<l&&a>=0&&!this.readMappingMatrix.get(a,o)&&(t[i++]=this.readUtah(o,a,l,h)&255),o-=2,a+=2;while(o>=0&&a<h);o+=1,a+=3;do o>=0&&a<h&&!this.readMappingMatrix.get(a,o)&&(t[i++]=this.readUtah(o,a,l,h)&255),o+=2,a-=2;while(o<l&&a>=0);o+=3,a+=1}while(o<l||a<h);if(i!==this.version.getTotalCodewords())throw new V;return t}readModule(t,i,o,a){return t<0&&(t+=o,i+=4-(o+4&7)),i<0&&(i+=a,t+=4-(a+4&7)),this.readMappingMatrix.set(i,t),this.mappingBitMatrix.get(i,t)}readUtah(t,i,o,a){let l=0;return this.readModule(t-2,i-2,o,a)&&(l|=1),l<<=1,this.readModule(t-2,i-1,o,a)&&(l|=1),l<<=1,this.readModule(t-1,i-2,o,a)&&(l|=1),l<<=1,this.readModule(t-1,i-1,o,a)&&(l|=1),l<<=1,this.readModule(t-1,i,o,a)&&(l|=1),l<<=1,this.readModule(t,i-2,o,a)&&(l|=1),l<<=1,this.readModule(t,i-1,o,a)&&(l|=1),l<<=1,this.readModule(t,i,o,a)&&(l|=1),l}readCorner1(t,i){let o=0;return this.readModule(t-1,0,t,i)&&(o|=1),o<<=1,this.readModule(t-1,1,t,i)&&(o|=1),o<<=1,this.readModule(t-1,2,t,i)&&(o|=1),o<<=1,this.readModule(0,i-2,t,i)&&(o|=1),o<<=1,this.readModule(0,i-1,t,i)&&(o|=1),o<<=1,this.readModule(1,i-1,t,i)&&(o|=1),o<<=1,this.readModule(2,i-1,t,i)&&(o|=1),o<<=1,this.readModule(3,i-1,t,i)&&(o|=1),o}readCorner2(t,i){let o=0;return this.readModule(t-3,0,t,i)&&(o|=1),o<<=1,this.readModule(t-2,0,t,i)&&(o|=1),o<<=1,this.readModule(t-1,0,t,i)&&(o|=1),o<<=1,this.readModule(0,i-4,t,i)&&(o|=1),o<<=1,this.readModule(0,i-3,t,i)&&(o|=1),o<<=1,this.readModule(0,i-2,t,i)&&(o|=1),o<<=1,this.readModule(0,i-1,t,i)&&(o|=1),o<<=1,this.readModule(1,i-1,t,i)&&(o|=1),o}readCorner3(t,i){let o=0;return this.readModule(t-1,0,t,i)&&(o|=1),o<<=1,this.readModule(t-1,i-1,t,i)&&(o|=1),o<<=1,this.readModule(0,i-3,t,i)&&(o|=1),o<<=1,this.readModule(0,i-2,t,i)&&(o|=1),o<<=1,this.readModule(0,i-1,t,i)&&(o|=1),o<<=1,this.readModule(1,i-3,t,i)&&(o|=1),o<<=1,this.readModule(1,i-2,t,i)&&(o|=1),o<<=1,this.readModule(1,i-1,t,i)&&(o|=1),o}readCorner4(t,i){let o=0;return this.readModule(t-3,0,t,i)&&(o|=1),o<<=1,this.readModule(t-2,0,t,i)&&(o|=1),o<<=1,this.readModule(t-1,0,t,i)&&(o|=1),o<<=1,this.readModule(0,i-2,t,i)&&(o|=1),o<<=1,this.readModule(0,i-1,t,i)&&(o|=1),o<<=1,this.readModule(1,i-1,t,i)&&(o|=1),o<<=1,this.readModule(2,i-1,t,i)&&(o|=1),o<<=1,this.readModule(3,i-1,t,i)&&(o|=1),o}extractDataRegion(t){const i=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(t.getHeight()!==i)throw new O("Dimension of bitMatrix must match the version size");const a=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),h=i/a|0,d=o/l|0,m=h*a,x=d*l,w=new nt(x,m);for(let T=0;T<h;++T){const N=T*a;for(let D=0;D<d;++D){const F=D*l;for(let z=0;z<a;++z){const Z=T*(a+2)+1+z,Y=N+z;for(let ce=0;ce<l;++ce){const he=D*(l+2)+1+ce;if(t.get(he,Z)){const ae=F+ce;w.set(ae,Y)}}}}}return w}}class mt{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i){const o=i.getECBlocks();let a=0;const l=o.getECBlocks();for(let z of l)a+=z.getCount();const h=new Array(a);let d=0;for(let z of l)for(let Z=0;Z<z.getCount();Z++){const Y=z.getDataCodewords(),ce=o.getECCodewords()+Y;h[d++]=new mt(Y,new Uint8Array(ce))}const x=h[0].codewords.length-o.getECCodewords(),w=x-1;let T=0;for(let z=0;z<w;z++)for(let Z=0;Z<d;Z++)h[Z].codewords[z]=t[T++];const N=i.getVersionNumber()===24,D=N?8:d;for(let z=0;z<D;z++)h[z].codewords[x-1]=t[T++];const F=h[0].codewords.length;for(let z=x;z<F;z++)for(let Z=0;Z<d;Z++){const Y=N?(Z+8)%d:Z,ce=N&&Y>7?z-1:z;h[Y].codewords[ce]=t[T++]}if(T!==t.length)throw new O;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class xr{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new O(""+t);let i=0,o=this.bitOffset,a=this.byteOffset;const l=this.bytes;if(o>0){const h=8-o,d=t<h?t:h,m=h-d,x=255>>8-d<<m;i=(l[a]&x)>>m,t-=d,o+=d,o===8&&(o=0,a++)}if(t>0){for(;t>=8;)i=i<<8|l[a]&255,a++,t-=8;if(t>0){const h=8-t,d=255>>h<<h;i=i<<t|(l[a]&d)>>h,o+=t}}return this.bitOffset=o,this.byteOffset=a,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var yt;(function(S){S[S.PAD_ENCODE=0]="PAD_ENCODE",S[S.ASCII_ENCODE=1]="ASCII_ENCODE",S[S.C40_ENCODE=2]="C40_ENCODE",S[S.TEXT_ENCODE=3]="TEXT_ENCODE",S[S.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",S[S.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",S[S.BASE256_ENCODE=6]="BASE256_ENCODE"})(yt||(yt={}));class An{static decode(t){const i=new xr(t),o=new Ze,a=new Ze,l=new Array;let h=yt.ASCII_ENCODE;do if(h===yt.ASCII_ENCODE)h=this.decodeAsciiSegment(i,o,a);else{switch(h){case yt.C40_ENCODE:this.decodeC40Segment(i,o);break;case yt.TEXT_ENCODE:this.decodeTextSegment(i,o);break;case yt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,o);break;case yt.EDIFACT_ENCODE:this.decodeEdifactSegment(i,o);break;case yt.BASE256_ENCODE:this.decodeBase256Segment(i,o,l);break;default:throw new V}h=yt.ASCII_ENCODE}while(h!==yt.PAD_ENCODE&&i.available()>0);return a.length()>0&&o.append(a.toString()),new fr(t,o.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(t,i,o){let a=!1;do{let l=t.readBits(8);if(l===0)throw new V;if(l<=128)return a&&(l+=128),i.append(String.fromCharCode(l-1)),yt.ASCII_ENCODE;if(l===129)return yt.PAD_ENCODE;if(l<=229){const h=l-130;h<10&&i.append("0"),i.append(""+h)}else switch(l){case 230:return yt.C40_ENCODE;case 231:return yt.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:a=!0;break;case 236:i.append("[)>05"),o.insert(0,"");break;case 237:i.append("[)>06"),o.insert(0,"");break;case 238:return yt.ANSIX12_ENCODE;case 239:return yt.TEXT_ENCODE;case 240:return yt.EDIFACT_ENCODE;case 241:break;default:if(l!==254||t.available()!==0)throw new V;break}}while(t.available()>0);return yt.ASCII_ENCODE}static decodeC40Segment(t,i){let o=!1;const a=[];let l=0;do{if(t.available()===8)return;const h=t.readBits(8);if(h===254)return;this.parseTwoBytes(h,t.readBits(8),a);for(let d=0;d<3;d++){const m=a[d];switch(l){case 0:if(m<3)l=m+1;else if(m<this.C40_BASIC_SET_CHARS.length){const x=this.C40_BASIC_SET_CHARS[m];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x)}else throw new V;break;case 1:o?(i.append(String.fromCharCode(m+128)),o=!1):i.append(String.fromCharCode(m)),l=0;break;case 2:if(m<this.C40_SHIFT2_SET_CHARS.length){const x=this.C40_SHIFT2_SET_CHARS[m];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x)}else switch(m){case 27:i.append("");break;case 30:o=!0;break;default:throw new V}l=0;break;case 3:o?(i.append(String.fromCharCode(m+224)),o=!1):i.append(String.fromCharCode(m+96)),l=0;break;default:throw new V}}}while(t.available()>0)}static decodeTextSegment(t,i){let o=!1,a=[],l=0;do{if(t.available()===8)return;const h=t.readBits(8);if(h===254)return;this.parseTwoBytes(h,t.readBits(8),a);for(let d=0;d<3;d++){const m=a[d];switch(l){case 0:if(m<3)l=m+1;else if(m<this.TEXT_BASIC_SET_CHARS.length){const x=this.TEXT_BASIC_SET_CHARS[m];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x)}else throw new V;break;case 1:o?(i.append(String.fromCharCode(m+128)),o=!1):i.append(String.fromCharCode(m)),l=0;break;case 2:if(m<this.TEXT_SHIFT2_SET_CHARS.length){const x=this.TEXT_SHIFT2_SET_CHARS[m];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x)}else switch(m){case 27:i.append("");break;case 30:o=!0;break;default:throw new V}l=0;break;case 3:if(m<this.TEXT_SHIFT3_SET_CHARS.length){const x=this.TEXT_SHIFT3_SET_CHARS[m];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x),l=0}else throw new V;break;default:throw new V}}}while(t.available()>0)}static decodeAnsiX12Segment(t,i){const o=[];do{if(t.available()===8)return;const a=t.readBits(8);if(a===254)return;this.parseTwoBytes(a,t.readBits(8),o);for(let l=0;l<3;l++){const h=o[l];switch(h){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(h<14)i.append(String.fromCharCode(h+44));else if(h<40)i.append(String.fromCharCode(h+51));else throw new V;break}}}while(t.available()>0)}static parseTwoBytes(t,i,o){let a=(t<<8)+i-1,l=Math.floor(a/1600);o[0]=l,a-=l*1600,l=Math.floor(a/40),o[1]=l,o[2]=a-l*40}static decodeEdifactSegment(t,i){do{if(t.available()<=16)return;for(let o=0;o<4;o++){let a=t.readBits(6);if(a===31){const l=8-t.getBitOffset();l!==8&&t.readBits(l);return}a&32||(a|=64),i.append(String.fromCharCode(a))}}while(t.available()>0)}static decodeBase256Segment(t,i,o){let a=1+t.getByteOffset();const l=this.unrandomize255State(t.readBits(8),a++);let h;if(l===0?h=t.available()/8|0:l<250?h=l:h=250*(l-249)+this.unrandomize255State(t.readBits(8),a++),h<0)throw new V;const d=new Uint8Array(h);for(let m=0;m<h;m++){if(t.available()<8)throw new V;d[m]=this.unrandomize255State(t.readBits(8),a++)}o.push(d);try{i.append(Fe.decode(d,Ce.ISO88591))}catch(m){throw new jn("Platform does not support required encoding: "+m.message)}}static unrandomize255State(t,i){const o=149*i%255+1,a=t-o;return a>=0?a:a+256}}An.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],An.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],An.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],An.TEXT_SHIFT2_SET_CHARS=An.C40_SHIFT2_SET_CHARS,An.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class _o{constructor(){this.rsDecoder=new gr(qe.DATA_MATRIX_FIELD_256)}decode(t){const i=new Ke(t),o=i.getVersion(),a=i.readCodewords(),l=mt.getDataBlocks(a,o);let h=0;for(let x of l)h+=x.getNumDataCodewords();const d=new Uint8Array(h),m=l.length;for(let x=0;x<m;x++){const w=l[x],T=w.getCodewords(),N=w.getNumDataCodewords();this.correctErrors(T,N);for(let D=0;D<N;D++)d[D*m+x]=T[D]}return An.decode(d)}correctErrors(t,i){const o=new Int32Array(t);try{this.rsDecoder.decode(o,t.length-i)}catch{throw new X}for(let a=0;a<i;a++)t[a]=o[a]}}class Ie{constructor(t){this.image=t,this.rectangleDetector=new pi(this.image)}detect(){const t=this.rectangleDetector.detect();let i=this.detectSolid1(t);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new J;i=this.shiftToModuleCenter(i);const o=i[0],a=i[1],l=i[2],h=i[3];let d=this.transitionsBetween(o,h)+1,m=this.transitionsBetween(l,h)+1;(d&1)===1&&(d+=1),(m&1)===1&&(m+=1),4*d<7*m&&4*m<7*d&&(d=m=Math.max(d,m));let x=Ie.sampleGrid(this.image,o,a,l,h,d,m);return new Qr(x,[o,a,l,h])}static shiftPoint(t,i,o){let a=(i.getX()-t.getX())/(o+1),l=(i.getY()-t.getY())/(o+1);return new Se(t.getX()+a,t.getY()+l)}static moveAway(t,i,o){let a=t.getX(),l=t.getY();return a<i?a-=1:a+=1,l<o?l-=1:l+=1,new Se(a,l)}detectSolid1(t){let i=t[0],o=t[1],a=t[3],l=t[2],h=this.transitionsBetween(i,o),d=this.transitionsBetween(o,a),m=this.transitionsBetween(a,l),x=this.transitionsBetween(l,i),w=h,T=[l,i,o,a];return w>d&&(w=d,T[0]=i,T[1]=o,T[2]=a,T[3]=l),w>m&&(w=m,T[0]=o,T[1]=a,T[2]=l,T[3]=i),w>x&&(T[0]=a,T[1]=l,T[2]=i,T[3]=o),T}detectSolid2(t){let i=t[0],o=t[1],a=t[2],l=t[3],h=this.transitionsBetween(i,l),d=Ie.shiftPoint(o,a,(h+1)*4),m=Ie.shiftPoint(a,o,(h+1)*4),x=this.transitionsBetween(d,i),w=this.transitionsBetween(m,l);return x<w?(t[0]=i,t[1]=o,t[2]=a,t[3]=l):(t[0]=o,t[1]=a,t[2]=l,t[3]=i),t}correctTopRight(t){let i=t[0],o=t[1],a=t[2],l=t[3],h=this.transitionsBetween(i,l),d=this.transitionsBetween(o,l),m=Ie.shiftPoint(i,o,(d+1)*4),x=Ie.shiftPoint(a,o,(h+1)*4);h=this.transitionsBetween(m,l),d=this.transitionsBetween(x,l);let w=new Se(l.getX()+(a.getX()-o.getX())/(h+1),l.getY()+(a.getY()-o.getY())/(h+1)),T=new Se(l.getX()+(i.getX()-o.getX())/(d+1),l.getY()+(i.getY()-o.getY())/(d+1));if(!this.isValid(w))return this.isValid(T)?T:null;if(!this.isValid(T))return w;let N=this.transitionsBetween(m,w)+this.transitionsBetween(x,w),D=this.transitionsBetween(m,T)+this.transitionsBetween(x,T);return N>D?w:T}shiftToModuleCenter(t){let i=t[0],o=t[1],a=t[2],l=t[3],h=this.transitionsBetween(i,l)+1,d=this.transitionsBetween(a,l)+1,m=Ie.shiftPoint(i,o,d*4),x=Ie.shiftPoint(a,o,h*4);h=this.transitionsBetween(m,l)+1,d=this.transitionsBetween(x,l)+1,(h&1)===1&&(h+=1),(d&1)===1&&(d+=1);let w=(i.getX()+o.getX()+a.getX()+l.getX())/4,T=(i.getY()+o.getY()+a.getY()+l.getY())/4;i=Ie.moveAway(i,w,T),o=Ie.moveAway(o,w,T),a=Ie.moveAway(a,w,T),l=Ie.moveAway(l,w,T);let N,D;return m=Ie.shiftPoint(i,o,d*4),m=Ie.shiftPoint(m,l,h*4),N=Ie.shiftPoint(o,i,d*4),N=Ie.shiftPoint(N,a,h*4),x=Ie.shiftPoint(a,l,d*4),x=Ie.shiftPoint(x,o,h*4),D=Ie.shiftPoint(l,a,d*4),D=Ie.shiftPoint(D,i,h*4),[m,N,x,D]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,i,o,a,l,h,d){return mi.getInstance().sampleGrid(t,h,d,.5,.5,h-.5,.5,h-.5,d-.5,.5,d-.5,i.getX(),i.getY(),l.getX(),l.getY(),a.getX(),a.getY(),o.getX(),o.getY())}transitionsBetween(t,i){let o=Math.trunc(t.getX()),a=Math.trunc(t.getY()),l=Math.trunc(i.getX()),h=Math.trunc(i.getY()),d=Math.abs(h-a)>Math.abs(l-o);if(d){let z=o;o=a,a=z,z=l,l=h,h=z}let m=Math.abs(l-o),x=Math.abs(h-a),w=-m/2,T=a<h?1:-1,N=o<l?1:-1,D=0,F=this.image.get(d?a:o,d?o:a);for(let z=o,Z=a;z!==l;z+=N){let Y=this.image.get(d?Z:z,d?z:Z);if(Y!==F&&(D++,F=Y),w+=x,w>0){if(Z===h)break;Z+=T,w-=m}}return D}}class at{constructor(){this.decoder=new _o}decode(t,i=null){let o,a;if(i!=null&&i.has(ne.PURE_BARCODE)){const x=at.extractPureBits(t.getBlackMatrix());o=this.decoder.decode(x),a=at.NO_POINTS}else{const x=new Ie(t.getBlackMatrix()).detect();o=this.decoder.decode(x.getBits()),a=x.getPoints()}const l=o.getRawBytes(),h=new De(o.getText(),l,8*l.length,a,ue.DATA_MATRIX,U.currentTimeMillis()),d=o.getByteSegments();d!=null&&h.putMetadata(pt.BYTE_SEGMENTS,d);const m=o.getECLevel();return m!=null&&h.putMetadata(pt.ERROR_CORRECTION_LEVEL,m),h}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),o=t.getBottomRightOnBit();if(i==null||o==null)throw new J;const a=this.moduleSize(i,t);let l=i[1];const h=o[1];let d=i[0];const x=(o[0]-d+1)/a,w=(h-l+1)/a;if(x<=0||w<=0)throw new J;const T=a/2;l+=T,d+=T;const N=new nt(x,w);for(let D=0;D<w;D++){const F=l+D*a;for(let z=0;z<x;z++)t.get(d+z*a,F)&&N.set(z,D)}return N}static moduleSize(t,i){const o=i.getWidth();let a=t[0];const l=t[1];for(;a<o&&i.get(a,l);)a++;if(a===o)throw new J;const h=a-t[0];if(h===0)throw new J;return h}}at.NO_POINTS=[];class yo extends Ue{constructor(t=500){super(new at,t)}}var _i;(function(S){S[S.L=0]="L",S[S.M=1]="M",S[S.Q=2]="Q",S[S.H=3]="H"})(_i||(_i={}));class He{constructor(t,i,o){this.value=t,this.stringValue=i,this.bits=o,He.FOR_BITS.set(o,this),He.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return He.L;case"M":return He.M;case"Q":return He.Q;case"H":return He.H;default:throw new R(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof He))return!1;const i=t;return this.value===i.value}static forBits(t){if(t<0||t>=He.FOR_BITS.size)throw new O;return He.FOR_BITS.get(t)}}He.FOR_BITS=new Map,He.FOR_VALUE=new Map,He.L=new He(_i.L,"L",1),He.M=new He(_i.M,"M",0),He.Q=new He(_i.Q,"Q",3),He.H=new He(_i.H,"H",2);class rn{constructor(t){this.errorCorrectionLevel=He.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,i){return P.bitCount(t^i)}static decodeFormatInformation(t,i){const o=rn.doDecodeFormatInformation(t,i);return o!==null?o:rn.doDecodeFormatInformation(t^rn.FORMAT_INFO_MASK_QR,i^rn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,i){let o=Number.MAX_SAFE_INTEGER,a=0;for(const l of rn.FORMAT_INFO_DECODE_LOOKUP){const h=l[0];if(h===t||h===i)return new rn(l[1]);let d=rn.numBitsDiffering(t,h);d<o&&(a=l[1],o=d),t!==i&&(d=rn.numBitsDiffering(i,h),d<o&&(a=l[1],o=d))}return o<=3?new rn(a):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof rn))return!1;const i=t;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}rn.FORMAT_INFO_MASK_QR=21522,rn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class W{constructor(t,...i){this.ecCodewordsPerBlock=t,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const i=this.ecBlocks;for(const o of i)t+=o.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class M{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class me{constructor(t,i,...o){this.versionNumber=t,this.alignmentPatternCenters=i,this.ecBlocks=o;let a=0;const l=o[0].getECCodewordsPerBlock(),h=o[0].getECBlocks();for(const d of h)a+=d.getCount()*(d.getDataCodewords()+l);this.totalCodewords=a}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new V;try{return this.getVersionForNumber((t-17)/4)}catch{throw new V}}static getVersionForNumber(t){if(t<1||t>40)throw new O;return me.VERSIONS[t-1]}static decodeVersionInformation(t){let i=Number.MAX_SAFE_INTEGER,o=0;for(let a=0;a<me.VERSION_DECODE_INFO.length;a++){const l=me.VERSION_DECODE_INFO[a];if(l===t)return me.getVersionForNumber(a+7);const h=rn.numBitsDiffering(t,l);h<i&&(o=a+7,i=h)}return i<=3?me.getVersionForNumber(o):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),i=new nt(t);i.setRegion(0,0,9,9),i.setRegion(t-8,0,8,9),i.setRegion(0,t-8,9,8);const o=this.alignmentPatternCenters.length;for(let a=0;a<o;a++){const l=this.alignmentPatternCenters[a]-2;for(let h=0;h<o;h++)a===0&&(h===0||h===o-1)||a===o-1&&h===0||i.setRegion(this.alignmentPatternCenters[h]-2,l,5,5)}return i.setRegion(6,9,1,t-17),i.setRegion(9,6,t-17,1),this.versionNumber>6&&(i.setRegion(t-11,0,3,6),i.setRegion(0,t-11,6,3)),i}toString(){return""+this.versionNumber}}me.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),me.VERSIONS=[new me(1,new Int32Array(0),new W(7,new M(1,19)),new W(10,new M(1,16)),new W(13,new M(1,13)),new W(17,new M(1,9))),new me(2,Int32Array.from([6,18]),new W(10,new M(1,34)),new W(16,new M(1,28)),new W(22,new M(1,22)),new W(28,new M(1,16))),new me(3,Int32Array.from([6,22]),new W(15,new M(1,55)),new W(26,new M(1,44)),new W(18,new M(2,17)),new W(22,new M(2,13))),new me(4,Int32Array.from([6,26]),new W(20,new M(1,80)),new W(18,new M(2,32)),new W(26,new M(2,24)),new W(16,new M(4,9))),new me(5,Int32Array.from([6,30]),new W(26,new M(1,108)),new W(24,new M(2,43)),new W(18,new M(2,15),new M(2,16)),new W(22,new M(2,11),new M(2,12))),new me(6,Int32Array.from([6,34]),new W(18,new M(2,68)),new W(16,new M(4,27)),new W(24,new M(4,19)),new W(28,new M(4,15))),new me(7,Int32Array.from([6,22,38]),new W(20,new M(2,78)),new W(18,new M(4,31)),new W(18,new M(2,14),new M(4,15)),new W(26,new M(4,13),new M(1,14))),new me(8,Int32Array.from([6,24,42]),new W(24,new M(2,97)),new W(22,new M(2,38),new M(2,39)),new W(22,new M(4,18),new M(2,19)),new W(26,new M(4,14),new M(2,15))),new me(9,Int32Array.from([6,26,46]),new W(30,new M(2,116)),new W(22,new M(3,36),new M(2,37)),new W(20,new M(4,16),new M(4,17)),new W(24,new M(4,12),new M(4,13))),new me(10,Int32Array.from([6,28,50]),new W(18,new M(2,68),new M(2,69)),new W(26,new M(4,43),new M(1,44)),new W(24,new M(6,19),new M(2,20)),new W(28,new M(6,15),new M(2,16))),new me(11,Int32Array.from([6,30,54]),new W(20,new M(4,81)),new W(30,new M(1,50),new M(4,51)),new W(28,new M(4,22),new M(4,23)),new W(24,new M(3,12),new M(8,13))),new me(12,Int32Array.from([6,32,58]),new W(24,new M(2,92),new M(2,93)),new W(22,new M(6,36),new M(2,37)),new W(26,new M(4,20),new M(6,21)),new W(28,new M(7,14),new M(4,15))),new me(13,Int32Array.from([6,34,62]),new W(26,new M(4,107)),new W(22,new M(8,37),new M(1,38)),new W(24,new M(8,20),new M(4,21)),new W(22,new M(12,11),new M(4,12))),new me(14,Int32Array.from([6,26,46,66]),new W(30,new M(3,115),new M(1,116)),new W(24,new M(4,40),new M(5,41)),new W(20,new M(11,16),new M(5,17)),new W(24,new M(11,12),new M(5,13))),new me(15,Int32Array.from([6,26,48,70]),new W(22,new M(5,87),new M(1,88)),new W(24,new M(5,41),new M(5,42)),new W(30,new M(5,24),new M(7,25)),new W(24,new M(11,12),new M(7,13))),new me(16,Int32Array.from([6,26,50,74]),new W(24,new M(5,98),new M(1,99)),new W(28,new M(7,45),new M(3,46)),new W(24,new M(15,19),new M(2,20)),new W(30,new M(3,15),new M(13,16))),new me(17,Int32Array.from([6,30,54,78]),new W(28,new M(1,107),new M(5,108)),new W(28,new M(10,46),new M(1,47)),new W(28,new M(1,22),new M(15,23)),new W(28,new M(2,14),new M(17,15))),new me(18,Int32Array.from([6,30,56,82]),new W(30,new M(5,120),new M(1,121)),new W(26,new M(9,43),new M(4,44)),new W(28,new M(17,22),new M(1,23)),new W(28,new M(2,14),new M(19,15))),new me(19,Int32Array.from([6,30,58,86]),new W(28,new M(3,113),new M(4,114)),new W(26,new M(3,44),new M(11,45)),new W(26,new M(17,21),new M(4,22)),new W(26,new M(9,13),new M(16,14))),new me(20,Int32Array.from([6,34,62,90]),new W(28,new M(3,107),new M(5,108)),new W(26,new M(3,41),new M(13,42)),new W(30,new M(15,24),new M(5,25)),new W(28,new M(15,15),new M(10,16))),new me(21,Int32Array.from([6,28,50,72,94]),new W(28,new M(4,116),new M(4,117)),new W(26,new M(17,42)),new W(28,new M(17,22),new M(6,23)),new W(30,new M(19,16),new M(6,17))),new me(22,Int32Array.from([6,26,50,74,98]),new W(28,new M(2,111),new M(7,112)),new W(28,new M(17,46)),new W(30,new M(7,24),new M(16,25)),new W(24,new M(34,13))),new me(23,Int32Array.from([6,30,54,78,102]),new W(30,new M(4,121),new M(5,122)),new W(28,new M(4,47),new M(14,48)),new W(30,new M(11,24),new M(14,25)),new W(30,new M(16,15),new M(14,16))),new me(24,Int32Array.from([6,28,54,80,106]),new W(30,new M(6,117),new M(4,118)),new W(28,new M(6,45),new M(14,46)),new W(30,new M(11,24),new M(16,25)),new W(30,new M(30,16),new M(2,17))),new me(25,Int32Array.from([6,32,58,84,110]),new W(26,new M(8,106),new M(4,107)),new W(28,new M(8,47),new M(13,48)),new W(30,new M(7,24),new M(22,25)),new W(30,new M(22,15),new M(13,16))),new me(26,Int32Array.from([6,30,58,86,114]),new W(28,new M(10,114),new M(2,115)),new W(28,new M(19,46),new M(4,47)),new W(28,new M(28,22),new M(6,23)),new W(30,new M(33,16),new M(4,17))),new me(27,Int32Array.from([6,34,62,90,118]),new W(30,new M(8,122),new M(4,123)),new W(28,new M(22,45),new M(3,46)),new W(30,new M(8,23),new M(26,24)),new W(30,new M(12,15),new M(28,16))),new me(28,Int32Array.from([6,26,50,74,98,122]),new W(30,new M(3,117),new M(10,118)),new W(28,new M(3,45),new M(23,46)),new W(30,new M(4,24),new M(31,25)),new W(30,new M(11,15),new M(31,16))),new me(29,Int32Array.from([6,30,54,78,102,126]),new W(30,new M(7,116),new M(7,117)),new W(28,new M(21,45),new M(7,46)),new W(30,new M(1,23),new M(37,24)),new W(30,new M(19,15),new M(26,16))),new me(30,Int32Array.from([6,26,52,78,104,130]),new W(30,new M(5,115),new M(10,116)),new W(28,new M(19,47),new M(10,48)),new W(30,new M(15,24),new M(25,25)),new W(30,new M(23,15),new M(25,16))),new me(31,Int32Array.from([6,30,56,82,108,134]),new W(30,new M(13,115),new M(3,116)),new W(28,new M(2,46),new M(29,47)),new W(30,new M(42,24),new M(1,25)),new W(30,new M(23,15),new M(28,16))),new me(32,Int32Array.from([6,34,60,86,112,138]),new W(30,new M(17,115)),new W(28,new M(10,46),new M(23,47)),new W(30,new M(10,24),new M(35,25)),new W(30,new M(19,15),new M(35,16))),new me(33,Int32Array.from([6,30,58,86,114,142]),new W(30,new M(17,115),new M(1,116)),new W(28,new M(14,46),new M(21,47)),new W(30,new M(29,24),new M(19,25)),new W(30,new M(11,15),new M(46,16))),new me(34,Int32Array.from([6,34,62,90,118,146]),new W(30,new M(13,115),new M(6,116)),new W(28,new M(14,46),new M(23,47)),new W(30,new M(44,24),new M(7,25)),new W(30,new M(59,16),new M(1,17))),new me(35,Int32Array.from([6,30,54,78,102,126,150]),new W(30,new M(12,121),new M(7,122)),new W(28,new M(12,47),new M(26,48)),new W(30,new M(39,24),new M(14,25)),new W(30,new M(22,15),new M(41,16))),new me(36,Int32Array.from([6,24,50,76,102,128,154]),new W(30,new M(6,121),new M(14,122)),new W(28,new M(6,47),new M(34,48)),new W(30,new M(46,24),new M(10,25)),new W(30,new M(2,15),new M(64,16))),new me(37,Int32Array.from([6,28,54,80,106,132,158]),new W(30,new M(17,122),new M(4,123)),new W(28,new M(29,46),new M(14,47)),new W(30,new M(49,24),new M(10,25)),new W(30,new M(24,15),new M(46,16))),new me(38,Int32Array.from([6,32,58,84,110,136,162]),new W(30,new M(4,122),new M(18,123)),new W(28,new M(13,46),new M(32,47)),new W(30,new M(48,24),new M(14,25)),new W(30,new M(42,15),new M(32,16))),new me(39,Int32Array.from([6,26,54,82,110,138,166]),new W(30,new M(20,117),new M(4,118)),new W(28,new M(40,47),new M(7,48)),new W(30,new M(43,24),new M(22,25)),new W(30,new M(10,15),new M(67,16))),new me(40,Int32Array.from([6,30,58,86,114,142,170]),new W(30,new M(19,118),new M(6,119)),new W(28,new M(18,47),new M(31,48)),new W(30,new M(34,24),new M(34,25)),new W(30,new M(20,15),new M(61,16)))];var wt;(function(S){S[S.DATA_MASK_000=0]="DATA_MASK_000",S[S.DATA_MASK_001=1]="DATA_MASK_001",S[S.DATA_MASK_010=2]="DATA_MASK_010",S[S.DATA_MASK_011=3]="DATA_MASK_011",S[S.DATA_MASK_100=4]="DATA_MASK_100",S[S.DATA_MASK_101=5]="DATA_MASK_101",S[S.DATA_MASK_110=6]="DATA_MASK_110",S[S.DATA_MASK_111=7]="DATA_MASK_111"})(wt||(wt={}));class sn{constructor(t,i){this.value=t,this.isMasked=i}unmaskBitMatrix(t,i){for(let o=0;o<i;o++)for(let a=0;a<i;a++)this.isMasked(o,a)&&t.flip(a,o)}}sn.values=new Map([[wt.DATA_MASK_000,new sn(wt.DATA_MASK_000,(S,t)=>(S+t&1)===0)],[wt.DATA_MASK_001,new sn(wt.DATA_MASK_001,(S,t)=>(S&1)===0)],[wt.DATA_MASK_010,new sn(wt.DATA_MASK_010,(S,t)=>t%3===0)],[wt.DATA_MASK_011,new sn(wt.DATA_MASK_011,(S,t)=>(S+t)%3===0)],[wt.DATA_MASK_100,new sn(wt.DATA_MASK_100,(S,t)=>(Math.floor(S/2)+Math.floor(t/3)&1)===0)],[wt.DATA_MASK_101,new sn(wt.DATA_MASK_101,(S,t)=>S*t%6===0)],[wt.DATA_MASK_110,new sn(wt.DATA_MASK_110,(S,t)=>S*t%6<3)],[wt.DATA_MASK_111,new sn(wt.DATA_MASK_111,(S,t)=>(S+t+S*t%3&1)===0)]]);class ts{constructor(t){const i=t.getHeight();if(i<21||(i&3)!==1)throw new V;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let l=0;l<6;l++)t=this.copyBit(l,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let l=5;l>=0;l--)t=this.copyBit(8,l,t);const i=this.bitMatrix.getHeight();let o=0;const a=i-7;for(let l=i-1;l>=a;l--)o=this.copyBit(8,l,o);for(let l=i-8;l<i;l++)o=this.copyBit(l,8,o);if(this.parsedFormatInfo=rn.decodeFormatInformation(t,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new V}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),i=Math.floor((t-17)/4);if(i<=6)return me.getVersionForNumber(i);let o=0;const a=t-11;for(let h=5;h>=0;h--)for(let d=t-9;d>=a;d--)o=this.copyBit(d,h,o);let l=me.decodeVersionInformation(o);if(l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;o=0;for(let h=5;h>=0;h--)for(let d=t-9;d>=a;d--)o=this.copyBit(h,d,o);if(l=me.decodeVersionInformation(o),l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;throw new V}copyBit(t,i,o){return(this.isMirror?this.bitMatrix.get(i,t):this.bitMatrix.get(t,i))?o<<1|1:o<<1}readCodewords(){const t=this.readFormatInformation(),i=this.readVersion(),o=sn.values.get(t.getDataMask()),a=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,a);const l=i.buildFunctionPattern();let h=!0;const d=new Uint8Array(i.getTotalCodewords());let m=0,x=0,w=0;for(let T=a-1;T>0;T-=2){T===6&&T--;for(let N=0;N<a;N++){const D=h?a-1-N:N;for(let F=0;F<2;F++)l.get(T-F,D)||(w++,x<<=1,this.bitMatrix.get(T-F,D)&&(x|=1),w===8&&(d[m++]=x,w=0,x=0))}h=!h}if(m!==i.getTotalCodewords())throw new V;return d}remask(){if(this.parsedFormatInfo===null)return;const t=sn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,i)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let i=0,o=t.getWidth();i<o;i++)for(let a=i+1,l=t.getHeight();a<l;a++)t.get(i,a)!==t.get(a,i)&&(t.flip(a,i),t.flip(i,a))}}class ns{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i,o){if(t.length!==i.getTotalCodewords())throw new O;const a=i.getECBlocksForLevel(o);let l=0;const h=a.getECBlocks();for(const F of h)l+=F.getCount();const d=new Array(l);let m=0;for(const F of h)for(let z=0;z<F.getCount();z++){const Z=F.getDataCodewords(),Y=a.getECCodewordsPerBlock()+Z;d[m++]=new ns(Z,new Uint8Array(Y))}const x=d[0].codewords.length;let w=d.length-1;for(;w>=0&&d[w].codewords.length!==x;)w--;w++;const T=x-a.getECCodewordsPerBlock();let N=0;for(let F=0;F<T;F++)for(let z=0;z<m;z++)d[z].codewords[F]=t[N++];for(let F=w;F<m;F++)d[F].codewords[T]=t[N++];const D=d[0].codewords.length;for(let F=T;F<D;F++)for(let z=0;z<m;z++){const Z=z<w?F:F+1;d[z].codewords[Z]=t[N++]}return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var on;(function(S){S[S.TERMINATOR=0]="TERMINATOR",S[S.NUMERIC=1]="NUMERIC",S[S.ALPHANUMERIC=2]="ALPHANUMERIC",S[S.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",S[S.BYTE=4]="BYTE",S[S.ECI=5]="ECI",S[S.KANJI=6]="KANJI",S[S.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",S[S.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",S[S.HANZI=9]="HANZI"})(on||(on={}));class Ne{constructor(t,i,o,a){this.value=t,this.stringValue=i,this.characterCountBitsForVersions=o,this.bits=a,Ne.FOR_BITS.set(a,this),Ne.FOR_VALUE.set(t,this)}static forBits(t){const i=Ne.FOR_BITS.get(t);if(i===void 0)throw new O;return i}getCharacterCountBits(t){const i=t.getVersionNumber();let o;return i<=9?o=0:i<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof Ne))return!1;const i=t;return this.value===i.value}toString(){return this.stringValue}}Ne.FOR_BITS=new Map,Ne.FOR_VALUE=new Map,Ne.TERMINATOR=new Ne(on.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ne.NUMERIC=new Ne(on.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ne.ALPHANUMERIC=new Ne(on.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ne.STRUCTURED_APPEND=new Ne(on.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ne.BYTE=new Ne(on.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ne.ECI=new Ne(on.ECI,"ECI",Int32Array.from([0,0,0]),7),Ne.KANJI=new Ne(on.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ne.FNC1_FIRST_POSITION=new Ne(on.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ne.FNC1_SECOND_POSITION=new Ne(on.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ne.HANZI=new Ne(on.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class xt{static decode(t,i,o,a){const l=new xr(t);let h=new Ze;const d=new Array;let m=-1,x=-1;try{let w=null,T=!1,N;do{if(l.available()<4)N=Ne.TERMINATOR;else{const D=l.readBits(4);N=Ne.forBits(D)}switch(N){case Ne.TERMINATOR:break;case Ne.FNC1_FIRST_POSITION:case Ne.FNC1_SECOND_POSITION:T=!0;break;case Ne.STRUCTURED_APPEND:if(l.available()<16)throw new V;m=l.readBits(8),x=l.readBits(8);break;case Ne.ECI:const D=xt.parseECIValue(l);if(w=$.getCharacterSetECIByValue(D),w===null)throw new V;break;case Ne.HANZI:const F=l.readBits(4),z=l.readBits(N.getCharacterCountBits(i));F===xt.GB2312_SUBSET&&xt.decodeHanziSegment(l,h,z);break;default:const Z=l.readBits(N.getCharacterCountBits(i));switch(N){case Ne.NUMERIC:xt.decodeNumericSegment(l,h,Z);break;case Ne.ALPHANUMERIC:xt.decodeAlphanumericSegment(l,h,Z,T);break;case Ne.BYTE:xt.decodeByteSegment(l,h,Z,w,d,a);break;case Ne.KANJI:xt.decodeKanjiSegment(l,h,Z);break;default:throw new V}break}}while(N!==Ne.TERMINATOR)}catch{throw new V}return new fr(t,h.toString(),d.length===0?null:d,o===null?null:o.toString(),m,x)}static decodeHanziSegment(t,i,o){if(o*13>t.available())throw new V;const a=new Uint8Array(2*o);let l=0;for(;o>0;){const h=t.readBits(13);let d=h/96<<8&4294967295|h%96;d<959?d+=41377:d+=42657,a[l]=d>>8&255,a[l+1]=d&255,l+=2,o--}try{i.append(Fe.decode(a,Ce.GB2312))}catch(h){throw new V(h)}}static decodeKanjiSegment(t,i,o){if(o*13>t.available())throw new V;const a=new Uint8Array(2*o);let l=0;for(;o>0;){const h=t.readBits(13);let d=h/192<<8&4294967295|h%192;d<7936?d+=33088:d+=49472,a[l]=d>>8,a[l+1]=d,l+=2,o--}try{i.append(Fe.decode(a,Ce.SHIFT_JIS))}catch(h){throw new V(h)}}static decodeByteSegment(t,i,o,a,l,h){if(8*o>t.available())throw new V;const d=new Uint8Array(o);for(let x=0;x<o;x++)d[x]=t.readBits(8);let m;a===null?m=Ce.guessEncoding(d,h):m=a.getName();try{i.append(Fe.decode(d,m))}catch(x){throw new V(x)}l.push(d)}static toAlphaNumericChar(t){if(t>=xt.ALPHANUMERIC_CHARS.length)throw new V;return xt.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,i,o,a){const l=i.length();for(;o>1;){if(t.available()<11)throw new V;const h=t.readBits(11);i.append(xt.toAlphaNumericChar(Math.floor(h/45))),i.append(xt.toAlphaNumericChar(h%45)),o-=2}if(o===1){if(t.available()<6)throw new V;i.append(xt.toAlphaNumericChar(t.readBits(6)))}if(a)for(let h=l;h<i.length();h++)i.charAt(h)==="%"&&(h<i.length()-1&&i.charAt(h+1)==="%"?i.deleteCharAt(h+1):i.setCharAt(h,""))}static decodeNumericSegment(t,i,o){for(;o>=3;){if(t.available()<10)throw new V;const a=t.readBits(10);if(a>=1e3)throw new V;i.append(xt.toAlphaNumericChar(Math.floor(a/100))),i.append(xt.toAlphaNumericChar(Math.floor(a/10)%10)),i.append(xt.toAlphaNumericChar(a%10)),o-=3}if(o===2){if(t.available()<7)throw new V;const a=t.readBits(7);if(a>=100)throw new V;i.append(xt.toAlphaNumericChar(Math.floor(a/10))),i.append(xt.toAlphaNumericChar(a%10))}else if(o===1){if(t.available()<4)throw new V;const a=t.readBits(4);if(a>=10)throw new V;i.append(xt.toAlphaNumericChar(a))}}static parseECIValue(t){const i=t.readBits(8);if(!(i&128))return i&127;if((i&192)===128){const o=t.readBits(8);return(i&63)<<8&4294967295|o}if((i&224)===192){const o=t.readBits(16);return(i&31)<<16&4294967295|o}throw new V}}xt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",xt.GB2312_SUBSET=1;class is{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const i=t[0];t[0]=t[2],t[2]=i}}class wo{constructor(){this.rsDecoder=new gr(qe.QR_CODE_FIELD_256)}decodeBooleanArray(t,i){return this.decodeBitMatrix(nt.parseFromBooleanArray(t),i)}decodeBitMatrix(t,i){const o=new ts(t);let a=null;try{return this.decodeBitMatrixParser(o,i)}catch(l){a=l}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const l=this.decodeBitMatrixParser(o,i);return l.setOther(new is(!0)),l}catch(l){throw a!==null?a:l}}decodeBitMatrixParser(t,i){const o=t.readVersion(),a=t.readFormatInformation().getErrorCorrectionLevel(),l=t.readCodewords(),h=ns.getDataBlocks(l,o,a);let d=0;for(const w of h)d+=w.getNumDataCodewords();const m=new Uint8Array(d);let x=0;for(const w of h){const T=w.getCodewords(),N=w.getNumDataCodewords();this.correctErrors(T,N);for(let D=0;D<N;D++)m[x++]=T[D]}return xt.decode(m,o,a,i)}correctErrors(t,i){const o=new Int32Array(t);try{this.rsDecoder.decode(o,t.length-i)}catch{throw new X}for(let a=0;a<i;a++)t[a]=o[a]}}class rs extends Se{constructor(t,i,o){super(t,i),this.estimatedModuleSize=o}aboutEquals(t,i,o){if(Math.abs(i-this.getY())<=t&&Math.abs(o-this.getX())<=t){const a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(t,i,o){const a=(this.getX()+i)/2,l=(this.getY()+t)/2,h=(this.estimatedModuleSize+o)/2;return new rs(a,l,h)}}class Qi{constructor(t,i,o,a,l,h,d){this.image=t,this.startX=i,this.startY=o,this.width=a,this.height=l,this.moduleSize=h,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,i=this.height,o=this.width,a=t+o,l=this.startY+i/2,h=new Int32Array(3),d=this.image;for(let m=0;m<i;m++){const x=l+(m&1?-Math.floor((m+1)/2):Math.floor((m+1)/2));h[0]=0,h[1]=0,h[2]=0;let w=t;for(;w<a&&!d.get(w,x);)w++;let T=0;for(;w<a;){if(d.get(w,x))if(T===1)h[1]++;else if(T===2){if(this.foundPatternCross(h)){const N=this.handlePossibleCenter(h,x,w);if(N!==null)return N}h[0]=h[2],h[1]=1,h[2]=0,T=1}else h[++T]++;else T===1&&T++,h[T]++;w++}if(this.foundPatternCross(h)){const N=this.handlePossibleCenter(h,x,a);if(N!==null)return N}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new J}static centerFromEnd(t,i){return i-t[2]-t[1]/2}foundPatternCross(t){const i=this.moduleSize,o=i/2;for(let a=0;a<3;a++)if(Math.abs(i-t[a])>=o)return!1;return!0}crossCheckVertical(t,i,o,a){const l=this.image,h=l.getHeight(),d=this.crossCheckStateCount;d[0]=0,d[1]=0,d[2]=0;let m=t;for(;m>=0&&l.get(i,m)&&d[1]<=o;)d[1]++,m--;if(m<0||d[1]>o)return NaN;for(;m>=0&&!l.get(i,m)&&d[0]<=o;)d[0]++,m--;if(d[0]>o)return NaN;for(m=t+1;m<h&&l.get(i,m)&&d[1]<=o;)d[1]++,m++;if(m===h||d[1]>o)return NaN;for(;m<h&&!l.get(i,m)&&d[2]<=o;)d[2]++,m++;if(d[2]>o)return NaN;const x=d[0]+d[1]+d[2];return 5*Math.abs(x-a)>=2*a?NaN:this.foundPatternCross(d)?Qi.centerFromEnd(d,m):NaN}handlePossibleCenter(t,i,o){const a=t[0]+t[1]+t[2],l=Qi.centerFromEnd(t,o),h=this.crossCheckVertical(i,l,2*t[1],a);if(!isNaN(h)){const d=(t[0]+t[1]+t[2])/3;for(const x of this.possibleCenters)if(x.aboutEquals(d,h,l))return x.combineEstimate(h,l,d);const m=new rs(l,h,d);this.possibleCenters.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return null}}class Es extends Se{constructor(t,i,o,a){super(t,i),this.estimatedModuleSize=o,this.count=a,a===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,i,o){if(Math.abs(i-this.getY())<=t&&Math.abs(o-this.getX())<=t){const a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(t,i,o){const a=this.count+1,l=(this.count*this.getX()+i)/a,h=(this.count*this.getY()+t)/a,d=(this.count*this.estimatedModuleSize+o)/a;return new Es(l,h,d,a)}}class vo{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ht{constructor(t,i){this.image=t,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const i=t!=null&&t.get(ne.TRY_HARDER)!==void 0,o=t!=null&&t.get(ne.PURE_BARCODE)!==void 0,a=this.image,l=a.getHeight(),h=a.getWidth();let d=Math.floor(3*l/(4*Ht.MAX_MODULES));(d<Ht.MIN_SKIP||i)&&(d=Ht.MIN_SKIP);let m=!1;const x=new Int32Array(5);for(let T=d-1;T<l&&!m;T+=d){x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0;let N=0;for(let D=0;D<h;D++)if(a.get(D,T))(N&1)===1&&N++,x[N]++;else if(N&1)x[N]++;else if(N===4)if(Ht.foundPatternCross(x)){if(this.handlePossibleCenter(x,T,D,o)===!0)if(d=2,this.hasSkipped===!0)m=this.haveMultiplyConfirmedCenters();else{const z=this.findRowSkip();z>x[2]&&(T+=z-x[2]-d,D=h-1)}else{x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,N=3;continue}N=0,x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0}else x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,N=3;else x[++N]++;Ht.foundPatternCross(x)&&this.handlePossibleCenter(x,T,h,o)===!0&&(d=x[0],this.hasSkipped&&(m=this.haveMultiplyConfirmedCenters()))}const w=this.selectBestPatterns();return Se.orderBestPatterns(w),new vo(w)}static centerFromEnd(t,i){return i-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let i=0;for(let l=0;l<5;l++){const h=t[l];if(h===0)return!1;i+=h}if(i<7)return!1;const o=i/7,a=o/2;return Math.abs(o-t[0])<a&&Math.abs(o-t[1])<a&&Math.abs(3*o-t[2])<3*a&&Math.abs(o-t[3])<a&&Math.abs(o-t[4])<a}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,i,o,a){const l=this.getCrossCheckStateCount();let h=0;const d=this.image;for(;t>=h&&i>=h&&d.get(i-h,t-h);)l[2]++,h++;if(t<h||i<h)return!1;for(;t>=h&&i>=h&&!d.get(i-h,t-h)&&l[1]<=o;)l[1]++,h++;if(t<h||i<h||l[1]>o)return!1;for(;t>=h&&i>=h&&d.get(i-h,t-h)&&l[0]<=o;)l[0]++,h++;if(l[0]>o)return!1;const m=d.getHeight(),x=d.getWidth();for(h=1;t+h<m&&i+h<x&&d.get(i+h,t+h);)l[2]++,h++;if(t+h>=m||i+h>=x)return!1;for(;t+h<m&&i+h<x&&!d.get(i+h,t+h)&&l[3]<o;)l[3]++,h++;if(t+h>=m||i+h>=x||l[3]>=o)return!1;for(;t+h<m&&i+h<x&&d.get(i+h,t+h)&&l[4]<o;)l[4]++,h++;if(l[4]>=o)return!1;const w=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(w-a)<2*a&&Ht.foundPatternCross(l)}crossCheckVertical(t,i,o,a){const l=this.image,h=l.getHeight(),d=this.getCrossCheckStateCount();let m=t;for(;m>=0&&l.get(i,m);)d[2]++,m--;if(m<0)return NaN;for(;m>=0&&!l.get(i,m)&&d[1]<=o;)d[1]++,m--;if(m<0||d[1]>o)return NaN;for(;m>=0&&l.get(i,m)&&d[0]<=o;)d[0]++,m--;if(d[0]>o)return NaN;for(m=t+1;m<h&&l.get(i,m);)d[2]++,m++;if(m===h)return NaN;for(;m<h&&!l.get(i,m)&&d[3]<o;)d[3]++,m++;if(m===h||d[3]>=o)return NaN;for(;m<h&&l.get(i,m)&&d[4]<o;)d[4]++,m++;if(d[4]>=o)return NaN;const x=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(x-a)>=2*a?NaN:Ht.foundPatternCross(d)?Ht.centerFromEnd(d,m):NaN}crossCheckHorizontal(t,i,o,a){const l=this.image,h=l.getWidth(),d=this.getCrossCheckStateCount();let m=t;for(;m>=0&&l.get(m,i);)d[2]++,m--;if(m<0)return NaN;for(;m>=0&&!l.get(m,i)&&d[1]<=o;)d[1]++,m--;if(m<0||d[1]>o)return NaN;for(;m>=0&&l.get(m,i)&&d[0]<=o;)d[0]++,m--;if(d[0]>o)return NaN;for(m=t+1;m<h&&l.get(m,i);)d[2]++,m++;if(m===h)return NaN;for(;m<h&&!l.get(m,i)&&d[3]<o;)d[3]++,m++;if(m===h||d[3]>=o)return NaN;for(;m<h&&l.get(m,i)&&d[4]<o;)d[4]++,m++;if(d[4]>=o)return NaN;const x=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(x-a)>=a?NaN:Ht.foundPatternCross(d)?Ht.centerFromEnd(d,m):NaN}handlePossibleCenter(t,i,o,a){const l=t[0]+t[1]+t[2]+t[3]+t[4];let h=Ht.centerFromEnd(t,o),d=this.crossCheckVertical(i,Math.floor(h),t[2],l);if(!isNaN(d)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(d),t[2],l),!isNaN(h)&&(!a||this.crossCheckDiagonal(Math.floor(d),Math.floor(h),t[2],l)))){const m=l/7;let x=!1;const w=this.possibleCenters;for(let T=0,N=w.length;T<N;T++){const D=w[T];if(D.aboutEquals(m,d,h)){w[T]=D.combineEstimate(d,h,m),x=!0;break}}if(!x){const T=new Es(h,d,m);w.push(T),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(T)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const o of this.possibleCenters)if(o.getCount()>=Ht.CENTER_QUORUM)if(i==null)i=o;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-o.getX())-Math.abs(i.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,i=0;const o=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=Ht.CENTER_QUORUM&&(t++,i+=h.getEstimatedModuleSize());if(t<3)return!1;const a=i/o;let l=0;for(const h of this.possibleCenters)l+=Math.abs(h.getEstimatedModuleSize()-a);return l<=.05*i}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new J;const i=this.possibleCenters;let o;if(t>3){let a=0,l=0;for(const m of this.possibleCenters){const x=m.getEstimatedModuleSize();a+=x,l+=x*x}o=a/t;let h=Math.sqrt(l/t-o*o);i.sort((m,x)=>{const w=Math.abs(x.getEstimatedModuleSize()-o),T=Math.abs(m.getEstimatedModuleSize()-o);return w<T?-1:w>T?1:0});const d=Math.max(.2*o,h);for(let m=0;m<i.length&&i.length>3;m++){const x=i[m];Math.abs(x.getEstimatedModuleSize()-o)>d&&(i.splice(m,1),m--)}}if(i.length>3){let a=0;for(const l of i)a+=l.getEstimatedModuleSize();o=a/i.length,i.sort((l,h)=>{if(h.getCount()===l.getCount()){const d=Math.abs(h.getEstimatedModuleSize()-o),m=Math.abs(l.getEstimatedModuleSize()-o);return d<m?1:d>m?-1:0}else return h.getCount()-l.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}Ht.CENTER_QUORUM=2,Ht.MIN_SKIP=3,Ht.MAX_MODULES=57;class ke{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(ne.NEED_RESULT_POINT_CALLBACK);const o=new Ht(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(o)}processFinderPatternInfo(t){const i=t.getTopLeft(),o=t.getTopRight(),a=t.getBottomLeft(),l=this.calculateModuleSize(i,o,a);if(l<1)throw new J("No pattern found in proccess finder.");const h=ke.computeDimension(i,o,a,l),d=me.getProvisionalVersionForDimension(h),m=d.getDimensionForVersion()-7;let x=null;if(d.getAlignmentPatternCenters().length>0){const D=o.getX()-i.getX()+a.getX(),F=o.getY()-i.getY()+a.getY(),z=1-3/m,Z=Math.floor(i.getX()+z*(D-i.getX())),Y=Math.floor(i.getY()+z*(F-i.getY()));for(let ce=4;ce<=16;ce<<=1)try{x=this.findAlignmentInRegion(l,Z,Y,ce);break}catch(he){if(!(he instanceof J))throw he}}const w=ke.createTransform(i,o,a,x,h),T=ke.sampleGrid(this.image,w,h);let N;return x===null?N=[a,i,o]:N=[a,i,o,x],new Qr(T,N)}static createTransform(t,i,o,a,l){const h=l-3.5;let d,m,x,w;return a!==null?(d=a.getX(),m=a.getY(),x=h-3,w=x):(d=i.getX()-t.getX()+o.getX(),m=i.getY()-t.getY()+o.getY(),x=h,w=h),Cn.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,x,w,3.5,h,t.getX(),t.getY(),i.getX(),i.getY(),d,m,o.getX(),o.getY())}static sampleGrid(t,i,o){return mi.getInstance().sampleGridWithTransform(t,o,o,i)}static computeDimension(t,i,o,a){const l=Je.round(Se.distance(t,i)/a),h=Je.round(Se.distance(t,o)/a);let d=Math.floor((l+h)/2)+7;switch(d&3){case 0:d++;break;case 2:d--;break;case 3:throw new J("Dimensions could be not found.")}return d}calculateModuleSize(t,i,o){return(this.calculateModuleSizeOneWay(t,i)+this.calculateModuleSizeOneWay(t,o))/2}calculateModuleSizeOneWay(t,i){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(i.getX()),Math.floor(i.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(o)?a/7:isNaN(a)?o/7:(o+a)/14}sizeOfBlackWhiteBlackRunBothWays(t,i,o,a){let l=this.sizeOfBlackWhiteBlackRun(t,i,o,a),h=1,d=t-(o-t);d<0?(h=t/(t-d),d=0):d>=this.image.getWidth()&&(h=(this.image.getWidth()-1-t)/(d-t),d=this.image.getWidth()-1);let m=Math.floor(i-(a-i)*h);return h=1,m<0?(h=i/(i-m),m=0):m>=this.image.getHeight()&&(h=(this.image.getHeight()-1-i)/(m-i),m=this.image.getHeight()-1),d=Math.floor(t+(d-t)*h),l+=this.sizeOfBlackWhiteBlackRun(t,i,d,m),l-1}sizeOfBlackWhiteBlackRun(t,i,o,a){const l=Math.abs(a-i)>Math.abs(o-t);if(l){let D=t;t=i,i=D,D=o,o=a,a=D}const h=Math.abs(o-t),d=Math.abs(a-i);let m=-h/2;const x=t<o?1:-1,w=i<a?1:-1;let T=0;const N=o+x;for(let D=t,F=i;D!==N;D+=x){const z=l?F:D,Z=l?D:F;if(T===1===this.image.get(z,Z)){if(T===2)return Je.distance(D,F,t,i);T++}if(m+=d,m>0){if(F===a)break;F+=w,m-=h}}return T===2?Je.distance(o+x,a,t,i):NaN}findAlignmentInRegion(t,i,o,a){const l=Math.floor(a*t),h=Math.max(0,i-l),d=Math.min(this.image.getWidth()-1,i+l);if(d-h<t*3)throw new J("Alignment top exceeds estimated module size.");const m=Math.max(0,o-l),x=Math.min(this.image.getHeight()-1,o+l);if(x-m<t*3)throw new J("Alignment bottom exceeds estimated module size.");return new Qi(this.image,h,m,d-h,x-m,t,this.resultPointCallback).find()}}class Gt{constructor(){this.decoder=new wo}getDecoder(){return this.decoder}decode(t,i){let o,a;if(i!=null&&i.get(ne.PURE_BARCODE)!==void 0){const m=Gt.extractPureBits(t.getBlackMatrix());o=this.decoder.decodeBitMatrix(m,i),a=Gt.NO_POINTS}else{const m=new ke(t.getBlackMatrix()).detect(i);o=this.decoder.decodeBitMatrix(m.getBits(),i),a=m.getPoints()}o.getOther()instanceof is&&o.getOther().applyMirroredCorrection(a);const l=new De(o.getText(),o.getRawBytes(),void 0,a,ue.QR_CODE,void 0),h=o.getByteSegments();h!==null&&l.putMetadata(pt.BYTE_SEGMENTS,h);const d=o.getECLevel();return d!==null&&l.putMetadata(pt.ERROR_CORRECTION_LEVEL,d),o.hasStructuredAppend()&&(l.putMetadata(pt.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),l.putMetadata(pt.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),l}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),o=t.getBottomRightOnBit();if(i===null||o===null)throw new J;const a=this.moduleSize(i,t);let l=i[1],h=o[1],d=i[0],m=o[0];if(d>=m||l>=h)throw new J;if(h-l!==m-d&&(m=d+(h-l),m>=t.getWidth()))throw new J;const x=Math.round((m-d+1)/a),w=Math.round((h-l+1)/a);if(x<=0||w<=0)throw new J;if(w!==x)throw new J;const T=Math.floor(a/2);l+=T,d+=T;const N=d+Math.floor((x-1)*a)-m;if(N>0){if(N>T)throw new J;d-=N}const D=l+Math.floor((w-1)*a)-h;if(D>0){if(D>T)throw new J;l-=D}const F=new nt(x,w);for(let z=0;z<w;z++){const Z=l+Math.floor(z*a);for(let Y=0;Y<x;Y++)t.get(d+Math.floor(Y*a),Z)&&F.set(Y,z)}return F}static moduleSize(t,i){const o=i.getHeight(),a=i.getWidth();let l=t[0],h=t[1],d=!0,m=0;for(;l<a&&h<o;){if(d!==i.get(l,h)){if(++m===5)break;d=!d}l++,h++}if(l===a||h===o)throw new J;return(l-t[0])/7}}Gt.NO_POINTS=new Array;class xe{PDF417Common(){}static getBitCountSum(t){return Je.sum(t)}static toIntArray(t){if(t==null||!t.length)return xe.EMPTY_INT_ARRAY;const i=new Int32Array(t.length);let o=0;for(const a of t)i[o++]=a;return i}static getCodeword(t){const i=k.binarySearch(xe.SYMBOL_TABLE,t&262143);return i<0?-1:(xe.CODEWORD_TABLE[i]-1)%xe.NUMBER_OF_CODEWORDS}}xe.NUMBER_OF_CODEWORDS=929,xe.MAX_CODEWORDS_IN_BARCODE=xe.NUMBER_OF_CODEWORDS-1,xe.MIN_ROWS_IN_BARCODE=3,xe.MAX_ROWS_IN_BARCODE=90,xe.MODULES_IN_CODEWORD=17,xe.MODULES_IN_STOP_PATTERN=18,xe.BARS_IN_MODULE=8,xe.EMPTY_INT_ARRAY=new Int32Array([]),xe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),xe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Aa{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Pe{static detectMultiple(t,i,o){let a=t.getBlackMatrix(),l=Pe.detect(o,a);return l.length||(a=a.clone(),a.rotate180(),l=Pe.detect(o,a)),new Aa(a,l)}static detect(t,i){const o=new Array;let a=0,l=0,h=!1;for(;a<i.getHeight();){const d=Pe.findVertices(i,a,l);if(d[0]==null&&d[3]==null){if(!h)break;h=!1,l=0;for(const m of o)m[1]!=null&&(a=Math.trunc(Math.max(a,m[1].getY()))),m[3]!=null&&(a=Math.max(a,Math.trunc(m[3].getY())));a+=Pe.ROW_STEP;continue}if(h=!0,o.push(d),!t)break;d[2]!=null?(l=Math.trunc(d[2].getX()),a=Math.trunc(d[2].getY())):(l=Math.trunc(d[4].getX()),a=Math.trunc(d[4].getY()))}return o}static findVertices(t,i,o){const a=t.getHeight(),l=t.getWidth(),h=new Array(8);return Pe.copyToResult(h,Pe.findRowsWithPattern(t,a,l,i,o,Pe.START_PATTERN),Pe.INDEXES_START_PATTERN),h[4]!=null&&(o=Math.trunc(h[4].getX()),i=Math.trunc(h[4].getY())),Pe.copyToResult(h,Pe.findRowsWithPattern(t,a,l,i,o,Pe.STOP_PATTERN),Pe.INDEXES_STOP_PATTERN),h}static copyToResult(t,i,o){for(let a=0;a<o.length;a++)t[o[a]]=i[a]}static findRowsWithPattern(t,i,o,a,l,h){const d=new Array(4);let m=!1;const x=new Int32Array(h.length);for(;a<i;a+=Pe.ROW_STEP){let T=Pe.findGuardPattern(t,l,a,o,!1,h,x);if(T!=null){for(;a>0;){const N=Pe.findGuardPattern(t,l,--a,o,!1,h,x);if(N!=null)T=N;else{a++;break}}d[0]=new Se(T[0],a),d[1]=new Se(T[1],a),m=!0;break}}let w=a+1;if(m){let T=0,N=Int32Array.from([Math.trunc(d[0].getX()),Math.trunc(d[1].getX())]);for(;w<i;w++){const D=Pe.findGuardPattern(t,N[0],w,o,!1,h,x);if(D!=null&&Math.abs(N[0]-D[0])<Pe.MAX_PATTERN_DRIFT&&Math.abs(N[1]-D[1])<Pe.MAX_PATTERN_DRIFT)N=D,T=0;else{if(T>Pe.SKIPPED_ROW_COUNT_MAX)break;T++}}w-=T+1,d[2]=new Se(N[0],w),d[3]=new Se(N[1],w)}return w-a<Pe.BARCODE_MIN_HEIGHT&&k.fill(d,null),d}static findGuardPattern(t,i,o,a,l,h,d){k.fillWithin(d,0,d.length,0);let m=i,x=0;for(;t.get(m,o)&&m>0&&x++<Pe.MAX_PIXEL_DRIFT;)m--;let w=m,T=0,N=h.length;for(let D=l;w<a;w++)if(t.get(w,o)!==D)d[T]++;else{if(T===N-1){if(Pe.patternMatchVariance(d,h,Pe.MAX_INDIVIDUAL_VARIANCE)<Pe.MAX_AVG_VARIANCE)return new Int32Array([m,w]);m+=d[0]+d[1],U.arraycopy(d,2,d,0,T-1),d[T-1]=0,d[T]=0,T--}else T++;d[T]=1,D=!D}return T===N-1&&Pe.patternMatchVariance(d,h,Pe.MAX_INDIVIDUAL_VARIANCE)<Pe.MAX_AVG_VARIANCE?new Int32Array([m,w-1]):null}static patternMatchVariance(t,i,o){let a=t.length,l=0,h=0;for(let x=0;x<a;x++)l+=t[x],h+=i[x];if(l<h)return 1/0;let d=l/h;o*=d;let m=0;for(let x=0;x<a;x++){let w=t[x],T=i[x]*d,N=w>T?w-T:T-w;if(N>o)return 1/0;m+=N}return m/l}}Pe.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Pe.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Pe.MAX_AVG_VARIANCE=.42,Pe.MAX_INDIVIDUAL_VARIANCE=.8,Pe.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Pe.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Pe.MAX_PIXEL_DRIFT=3,Pe.MAX_PATTERN_DRIFT=5,Pe.SKIPPED_ROW_COUNT_MAX=25,Pe.ROW_STEP=5,Pe.BARCODE_MIN_HEIGHT=10;class jt{constructor(t,i){if(i.length===0)throw new O;this.field=t;let o=i.length;if(o>1&&i[0]===0){let a=1;for(;a<o&&i[a]===0;)a++;a===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-a),U.arraycopy(i,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let a=0;for(let l of this.coefficients)a=this.field.add(a,l);return a}let i=this.coefficients[0],o=this.coefficients.length;for(let a=1;a<o;a++)i=this.field.add(this.field.multiply(t,i),this.coefficients[a]);return i}add(t){if(!this.field.equals(t.field))throw new O("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,o=t.coefficients;if(i.length>o.length){let h=i;i=o,o=h}let a=new Int32Array(o.length),l=o.length-i.length;U.arraycopy(o,0,a,0,l);for(let h=l;h<o.length;h++)a[h]=this.field.add(i[h-l],o[h]);return new jt(this.field,a)}subtract(t){if(!this.field.equals(t.field))throw new O("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof jt?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new O("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new jt(this.field,new Int32Array([0]));let i=this.coefficients,o=i.length,a=t.coefficients,l=a.length,h=new Int32Array(o+l-1);for(let d=0;d<o;d++){let m=i[d];for(let x=0;x<l;x++)h[d+x]=this.field.add(h[d+x],this.field.multiply(m,a[x]))}return new jt(this.field,h)}negative(){let t=this.coefficients.length,i=new Int32Array(t);for(let o=0;o<t;o++)i[o]=this.field.subtract(0,this.coefficients[o]);return new jt(this.field,i)}multiplyScalar(t){if(t===0)return new jt(this.field,new Int32Array([0]));if(t===1)return this;let i=this.coefficients.length,o=new Int32Array(i);for(let a=0;a<i;a++)o[a]=this.field.multiply(this.coefficients[a],t);return new jt(this.field,o)}multiplyByMonomial(t,i){if(t<0)throw new O;if(i===0)return new jt(this.field,new Int32Array([0]));let o=this.coefficients.length,a=new Int32Array(o+t);for(let l=0;l<o;l++)a[l]=this.field.multiply(this.coefficients[l],i);return new jt(this.field,a)}toString(){let t=new Ze;for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);o!==0&&(o<0?(t.append(" - "),o=-o):t.length()>0&&t.append(" + "),(i===0||o!==1)&&t.append(o),i!==0&&(i===1?t.append("x"):(t.append("x^"),t.append(i))))}return t.toString()}}class Co{add(t,i){return(t+i)%this.modulus}subtract(t,i){return(this.modulus+t-i)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new O;return this.logTable[t]}inverse(t){if(t===0)throw new Oi;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class yi extends Co{constructor(t,i){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let o=1;for(let a=0;a<t;a++)this.expTable[a]=o,o=o*i%t;for(let a=0;a<t-1;a++)this.logTable[this.expTable[a]]=a;this.zero=new jt(this,new Int32Array([0])),this.one=new jt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new O;if(i===0)return this.zero;let o=new Int32Array(t+1);return o[0]=i,new jt(this,o)}}yi.PDF417_GF=new yi(xe.NUMBER_OF_CODEWORDS,3);class As{constructor(){this.field=yi.PDF417_GF}decode(t,i,o){let a=new jt(this.field,t),l=new Int32Array(i),h=!1;for(let F=i;F>0;F--){let z=a.evaluateAt(this.field.exp(F));l[i-F]=z,z!==0&&(h=!0)}if(!h)return 0;let d=this.field.getOne();if(o!=null)for(const F of o){let z=this.field.exp(t.length-1-F),Z=new jt(this.field,new Int32Array([this.field.subtract(0,z),1]));d=d.multiply(Z)}let m=new jt(this.field,l),x=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),m,i),w=x[0],T=x[1],N=this.findErrorLocations(w),D=this.findErrorMagnitudes(T,w,N);for(let F=0;F<N.length;F++){let z=t.length-1-this.field.log(N[F]);if(z<0)throw X.getChecksumInstance();t[z]=this.field.subtract(t[z],D[F])}return N.length}runEuclideanAlgorithm(t,i,o){if(t.getDegree()<i.getDegree()){let N=t;t=i,i=N}let a=t,l=i,h=this.field.getZero(),d=this.field.getOne();for(;l.getDegree()>=Math.round(o/2);){let N=a,D=h;if(a=l,h=d,a.isZero())throw X.getChecksumInstance();l=N;let F=this.field.getZero(),z=a.getCoefficient(a.getDegree()),Z=this.field.inverse(z);for(;l.getDegree()>=a.getDegree()&&!l.isZero();){let Y=l.getDegree()-a.getDegree(),ce=this.field.multiply(l.getCoefficient(l.getDegree()),Z);F=F.add(this.field.buildMonomial(Y,ce)),l=l.subtract(a.multiplyByMonomial(Y,ce))}d=F.multiply(h).subtract(D).negative()}let m=d.getCoefficient(0);if(m===0)throw X.getChecksumInstance();let x=this.field.inverse(m),w=d.multiply(x),T=l.multiply(x);return[w,T]}findErrorLocations(t){let i=t.getDegree(),o=new Int32Array(i),a=0;for(let l=1;l<this.field.getSize()&&a<i;l++)t.evaluateAt(l)===0&&(o[a]=this.field.inverse(l),a++);if(a!==i)throw X.getChecksumInstance();return o}findErrorMagnitudes(t,i,o){let a=i.getDegree(),l=new Int32Array(a);for(let x=1;x<=a;x++)l[a-x]=this.field.multiply(x,i.getCoefficient(x));let h=new jt(this.field,l),d=o.length,m=new Int32Array(d);for(let x=0;x<d;x++){let w=this.field.inverse(o[x]),T=this.field.subtract(0,t.evaluateAt(w)),N=this.field.inverse(h.evaluateAt(w));m[x]=this.field.multiply(T,N)}return m}}class Hn{constructor(t,i,o,a,l){t instanceof Hn?this.constructor_2(t):this.constructor_1(t,i,o,a,l)}constructor_1(t,i,o,a,l){const h=i==null||o==null,d=a==null||l==null;if(h&&d)throw new J;h?(i=new Se(0,a.getY()),o=new Se(0,l.getY())):d&&(a=new Se(t.getWidth()-1,i.getY()),l=new Se(t.getWidth()-1,o.getY())),this.image=t,this.topLeft=i,this.bottomLeft=o,this.topRight=a,this.bottomRight=l,this.minX=Math.trunc(Math.min(i.getX(),o.getX())),this.maxX=Math.trunc(Math.max(a.getX(),l.getX())),this.minY=Math.trunc(Math.min(i.getY(),a.getY())),this.maxY=Math.trunc(Math.max(o.getY(),l.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,i){return t==null?i:i==null?t:new Hn(t.image,t.topLeft,t.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(t,i,o){let a=this.topLeft,l=this.bottomLeft,h=this.topRight,d=this.bottomRight;if(t>0){let m=o?this.topLeft:this.topRight,x=Math.trunc(m.getY()-t);x<0&&(x=0);let w=new Se(m.getX(),x);o?a=w:h=w}if(i>0){let m=o?this.bottomLeft:this.bottomRight,x=Math.trunc(m.getY()+i);x>=this.image.getHeight()&&(x=this.image.getHeight()-1);let w=new Se(m.getX(),x);o?l=w:d=w}return new Hn(this.image,a,l,h,d)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Yt{constructor(t,i,o,a){this.columnCount=t,this.errorCorrectionLevel=a,this.rowCountUpperPart=i,this.rowCountLowerPart=o,this.rowCount=i+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Vn{constructor(){this.buffer=""}static form(t,i){let o=-1;function a(h,d,m,x,w,T){if(h==="%%")return"%";if(i[++o]===void 0)return;h=x?parseInt(x.substr(1)):void 0;let N=w?parseInt(w.substr(1)):void 0,D;switch(T){case"s":D=i[o];break;case"c":D=i[o][0];break;case"f":D=parseFloat(i[o]).toFixed(h);break;case"p":D=parseFloat(i[o]).toPrecision(h);break;case"e":D=parseFloat(i[o]).toExponential(h);break;case"x":D=parseInt(i[o]).toString(N||16);break;case"d":D=parseFloat(parseInt(i[o],N||10).toPrecision(h)).toFixed(0);break}D=typeof D=="object"?JSON.stringify(D):(+D).toString(N);let F=parseInt(m),z=m&&m[0]+""=="0"?"0":" ";for(;D.length<F;)D=d!==void 0?D+z:z+D;return D}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,a)}format(t,...i){this.buffer+=Vn.form(t,i)}toString(){return this.buffer}}class _r{constructor(t){this.boundingBox=new Hn(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let i=this.getCodeword(t);if(i!=null)return i;for(let o=1;o<_r.MAX_NEARBY_DISTANCE;o++){let a=this.imageRowToCodewordIndex(t)-o;if(a>=0&&(i=this.codewords[a],i!=null)||(a=this.imageRowToCodewordIndex(t)+o,a<this.codewords.length&&(i=this.codewords[a],i!=null)))return i}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,i){this.codewords[this.imageRowToCodewordIndex(t)]=i}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Vn;let i=0;for(const o of this.codewords){if(o==null){t.format("%3d:    |   %n",i++);continue}t.format("%3d: %3d|%3d%n",i++,o.getRowNumber(),o.getValue())}return t.toString()}}_r.MAX_NEARBY_DISTANCE=5;class yr{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let i=this.values.get(t);i==null&&(i=0),i++,this.values.set(t,i)}getValue(){let t=-1,i=new Array;for(const[o,a]of this.values.entries()){const l={getKey:()=>o,getValue:()=>a};l.getValue()>t?(t=l.getValue(),i=[],i.push(l.getKey())):l.getValue()===t&&i.push(l.getKey())}return xe.toIntArray(i)}getConfidence(t){return this.values.get(t)}}class Sa extends _r{constructor(t,i){super(t),this._isLeft=i}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,t);let o=this.getBoundingBox(),a=this._isLeft?o.getTopLeft():o.getTopRight(),l=this._isLeft?o.getBottomLeft():o.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),m=-1,x=1,w=0;for(let T=h;T<d;T++){if(i[T]==null)continue;let N=i[T],D=N.getRowNumber()-m;if(D===0)w++;else if(D===1)x=Math.max(x,w),w=1,m=N.getRowNumber();else if(D<0||N.getRowNumber()>=t.getRowCount()||D>T)i[T]=null;else{let F;x>2?F=(x-2)*D:F=D;let z=F>=T;for(let Z=1;Z<=F&&!z;Z++)z=i[T-Z]!=null;z?i[T]=null:(m=N.getRowNumber(),w=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let i=new Int32Array(t.getRowCount());for(let o of this.getCodewords())if(o!=null){let a=o.getRowNumber();if(a>=i.length)continue;i[a]++}return i}adjustIncompleteIndicatorColumnRowNumbers(t){let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),a=this._isLeft?i.getBottomLeft():i.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),h=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=this.getCodewords(),m=-1;for(let x=l;x<h;x++){if(d[x]==null)continue;let w=d[x];w.setRowNumberAsRowIndicatorColumn();let T=w.getRowNumber()-m;T===0||(T===1?m=w.getRowNumber():w.getRowNumber()>=t.getRowCount()?d[x]=null:m=w.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),i=new yr,o=new yr,a=new yr,l=new yr;for(let d of t){if(d==null)continue;d.setRowNumberAsRowIndicatorColumn();let m=d.getValue()%30,x=d.getRowNumber();switch(this._isLeft||(x+=2),x%3){case 0:o.setValue(m*3+1);break;case 1:l.setValue(m/3),a.setValue(m%3);break;case 2:i.setValue(m+1);break}}if(i.getValue().length===0||o.getValue().length===0||a.getValue().length===0||l.getValue().length===0||i.getValue()[0]<1||o.getValue()[0]+a.getValue()[0]<xe.MIN_ROWS_IN_BARCODE||o.getValue()[0]+a.getValue()[0]>xe.MAX_ROWS_IN_BARCODE)return null;let h=new Yt(i.getValue()[0],o.getValue()[0],a.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(t,h),h}removeIncorrectCodewords(t,i){for(let o=0;o<t.length;o++){let a=t[o];if(t[o]==null)continue;let l=a.getValue()%30,h=a.getRowNumber();if(h>i.getRowCount()){t[o]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:l*3+1!==i.getRowCountUpperPart()&&(t[o]=null);break;case 1:(Math.trunc(l/3)!==i.getErrorCorrectionLevel()||l%3!==i.getRowCountLowerPart())&&(t[o]=null);break;case 2:l+1!==i.getColumnCount()&&(t[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class wr{constructor(t,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=xe.MAX_CODEWORDS_IN_BARCODE,i;do i=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let o=this.detectionResultColumns[i].getCodewords();for(let a=0;a<o.length;a++)o[a]!=null&&(o[a].hasValidRowNumber()||this.adjustRowNumbers(i,a,o))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<t.length;o++)if(t[o]!=null&&i[o]!=null&&t[o].getRowNumber()===i[o].getRowNumber())for(let a=1;a<=this.barcodeColumnCount;a++){let l=this.detectionResultColumns[a].getCodewords()[o];l!=null&&(l.setRowNumber(t[o].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let a=i[o].getRowNumber(),l=0;for(let h=this.barcodeColumnCount+1;h>0&&l<this.ADJUST_ROW_NUMBER_SKIP;h--){let d=this.detectionResultColumns[h].getCodewords()[o];d!=null&&(l=wr.adjustRowNumberIfValid(a,l,d),d.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,i=this.detectionResultColumns[0].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let a=i[o].getRowNumber(),l=0;for(let h=1;h<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;h++){let d=this.detectionResultColumns[h].getCodewords()[o];d!=null&&(l=wr.adjustRowNumberIfValid(a,l,d),d.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,i,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(t)?(o.setRowNumber(t),i=0):++i),i}adjustRowNumbers(t,i,o){if(!this.detectionResultColumns[t-1])return;let a=o[i],l=this.detectionResultColumns[t-1].getCodewords(),h=l;this.detectionResultColumns[t+1]!=null&&(h=this.detectionResultColumns[t+1].getCodewords());let d=new Array(14);d[2]=l[i],d[3]=h[i],i>0&&(d[0]=o[i-1],d[4]=l[i-1],d[5]=h[i-1]),i>1&&(d[8]=o[i-2],d[10]=l[i-2],d[11]=h[i-2]),i<o.length-1&&(d[1]=o[i+1],d[6]=l[i+1],d[7]=h[i+1]),i<o.length-2&&(d[9]=o[i+2],d[12]=l[i+2],d[13]=h[i+2]);for(let m of d)if(wr.adjustRowNumber(a,m))return}static adjustRowNumber(t,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===t.getBucket()?(t.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,i){this.detectionResultColumns[t]=i}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Vn;for(let o=0;o<t.getCodewords().length;o++){i.format("CW %3d:",o);for(let a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){i.format("    |   ");continue}let l=this.detectionResultColumns[a].getCodewords()[o];if(l==null){i.format("    |   ");continue}i.format(" %3d|%3d",l.getRowNumber(),l.getValue())}i.format("%n")}return i.toString()}}class Ki{constructor(t,i,o,a){this.rowNumber=Ki.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(i),this.bucket=Math.trunc(o),this.value=Math.trunc(a)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==Ki.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}Ki.BARCODE_ROW_UNKNOWN=-1;class gn{static initialize(){for(let t=0;t<xe.SYMBOL_TABLE.length;t++){let i=xe.SYMBOL_TABLE[t],o=i&1;for(let a=0;a<xe.BARS_IN_MODULE;a++){let l=0;for(;(i&1)===o;)l+=1,i>>=1;o=i&1,gn.RATIOS_TABLE[t]||(gn.RATIOS_TABLE[t]=new Array(xe.BARS_IN_MODULE)),gn.RATIOS_TABLE[t][xe.BARS_IN_MODULE-a-1]=Math.fround(l/xe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let i=gn.getDecodedCodewordValue(gn.sampleBitCounts(t));return i!==-1?i:gn.getClosestDecodedValue(t)}static sampleBitCounts(t){let i=Je.sum(t),o=new Int32Array(xe.BARS_IN_MODULE),a=0,l=0;for(let h=0;h<xe.MODULES_IN_CODEWORD;h++){let d=i/(2*xe.MODULES_IN_CODEWORD)+h*i/xe.MODULES_IN_CODEWORD;l+t[a]<=d&&(l+=t[a],a++),o[a]++}return o}static getDecodedCodewordValue(t){let i=gn.getBitValue(t);return xe.getCodeword(i)===-1?-1:i}static getBitValue(t){let i=0;for(let o=0;o<t.length;o++)for(let a=0;a<t[o];a++)i=i<<1|(o%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(t){let i=Je.sum(t),o=new Array(xe.BARS_IN_MODULE);if(i>1)for(let h=0;h<o.length;h++)o[h]=Math.fround(t[h]/i);let a=Xr.MAX_VALUE,l=-1;this.bSymbolTableReady||gn.initialize();for(let h=0;h<gn.RATIOS_TABLE.length;h++){let d=0,m=gn.RATIOS_TABLE[h];for(let x=0;x<xe.BARS_IN_MODULE;x++){let w=Math.fround(m[x]-o[x]);if(d+=Math.fround(w*w),d>=a)break}d<a&&(a=d,l=xe.SYMBOL_TABLE[h])}return l}}gn.bSymbolTableReady=!1,gn.RATIOS_TABLE=new Array(xe.SYMBOL_TABLE.length).map(S=>new Array(xe.BARS_IN_MODULE));class Eo{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Ye{static parseLong(t,i=void 0){return parseInt(t,i)}}class Ta extends C{}Ta.kind="NullPointerException";class Zn{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,i,o){if(t==null)throw new Ta;if(i<0||i>t.length||o<0||i+o>t.length||i+o<0)throw new ye;if(o===0)return;for(let a=0;a<o;a++)this.write(t[i+a])}flush(){}close(){}}class ss extends C{}class Ia extends Zn{constructor(t=32){if(super(),this.count=0,t<0)throw new O("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let o=this.buf.length<<1;if(o-t<0&&(o=t),o<0){if(t<0)throw new ss;o=P.MAX_VALUE}this.buf=k.copyOfUint8Array(this.buf,o)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,i,o){if(i<0||i>t.length||o<0||i+o-t.length>0)throw new ye;this.ensureCapacity(this.count+o),U.arraycopy(t,i,this.buf,this.count,o),this.count+=o}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return k.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var lt;(function(S){S[S.ALPHA=0]="ALPHA",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.PUNCT=3]="PUNCT",S[S.ALPHA_SHIFT=4]="ALPHA_SHIFT",S[S.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(lt||(lt={}));function Ss(){if(typeof window<"u")return window.BigInt||null;if(typeof Os<"u")return Os.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ts;function wi(S){if(typeof Ts>"u"&&(Ts=Ss()),Ts===null)throw new Error("BigInt is not supported!");return Ts(S)}function cu(){let S=[];S[0]=wi(1);let t=wi(900);S[1]=t;for(let i=2;i<16;i++)S[i]=S[i-1]*t;return S}class Q{static decode(t,i){let o=new Ze(""),a=$.ISO8859_1;o.enableDecoding(a);let l=1,h=t[l++],d=new Eo;for(;l<t[0];){switch(h){case Q.TEXT_COMPACTION_MODE_LATCH:l=Q.textCompaction(t,l,o);break;case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:l=Q.byteCompaction(h,t,a,l,o);break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(t[l++]);break;case Q.NUMERIC_COMPACTION_MODE_LATCH:l=Q.numericCompaction(t,l,o);break;case Q.ECI_CHARSET:$.getCharacterSetECIByValue(t[l++]);break;case Q.ECI_GENERAL_PURPOSE:l+=2;break;case Q.ECI_USER_DEFINED:l++;break;case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=Q.decodeMacroBlock(t,l,d);break;case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:throw new V;default:l--,l=Q.textCompaction(t,l,o);break}if(l<t.length)h=t[l++];else throw V.getFormatInstance()}if(o.length()===0)throw V.getFormatInstance();let m=new fr(null,o.toString(),null,i);return m.setOther(d),m}static decodeMacroBlock(t,i,o){if(i+Q.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw V.getFormatInstance();let a=new Int32Array(Q.NUMBER_OF_SEQUENCE_CODEWORDS);for(let d=0;d<Q.NUMBER_OF_SEQUENCE_CODEWORDS;d++,i++)a[d]=t[i];o.setSegmentIndex(P.parseInt(Q.decodeBase900toBase10(a,Q.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new Ze;i=Q.textCompaction(t,i,l),o.setFileId(l.toString());let h=-1;for(t[i]===Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=i+1);i<t[0];)switch(t[i]){case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,t[i]){case Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let d=new Ze;i=Q.textCompaction(t,i+1,d),o.setFileName(d.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let m=new Ze;i=Q.textCompaction(t,i+1,m),o.setSender(m.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let x=new Ze;i=Q.textCompaction(t,i+1,x),o.setAddressee(x.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let w=new Ze;i=Q.numericCompaction(t,i+1,w),o.setSegmentCount(P.parseInt(w.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let T=new Ze;i=Q.numericCompaction(t,i+1,T),o.setTimestamp(Ye.parseLong(T.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let N=new Ze;i=Q.numericCompaction(t,i+1,N),o.setChecksum(P.parseInt(N.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let D=new Ze;i=Q.numericCompaction(t,i+1,D),o.setFileSize(Ye.parseLong(D.toString()));break;default:throw V.getFormatInstance()}break;case Q.MACRO_PDF417_TERMINATOR:i++,o.setLastSegment(!0);break;default:throw V.getFormatInstance()}if(h!==-1){let d=i-h;o.isLastSegment()&&d--,o.setOptionalData(k.copyOfRange(t,h,h+d))}return i}static textCompaction(t,i,o){let a=new Int32Array((t[0]-i)*2),l=new Int32Array((t[0]-i)*2),h=0,d=!1;for(;i<t[0]&&!d;){let m=t[i++];if(m<Q.TEXT_COMPACTION_MODE_LATCH)a[h]=m/30,a[h+1]=m%30,h+=2;else switch(m){case Q.TEXT_COMPACTION_MODE_LATCH:a[h++]=Q.TEXT_COMPACTION_MODE_LATCH;break;case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:i--,d=!0;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[h]=Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,m=t[i++],l[h]=m,h++;break}}return Q.decodeTextCompaction(a,l,h,o),i}static decodeTextCompaction(t,i,o,a){let l=lt.ALPHA,h=lt.ALPHA,d=0;for(;d<o;){let m=t[d],x="";switch(l){case lt.ALPHA:if(m<26)x=String.fromCharCode(65+m);else switch(m){case 26:x=" ";break;case Q.LL:l=lt.LOWER;break;case Q.ML:l=lt.MIXED;break;case Q.PS:h=l,l=lt.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case Q.TEXT_COMPACTION_MODE_LATCH:l=lt.ALPHA;break}break;case lt.LOWER:if(m<26)x=String.fromCharCode(97+m);else switch(m){case 26:x=" ";break;case Q.AS:h=l,l=lt.ALPHA_SHIFT;break;case Q.ML:l=lt.MIXED;break;case Q.PS:h=l,l=lt.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case Q.TEXT_COMPACTION_MODE_LATCH:l=lt.ALPHA;break}break;case lt.MIXED:if(m<Q.PL)x=Q.MIXED_CHARS[m];else switch(m){case Q.PL:l=lt.PUNCT;break;case 26:x=" ";break;case Q.LL:l=lt.LOWER;break;case Q.AL:l=lt.ALPHA;break;case Q.PS:h=l,l=lt.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case Q.TEXT_COMPACTION_MODE_LATCH:l=lt.ALPHA;break}break;case lt.PUNCT:if(m<Q.PAL)x=Q.PUNCT_CHARS[m];else switch(m){case Q.PAL:l=lt.ALPHA;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case Q.TEXT_COMPACTION_MODE_LATCH:l=lt.ALPHA;break}break;case lt.ALPHA_SHIFT:if(l=h,m<26)x=String.fromCharCode(65+m);else switch(m){case 26:x=" ";break;case Q.TEXT_COMPACTION_MODE_LATCH:l=lt.ALPHA;break}break;case lt.PUNCT_SHIFT:if(l=h,m<Q.PAL)x=Q.PUNCT_CHARS[m];else switch(m){case Q.PAL:l=lt.ALPHA;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case Q.TEXT_COMPACTION_MODE_LATCH:l=lt.ALPHA;break}break}x!==""&&a.append(x),d++}}static byteCompaction(t,i,o,a,l){let h=new Ia,d=0,m=0,x=!1;switch(t){case Q.BYTE_COMPACTION_MODE_LATCH:let w=new Int32Array(6),T=i[a++];for(;a<i[0]&&!x;)switch(w[d++]=T,m=900*m+T,T=i[a++],T){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:a--,x=!0;break;default:if(d%5===0&&d>0){for(let N=0;N<6;++N)h.write(Number(wi(m)>>wi(8*(5-N))));m=0,d=0}break}a===i[0]&&T<Q.TEXT_COMPACTION_MODE_LATCH&&(w[d++]=T);for(let N=0;N<d;N++)h.write(w[N]);break;case Q.BYTE_COMPACTION_MODE_LATCH_6:for(;a<i[0]&&!x;){let N=i[a++];if(N<Q.TEXT_COMPACTION_MODE_LATCH)d++,m=900*m+N;else switch(N){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:a--,x=!0;break}if(d%5===0&&d>0){for(let D=0;D<6;++D)h.write(Number(wi(m)>>wi(8*(5-D))));m=0,d=0}}break}return l.append(Fe.decode(h.toByteArray(),o)),a}static numericCompaction(t,i,o){let a=0,l=!1,h=new Int32Array(Q.MAX_NUMERIC_CODEWORDS);for(;i<t[0]&&!l;){let d=t[i++];if(i===t[0]&&(l=!0),d<Q.TEXT_COMPACTION_MODE_LATCH)h[a]=d,a++;else switch(d){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:i--,l=!0;break}(a%Q.MAX_NUMERIC_CODEWORDS===0||d===Q.NUMERIC_COMPACTION_MODE_LATCH||l)&&a>0&&(o.append(Q.decodeBase900toBase10(h,a)),a=0)}return i}static decodeBase900toBase10(t,i){let o=wi(0);for(let l=0;l<i;l++)o+=Q.EXP900[i-l-1]*wi(t[l]);let a=o.toString();if(a.charAt(0)!=="1")throw new V;return a.substring(1)}}Q.TEXT_COMPACTION_MODE_LATCH=900,Q.BYTE_COMPACTION_MODE_LATCH=901,Q.NUMERIC_COMPACTION_MODE_LATCH=902,Q.BYTE_COMPACTION_MODE_LATCH_6=924,Q.ECI_USER_DEFINED=925,Q.ECI_GENERAL_PURPOSE=926,Q.ECI_CHARSET=927,Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Q.MACRO_PDF417_TERMINATOR=922,Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Q.MAX_NUMERIC_CODEWORDS=15,Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Q.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Q.PL=25,Q.LL=27,Q.AS=27,Q.ML=28,Q.AL=28,Q.PS=29,Q.PAL=29,Q.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Q.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Q.EXP900=Ss()?cu():[],Q.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ze{constructor(){}static decode(t,i,o,a,l,h,d){let m=new Hn(t,i,o,a,l),x=null,w=null,T;for(let F=!0;;F=!1){if(i!=null&&(x=ze.getRowIndicatorColumn(t,m,i,!0,h,d)),a!=null&&(w=ze.getRowIndicatorColumn(t,m,a,!1,h,d)),T=ze.merge(x,w),T==null)throw J.getNotFoundInstance();let z=T.getBoundingBox();if(F&&z!=null&&(z.getMinY()<m.getMinY()||z.getMaxY()>m.getMaxY()))m=z;else break}T.setBoundingBox(m);let N=T.getBarcodeColumnCount()+1;T.setDetectionResultColumn(0,x),T.setDetectionResultColumn(N,w);let D=x!=null;for(let F=1;F<=N;F++){let z=D?F:N-F;if(T.getDetectionResultColumn(z)!==void 0)continue;let Z;z===0||z===N?Z=new Sa(m,z===0):Z=new _r(m),T.setDetectionResultColumn(z,Z);let Y=-1,ce=Y;for(let he=m.getMinY();he<=m.getMaxY();he++){if(Y=ze.getStartColumn(T,z,he,D),Y<0||Y>m.getMaxX()){if(ce===-1)continue;Y=ce}let ae=ze.detectCodeword(t,m.getMinX(),m.getMaxX(),D,Y,he,h,d);ae!=null&&(Z.setCodeword(he,ae),ce=Y,h=Math.min(h,ae.getWidth()),d=Math.max(d,ae.getWidth()))}}return ze.createDecoderResult(T)}static merge(t,i){if(t==null&&i==null)return null;let o=ze.getBarcodeMetadata(t,i);if(o==null)return null;let a=Hn.merge(ze.adjustBoundingBox(t),ze.adjustBoundingBox(i));return new wr(o,a)}static adjustBoundingBox(t){if(t==null)return null;let i=t.getRowHeights();if(i==null)return null;let o=ze.getMax(i),a=0;for(let d of i)if(a+=o-d,d>0)break;let l=t.getCodewords();for(let d=0;a>0&&l[d]==null;d++)a--;let h=0;for(let d=i.length-1;d>=0&&(h+=o-i[d],!(i[d]>0));d--);for(let d=l.length-1;h>0&&l[d]==null;d--)h--;return t.getBoundingBox().addMissingRows(a,h,t.isLeft())}static getMax(t){let i=-1;for(let o of t)i=Math.max(i,o);return i}static getBarcodeMetadata(t,i){let o;if(t==null||(o=t.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let a;return i==null||(a=i.getBarcodeMetadata())==null?o:o.getColumnCount()!==a.getColumnCount()&&o.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&o.getRowCount()!==a.getRowCount()?null:o}static getRowIndicatorColumn(t,i,o,a,l,h){let d=new Sa(i,a);for(let m=0;m<2;m++){let x=m===0?1:-1,w=Math.trunc(Math.trunc(o.getX()));for(let T=Math.trunc(Math.trunc(o.getY()));T<=i.getMaxY()&&T>=i.getMinY();T+=x){let N=ze.detectCodeword(t,0,t.getWidth(),a,w,T,l,h);N!=null&&(d.setCodeword(T,N),a?w=N.getStartX():w=N.getEndX())}}return d}static adjustCodewordCount(t,i){let o=i[0][1],a=o.getValue(),l=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-ze.getNumberOfECCodeWords(t.getBarcodeECLevel());if(a.length===0){if(l<1||l>xe.MAX_CODEWORDS_IN_BARCODE)throw J.getNotFoundInstance();o.setValue(l)}else a[0]!==l&&o.setValue(l)}static createDecoderResult(t){let i=ze.createBarcodeMatrix(t);ze.adjustCodewordCount(t,i);let o=new Array,a=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),l=[],h=new Array;for(let m=0;m<t.getBarcodeRowCount();m++)for(let x=0;x<t.getBarcodeColumnCount();x++){let w=i[m][x+1].getValue(),T=m*t.getBarcodeColumnCount()+x;w.length===0?o.push(T):w.length===1?a[T]=w[0]:(h.push(T),l.push(w))}let d=new Array(l.length);for(let m=0;m<d.length;m++)d[m]=l[m];return ze.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),a,xe.toIntArray(o),xe.toIntArray(h),d)}static createDecoderResultFromAmbiguousValues(t,i,o,a,l){let h=new Int32Array(a.length),d=100;for(;d-- >0;){for(let m=0;m<h.length;m++)i[a[m]]=l[m][h[m]];try{return ze.decodeCodewords(i,t,o)}catch(m){if(!(m instanceof X))throw m}if(h.length===0)throw X.getChecksumInstance();for(let m=0;m<h.length;m++)if(h[m]<l[m].length-1){h[m]++;break}else if(h[m]=0,m===h.length-1)throw X.getChecksumInstance()}throw X.getChecksumInstance()}static createBarcodeMatrix(t){let i=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let a=0;a<i.length;a++)for(let l=0;l<i[a].length;l++)i[a][l]=new yr;let o=0;for(let a of t.getDetectionResultColumns()){if(a!=null){for(let l of a.getCodewords())if(l!=null){let h=l.getRowNumber();if(h>=0){if(h>=i.length)continue;i[h][o].setValue(l.getValue())}}}o++}return i}static isValidBarcodeColumn(t,i){return i>=0&&i<=t.getBarcodeColumnCount()+1}static getStartColumn(t,i,o,a){let l=a?1:-1,h=null;if(ze.isValidBarcodeColumn(t,i-l)&&(h=t.getDetectionResultColumn(i-l).getCodeword(o)),h!=null)return a?h.getEndX():h.getStartX();if(h=t.getDetectionResultColumn(i).getCodewordNearby(o),h!=null)return a?h.getStartX():h.getEndX();if(ze.isValidBarcodeColumn(t,i-l)&&(h=t.getDetectionResultColumn(i-l).getCodewordNearby(o)),h!=null)return a?h.getEndX():h.getStartX();let d=0;for(;ze.isValidBarcodeColumn(t,i-l);){i-=l;for(let m of t.getDetectionResultColumn(i).getCodewords())if(m!=null)return(a?m.getEndX():m.getStartX())+l*d*(m.getEndX()-m.getStartX());d++}return a?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,i,o,a,l,h,d,m){l=ze.adjustCodewordStartColumn(t,i,o,a,l,h);let x=ze.getModuleBitCount(t,i,o,a,l,h);if(x==null)return null;let w,T=Je.sum(x);if(a)w=l+T;else{for(let F=0;F<x.length/2;F++){let z=x[F];x[F]=x[x.length-1-F],x[x.length-1-F]=z}w=l,l=w-T}if(!ze.checkCodewordSkew(T,d,m))return null;let N=gn.getDecodedValue(x),D=xe.getCodeword(N);return D===-1?null:new Ki(l,w,ze.getCodewordBucketNumber(N),D)}static getModuleBitCount(t,i,o,a,l,h){let d=l,m=new Int32Array(8),x=0,w=a?1:-1,T=a;for(;(a?d<o:d>=i)&&x<m.length;)t.get(d,h)===T?(m[x]++,d+=w):(x++,T=!T);return x===m.length||d===(a?o:i)&&x===m.length-1?m:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,i,o,a,l,h){let d=l,m=a?-1:1;for(let x=0;x<2;x++){for(;(a?d>=i:d<o)&&a===t.get(d,h);){if(Math.abs(l-d)>ze.CODEWORD_SKEW_SIZE)return l;d+=m}m=-m,a=!a}return d}static checkCodewordSkew(t,i,o){return i-ze.CODEWORD_SKEW_SIZE<=t&&t<=o+ze.CODEWORD_SKEW_SIZE}static decodeCodewords(t,i,o){if(t.length===0)throw V.getFormatInstance();let a=1<<i+1,l=ze.correctErrors(t,o,a);ze.verifyCodewordCount(t,a);let h=Q.decode(t,""+i);return h.setErrorsCorrected(l),h.setErasures(o.length),h}static correctErrors(t,i,o){if(i!=null&&i.length>o/2+ze.MAX_ERRORS||o<0||o>ze.MAX_EC_CODEWORDS)throw X.getChecksumInstance();return ze.errorCorrection.decode(t,o,i)}static verifyCodewordCount(t,i){if(t.length<4)throw V.getFormatInstance();let o=t[0];if(o>t.length)throw V.getFormatInstance();if(o===0)if(i<t.length)t[0]=t.length-i;else throw V.getFormatInstance()}static getBitCountForCodeword(t){let i=new Int32Array(8),o=0,a=i.length-1;for(;!((t&1)!==o&&(o=t&1,a--,a<0));)i[a]++,t>>=1;return i}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return ze.getCodewordBucketNumber(ze.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let i=new Vn;for(let o=0;o<t.length;o++){i.format("Row %2d: ",o);for(let a=0;a<t[o].length;a++){let l=t[o][a];l.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}i.format("%n")}return i.toString()}}ze.CODEWORD_SKEW_SIZE=2,ze.MAX_ERRORS=3,ze.MAX_EC_CODEWORDS=512,ze.errorCorrection=new As;class Xt{decode(t,i=null){let o=Xt.decode(t,i,!1);if(o==null||o.length===0||o[0]==null)throw J.getNotFoundInstance();return o[0]}decodeMultiple(t,i=null){try{return Xt.decode(t,i,!0)}catch(o){throw o instanceof V||o instanceof X?J.getNotFoundInstance():o}}static decode(t,i,o){const a=new Array,l=Pe.detectMultiple(t,i,o);for(const h of l.getPoints()){const d=ze.decode(l.getBits(),h[4],h[5],h[6],h[7],Xt.getMinCodewordWidth(h),Xt.getMaxCodewordWidth(h)),m=new De(d.getText(),d.getRawBytes(),void 0,h,ue.PDF_417);m.putMetadata(pt.ERROR_CORRECTION_LEVEL,d.getECLevel());const x=d.getOther();x!=null&&m.putMetadata(pt.PDF417_EXTRA_METADATA,x),a.push(m)}return a.map(h=>h)}static getMaxWidth(t,i){return t==null||i==null?0:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMinWidth(t,i){return t==null||i==null?P.MAX_VALUE:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(Xt.getMaxWidth(t[0],t[4]),Xt.getMaxWidth(t[6],t[2])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN),Math.max(Xt.getMaxWidth(t[1],t[5]),Xt.getMaxWidth(t[7],t[3])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(Xt.getMinWidth(t[0],t[4]),Xt.getMinWidth(t[6],t[2])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN),Math.min(Xt.getMinWidth(t[1],t[5]),Xt.getMinWidth(t[7],t[3])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN)))}reset(){}}class Sn extends C{}Sn.kind="ReaderException";class Na{constructor(t,i){this.verbose=t===!0,i&&this.setHints(i)}decode(t,i){return i&&this.setHints(i),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const i=!c(t)&&t.get(ne.TRY_HARDER)===!0,o=c(t)?null:t.get(ne.POSSIBLE_FORMATS),a=new Array;if(!c(o)){const l=o.some(h=>h===ue.UPC_A||h===ue.UPC_E||h===ue.EAN_13||h===ue.EAN_8||h===ue.CODABAR||h===ue.CODE_39||h===ue.CODE_93||h===ue.CODE_128||h===ue.ITF||h===ue.RSS_14||h===ue.RSS_EXPANDED);l&&!i&&a.push(new Ri(t,this.verbose)),o.includes(ue.QR_CODE)&&a.push(new Gt),o.includes(ue.DATA_MATRIX)&&a.push(new at),o.includes(ue.AZTEC)&&a.push(new Kr),o.includes(ue.PDF_417)&&a.push(new Xt),l&&i&&a.push(new Ri(t,this.verbose))}a.length===0&&(i||a.push(new Ri(t,this.verbose)),a.push(new Gt),a.push(new at),a.push(new Kr),a.push(new Xt),i&&a.push(new Ri(t,this.verbose))),this.readers=a}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new Sn("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(t,this.hints)}catch(o){if(o instanceof Sn)continue}throw new J("No MultiFormat Readers were able to detect the code.")}}class ba extends Ue{constructor(t=null,i=500){const o=new Na;o.setHints(t),super(o,i)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class ki extends Ue{constructor(t=500){super(new Xt,t)}}class Ma extends Ue{constructor(t=500){super(new Gt,t)}}var Is;(function(S){S[S.ERROR_CORRECTION=0]="ERROR_CORRECTION",S[S.CHARACTER_SET=1]="CHARACTER_SET",S[S.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",S[S.MIN_SIZE=3]="MIN_SIZE",S[S.MAX_SIZE=4]="MAX_SIZE",S[S.MARGIN=5]="MARGIN",S[S.PDF417_COMPACT=6]="PDF417_COMPACT",S[S.PDF417_COMPACTION=7]="PDF417_COMPACTION",S[S.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",S[S.AZTEC_LAYERS=9]="AZTEC_LAYERS",S[S.QR_VERSION=10]="QR_VERSION"})(Is||(Is={}));var Mt=Is;class Ao{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new $t(t,Int32Array.from([1])))}buildGenerator(t){const i=this.cachedGenerators;if(t>=i.length){let o=i[i.length-1];const a=this.field;for(let l=i.length;l<=t;l++){const h=o.multiply(new $t(a,Int32Array.from([1,a.exp(l-1+a.getGeneratorBase())])));i.push(h),o=h}}return i[t]}encode(t,i){if(i===0)throw new O("No error correction bytes");const o=t.length-i;if(o<=0)throw new O("No data bytes provided");const a=this.buildGenerator(i),l=new Int32Array(o);U.arraycopy(t,0,l,0,o);let h=new $t(this.field,l);h=h.multiplyByMonomial(i,1);const m=h.divide(a)[1].getCoefficients(),x=i-m.length;for(let w=0;w<x;w++)t[o+w]=0;U.arraycopy(m,0,t,o+x,m.length)}}class Et{constructor(){}static applyMaskPenaltyRule1(t){return Et.applyMaskPenaltyRule1Internal(t,!0)+Et.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let i=0;const o=t.getArray(),a=t.getWidth(),l=t.getHeight();for(let h=0;h<l-1;h++){const d=o[h];for(let m=0;m<a-1;m++){const x=d[m];x===d[m+1]&&x===o[h+1][m]&&x===o[h+1][m+1]&&i++}}return Et.N2*i}static applyMaskPenaltyRule3(t){let i=0;const o=t.getArray(),a=t.getWidth(),l=t.getHeight();for(let h=0;h<l;h++)for(let d=0;d<a;d++){const m=o[h];d+6<a&&m[d]===1&&m[d+1]===0&&m[d+2]===1&&m[d+3]===1&&m[d+4]===1&&m[d+5]===0&&m[d+6]===1&&(Et.isWhiteHorizontal(m,d-4,d)||Et.isWhiteHorizontal(m,d+7,d+11))&&i++,h+6<l&&o[h][d]===1&&o[h+1][d]===0&&o[h+2][d]===1&&o[h+3][d]===1&&o[h+4][d]===1&&o[h+5][d]===0&&o[h+6][d]===1&&(Et.isWhiteVertical(o,d,h-4,h)||Et.isWhiteVertical(o,d,h+7,h+11))&&i++}return i*Et.N3}static isWhiteHorizontal(t,i,o){i=Math.max(i,0),o=Math.min(o,t.length);for(let a=i;a<o;a++)if(t[a]===1)return!1;return!0}static isWhiteVertical(t,i,o,a){o=Math.max(o,0),a=Math.min(a,t.length);for(let l=o;l<a;l++)if(t[l][i]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let i=0;const o=t.getArray(),a=t.getWidth(),l=t.getHeight();for(let m=0;m<l;m++){const x=o[m];for(let w=0;w<a;w++)x[w]===1&&i++}const h=t.getHeight()*t.getWidth();return Math.floor(Math.abs(i*2-h)*10/h)*Et.N4}static getDataMaskBit(t,i,o){let a,l;switch(t){case 0:a=o+i&1;break;case 1:a=o&1;break;case 2:a=i%3;break;case 3:a=(o+i)%3;break;case 4:a=Math.floor(o/2)+Math.floor(i/3)&1;break;case 5:l=o*i,a=(l&1)+l%3;break;case 6:l=o*i,a=(l&1)+l%3&1;break;case 7:l=o*i,a=l%3+(o+i&1)&1;break;default:throw new O("Invalid mask pattern: "+t)}return a===0}static applyMaskPenaltyRule1Internal(t,i){let o=0;const a=i?t.getHeight():t.getWidth(),l=i?t.getWidth():t.getHeight(),h=t.getArray();for(let d=0;d<a;d++){let m=0,x=-1;for(let w=0;w<l;w++){const T=i?h[d][w]:h[w][d];T===x?m++:(m>=5&&(o+=Et.N1+(m-5)),m=1,x=T)}m>=5&&(o+=Et.N1+(m-5))}return o}}Et.N1=3,Et.N2=3,Et.N3=40,Et.N4=10;class os{constructor(t,i){this.width=t,this.height=i;const o=new Array(i);for(let a=0;a!==i;a++)o[a]=new Uint8Array(t);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(t,i){return this.bytes[i][t]}getArray(){return this.bytes}setNumber(t,i,o){this.bytes[i][t]=o}setBoolean(t,i,o){this.bytes[i][t]=o?1:0}clear(t){for(const i of this.bytes)k.fill(i,t)}equals(t){if(!(t instanceof os))return!1;const i=t;if(this.width!==i.width||this.height!==i.height)return!1;for(let o=0,a=this.height;o<a;++o){const l=this.bytes[o],h=i.bytes[o];for(let d=0,m=this.width;d<m;++d)if(l[d]!==h[d])return!1}return!0}toString(){const t=new Ze;for(let i=0,o=this.height;i<o;++i){const a=this.bytes[i];for(let l=0,h=this.width;l<h;++l)switch(a[l]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class qi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Ze;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<qi.NUM_MASK_PATTERNS}}qi.NUM_MASK_PATTERNS=8;class ct extends C{}ct.kind="WriterException";class Oe{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,i,o,a,l){Oe.clearMatrix(l),Oe.embedBasicPatterns(o,l),Oe.embedTypeInfo(i,a,l),Oe.maybeEmbedVersionInfo(o,l),Oe.embedDataBits(t,a,l)}static embedBasicPatterns(t,i){Oe.embedPositionDetectionPatternsAndSeparators(i),Oe.embedDarkDotAtLeftBottomCorner(i),Oe.maybeEmbedPositionAdjustmentPatterns(t,i),Oe.embedTimingPatterns(i)}static embedTypeInfo(t,i,o){const a=new K;Oe.makeTypeInfoBits(t,i,a);for(let l=0,h=a.getSize();l<h;++l){const d=a.get(a.getSize()-1-l),m=Oe.TYPE_INFO_COORDINATES[l],x=m[0],w=m[1];if(o.setBoolean(x,w,d),l<8){const T=o.getWidth()-l-1;o.setBoolean(T,8,d)}else{const N=o.getHeight()-7+(l-8);o.setBoolean(8,N,d)}}}static maybeEmbedVersionInfo(t,i){if(t.getVersionNumber()<7)return;const o=new K;Oe.makeVersionInfoBits(t,o);let a=6*3-1;for(let l=0;l<6;++l)for(let h=0;h<3;++h){const d=o.get(a);a--,i.setBoolean(l,i.getHeight()-11+h,d),i.setBoolean(i.getHeight()-11+h,l,d)}}static embedDataBits(t,i,o){let a=0,l=-1,h=o.getWidth()-1,d=o.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);d>=0&&d<o.getHeight();){for(let m=0;m<2;++m){const x=h-m;if(!Oe.isEmpty(o.get(x,d)))continue;let w;a<t.getSize()?(w=t.get(a),++a):w=!1,i!==255&&Et.getDataMaskBit(i,x,d)&&(w=!w),o.setBoolean(x,d,w)}d+=l}l=-l,d+=l,h-=2}if(a!==t.getSize())throw new ct("Not all bits consumed: "+a+"/"+t.getSize())}static findMSBSet(t){return 32-P.numberOfLeadingZeros(t)}static calculateBCHCode(t,i){if(i===0)throw new O("0 polynomial");const o=Oe.findMSBSet(i);for(t<<=o-1;Oe.findMSBSet(t)>=o;)t^=i<<Oe.findMSBSet(t)-o;return t}static makeTypeInfoBits(t,i,o){if(!qi.isValidMaskPattern(i))throw new ct("Invalid mask pattern");const a=t.getBits()<<3|i;o.appendBits(a,5);const l=Oe.calculateBCHCode(a,Oe.TYPE_INFO_POLY);o.appendBits(l,10);const h=new K;if(h.appendBits(Oe.TYPE_INFO_MASK_PATTERN,15),o.xor(h),o.getSize()!==15)throw new ct("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(t,i){i.appendBits(t.getVersionNumber(),6);const o=Oe.calculateBCHCode(t.getVersionNumber(),Oe.VERSION_INFO_POLY);if(i.appendBits(o,12),i.getSize()!==18)throw new ct("should not happen but we got: "+i.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let i=8;i<t.getWidth()-8;++i){const o=(i+1)%2;Oe.isEmpty(t.get(i,6))&&t.setNumber(i,6,o),Oe.isEmpty(t.get(6,i))&&t.setNumber(6,i,o)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new ct;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,i,o){for(let a=0;a<8;++a){if(!Oe.isEmpty(o.get(t+a,i)))throw new ct;o.setNumber(t+a,i,0)}}static embedVerticalSeparationPattern(t,i,o){for(let a=0;a<7;++a){if(!Oe.isEmpty(o.get(t,i+a)))throw new ct;o.setNumber(t,i+a,0)}}static embedPositionAdjustmentPattern(t,i,o){for(let a=0;a<5;++a){const l=Oe.POSITION_ADJUSTMENT_PATTERN[a];for(let h=0;h<5;++h)o.setNumber(t+h,i+a,l[h])}}static embedPositionDetectionPattern(t,i,o){for(let a=0;a<7;++a){const l=Oe.POSITION_DETECTION_PATTERN[a];for(let h=0;h<7;++h)o.setNumber(t+h,i+a,l[h])}}static embedPositionDetectionPatternsAndSeparators(t){const i=Oe.POSITION_DETECTION_PATTERN[0].length;Oe.embedPositionDetectionPattern(0,0,t),Oe.embedPositionDetectionPattern(t.getWidth()-i,0,t),Oe.embedPositionDetectionPattern(0,t.getWidth()-i,t);const o=8;Oe.embedHorizontalSeparationPattern(0,o-1,t),Oe.embedHorizontalSeparationPattern(t.getWidth()-o,o-1,t),Oe.embedHorizontalSeparationPattern(0,t.getWidth()-o,t);const a=7;Oe.embedVerticalSeparationPattern(a,0,t),Oe.embedVerticalSeparationPattern(t.getHeight()-a-1,0,t),Oe.embedVerticalSeparationPattern(a,t.getHeight()-a,t)}static maybeEmbedPositionAdjustmentPatterns(t,i){if(t.getVersionNumber()<2)return;const o=t.getVersionNumber()-1,a=Oe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let l=0,h=a.length;l!==h;l++){const d=a[l];if(d>=0)for(let m=0;m!==h;m++){const x=a[m];x>=0&&Oe.isEmpty(i.get(x,d))&&Oe.embedPositionAdjustmentPattern(x-2,d-2,i)}}}}Oe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Oe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Oe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Oe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Oe.VERSION_INFO_POLY=7973,Oe.TYPE_INFO_POLY=1335,Oe.TYPE_INFO_MASK_PATTERN=21522;class hu{constructor(t,i){this.dataBytes=t,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class gt{constructor(){}static calculateMaskPenalty(t){return Et.applyMaskPenaltyRule1(t)+Et.applyMaskPenaltyRule2(t)+Et.applyMaskPenaltyRule3(t)+Et.applyMaskPenaltyRule4(t)}static encode(t,i,o=null){let a=gt.DEFAULT_BYTE_MODE_ENCODING;const l=o!==null&&o.get(Mt.CHARACTER_SET)!==void 0;l&&(a=o.get(Mt.CHARACTER_SET).toString());const h=this.chooseMode(t,a),d=new K;if(h===Ne.BYTE&&(l||gt.DEFAULT_BYTE_MODE_ENCODING!==a)){const he=$.getCharacterSetECIByName(a);he!==void 0&&this.appendECI(he,d)}this.appendModeInfo(h,d);const m=new K;this.appendBytes(t,h,m,a);let x;if(o!==null&&o.get(Mt.QR_VERSION)!==void 0){const he=Number.parseInt(o.get(Mt.QR_VERSION).toString(),10);x=me.getVersionForNumber(he);const ae=this.calculateBitsNeeded(h,d,m,x);if(!this.willFit(ae,x,i))throw new ct("Data too big for requested version")}else x=this.recommendVersion(i,h,d,m);const w=new K;w.appendBitArray(d);const T=h===Ne.BYTE?m.getSizeInBytes():t.length;this.appendLengthInfo(T,x,h,w),w.appendBitArray(m);const N=x.getECBlocksForLevel(i),D=x.getTotalCodewords()-N.getTotalECCodewords();this.terminateBits(D,w);const F=this.interleaveWithECBytes(w,x.getTotalCodewords(),D,N.getNumBlocks()),z=new qi;z.setECLevel(i),z.setMode(h),z.setVersion(x);const Z=x.getDimensionForVersion(),Y=new os(Z,Z),ce=this.chooseMaskPattern(F,i,x,Y);return z.setMaskPattern(ce),Oe.buildMatrix(F,i,x,ce,Y),z.setMatrix(Y),z}static recommendVersion(t,i,o,a){const l=this.calculateBitsNeeded(i,o,a,me.getVersionForNumber(1)),h=this.chooseVersion(l,t),d=this.calculateBitsNeeded(i,o,a,h);return this.chooseVersion(d,t)}static calculateBitsNeeded(t,i,o,a){return i.getSize()+t.getCharacterCountBits(a)+o.getSize()}static getAlphanumericCode(t){return t<gt.ALPHANUMERIC_TABLE.length?gt.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,i=null){if($.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(t))return Ne.KANJI;let o=!1,a=!1;for(let l=0,h=t.length;l<h;++l){const d=t.charAt(l);if(gt.isDigit(d))o=!0;else if(this.getAlphanumericCode(d.charCodeAt(0))!==-1)a=!0;else return Ne.BYTE}return a?Ne.ALPHANUMERIC:o?Ne.NUMERIC:Ne.BYTE}static isOnlyDoubleByteKanji(t){let i;try{i=Fe.encode(t,$.SJIS)}catch{return!1}const o=i.length;if(o%2!==0)return!1;for(let a=0;a<o;a+=2){const l=i[a]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(t,i,o,a){let l=Number.MAX_SAFE_INTEGER,h=-1;for(let d=0;d<qi.NUM_MASK_PATTERNS;d++){Oe.buildMatrix(t,i,o,d,a);let m=this.calculateMaskPenalty(a);m<l&&(l=m,h=d)}return h}static chooseVersion(t,i){for(let o=1;o<=40;o++){const a=me.getVersionForNumber(o);if(gt.willFit(t,a,i))return a}throw new ct("Data too big")}static willFit(t,i,o){const a=i.getTotalCodewords(),h=i.getECBlocksForLevel(o).getTotalECCodewords(),d=a-h,m=(t+7)/8;return d>=m}static terminateBits(t,i){const o=t*8;if(i.getSize()>o)throw new ct("data bits cannot fit in the QR Code"+i.getSize()+" > "+o);for(let h=0;h<4&&i.getSize()<o;++h)i.appendBit(!1);const a=i.getSize()&7;if(a>0)for(let h=a;h<8;h++)i.appendBit(!1);const l=t-i.getSizeInBytes();for(let h=0;h<l;++h)i.appendBits(h&1?17:236,8);if(i.getSize()!==o)throw new ct("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,i,o,a,l,h){if(a>=o)throw new ct("Block ID too large");const d=t%o,m=o-d,x=Math.floor(t/o),w=x+1,T=Math.floor(i/o),N=T+1,D=x-T,F=w-N;if(D!==F)throw new ct("EC bytes mismatch");if(o!==m+d)throw new ct("RS blocks mismatch");if(t!==(T+D)*m+(N+F)*d)throw new ct("Total bytes mismatch");a<m?(l[0]=T,h[0]=D):(l[0]=N,h[0]=F)}static interleaveWithECBytes(t,i,o,a){if(t.getSizeInBytes()!==o)throw new ct("Number of bits and data bytes does not match");let l=0,h=0,d=0;const m=new Array;for(let w=0;w<a;++w){const T=new Int32Array(1),N=new Int32Array(1);gt.getNumDataBytesAndNumECBytesForBlockID(i,o,a,w,T,N);const D=T[0],F=new Uint8Array(D);t.toBytes(8*l,F,0,D);const z=gt.generateECBytes(F,N[0]);m.push(new hu(F,z)),h=Math.max(h,D),d=Math.max(d,z.length),l+=T[0]}if(o!==l)throw new ct("Data bytes does not match offset");const x=new K;for(let w=0;w<h;++w)for(const T of m){const N=T.getDataBytes();w<N.length&&x.appendBits(N[w],8)}for(let w=0;w<d;++w)for(const T of m){const N=T.getErrorCorrectionBytes();w<N.length&&x.appendBits(N[w],8)}if(i!==x.getSizeInBytes())throw new ct("Interleaving error: "+i+" and "+x.getSizeInBytes()+" differ.");return x}static generateECBytes(t,i){const o=t.length,a=new Int32Array(o+i);for(let h=0;h<o;h++)a[h]=t[h]&255;new Ao(qe.QR_CODE_FIELD_256).encode(a,i);const l=new Uint8Array(i);for(let h=0;h<i;h++)l[h]=a[o+h];return l}static appendModeInfo(t,i){i.appendBits(t.getBits(),4)}static appendLengthInfo(t,i,o,a){const l=o.getCharacterCountBits(i);if(t>=1<<l)throw new ct(t+" is bigger than "+((1<<l)-1));a.appendBits(t,l)}static appendBytes(t,i,o,a){switch(i){case Ne.NUMERIC:gt.appendNumericBytes(t,o);break;case Ne.ALPHANUMERIC:gt.appendAlphanumericBytes(t,o);break;case Ne.BYTE:gt.append8BitBytes(t,o,a);break;case Ne.KANJI:gt.appendKanjiBytes(t,o);break;default:throw new ct("Invalid mode: "+i)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const i=gt.getDigit(t);return i>=0&&i<=9}static appendNumericBytes(t,i){const o=t.length;let a=0;for(;a<o;){const l=gt.getDigit(t.charAt(a));if(a+2<o){const h=gt.getDigit(t.charAt(a+1)),d=gt.getDigit(t.charAt(a+2));i.appendBits(l*100+h*10+d,10),a+=3}else if(a+1<o){const h=gt.getDigit(t.charAt(a+1));i.appendBits(l*10+h,7),a+=2}else i.appendBits(l,4),a++}}static appendAlphanumericBytes(t,i){const o=t.length;let a=0;for(;a<o;){const l=gt.getAlphanumericCode(t.charCodeAt(a));if(l===-1)throw new ct;if(a+1<o){const h=gt.getAlphanumericCode(t.charCodeAt(a+1));if(h===-1)throw new ct;i.appendBits(l*45+h,11),a+=2}else i.appendBits(l,6),a++}}static append8BitBytes(t,i,o){let a;try{a=Fe.encode(t,o)}catch(l){throw new ct(l)}for(let l=0,h=a.length;l!==h;l++){const d=a[l];i.appendBits(d,8)}}static appendKanjiBytes(t,i){let o;try{o=Fe.encode(t,$.SJIS)}catch(l){throw new ct(l)}const a=o.length;for(let l=0;l<a;l+=2){const h=o[l]&255,d=o[l+1]&255,m=h<<8&4294967295|d;let x=-1;if(m>=33088&&m<=40956?x=m-33088:m>=57408&&m<=60351&&(x=m-49472),x===-1)throw new ct("Invalid byte sequence");const w=(x>>8)*192+(x&255);i.appendBits(w,13)}}static appendECI(t,i){i.appendBits(Ne.ECI.getBits(),4),i.appendBits(t.getValue(),8)}}gt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),gt.DEFAULT_BYTE_MODE_ENCODING=$.UTF8.getName();class Pi{write(t,i,o,a=null){if(t.length===0)throw new O("Found empty contents");if(i<0||o<0)throw new O("Requested dimensions are too small: "+i+"x"+o);let l=He.L,h=Pi.QUIET_ZONE_SIZE;a!==null&&(a.get(Mt.ERROR_CORRECTION)!==void 0&&(l=He.fromString(a.get(Mt.ERROR_CORRECTION).toString())),a.get(Mt.MARGIN)!==void 0&&(h=Number.parseInt(a.get(Mt.MARGIN).toString(),10)));const d=gt.encode(t,l,a);return this.renderResult(d,i,o,h)}writeToDom(t,i,o,a,l=null){typeof t=="string"&&(t=document.querySelector(t));const h=this.write(i,o,a,l);t&&t.appendChild(h)}renderResult(t,i,o,a){const l=t.getMatrix();if(l===null)throw new jn;const h=l.getWidth(),d=l.getHeight(),m=h+a*2,x=d+a*2,w=Math.max(i,m),T=Math.max(o,x),N=Math.min(Math.floor(w/m),Math.floor(T/x)),D=Math.floor((w-h*N)/2),F=Math.floor((T-d*N)/2),z=this.createSVGElement(w,T);for(let Z=0,Y=F;Z<d;Z++,Y+=N)for(let ce=0,he=D;ce<h;ce++,he+=N)if(l.get(ce,Z)===1){const ae=this.createSvgRectElement(he,Y,N,N);z.appendChild(ae)}return z}createSVGElement(t,i){const o=document.createElementNS(Pi.SVG_NS,"svg");return o.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width",i.toString()),o}createSvgRectElement(t,i,o,a){const l=document.createElementNS(Pi.SVG_NS,"rect");return l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",i.toString()),l.setAttributeNS(null,"height",o.toString()),l.setAttributeNS(null,"width",a.toString()),l.setAttributeNS(null,"fill","#000000"),l}}Pi.QUIET_ZONE_SIZE=4,Pi.SVG_NS="http://www.w3.org/2000/svg";class vi{encode(t,i,o,a,l){if(t.length===0)throw new O("Found empty contents");if(i!==ue.QR_CODE)throw new O("Can only encode QR_CODE, but got "+i);if(o<0||a<0)throw new O(`Requested dimensions are too small: ${o}x${a}`);let h=He.L,d=vi.QUIET_ZONE_SIZE;l!==null&&(l.get(Mt.ERROR_CORRECTION)!==void 0&&(h=He.fromString(l.get(Mt.ERROR_CORRECTION).toString())),l.get(Mt.MARGIN)!==void 0&&(d=Number.parseInt(l.get(Mt.MARGIN).toString(),10)));const m=gt.encode(t,h,l);return vi.renderResult(m,o,a,d)}static renderResult(t,i,o,a){const l=t.getMatrix();if(l===null)throw new jn;const h=l.getWidth(),d=l.getHeight(),m=h+a*2,x=d+a*2,w=Math.max(i,m),T=Math.max(o,x),N=Math.min(Math.floor(w/m),Math.floor(T/x)),D=Math.floor((w-h*N)/2),F=Math.floor((T-d*N)/2),z=new nt(w,T);for(let Z=0,Y=F;Z<d;Z++,Y+=N)for(let ce=0,he=D;ce<h;ce++,he+=N)l.get(ce,Z)===1&&z.setRegion(he,Y,N,N);return z}}vi.QUIET_ZONE_SIZE=4;class Ji{encode(t,i,o,a,l){let h;switch(i){case ue.QR_CODE:h=new vi;break;default:throw new O("No encoder available for format "+i)}return h.encode(t,i,o,a,l)}}class ii extends te{constructor(t,i,o,a,l,h,d,m){if(super(h,d),this.yuvData=t,this.dataWidth=i,this.dataHeight=o,this.left=a,this.top=l,a+h>i||l+d>o)throw new O("Crop rectangle does not fit within image data.");m&&this.reverseHorizontal(h,d)}getRow(t,i){if(t<0||t>=this.getHeight())throw new O("Requested row is outside the image: "+t);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const a=(t+this.top)*this.dataWidth+this.left;return U.arraycopy(this.yuvData,a,i,0,o),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.yuvData;const o=t*i,a=new Uint8ClampedArray(o);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return U.arraycopy(this.yuvData,l,a,0,o),a;for(let h=0;h<i;h++){const d=h*t;U.arraycopy(this.yuvData,l,a,d,t),l+=this.dataWidth}return a}isCropSupported(){return!0}crop(t,i,o,a){return new ii(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+i,o,a,!1)}renderThumbnail(){const t=this.getWidth()/ii.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/ii.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(t*i),a=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let h=0;h<i;h++){const d=h*t;for(let m=0;m<t;m++){const x=a[l+m*ii.THUMBNAIL_SCALE_FACTOR]&255;o[d+m]=4278190080|x*65793}l+=this.dataWidth*ii.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/ii.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ii.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,i){const o=this.yuvData;for(let a=0,l=this.top*this.dataWidth+this.left;a<i;a++,l+=this.dataWidth){const h=l+t/2;for(let d=l,m=l+t-1;d<h;d++,m--){const x=o[d];o[d]=o[m],o[m]=x}}}invert(){return new Me(this)}}ii.THUMBNAIL_SCALE_FACTOR=2;class $i extends te{constructor(t,i,o,a,l,h,d){if(super(i,o),this.dataWidth=a,this.dataHeight=l,this.left=h,this.top=d,t.BYTES_PER_ELEMENT===4){const m=i*o,x=new Uint8ClampedArray(m);for(let w=0;w<m;w++){const T=t[w],N=T>>16&255,D=T>>7&510,F=T&255;x[w]=(N+D+F)/4&255}this.luminances=x}else this.luminances=t;if(a===void 0&&(this.dataWidth=i),l===void 0&&(this.dataHeight=o),h===void 0&&(this.left=0),d===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+o>this.dataHeight)throw new O("Crop rectangle does not fit within image data.")}getRow(t,i){if(t<0||t>=this.getHeight())throw new O("Requested row is outside the image: "+t);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const a=(t+this.top)*this.dataWidth+this.left;return U.arraycopy(this.luminances,a,i,0,o),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.luminances;const o=t*i,a=new Uint8ClampedArray(o);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return U.arraycopy(this.luminances,l,a,0,o),a;for(let h=0;h<i;h++){const d=h*t;U.arraycopy(this.luminances,l,a,d,t),l+=this.dataWidth}return a}isCropSupported(){return!0}crop(t,i,o,a){return new $i(this.luminances,o,a,this.dataWidth,this.dataHeight,this.left+t,this.top+i)}invert(){return new Me(this)}}class Tn extends ${static forName(t){return this.getCharacterSetECIByName(t)}}class Ns{}Ns.ISO_8859_1=$.ISO8859_1;class So{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Oa{static singletonList(t){return[t]}static min(t,i){return t.sort(i)[0]}}class To{constructor(t){this.previous=t}getPrevious(){return this.previous}}class Bi extends To{constructor(t,i,o){super(t),this.value=i,this.bitCount=o}appendTo(t,i){t.appendBits(this.value,this.bitCount)}add(t,i){return new Bi(this,t,i)}addBinaryShift(t,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Bi(this,t,i)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+P.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class Io extends Bi{constructor(t,i,o){super(t,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=o}appendTo(t,i){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):o===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(i[this.binaryShiftStart+o],8)}addBinaryShift(t,i){return new Io(this,t,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function fu(S,t,i){return new Io(S,t,i)}function vr(S,t,i){return new Bi(S,t,i)}const du=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Vt=0,Ci=1,Dn=2,ri=3,si=4,Cr=new Bi(null,0,0),No=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function as(S){for(let t of S)k.fill(t,-1);return S[Vt][si]=0,S[Ci][si]=0,S[Ci][Vt]=28,S[ri][si]=0,S[Dn][si]=0,S[Dn][Vt]=15,S}const bo=as(k.createInt32Array(6,6));class In{constructor(t,i,o,a){this.token=t,this.mode=i,this.binaryShiftByteCount=o,this.bitCount=a}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,i){let o=this.bitCount,a=this.token;if(t!==this.mode){let h=No[this.mode][t];a=vr(a,h&65535,h>>16),o+=h>>16}let l=t===Dn?4:5;return a=vr(a,i,l),new In(a,t,0,o+l)}shiftAndAppend(t,i){let o=this.token,a=this.mode===Dn?4:5;return o=vr(o,bo[this.mode][t],a),o=vr(o,i,5),new In(o,this.mode,0,this.bitCount+a+5)}addBinaryShiftChar(t){let i=this.token,o=this.mode,a=this.bitCount;if(this.mode===si||this.mode===Dn){let d=No[o][Vt];i=vr(i,d&65535,d>>16),a+=d>>16,o=Vt}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new In(i,o,this.binaryShiftByteCount+1,a+l);return h.binaryShiftByteCount===2078&&(h=h.endBinaryShift(t+1)),h}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=fu(i,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new In(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let i=this.bitCount+(No[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?i+=In.calculateBinaryShiftCost(t)-In.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(i+=10),i<=t.bitCount}toBitArray(t){let i=[];for(let a=this.endBinaryShift(t.length).token;a!==null;a=a.getPrevious())i.unshift(a);let o=new K;for(const a of i)a.appendTo(o,t);return o}toString(){return Ce.format("%s bits=%d bytes=%d",du[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}In.INITIAL_STATE=new In(Cr,Vt,0,0);function gu(S){const t=Ce.getCharCode(" "),i=Ce.getCharCode("."),o=Ce.getCharCode(",");S[Vt][t]=1;const a=Ce.getCharCode("Z"),l=Ce.getCharCode("A");for(let N=l;N<=a;N++)S[Vt][N]=N-l+2;S[Ci][t]=1;const h=Ce.getCharCode("z"),d=Ce.getCharCode("a");for(let N=d;N<=h;N++)S[Ci][N]=N-d+2;S[Dn][t]=1;const m=Ce.getCharCode("9"),x=Ce.getCharCode("0");for(let N=x;N<=m;N++)S[Dn][N]=N-x+2;S[Dn][o]=12,S[Dn][i]=13;const w=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let N=0;N<w.length;N++)S[ri][Ce.getCharCode(w[N])]=N;const T=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let N=0;N<T.length;N++)Ce.getCharCode(T[N])>0&&(S[si][Ce.getCharCode(T[N])]=N);return S}const oi=gu(k.createInt32Array(5,256));class Fi{constructor(t){this.text=t}encode(){const t=Ce.getCharCode(" "),i=Ce.getCharCode(`
`);let o=Oa.singletonList(In.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let h,d=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case Ce.getCharCode("\r"):h=d===i?2:0;break;case Ce.getCharCode("."):h=d===t?3:0;break;case Ce.getCharCode(","):h=d===t?4:0;break;case Ce.getCharCode(":"):h=d===t?5:0;break;default:h=0}h>0?(o=Fi.updateStateListForPair(o,l,h),l++):o=this.updateStateListForChar(o,l)}return Oa.min(o,(l,h)=>l.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,i){const o=[];for(let a of t)this.updateStateForChar(a,i,o);return Fi.simplifyStates(o)}updateStateForChar(t,i,o){let a=this.text[i]&255,l=oi[t.getMode()][a]>0,h=null;for(let d=0;d<=si;d++){let m=oi[d][a];if(m>0){if(h==null&&(h=t.endBinaryShift(i)),!l||d===t.getMode()||d===Dn){const x=h.latchAndAppend(d,m);o.push(x)}if(!l&&bo[t.getMode()][d]>=0){const x=h.shiftAndAppend(d,m);o.push(x)}}}if(t.getBinaryShiftByteCount()>0||oi[t.getMode()][a]===0){let d=t.addBinaryShiftChar(i);o.push(d)}}static updateStateListForPair(t,i,o){const a=[];for(let l of t)this.updateStateForPair(l,i,o,a);return this.simplifyStates(a)}static updateStateForPair(t,i,o,a){let l=t.endBinaryShift(i);if(a.push(l.latchAndAppend(si,o)),t.getMode()!==si&&a.push(l.shiftAndAppend(si,o)),o===3||o===4){let h=l.latchAndAppend(Dn,16-o).latchAndAppend(Dn,1);a.push(h)}if(t.getBinaryShiftByteCount()>0){let h=t.addBinaryShiftChar(i).addBinaryShiftChar(i+1);a.push(h)}}static simplifyStates(t){let i=[];for(const o of t){let a=!0;for(const l of i){if(l.isBetterThanOrEqualTo(o)){a=!1;break}o.isBetterThanOrEqualTo(l)&&(i=i.filter(h=>h!==l))}a&&i.push(o)}return i}}class $e{constructor(){}static encodeBytes(t){return $e.encode(t,$e.DEFAULT_EC_PERCENT,$e.DEFAULT_AZTEC_LAYERS)}static encode(t,i,o){let a=new Fi(t).encode(),l=P.truncDivision(a.getSize()*i,100)+11,h=a.getSize()+l,d,m,x,w,T;if(o!==$e.DEFAULT_AZTEC_LAYERS){if(d=o<0,m=Math.abs(o),m>(d?$e.MAX_NB_BITS_COMPACT:$e.MAX_NB_BITS))throw new O(Ce.format("Illegal value %s for layers",o));x=$e.totalBitsInLayer(m,d),w=$e.WORD_SIZE[m];let ae=x-x%w;if(T=$e.stuffBits(a,w),T.getSize()+l>ae)throw new O("Data to large for user specified layer");if(d&&T.getSize()>w*64)throw new O("Data to large for user specified layer")}else{w=0,T=null;for(let ae=0;;ae++){if(ae>$e.MAX_NB_BITS)throw new O("Data too large for an Aztec code");if(d=ae<=3,m=d?ae+1:ae,x=$e.totalBitsInLayer(m,d),h>x)continue;(T==null||w!==$e.WORD_SIZE[m])&&(w=$e.WORD_SIZE[m],T=$e.stuffBits(a,w));let Ve=x-x%w;if(!(d&&T.getSize()>w*64)&&T.getSize()+l<=Ve)break}}let N=$e.generateCheckWords(T,x,w),D=T.getSize()/w,F=$e.generateModeMessage(d,m,D),z=(d?11:14)+m*4,Z=new Int32Array(z),Y;if(d){Y=z;for(let ae=0;ae<Z.length;ae++)Z[ae]=ae}else{Y=z+1+2*P.truncDivision(P.truncDivision(z,2)-1,15);let ae=P.truncDivision(z,2),Ve=P.truncDivision(Y,2);for(let Be=0;Be<ae;Be++){let At=Be+P.truncDivision(Be,15);Z[ae-Be-1]=Ve-At-1,Z[ae+Be]=Ve+At+1}}let ce=new nt(Y);for(let ae=0,Ve=0;ae<m;ae++){let Be=(m-ae)*4+(d?9:12);for(let At=0;At<Be;At++){let pn=At*2;for(let mn=0;mn<2;mn++)N.get(Ve+pn+mn)&&ce.set(Z[ae*2+mn],Z[ae*2+At]),N.get(Ve+Be*2+pn+mn)&&ce.set(Z[ae*2+At],Z[z-1-ae*2-mn]),N.get(Ve+Be*4+pn+mn)&&ce.set(Z[z-1-ae*2-mn],Z[z-1-ae*2-At]),N.get(Ve+Be*6+pn+mn)&&ce.set(Z[z-1-ae*2-At],Z[ae*2+mn])}Ve+=Be*8}if($e.drawModeMessage(ce,d,Y,F),d)$e.drawBullsEye(ce,P.truncDivision(Y,2),5);else{$e.drawBullsEye(ce,P.truncDivision(Y,2),7);for(let ae=0,Ve=0;ae<P.truncDivision(z,2)-1;ae+=15,Ve+=16)for(let Be=P.truncDivision(Y,2)&1;Be<Y;Be+=2)ce.set(P.truncDivision(Y,2)-Ve,Be),ce.set(P.truncDivision(Y,2)+Ve,Be),ce.set(Be,P.truncDivision(Y,2)-Ve),ce.set(Be,P.truncDivision(Y,2)+Ve)}let he=new So;return he.setCompact(d),he.setSize(Y),he.setLayers(m),he.setCodeWords(D),he.setMatrix(ce),he}static drawBullsEye(t,i,o){for(let a=0;a<o;a+=2)for(let l=i-a;l<=i+a;l++)t.set(l,i-a),t.set(l,i+a),t.set(i-a,l),t.set(i+a,l);t.set(i-o,i-o),t.set(i-o+1,i-o),t.set(i-o,i-o+1),t.set(i+o,i-o),t.set(i+o,i-o+1),t.set(i+o,i+o-1)}static generateModeMessage(t,i,o){let a=new K;return t?(a.appendBits(i-1,2),a.appendBits(o-1,6),a=$e.generateCheckWords(a,28,4)):(a.appendBits(i-1,5),a.appendBits(o-1,11),a=$e.generateCheckWords(a,40,4)),a}static drawModeMessage(t,i,o,a){let l=P.truncDivision(o,2);if(i)for(let h=0;h<7;h++){let d=l-3+h;a.get(h)&&t.set(d,l-5),a.get(h+7)&&t.set(l+5,d),a.get(20-h)&&t.set(d,l+5),a.get(27-h)&&t.set(l-5,d)}else for(let h=0;h<10;h++){let d=l-5+h+P.truncDivision(h,5);a.get(h)&&t.set(d,l-7),a.get(h+10)&&t.set(l+7,d),a.get(29-h)&&t.set(d,l+7),a.get(39-h)&&t.set(l-7,d)}}static generateCheckWords(t,i,o){let a=t.getSize()/o,l=new Ao($e.getGF(o)),h=P.truncDivision(i,o),d=$e.bitsToWords(t,o,h);l.encode(d,h-a);let m=i%o,x=new K;x.appendBits(0,m);for(const w of Array.from(d))x.appendBits(w,o);return x}static bitsToWords(t,i,o){let a=new Int32Array(o),l,h;for(l=0,h=t.getSize()/i;l<h;l++){let d=0;for(let m=0;m<i;m++)d|=t.get(l*i+m)?1<<i-m-1:0;a[l]=d}return a}static getGF(t){switch(t){case 4:return qe.AZTEC_PARAM;case 6:return qe.AZTEC_DATA_6;case 8:return qe.AZTEC_DATA_8;case 10:return qe.AZTEC_DATA_10;case 12:return qe.AZTEC_DATA_12;default:throw new O("Unsupported word size "+t)}}static stuffBits(t,i){let o=new K,a=t.getSize(),l=(1<<i)-2;for(let h=0;h<a;h+=i){let d=0;for(let m=0;m<i;m++)(h+m>=a||t.get(h+m))&&(d|=1<<i-1-m);(d&l)===l?(o.appendBits(d&l,i),h--):d&l?o.appendBits(d,i):(o.appendBits(d|1,i),h--)}return o}static totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}$e.DEFAULT_EC_PERCENT=33,$e.DEFAULT_AZTEC_LAYERS=0,$e.MAX_NB_BITS=32,$e.MAX_NB_BITS_COMPACT=4,$e.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Er{encode(t,i,o,a){return this.encodeWithHints(t,i,o,a,null)}encodeWithHints(t,i,o,a,l){let h=Ns.ISO_8859_1,d=$e.DEFAULT_EC_PERCENT,m=$e.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(Mt.CHARACTER_SET)&&(h=Tn.forName(l.get(Mt.CHARACTER_SET).toString())),l.has(Mt.ERROR_CORRECTION)&&(d=P.parseInt(l.get(Mt.ERROR_CORRECTION).toString())),l.has(Mt.AZTEC_LAYERS)&&(m=P.parseInt(l.get(Mt.AZTEC_LAYERS).toString()))),Er.encodeLayers(t,i,o,a,h,d,m)}static encodeLayers(t,i,o,a,l,h,d){if(i!==ue.AZTEC)throw new O("Can only encode AZTEC, but got "+i);let m=$e.encode(Ce.getBytes(t,l),h,d);return Er.renderResult(m,o,a)}static renderResult(t,i,o){let a=t.getMatrix();if(a==null)throw new jn;let l=a.getWidth(),h=a.getHeight(),d=Math.max(i,l),m=Math.max(o,h),x=Math.min(d/l,m/h),w=(d-l*x)/2,T=(m-h*x)/2,N=new nt(d,m);for(let D=0,F=T;D<h;D++,F+=x)for(let z=0,Z=w;z<l;z++,Z+=x)a.get(z,D)&&N.setRegion(Z,F,x,x);return N}}s.AbstractExpandedDecoder=Cs,s.ArgumentException=R,s.ArithmeticException=Oi,s.AztecCode=So,s.AztecCodeReader=Kr,s.AztecCodeWriter=Er,s.AztecDecoder=ot,s.AztecDetector=ho,s.AztecDetectorResult=lo,s.AztecEncoder=$e,s.AztecHighLevelEncoder=Fi,s.AztecPoint=cn,s.BarcodeFormat=ue,s.Binarizer=ee,s.BinaryBitmap=H,s.BitArray=K,s.BitMatrix=nt,s.BitSource=xr,s.BrowserAztecCodeReader=su,s.BrowserBarcodeReader=es,s.BrowserCodeReader=Ue,s.BrowserDatamatrixCodeReader=yo,s.BrowserMultiFormatReader=ba,s.BrowserPDF417Reader=ki,s.BrowserQRCodeReader=Ma,s.BrowserQRCodeSvgWriter=Pi,s.CharacterSetECI=$,s.ChecksumException=X,s.Code128Reader=pe,s.Code39Reader=kt,s.DataMatrixDecodedBitStreamParser=An,s.DataMatrixReader=at,s.DecodeHintType=ne,s.DecoderResult=fr,s.DefaultGridSampler=co,s.DetectorResult=Qr,s.EAN13Reader=Li,s.EncodeHintType=Mt,s.Exception=C,s.FormatException=V,s.GenericGF=qe,s.GenericGFPoly=$t,s.GlobalHistogramBinarizer=We,s.GridSampler=uo,s.GridSamplerInstance=mi,s.HTMLCanvasElementLuminanceSource=le,s.HybridBinarizer=Le,s.ITFReader=ut,s.IllegalArgumentException=O,s.IllegalStateException=jn,s.InvertedLuminanceSource=Me,s.LuminanceSource=te,s.MathUtils=Je,s.MultiFormatOneDReader=Ri,s.MultiFormatReader=Na,s.MultiFormatWriter=Ji,s.NotFoundException=J,s.OneDReader=bt,s.PDF417DecodedBitStreamParser=Q,s.PDF417DecoderErrorCorrection=As,s.PDF417Reader=Xt,s.PDF417ResultMetadata=Eo,s.PerspectiveTransform=Cn,s.PlanarYUVLuminanceSource=ii,s.QRCodeByteMatrix=os,s.QRCodeDataMask=sn,s.QRCodeDecodedBitStreamParser=xt,s.QRCodeDecoderErrorCorrectionLevel=He,s.QRCodeDecoderFormatInformation=rn,s.QRCodeEncoder=gt,s.QRCodeEncoderQRCode=qi,s.QRCodeMaskUtil=Et,s.QRCodeMatrixUtil=Oe,s.QRCodeMode=Ne,s.QRCodeReader=Gt,s.QRCodeVersion=me,s.QRCodeWriter=vi,s.RGBLuminanceSource=$i,s.RSS14Reader=It,s.RSSExpandedReader=se,s.ReaderException=Sn,s.ReedSolomonDecoder=gr,s.ReedSolomonEncoder=Ao,s.ReedSolomonException=dr,s.Result=De,s.ResultMetadataType=pt,s.ResultPoint=Se,s.StringUtils=Ce,s.UnsupportedOperationException=be,s.VideoInputDevice=re,s.WhiteRectangleDetector=pi,s.WriterException=ct,s.ZXingArrays=k,s.ZXingCharset=Tn,s.ZXingInteger=P,s.ZXingStandardCharsets=Ns,s.ZXingStringBuilder=Ze,s.ZXingStringEncoding=Fe,s.ZXingSystem=U,s.createAbstractExpandedDecoder=$r,Object.defineProperty(s,"__esModule",{value:!0})})})(jc,jc.exports);var Ot=jc.exports;const Dx=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var pd=function(){function e(n,s,c){if(this.formatMap=new Map([[Ee.QR_CODE,Ot.BarcodeFormat.QR_CODE],[Ee.AZTEC,Ot.BarcodeFormat.AZTEC],[Ee.CODABAR,Ot.BarcodeFormat.CODABAR],[Ee.CODE_39,Ot.BarcodeFormat.CODE_39],[Ee.CODE_93,Ot.BarcodeFormat.CODE_93],[Ee.CODE_128,Ot.BarcodeFormat.CODE_128],[Ee.DATA_MATRIX,Ot.BarcodeFormat.DATA_MATRIX],[Ee.MAXICODE,Ot.BarcodeFormat.MAXICODE],[Ee.ITF,Ot.BarcodeFormat.ITF],[Ee.EAN_13,Ot.BarcodeFormat.EAN_13],[Ee.EAN_8,Ot.BarcodeFormat.EAN_8],[Ee.PDF_417,Ot.BarcodeFormat.PDF_417],[Ee.RSS_14,Ot.BarcodeFormat.RSS_14],[Ee.RSS_EXPANDED,Ot.BarcodeFormat.RSS_EXPANDED],[Ee.UPC_A,Ot.BarcodeFormat.UPC_A],[Ee.UPC_E,Ot.BarcodeFormat.UPC_E],[Ee.UPC_EAN_EXTENSION,Ot.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Dx)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=s,this.logger=c;var f=this.createZXingFormats(n),g=new Map;g.set(Ot.DecodeHintType.POSSIBLE_FORMATS,f),g.set(Ot.DecodeHintType.TRY_HARDER,!1),this.hints=g}return e.prototype.decodeAsync=function(n){var s=this;return new Promise(function(c,f){try{c(s.decode(n))}catch(g){f(g)}})},e.prototype.decode=function(n){var s=new Ot.MultiFormatReader(this.verbose,this.hints),c=new Ot.HTMLCanvasElementLuminanceSource(n),f=new Ot.BinaryBitmap(new Ot.HybridBinarizer(c)),g=s.decode(f);return{text:g.text,format:Q1.create(this.toHtml5QrcodeSupportedFormats(g.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(s,c,f){n.set(s,c)}),n},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createZXingFormats=function(n){for(var s=[],c=0,f=n;c<f.length;c++){var g=f[c];this.formatMap.has(g)?s.push(this.formatMap.get(g)):this.logger.logError("".concat(g," is not supported by")+"ZXingHtml5QrcodeShim")}return s},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Rx=function(e,n,s,c){function f(g){return g instanceof s?g:new s(function(y){y(g)})}return new(s||(s=Promise))(function(g,y){function E(R){try{C(c.next(R))}catch(O){y(O)}}function A(R){try{C(c.throw(R))}catch(O){y(O)}}function C(R){R.done?g(R.value):f(R.value).then(E,A)}C((c=c.apply(e,n||[])).next())})},kx=function(e,n){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,f,g,y;return y={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function E(C){return function(R){return A([C,R])}}function A(C){if(c)throw new TypeError("Generator is already executing.");for(;y&&(y=0,C[0]&&(s=0)),s;)try{if(c=1,f&&(g=C[0]&2?f.return:C[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,C[1])).done)return g;switch(f=0,g&&(C=[C[0]&2,g.value]),C[0]){case 0:case 1:g=C;break;case 4:return s.label++,{value:C[1],done:!1};case 5:s.label++,f=C[1],C=[0];continue;case 7:C=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(C[0]===6||C[0]===2)){s=0;continue}if(C[0]===3&&(!g||C[1]>g[0]&&C[1]<g[3])){s.label=C[1];break}if(C[0]===6&&s.label<g[1]){s.label=g[1],g=C;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(C);break}g[2]&&s.ops.pop(),s.trys.pop();continue}C=n.call(e,s)}catch(R){C=[6,R],f=0}finally{c=g=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},md=function(){function e(n,s,c){if(this.formatMap=new Map([[Ee.QR_CODE,"qr_code"],[Ee.AZTEC,"aztec"],[Ee.CODABAR,"codabar"],[Ee.CODE_39,"code_39"],[Ee.CODE_93,"code_93"],[Ee.CODE_128,"code_128"],[Ee.DATA_MATRIX,"data_matrix"],[Ee.ITF,"itf"],[Ee.EAN_13,"ean_13"],[Ee.EAN_8,"ean_8"],[Ee.PDF_417,"pdf417"],[Ee.UPC_A,"upc_a"],[Ee.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=s,this.logger=c;var f=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(f),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var n=new BarcodeDetector({formats:["qr_code"]});return typeof n<"u"},e.prototype.decodeAsync=function(n){return Rx(this,void 0,void 0,function(){var s,c;return kx(this,function(f){switch(f.label){case 0:return[4,this.detector.detect(n)];case 1:if(s=f.sent(),!s||s.length===0)throw"No barcode or QR code detected.";return c=this.selectLargestBarcode(s),[2,{text:c.rawValue,format:Q1.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(n){for(var s=null,c=0,f=0,g=n;f<g.length;f++){var y=g[f],E=y.boundingBox.width*y.boundingBox.height;E>c&&(c=E,s=y)}if(!s)throw"No largest barcode found";return s},e.prototype.createBarcodeDetectorFormats=function(n){for(var s=[],c=0,f=n;c<f.length;c++){var g=f[c];this.formatMap.has(g)?s.push(this.formatMap.get(g)):this.logger.warn("".concat(g," is not supported by")+"BarcodeDetectorDelegate")}return{formats:s}},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(s,c,f){n.set(s,c)}),n},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),xd=function(e,n,s,c){function f(g){return g instanceof s?g:new s(function(y){y(g)})}return new(s||(s=Promise))(function(g,y){function E(R){try{C(c.next(R))}catch(O){y(O)}}function A(R){try{C(c.throw(R))}catch(O){y(O)}}function C(R){R.done?g(R.value):f(R.value).then(E,A)}C((c=c.apply(e,n||[])).next())})},_d=function(e,n){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,f,g,y;return y={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function E(C){return function(R){return A([C,R])}}function A(C){if(c)throw new TypeError("Generator is already executing.");for(;y&&(y=0,C[0]&&(s=0)),s;)try{if(c=1,f&&(g=C[0]&2?f.return:C[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,C[1])).done)return g;switch(f=0,g&&(C=[C[0]&2,g.value]),C[0]){case 0:case 1:g=C;break;case 4:return s.label++,{value:C[1],done:!1};case 5:s.label++,f=C[1],C=[0];continue;case 7:C=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(C[0]===6||C[0]===2)){s=0;continue}if(C[0]===3&&(!g||C[1]>g[0]&&C[1]<g[3])){s.label=C[1];break}if(C[0]===6&&s.label<g[1]){s.label=g[1],g=C;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(C);break}g[2]&&s.ops.pop(),s.trys.pop();continue}C=n.call(e,s)}catch(R){C=[6,R],f=0}finally{c=g=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Px=function(){function e(n,s,c,f){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=c,s&&md.isSupported()?(this.primaryDecoder=new md(n,c,f),this.secondaryDecoder=new pd(n,c,f)):this.primaryDecoder=new pd(n,c,f)}return e.prototype.decodeAsync=function(n){return xd(this,void 0,void 0,function(){var s;return _d(this,function(c){switch(c.label){case 0:s=performance.now(),c.label=1;case 1:return c.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,c.sent()];case 3:return this.possiblyLogPerformance(s),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(n){return xd(this,void 0,void 0,function(){var s,c;return _d(this,function(f){switch(f.label){case 0:s=performance.now(),f.label=1;case 1:return f.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,f.sent()];case 3:if(c=f.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw c;case 4:return this.possiblyLogPerformance(s),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(n){if(this.verbose){var s=performance.now()-n;this.executionResults.push(s),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,s=0,c=this.executionResults;s<c.length;s++){var f=c[s];n+=f}var g=n/this.executionResults.length;console.log("".concat(g," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Bh=function(){var e=function(n,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(c[g]=f[g])},e(n,s)};return function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(n,s);function c(){this.constructor=n}n.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}}(),Bl=function(e,n,s,c){function f(g){return g instanceof s?g:new s(function(y){y(g)})}return new(s||(s=Promise))(function(g,y){function E(R){try{C(c.next(R))}catch(O){y(O)}}function A(R){try{C(c.throw(R))}catch(O){y(O)}}function C(R){R.done?g(R.value):f(R.value).then(E,A)}C((c=c.apply(e,n||[])).next())})},Fl=function(e,n){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,f,g,y;return y={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function E(C){return function(R){return A([C,R])}}function A(C){if(c)throw new TypeError("Generator is already executing.");for(;y&&(y=0,C[0]&&(s=0)),s;)try{if(c=1,f&&(g=C[0]&2?f.return:C[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,C[1])).done)return g;switch(f=0,g&&(C=[C[0]&2,g.value]),C[0]){case 0:case 1:g=C;break;case 4:return s.label++,{value:C[1],done:!1};case 5:s.label++,f=C[1],C=[0];continue;case 7:C=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(C[0]===6||C[0]===2)){s=0;continue}if(C[0]===3&&(!g||C[1]>g[0]&&C[1]<g[3])){s.label=C[1];break}if(C[0]===6&&s.label<g[1]){s.label=g[1],g=C;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(C);break}g[2]&&s.ops.pop(),s.trys.pop();continue}C=n.call(e,s)}catch(R){C=[6,R],f=0}finally{c=g=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},$1=function(){function e(n,s){this.name=n,this.track=s}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(n){var s={};s[this.name]=n;var c={advanced:[s]};return this.track.applyConstraints(c)},e.prototype.value=function(){var n=this.track.getSettings();if(this.name in n){var s=n[this.name];return s}return null},e}(),Bx=function(e){Bh(n,e);function n(s,c){return e.call(this,s,c)||this}return n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(s){var c={};c[this.name]=s;var f={advanced:[c]};return this.track.applyConstraints(f)},n.prototype.getCapabilities=function(){this.failIfNotSupported();var s=this.track.getCapabilities(),c=s[this.name];return{min:c.min,max:c.max,step:c.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},n}($1),Fx=function(e){Bh(n,e);function n(s){return e.call(this,"zoom",s)||this}return n}(Bx),zx=function(e){Bh(n,e);function n(s){return e.call(this,"torch",s)||this}return n}($1),jx=function(){function e(n){this.track=n}return e.prototype.zoomFeature=function(){return new Fx(this.track)},e.prototype.torchFeature=function(){return new zx(this.track)},e}(),Ux=function(){function e(n,s,c){this.isClosed=!1,this.parentElement=n,this.mediaStream=s,this.callbacks=c,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return e.prototype.createVideoElement=function(n){var s=document.createElement("video");return s.style.width="".concat(n,"px"),s.style.display="block",s.muted=!0,s.setAttribute("muted","true"),s.playsInline=!0,s},e.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var s=function(){var c=n.surface.clientWidth,f=n.surface.clientHeight;n.callbacks.onRenderSurfaceReady(c,f),n.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(n,s,c,f){return Bl(this,void 0,void 0,function(){var g,y;return Fl(this,function(E){switch(E.label){case 0:return g=new e(n,s,f),c.aspectRatio?(y={aspectRatio:c.aspectRatio},[4,g.getFirstTrackOrFail().applyConstraints(y)]):[3,2];case 1:E.sent(),E.label=2;case 2:return g.setupSurface(),[2,g]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(n){this.failIfClosed();var s=this,c=function(){setTimeout(n,200),s.surface.removeEventListener("playing",c)};this.surface.addEventListener("playing",c),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(n){return Bl(this,void 0,void 0,function(){return Fl(this,function(s){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(s,c){var f=n.mediaStream.getVideoTracks(),g=f.length,y=0;n.mediaStream.getVideoTracks().forEach(function(E){n.mediaStream.removeTrack(E),E.stop(),++y,y>=g&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),s())})})},e.prototype.getCapabilities=function(){return new jx(this.getFirstTrackOrFail())},e}(),Hx=function(){function e(n){this.mediaStream=n}return e.prototype.render=function(n,s,c){return Bl(this,void 0,void 0,function(){return Fl(this,function(f){return[2,Ux.create(n,this.mediaStream,s,c)]})})},e.create=function(n){return Bl(this,void 0,void 0,function(){var s,c;return Fl(this,function(f){switch(f.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return s={audio:!1,video:n},[4,navigator.mediaDevices.getUserMedia(s)];case 1:return c=f.sent(),[2,new e(c)]}})})},e}(),yd=function(e,n,s,c){function f(g){return g instanceof s?g:new s(function(y){y(g)})}return new(s||(s=Promise))(function(g,y){function E(R){try{C(c.next(R))}catch(O){y(O)}}function A(R){try{C(c.throw(R))}catch(O){y(O)}}function C(R){R.done?g(R.value):f(R.value).then(E,A)}C((c=c.apply(e,n||[])).next())})},wd=function(e,n){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,f,g,y;return y={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function E(C){return function(R){return A([C,R])}}function A(C){if(c)throw new TypeError("Generator is already executing.");for(;y&&(y=0,C[0]&&(s=0)),s;)try{if(c=1,f&&(g=C[0]&2?f.return:C[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,C[1])).done)return g;switch(f=0,g&&(C=[C[0]&2,g.value]),C[0]){case 0:case 1:g=C;break;case 4:return s.label++,{value:C[1],done:!1};case 5:s.label++,f=C[1],C=[0];continue;case 7:C=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(C[0]===6||C[0]===2)){s=0;continue}if(C[0]===3&&(!g||C[1]>g[0]&&C[1]<g[3])){s.label=C[1];break}if(C[0]===6&&s.label<g[1]){s.label=g[1],g=C;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(C);break}g[2]&&s.ops.pop(),s.trys.pop();continue}C=n.call(e,s)}catch(R){C=[6,R],f=0}finally{c=g=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Vx=function(){function e(){}return e.failIfNotSupported=function(){return yd(this,void 0,void 0,function(){return wd(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(n){return yd(this,void 0,void 0,function(){return wd(this,function(s){return[2,Hx.create(n)]})})},e}(),Zx=function(e,n,s,c){function f(g){return g instanceof s?g:new s(function(y){y(g)})}return new(s||(s=Promise))(function(g,y){function E(R){try{C(c.next(R))}catch(O){y(O)}}function A(R){try{C(c.throw(R))}catch(O){y(O)}}function C(R){R.done?g(R.value):f(R.value).then(E,A)}C((c=c.apply(e,n||[])).next())})},Wx=function(e,n){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,f,g,y;return y={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function E(C){return function(R){return A([C,R])}}function A(C){if(c)throw new TypeError("Generator is already executing.");for(;y&&(y=0,C[0]&&(s=0)),s;)try{if(c=1,f&&(g=C[0]&2?f.return:C[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,C[1])).done)return g;switch(f=0,g&&(C=[C[0]&2,g.value]),C[0]){case 0:case 1:g=C;break;case 4:return s.label++,{value:C[1],done:!1};case 5:s.label++,f=C[1],C=[0];continue;case 7:C=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(C[0]===6||C[0]===2)){s=0;continue}if(C[0]===3&&(!g||C[1]>g[0]&&C[1]<g[3])){s.label=C[1];break}if(C[0]===6&&s.label<g[1]){s.label=g[1],g=C;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(C);break}g[2]&&s.ops.pop(),s.trys.pop();continue}C=n.call(e,s)}catch(R){C=[6,R],f=0}finally{c=g=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Gx=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var n=Zs.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(n=Zs.insecureContextCameraQueryError()),Promise.reject(n)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var n=location.host.split(":")[0];return n==="127.0.0.1"||n==="localhost"},e.getCamerasFromMediaDevices=function(){return Zx(this,void 0,void 0,function(){var n,s,c,f,g,y,E;return Wx(this,function(A){switch(A.label){case 0:return n=function(C){for(var R=C.getVideoTracks(),O=0,H=R;O<H.length;O++){var X=H[O];X.enabled=!1,X.stop(),C.removeTrack(X)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return s=A.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(c=A.sent(),f=[],g=0,y=c;g<y.length;g++)E=y[g],E.kind==="videoinput"&&f.push({id:E.deviceId,label:E.label});return n(s),[2,f]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,s){var c=function(g){for(var y=[],E=0,A=g;E<A.length;E++){var C=A[E];C.kind==="video"&&y.push({id:C.id,label:C.label})}n(y)},f=MediaStreamTrack;f.getSources(c)})},e}(),Pt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Pt||(Pt={}));var Yx=function(){function e(){this.state=Pt.NOT_STARTED,this.onGoingTransactionNewState=Pt.UNKNOWN}return e.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},e.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Pt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Pt.UNKNOWN,this.directTransition(n)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Pt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Pt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Pt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(n){switch(this.state){case Pt.UNKNOWN:throw"Transition from unknown is not allowed";case Pt.NOT_STARTED:this.failIfNewStateIs(n,[Pt.PAUSED]);break;case Pt.SCANNING:break;case Pt.PAUSED:break}},e.prototype.failIfNewStateIs=function(n,s){for(var c=0,f=s;c<f.length;c++){var g=f[c];if(n===g)throw"Cannot transition from ".concat(this.state," to ").concat(n)}},e}(),Xx=function(){function e(n){this.stateManager=n}return e.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},e.prototype.directTransition=function(n){this.stateManager.directTransition(n)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Pt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Pt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Pt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Pt.PAUSED},e}(),Qx=function(){function e(){}return e.create=function(){return new Xx(new Yx)},e}(),Kx=function(){var e=function(n,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(c[g]=f[g])},e(n,s)};return function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(n,s);function c(){this.constructor=n}n.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}}(),Wn=function(e){Kx(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n}(Ti),qx=function(){function e(n,s){this.logger=s,this.fps=Wn.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=n.disableFlip===!0,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=Wn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?J1.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Ui(this.qrbox)},e.create=function(n,s){return new e(n,s)},e}(),vd=function(){function e(n,s){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.elementId=n,this.verbose=!1;var c;typeof s=="boolean"?this.verbose=s===!0:s&&(c=s,this.verbose=c.verbose===!0,c.experimentalFeatures),this.logger=new q1(this.verbose),this.qrcode=new Px(this.getSupportedFormats(s),this.getUseBarCodeDetectorIfSupported(c),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Qx.create()}return e.prototype.start=function(n,s,c,f){var g=this;if(!n)throw"cameraIdOrConfig is required";if(!c||typeof c!="function")throw"qrCodeSuccessCallback is required and should be a function.";var y;f?y=f:y=this.verbose?this.logger.log:function(){};var E=qx.create(s,this.logger);this.clearElement();var A=!1;E.videoConstraints&&(E.isMediaStreamConstraintsValid()?A=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var C=A,R=document.getElementById(this.elementId);R.clientWidth?R.clientWidth:Wn.DEFAULT_WIDTH,R.style.position="relative",this.shouldScan=!0,this.element=R;var O=this,H=this.stateManagerProxy.startTransition(Pt.SCANNING);return new Promise(function(X,ee){var U=C?E.videoConstraints:O.createVideoConstraints(n);if(!U){H.cancel(),ee("videoConstraints should be defined");return}var ye={};(!C||E.aspectRatio)&&(ye.aspectRatio=E.aspectRatio);var j={onRenderSurfaceReady:function(k,P){O.setupUi(k,P,E),O.isScanning=!0,O.foreverScan(E,c,y)}};Vx.failIfNotSupported().then(function(k){k.create(U).then(function(P){return P.render(g.element,ye,j).then(function(K){O.renderedCamera=K,H.execute(),X(null)}).catch(function(K){H.cancel(),ee(K)})}).catch(function(P){H.cancel(),ee(Zs.errorGettingUserMedia(P))})}).catch(function(k){H.cancel(),ee(Zs.cameraStreamingNotSupported())})})},e.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Pt.PAUSED),this.showPausedState(),(Ui(n)||n!==!0)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,s=function(){n.stateManagerProxy.directTransition(Pt.SCANNING),n.hidePausedState()};if(!this.renderedCamera.isPaused()){s();return}this.renderedCamera.resume(function(){s()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var s=this.stateManagerProxy.startTransition(Pt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var c=function(){if(n.element){var g=document.getElementById(Wn.SHADED_REGION_ELEMENT_ID);g&&n.element.removeChild(g)}},f=this;return this.renderedCamera.close().then(function(){return f.renderedCamera=null,f.element&&(f.element.removeChild(f.canvasElement),f.canvasElement=null),c(),f.qrRegion&&(f.qrRegion=null),f.context&&(f.context=null),s.execute(),f.hidePausedState(),f.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(n,s){return this.scanFileV2(n,s).then(function(c){return c.decodedText})},e.prototype.scanFileV2=function(n,s){var c=this;if(!n||!(n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ui(s)&&(s=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(f,g){c.possiblyCloseLastScanImageFile(),c.clearElement(),c.lastScanImageFile=URL.createObjectURL(n);var y=new Image;y.onload=function(){var E=y.width,A=y.height,C=document.getElementById(c.elementId),R=C.clientWidth?C.clientWidth:Wn.DEFAULT_WIDTH,O=Math.max(C.clientHeight?C.clientHeight:A,Wn.FILE_SCAN_MIN_HEIGHT),H=c.computeCanvasDrawConfig(E,A,R,O);if(s){var X=c.createCanvasElement(R,O,"qr-canvas-visible");X.style.display="inline-block",C.appendChild(X);var ee=X.getContext("2d");if(!ee)throw"Unable to get 2d context from canvas";ee.canvas.width=R,ee.canvas.height=O,ee.drawImage(y,0,0,E,A,H.x,H.y,H.width,H.height)}var U=Wn.FILE_SCAN_HIDDEN_CANVAS_PADDING,ye=Math.max(y.width,H.width),j=Math.max(y.height,H.height),k=ye+2*U,P=j+2*U,K=c.createCanvasElement(k,P);C.appendChild(K);var de=K.getContext("2d");if(!de)throw"Unable to get 2d context from canvas";de.canvas.width=k,de.canvas.height=P,de.drawImage(y,0,0,E,A,U,U,ye,j);try{c.qrcode.decodeRobustlyAsync(K).then(function(ne){f(dd.createFromQrcodeResult(ne))}).catch(g)}catch(ne){g("QR code parse error, error = ".concat(ne))}},y.onerror=g,y.onabort=g,y.onstalled=g,y.onsuspend=g,y.src=URL.createObjectURL(n)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Gx.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(n){if(n){if(!J1.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(n){var s=[Ee.QR_CODE,Ee.AZTEC,Ee.CODABAR,Ee.CODE_39,Ee.CODE_93,Ee.CODE_128,Ee.DATA_MATRIX,Ee.MAXICODE,Ee.ITF,Ee.EAN_13,Ee.EAN_8,Ee.PDF_417,Ee.RSS_14,Ee.RSS_EXPANDED,Ee.UPC_A,Ee.UPC_E,Ee.UPC_EAN_EXTENSION];if(!n||typeof n=="boolean"||!n.formatsToSupport)return s;if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(n.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var c=[],f=0,g=n.formatsToSupport;f<g.length;f++){var y=g[f];Ox(y)?c.push(y):this.logger.warn("Invalid format: ".concat(y," passed in config, ignoring."))}if(c.length===0)throw"None of formatsToSupport match supported values.";return c},e.prototype.getUseBarCodeDetectorIfSupported=function(n){if(Ui(n))return!0;if(!Ui(n.useBarCodeDetectorIfSupported))return n.useBarCodeDetectorIfSupported!==!1;if(Ui(n.experimentalFeatures))return!0;var s=n.experimentalFeatures;return Ui(s.useBarCodeDetectorIfSupported)?!0:s.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(n,s,c){var f=this,g=c.qrbox;this.validateQrboxConfig(g);var y=this.toQrdimensions(n,s,g),E=function(C){if(C<Wn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Wn.MIN_QR_BOX_SIZE,"px.")},A=function(C){return C>n&&(f.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),C=n),C};E(y.width),E(y.height),y.width=A(y.width)},e.prototype.validateQrboxConfig=function(n){if(typeof n!="number"&&typeof n!="function"&&(n.width===void 0||n.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(n,s,c){if(typeof c=="number")return{width:c,height:c};if(typeof c=="function")try{return c(n,s)}catch(f){throw new Error("qrbox config was passed as a function but it failed with unknown error"+f)}return c},e.prototype.setupUi=function(n,s,c){c.isShadedBoxEnabled()&&this.validateQrboxSize(n,s,c);var f=Ui(c.qrbox)?{width:n,height:s}:c.qrbox;this.validateQrboxConfig(f);var g=this.toQrdimensions(n,s,f);g.height>s&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var y=c.isShadedBoxEnabled()&&g.height<=s,E={x:0,y:0,width:n,height:s},A=y?this.getShadedRegionBounds(n,s,g):E,C=this.createCanvasElement(A.width,A.height),R={willReadFrequently:!0},O=C.getContext("2d",R);O.canvas.width=A.width,O.canvas.height=A.height,this.element.append(C),y&&this.possiblyInsertShadingElement(this.element,n,s,g),this.createScannerPausedUiElement(this.element),this.qrRegion=A,this.context=O,this.canvasElement=C},e.prototype.createScannerPausedUiElement=function(n){var s=document.createElement("div");s.innerText=Zs.scannerPaused(),s.style.display="none",s.style.position="absolute",s.style.top="0px",s.style.zIndex="1",s.style.background="rgba(9, 9, 9, 0.46)",s.style.color="#FFECEC",s.style.textAlign="center",s.style.width="100%",n.appendChild(s),this.scannerPausedUiElement=s},e.prototype.scanContext=function(n,s){var c=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(f){return n(f.text,dd.createFromQrcodeResult(f)),c.possiblyUpdateShaders(!0),!0}).catch(function(f){c.possiblyUpdateShaders(!1);var g=Zs.codeParseError(f);return s(g,K1.createFrom(g)),!1})},e.prototype.foreverScan=function(n,s,c){var f=this;if(this.shouldScan&&this.renderedCamera){var g=this.renderedCamera.getSurface(),y=g.videoWidth/g.clientWidth,E=g.videoHeight/g.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var A=this.qrRegion.width*y,C=this.qrRegion.height*E,R=this.qrRegion.x*y,O=this.qrRegion.y*E;this.context.drawImage(g,R,O,A,C,0,0,this.qrRegion.width,this.qrRegion.height);var H=function(){f.foreverScanTimeout=setTimeout(function(){f.foreverScan(n,s,c)},f.getTimeoutFps(n.fps))};this.scanContext(s,c).then(function(X){!X&&n.disableFlip!==!0?(f.context.translate(f.context.canvas.width,0),f.context.scale(-1,1),f.scanContext(s,c).finally(function(){H()})):H()}).catch(function(X){f.logger.logError("Error happend while scanning context",X),H()})}},e.prototype.createVideoConstraints=function(n){if(typeof n=="string")return{deviceId:{exact:n}};if(typeof n=="object"){var s="facingMode",c="deviceId",f={user:!0,environment:!0},g="exact",y=function(ee){if(ee in f)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(ee,"'")},E=Object.keys(n);if(E.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(E.length," keys");var A=Object.keys(n)[0];if(A!==s&&A!==c)throw"Only '".concat(s,"' and '").concat(c,"' ")+" are supported for 'cameraIdOrConfig'";if(A===s){var C=n.facingMode;if(typeof C=="string"){if(y(C))return{facingMode:C}}else if(typeof C=="object")if(g in C){if(y(C["".concat(g)]))return{facingMode:{exact:C["".concat(g)]}}}else throw"'facingMode' should be string or object with"+" ".concat(g," as key.");else{var R=typeof C;throw"Invalid type of 'facingMode' = ".concat(R)}}else{var O=n.deviceId;if(typeof O=="string")return{deviceId:O};if(typeof O=="object"){if(g in O)return{deviceId:{exact:O["".concat(g)]}};throw"'deviceId' should be string or object with"+" ".concat(g," as key.")}else{var H=typeof O;throw"Invalid type of 'deviceId' = ".concat(H)}}}var X=typeof n;throw"Invalid type of 'cameraIdOrConfig' = ".concat(X)},e.prototype.computeCanvasDrawConfig=function(n,s,c,f){if(n<=c&&s<=f){var g=(c-n)/2,y=(f-s)/2;return{x:g,y,width:n,height:s}}else{var E=n,A=s;return n>c&&(s=c/n*s,n=c),s>f&&(n=f/s*n,s=f),this.logger.log("Image downsampled from "+"".concat(E,"X").concat(A)+" to ".concat(n,"X").concat(s,".")),this.computeCanvasDrawConfig(n,s,c,f)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},e.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(s){s.style.backgroundColor=n?Wn.BORDER_SHADER_MATCH_COLOR:Wn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(n,s,c){var f=n,g=s,y=document.createElement("canvas");return y.style.width="".concat(f,"px"),y.style.height="".concat(g,"px"),y.style.display="none",y.id=Ui(c)?"qr-canvas":c,y},e.prototype.getShadedRegionBounds=function(n,s,c){if(c.width>n||c.height>s)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-c.width)/2,y:(s-c.height)/2,width:c.width,height:c.height}},e.prototype.possiblyInsertShadingElement=function(n,s,c,f){if(!(s-f.width<1||c-f.height<1)){var g=document.createElement("div");g.style.position="absolute";var y=(s-f.width)/2,E=(c-f.height)/2;if(g.style.borderLeft="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderRight="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderTop="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderBottom="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),g.style.boxSizing="border-box",g.style.top="0px",g.style.bottom="0px",g.style.left="0px",g.style.right="0px",g.id="".concat(Wn.SHADED_REGION_ELEMENT_ID),s-f.width<11||c-f.height<11)this.hasBorderShaders=!1;else{var A=5,C=40;this.insertShaderBorders(g,C,A,-A,null,0,!0),this.insertShaderBorders(g,C,A,-A,null,0,!1),this.insertShaderBorders(g,C,A,null,-A,0,!0),this.insertShaderBorders(g,C,A,null,-A,0,!1),this.insertShaderBorders(g,A,C+A,-A,null,-A,!0),this.insertShaderBorders(g,A,C+A,null,-A,-A,!0),this.insertShaderBorders(g,A,C+A,-A,null,-A,!1),this.insertShaderBorders(g,A,C+A,null,-A,-A,!1),this.hasBorderShaders=!0}n.append(g)}},e.prototype.insertShaderBorders=function(n,s,c,f,g,y,E){var A=document.createElement("div");A.style.position="absolute",A.style.backgroundColor=Wn.BORDER_SHADER_DEFAULT_COLOR,A.style.width="".concat(s,"px"),A.style.height="".concat(c,"px"),f!==null&&(A.style.top="".concat(f,"px")),g!==null&&(A.style.bottom="".concat(g,"px")),E?A.style.left="".concat(y,"px"):A.style.right="".concat(y,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(A),n.appendChild(A)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(n){return 1e3/n},e}(),Fh="data:image/svg+xml;base64,",Jx=Fh+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",$x=Fh+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Cd=Fh+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",e2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Ed=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),t2=function(){function e(){this.data=Ed.createDefault();var n=localStorage.getItem(e.LOCAL_STORAGE_KEY);n?this.data=JSON.parse(n):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(n){this.data.hasPermission=n,this.flush()},e.prototype.setLastUsedCameraId=function(n){this.data.lastUsedCameraId=n,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Ed.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),n2=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(n){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=gd.poweredBy();var s=document.createElement("a");s.innerText="ScanApp",s.href="https://scanapp.org",s.target="new",s.style.color="white",this.infoDiv.appendChild(s);var c=document.createElement("br"),f=document.createElement("br");this.infoDiv.appendChild(c),this.infoDiv.appendChild(f);var g=document.createElement("a");g.innerText=gd.reportIssues(),g.href="https://github.com/mebjas/html5-qrcode/issues",g.target="new",g.style.color="white",this.infoDiv.appendChild(g),n.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),i2=function(){function e(n,s){this.isShowingInfoIcon=!0,this.onTapIn=n,this.onTapOut=s,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(n){var s=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Cd,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(c){return s.onHoverIn()},this.infoIcon.onmouseout=function(c){return s.onHoverOut()},this.infoIcon.onclick=function(c){return s.onClick()},n.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=e2,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Cd,this.infoIcon.style.opacity="0.6")},e}(),r2=function(){function e(){var n=this;this.infoDiv=new n2,this.infoIcon=new i2(function(){n.infoDiv.show()},function(){n.infoDiv.hide()})}return e.prototype.renderInto=function(n){this.infoDiv.renderInto(n),this.infoIcon.renderInto(n)},e}(),s2=function(e,n,s,c){function f(g){return g instanceof s?g:new s(function(y){y(g)})}return new(s||(s=Promise))(function(g,y){function E(R){try{C(c.next(R))}catch(O){y(O)}}function A(R){try{C(c.throw(R))}catch(O){y(O)}}function C(R){R.done?g(R.value):f(R.value).then(E,A)}C((c=c.apply(e,n||[])).next())})},o2=function(e,n){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,f,g,y;return y={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function E(C){return function(R){return A([C,R])}}function A(C){if(c)throw new TypeError("Generator is already executing.");for(;y&&(y=0,C[0]&&(s=0)),s;)try{if(c=1,f&&(g=C[0]&2?f.return:C[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,C[1])).done)return g;switch(f=0,g&&(C=[C[0]&2,g.value]),C[0]){case 0:case 1:g=C;break;case 4:return s.label++,{value:C[1],done:!1};case 5:s.label++,f=C[1],C=[0];continue;case 7:C=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(C[0]===6||C[0]===2)){s=0;continue}if(C[0]===3&&(!g||C[1]>g[0]&&C[1]<g[3])){s.label=C[1];break}if(C[0]===6&&s.label<g[1]){s.label=g[1],g=C;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(C);break}g[2]&&s.ops.pop(),s.trys.pop();continue}C=n.call(e,s)}catch(R){C=[6,R],f=0}finally{c=g=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Ad=function(){function e(){}return e.hasPermissions=function(){return s2(this,void 0,void 0,function(){var n,s,c,f;return o2(this,function(g){switch(g.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(n=g.sent(),s=0,c=n;s<c.length;s++)if(f=c[s],f.kind==="videoinput"&&f.label)return[2,!0];return[2,!1]}})})},e}(),Ir=function(){function e(n){this.supportedScanTypes=this.validateAndReturnScanTypes(n)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var n=0,s=this.supportedScanTypes;n<s.length;n++){var c=s[n];if(e.isCameraScanType(c))return!0}return!1},e.isCameraScanType=function(n){return n===Zr.SCAN_TYPE_CAMERA},e.isFileScanType=function(n){return n===Zr.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(n){if(!n||n.length===0)return Ti.DEFAULT_SUPPORTED_SCAN_TYPE;var s=Ti.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(n.length>s)throw"Max ".concat(s," values expected for ")+"supportedScanTypes";for(var c=0,f=n;c<f.length;c++){var g=f[c];if(!Ti.DEFAULT_SUPPORTED_SCAN_TYPE.includes(g))throw"Unsupported scan type ".concat(g)}return n},e}(),Xn=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),sr=function(){function e(){}return e.createElement=function(n,s){var c=document.createElement(n);return c.id=s,c.classList.add(Xn.ALL_ELEMENT_CLASS),n==="button"&&c.setAttribute("type","button"),c},e}(),eg=function(e,n,s,c){function f(g){return g instanceof s?g:new s(function(y){y(g)})}return new(s||(s=Promise))(function(g,y){function E(R){try{C(c.next(R))}catch(O){y(O)}}function A(R){try{C(c.throw(R))}catch(O){y(O)}}function C(R){R.done?g(R.value):f(R.value).then(E,A)}C((c=c.apply(e,n||[])).next())})},tg=function(e,n){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,f,g,y;return y={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function E(C){return function(R){return A([C,R])}}function A(C){if(c)throw new TypeError("Generator is already executing.");for(;y&&(y=0,C[0]&&(s=0)),s;)try{if(c=1,f&&(g=C[0]&2?f.return:C[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,C[1])).done)return g;switch(f=0,g&&(C=[C[0]&2,g.value]),C[0]){case 0:case 1:g=C;break;case 4:return s.label++,{value:C[1],done:!1};case 5:s.label++,f=C[1],C=[0];continue;case 7:C=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(C[0]===6||C[0]===2)){s=0;continue}if(C[0]===3&&(!g||C[1]>g[0]&&C[1]<g[3])){s.label=C[1];break}if(C[0]===6&&s.label<g[1]){s.label=g[1],g=C;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(C);break}g[2]&&s.ops.pop(),s.trys.pop();continue}C=n.call(e,s)}catch(R){C=[6,R],f=0}finally{c=g=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Sd=function(){function e(n,s,c){this.isTorchOn=!1,this.torchCapability=n,this.buttonController=s,this.onTorchActionFailureCallback=c}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return eg(this,void 0,void 0,function(){var n,s;return tg(this,function(c){switch(c.label){case 0:this.buttonController.disable(),n=!this.isTorchOn,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.torchCapability.apply(n)];case 2:return c.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),n),[3,4];case 3:return s=c.sent(),this.propagateFailure(n,s),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(n,s){n===s?(this.buttonController.setText(s?ht.torchOffButton():ht.torchOnButton()),this.isTorchOn=s):this.propagateFailure(s),this.buttonController.enable()},e.prototype.propagateFailure=function(n,s){var c=n?ht.torchOnFailedMessage():ht.torchOffFailedMessage();s&&(c+="; Error = "+s),this.onTorchActionFailureCallback(c)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),a2=function(){function e(n,s){this.onTorchActionFailureCallback=s,this.torchButton=sr.createElement("button",Xn.TORCH_BUTTON_ID),this.torchController=new Sd(n,this,s)}return e.prototype.render=function(n,s){var c=this;this.torchButton.innerText=ht.torchOnButton(),this.torchButton.style.display=s.display,this.torchButton.style.marginLeft=s.marginLeft;var f=this;this.torchButton.addEventListener("click",function(g){return eg(c,void 0,void 0,function(){return tg(this,function(y){switch(y.label){case 0:return[4,f.torchController.flipState()];case 1:return y.sent(),f.torchController.isTorchEnabled()?(f.torchButton.classList.remove(Xn.TORCH_BUTTON_CLASS_TORCH_OFF),f.torchButton.classList.add(Xn.TORCH_BUTTON_CLASS_TORCH_ON)):(f.torchButton.classList.remove(Xn.TORCH_BUTTON_CLASS_TORCH_ON),f.torchButton.classList.add(Xn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),n.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(n){this.torchController=new Sd(n,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(n){this.torchButton.innerText=n},e.prototype.reset=function(){this.torchButton.innerText=ht.torchOnButton(),this.torchController.reset()},e.create=function(n,s,c,f){var g=new e(s,f);return g.render(n,c),g},e}(),l2=function(){function e(n,s,c){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=s?"block":"none",n.appendChild(this.fileBasedScanRegion);var f=document.createElement("label");f.setAttribute("for",this.getFileScanInputId()),f.style.display="inline-block",this.fileBasedScanRegion.appendChild(f),this.fileSelectionButton=sr.createElement("button",Xn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(E){f.click()}),f.append(this.fileSelectionButton),this.fileScanInput=sr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",f.appendChild(this.fileScanInput);var g=this;this.fileScanInput.addEventListener("change",function(E){if(!(E==null||E.target==null)){var A=E.target;if(!(A.files&&A.files.length===0)){var C=A.files,R=C[0],O=R.name;g.setImageNameToButton(O),c(R)}}});var y=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(y),this.fileBasedScanRegion.addEventListener("dragenter",function(E){g.fileBasedScanRegion.style.border=g.fileBasedScanRegionActiveBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(E){g.fileBasedScanRegion.style.border=g.fileBasedScanRegionDefaultBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(E){g.fileBasedScanRegion.style.border=g.fileBasedScanRegionActiveBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(E){E.stopPropagation(),E.preventDefault(),g.fileBasedScanRegion.style.border=g.fileBasedScanRegionDefaultBorder();var A=E.dataTransfer;if(A){var C=A.files;if(!C||C.length===0)return;for(var R=!1,O=0;O<C.length;++O){var H=C.item(O);if(H){var X=/image.*/;if(H.type.match(X)){R=!0;var ee=H.name;g.setImageNameToButton(ee),c(H),y.innerText=ht.dragAndDropMessage();break}}}R||(y.innerText=ht.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var n=document.createElement("div");return n.style.textAlign="center",n.style.margin="auto",n.style.width="80%",n.style.maxWidth="600px",n.style.border=this.fileBasedScanRegionDefaultBorder(),n.style.padding="10px",n.style.marginBottom="10px",n},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var n=document.createElement("div");return n.innerText=ht.dragAndDropMessage(),n.style.fontWeight="400",n},e.prototype.setImageNameToButton=function(n){var s=20;if(n.length>s){var c=n.substring(0,8),f=n.length,g=n.substring(f-8,f);n="".concat(c,"....").concat(g)}var y=ht.fileSelectionChooseAnother()+" - "+n;this.fileSelectionButton.innerText=y},e.prototype.setInitialValueToButton=function(){var n=ht.fileSelectionChooseImage()+" - "+ht.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=n},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(n,s,c){var f=new e(n,s,c);return f},e}(),u2=function(){function e(n){this.selectElement=sr.createElement("select",Xn.CAMERA_SELECTION_SELECT_ID),this.cameras=n,this.options=[]}return e.prototype.render=function(n){var s=document.createElement("span");s.style.marginRight="10px";var c=this.cameras.length;if(c===0)throw new Error("No cameras found");if(c===1)s.style.display="none";else{var f=ht.selectCamera();s.innerText="".concat(f," (").concat(this.cameras.length,")  ")}for(var g=1,y=0,E=this.cameras;y<E.length;y++){var A=E[y],C=A.id,R=A.label==null?C:A.label;(!R||R==="")&&(R=[ht.anonymousCameraPrefix(),g++].join(" "));var O=document.createElement("option");O.value=C,O.innerText=R,this.options.push(O),this.selectElement.appendChild(O)}s.appendChild(this.selectElement),n.appendChild(s)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(n){for(var s=0,c=this.options;s<c.length;s++){var f=c[s];if(f.value===n)return!0}return!1},e.prototype.setValue=function(n){if(!this.hasValue(n))throw new Error("".concat(n," is not present in the camera list."));this.selectElement.value=n},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(n,s){var c=new e(s);return c.render(n),c},e}(),c2=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=sr.createElement("input",Xn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(n,s){this.zoomElementContainer.style.display=s?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",n.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var c=ht.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(c),this.rangeText.style.marginRight="10px";var f=this;this.rangeInput.addEventListener("input",function(){return f.onValueChange()}),this.rangeInput.addEventListener("change",function(){return f.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var n=ht.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(n,s,c,f){this.rangeInput.min=n.toString(),this.rangeInput.max=s.toString(),this.rangeInput.step=f.toString(),this.rangeInput.value=c.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(n){this.onChangeCallback=n},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(n,s){var c=new e;return c.render(n,s),c},e}(),Gn;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Gn||(Gn={}));function h2(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function f2(e,n){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:n}}var d2=function(){function e(n,s,c){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=n,this.config=this.createConfig(s),this.verbose=c===!0,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.scanTypeSelector=new Ir(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new q1(this.verbose),this.persistedDataManager=new t2,s.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(n,s){var c=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(g,y){if(n)n(g,y);else{if(c.lastMatchFound===g)return;c.lastMatchFound=g,c.setHeaderMessage(ht.lastMatch(g),Gn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(g,y){s&&s(g,y)};var f=document.getElementById(this.elementId);if(!f)throw"HTML Element with id=".concat(this.elementId," not found");f.innerHTML="",this.createBasicLayout(f),this.html5Qrcode=new vd(this.getScanRegionId(),f2(this.config,this.verbose))},e.prototype.pause=function(n){(Ui(n)||n!==!0)&&(n=!1),this.getHtml5QrcodeOrFail().pause(n)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var n=this,s=function(){var c=document.getElementById(n.elementId);c&&(c.innerHTML="",n.resetBasicLayout(c))};return this.html5Qrcode?new Promise(function(c,f){if(!n.html5Qrcode){c();return}n.html5Qrcode.isScanning?n.html5Qrcode.stop().then(function(g){if(!n.html5Qrcode){c();return}n.html5Qrcode.clear(),s(),c()}).catch(function(g){n.verbose&&n.logger.logError("Unable to stop qrcode scanner",g),f(g)}):(n.html5Qrcode.clear(),s(),c())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(n){return this.getHtml5QrcodeOrFail().applyVideoConstraints(n)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(n){return n?(n.fps||(n.fps=Ti.SCAN_DEFAULT_FPS),n.rememberLastUsedCamera!==!Ti.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(n.rememberLastUsedCamera=Ti.DEFAULT_REMEMBER_LAST_CAMERA_USED),n.supportedScanTypes||(n.supportedScanTypes=Ti.DEFAULT_SUPPORTED_SCAN_TYPE),n):{fps:Ti.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Ti.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Ti.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(n){n.style.position="relative",n.style.padding="0px",n.style.border="1px solid silver",this.createHeader(n);var s=document.createElement("div"),c=this.getScanRegionId();s.id=c,s.style.width="100%",s.style.minHeight="100px",s.style.textAlign="center",n.appendChild(s),Ir.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var f=document.createElement("div"),g=this.getDashboardId();f.id=g,f.style.width="100%",n.appendChild(f),this.setupInitialDashboard(f)},e.prototype.resetBasicLayout=function(n){n.style.border="none"},e.prototype.setupInitialDashboard=function(n){this.createSection(n),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(n){var s=document.createElement("div");s.style.textAlign="left",s.style.margin="0px",n.appendChild(s);var c=new r2;c.renderInto(s);var f=document.createElement("div");f.id=this.getHeaderMessageContainerId(),f.style.display="none",f.style.textAlign="center",f.style.fontSize="14px",f.style.padding="2px 10px",f.style.margin="4px",f.style.borderTop="1px solid #f6f6f6",s.appendChild(f)},e.prototype.createSection=function(n){var s=document.createElement("div");s.id=this.getDashboardSectionId(),s.style.width="100%",s.style.padding="10px 0px 10px 0px",s.style.textAlign="left",n.appendChild(s)},e.prototype.createCameraListUi=function(n,s,c){var f=this;f.showHideScanTypeSwapLink(!1),f.setHeaderMessage(ht.cameraPermissionRequesting());var g=function(){c||f.createPermissionButton(n,s)};vd.getCameras().then(function(y){f.persistedDataManager.setHasPermission(!0),f.showHideScanTypeSwapLink(!0),f.resetHeaderMessage(),y&&y.length>0?(n.removeChild(s),f.renderCameraSelection(y)):(f.setHeaderMessage(ht.noCameraFound(),Gn.STATUS_WARNING),g())}).catch(function(y){f.persistedDataManager.setHasPermission(!1),c?c.disabled=!1:g(),f.setHeaderMessage(y,Gn.STATUS_WARNING),f.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(n,s){var c=this,f=sr.createElement("button",this.getCameraPermissionButtonId());f.innerText=ht.cameraPermissionTitle(),f.addEventListener("click",function(){f.disabled=!0,c.createCameraListUi(n,s,f)}),s.appendChild(f)},e.prototype.createPermissionsUi=function(n,s){var c=this;if(Ir.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Ad.hasPermissions().then(function(f){f?c.createCameraListUi(n,s):(c.persistedDataManager.setHasPermission(!1),c.createPermissionButton(n,s))}).catch(function(f){c.persistedDataManager.setHasPermission(!1),c.createPermissionButton(n,s)});return}this.createPermissionButton(n,s)},e.prototype.createSectionControlPanel=function(){var n=document.getElementById(this.getDashboardSectionId()),s=document.createElement("div");n.appendChild(s);var c=document.createElement("div");c.id=this.getDashboardSectionCameraScanRegionId(),c.style.display=Ir.isCameraScanType(this.currentScanType)?"block":"none",s.appendChild(c);var f=document.createElement("div");f.style.textAlign="center",c.appendChild(f),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(c,f),this.renderFileScanUi(s)},e.prototype.renderFileScanUi=function(n){var s=Ir.isFileScanType(this.currentScanType),c=this,f=function(g){if(!c.html5Qrcode)throw"html5Qrcode not defined";Ir.isFileScanType(c.currentScanType)&&(c.setHeaderMessage(ht.loadingImage()),c.html5Qrcode.scanFileV2(g,!0).then(function(y){c.resetHeaderMessage(),c.qrCodeSuccessCallback(y.decodedText,y)}).catch(function(y){c.setHeaderMessage(y,Gn.STATUS_WARNING),c.qrCodeErrorCallback(y,K1.createFrom(y))}))};this.fileSelectionUi=l2.create(n,s,f)},e.prototype.renderCameraSelection=function(n){var s=this,c=this,f=document.getElementById(this.getDashboardSectionCameraScanRegionId());f.style.textAlign="center";var g=c2.create(f,!1),y=function(U){var ye=U.zoomFeature();if(ye.isSupported()){g.setOnCameraZoomValueChangeCallback(function(k){ye.apply(k)});var j=1;s.config.defaultZoomValueIfSupported&&(j=s.config.defaultZoomValueIfSupported),j=Lx(j,ye.min(),ye.max()),g.setValues(ye.min(),ye.max(),j,ye.step()),g.show()}},E=u2.create(f,n),A=document.createElement("span"),C=sr.createElement("button",Xn.CAMERA_START_BUTTON_ID);C.innerText=ht.scanButtonStartScanningText(),A.appendChild(C);var R=sr.createElement("button",Xn.CAMERA_STOP_BUTTON_ID);R.innerText=ht.scanButtonStopScanningText(),R.style.display="none",R.disabled=!0,A.appendChild(R);var O,H=function(U){if(!U.torchFeature().isSupported()){O&&O.hide();return}O?O.updateTorchCapability(U.torchFeature()):O=a2.create(A,U.torchFeature(),{display:"none",marginLeft:"5px"},function(ye){c.setHeaderMessage(ye,Gn.STATUS_WARNING)}),O.show()};f.appendChild(A);var X=function(U){U||(C.style.display="none"),C.innerText=ht.scanButtonStartScanningText(),C.style.opacity="1",C.disabled=!1,U&&(C.style.display="inline-block")};if(C.addEventListener("click",function(U){C.innerText=ht.scanButtonScanningStarting(),E.disable(),C.disabled=!0,C.style.opacity="0.5",s.scanTypeSelector.hasMoreThanOneScanType()&&c.showHideScanTypeSwapLink(!1),c.resetHeaderMessage();var ye=E.getValue();c.persistedDataManager.setLastUsedCameraId(ye),c.html5Qrcode.start(ye,h2(c.config),c.qrCodeSuccessCallback,c.qrCodeErrorCallback).then(function(j){R.disabled=!1,R.style.display="inline-block",X(!1);var k=c.html5Qrcode.getRunningTrackCameraCapabilities();s.config.showTorchButtonIfSupported===!0&&H(k),s.config.showZoomSliderIfSupported===!0&&y(k)}).catch(function(j){c.showHideScanTypeSwapLink(!0),E.enable(),X(!0),c.setHeaderMessage(j,Gn.STATUS_WARNING)})}),E.hasSingleItem()&&C.click(),R.addEventListener("click",function(U){if(!c.html5Qrcode)throw"html5Qrcode not defined";R.disabled=!0,c.html5Qrcode.stop().then(function(ye){s.scanTypeSelector.hasMoreThanOneScanType()&&c.showHideScanTypeSwapLink(!0),E.enable(),C.disabled=!1,R.style.display="none",C.style.display="inline-block",O&&(O.reset(),O.hide()),g.removeOnCameraZoomValueChangeCallback(),g.hide(),c.insertCameraScanImageToScanRegion()}).catch(function(ye){R.disabled=!1,c.setHeaderMessage(ye,Gn.STATUS_WARNING)})}),c.persistedDataManager.getLastUsedCameraId()){var ee=c.persistedDataManager.getLastUsedCameraId();E.hasValue(ee)?(E.setValue(ee),C.click()):c.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var n=this,s=ht.textIfCameraScanSelected(),c=ht.textIfFileScanSelected(),f=document.getElementById(this.getDashboardSectionId()),g=document.createElement("div");g.style.textAlign="center";var y=sr.createElement("span",this.getDashboardSectionSwapLinkId());y.style.textDecoration="underline",y.style.cursor="pointer",y.innerText=Ir.isCameraScanType(this.currentScanType)?s:c,y.addEventListener("click",function(){if(!n.sectionSwapAllowed){n.verbose&&n.logger.logError("Section swap called when not allowed");return}n.resetHeaderMessage(),n.fileSelectionUi.resetValue(),n.sectionSwapAllowed=!1,Ir.isCameraScanType(n.currentScanType)?(n.clearScanRegion(),n.getCameraScanRegion().style.display="none",n.fileSelectionUi.show(),y.innerText=c,n.currentScanType=Zr.SCAN_TYPE_FILE,n.insertFileScanImageToScanRegion()):(n.clearScanRegion(),n.getCameraScanRegion().style.display="block",n.fileSelectionUi.hide(),y.innerText=s,n.currentScanType=Zr.SCAN_TYPE_CAMERA,n.insertCameraScanImageToScanRegion(),n.startCameraScanIfPermissionExistsOnSwap()),n.sectionSwapAllowed=!0}),g.appendChild(y),f.appendChild(g)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var n=this,s=this;if(this.persistedDataManager.hasCameraPermissions()){Ad.hasPermissions().then(function(c){if(c){var f=document.getElementById(s.getCameraPermissionButtonId());if(!f)throw n.logger.logError("Permission button not found, fail;"),"Permission button not found";f.click()}else s.persistedDataManager.setHasPermission(!1)}).catch(function(c){s.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var n=document.getElementById(this.getHeaderMessageContainerId());n.style.display="none"},e.prototype.setHeaderMessage=function(n,s){s||(s=Gn.STATUS_DEFAULT);var c=this.getHeaderMessageDiv();switch(c.innerText=n,c.style.display="block",s){case Gn.STATUS_SUCCESS:c.style.background="rgba(106, 175, 80, 0.26)",c.style.color="#477735";break;case Gn.STATUS_WARNING:c.style.background="rgba(203, 36, 49, 0.14)",c.style.color="#cb2431";break;case Gn.STATUS_DEFAULT:default:c.style.background="rgba(0, 0, 0, 0)",c.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(n){this.scanTypeSelector.hasMoreThanOneScanType()&&(n!==!0&&(n=!1),this.sectionSwapAllowed=n,this.getDashboardSectionSwapLink().style.display=n?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var n=this,s=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){s.innerHTML="<br>",s.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(c){s.innerHTML="<br>",s.appendChild(n.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Jx,this.cameraScanImage.alt=ht.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var n=this,s=document.getElementById(this.getScanRegionId());if(this.fileScanImage){s.innerHTML="<br>",s.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(c){s.innerHTML="<br>",s.appendChild(n.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=$x,this.fileScanImage.alt=ht.fileScanAltText()},e.prototype.clearScanRegion=function(){var n=document.getElementById(this.getScanRegionId());n.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Xn.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Xn.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();function g2(){const[e,n]=_e.useState("barcode"),[s,c]=_e.useState(""),[f,g]=_e.useState(null),[y,E]=_e.useState(!1),[A,C]=_e.useState(""),[R,O]=_e.useState(null),[H,X]=_e.useState(null),ee=_e.useRef(null),U=_e.useRef(null);_e.useEffect(()=>{ye()},[]),_e.useEffect(()=>{e==="barcode"&&ee.current&&ee.current.focus()},[e,H]),_e.useEffect(()=>{if(e==="camera"&&!U.current){const V=new d2("qr-reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1});V.render(ie=>{j(ie),V.pause(!0),setTimeout(()=>V.resume(),2e3)},ie=>{console.warn("Erro scanner:",ie)}),U.current=V}return()=>{U.current&&(U.current.clear(),U.current=null)}},[e]);const ye=async()=>{try{const V=await fetch("/api/separation/start",{method:"POST"}),ie=await V.json();if(!V.ok)throw new Error(ie.detail);O(ie.session),g(ie)}catch(V){C(V.message)}},j=async V=>{if(V.trim()){E(!0),C("");try{const ie=await fetch("/api/separation/scan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({barcode:V.trim()})}),$=await ie.json();if(!ie.ok)throw new Error($.detail);X($),$.progress&&O(be=>({...be,scanned_packages:$.progress.scanned,progress:$.progress.percentage})),c(""),K("success")}catch(ie){C(ie.message),K("error")}finally{E(!1)}}},k=V=>{V.preventDefault(),j(s)},P=async()=>{try{const V=await fetch("/api/separation/complete",{method:"POST"}),ie=await V.json();if(!V.ok)throw new Error(ie.detail);alert("Separao concluda! Agora voc pode enviar as rotas aos entregadores."),window.location.href="/route-analysis"}catch(V){alert(V.message)}},K=V=>{const ie=new(window.AudioContext||window.webkitAudioContext),$=ie.createOscillator(),be=ie.createGain();$.connect(be),be.connect(ie.destination),V==="success"?($.frequency.value=800,be.gain.value=.3):($.frequency.value=300,be.gain.value=.5),$.start(),$.stop(ie.currentTime+.1)},de=(R==null?void 0:R.progress)||0,ne=(R==null?void 0:R.scanned_packages)>=(R==null?void 0:R.total_packages);return I.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-indigo-900 to-blue-900 p-8",children:I.jsxs("div",{className:"max-w-4xl mx-auto",children:[I.jsxs("div",{className:"text-center mb-8",children:[I.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:" Modo Separao"}),I.jsx("p",{className:"text-indigo-200",children:"Bipe cada pacote para identificar rota e entregador"})]}),I.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-6 mb-6",children:[I.jsx("label",{className:"text-white font-semibold block mb-3",children:"Mtodo de Bipagem:"}),I.jsxs("div",{className:"flex gap-4",children:[I.jsx("button",{onClick:()=>n("barcode"),className:`flex-1 py-3 px-6 rounded-lg font-semibold transition ${e==="barcode"?"bg-green-500 text-white":"bg-white/20 text-white hover:bg-white/30"}`,children:" Bipadora"}),I.jsx("button",{onClick:()=>n("camera"),className:`flex-1 py-3 px-6 rounded-lg font-semibold transition ${e==="camera"?"bg-green-500 text-white":"bg-white/20 text-white hover:bg-white/30"}`,children:" Cmera"})]})]}),R&&I.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-6 mb-6",children:[I.jsxs("div",{className:"flex justify-between mb-2",children:[I.jsx("span",{className:"text-white font-semibold",children:"Progresso"}),I.jsxs("span",{className:"text-white",children:[R.scanned_packages," / ",R.total_packages," pacotes"]})]}),I.jsx("div",{className:"w-full bg-white/20 rounded-full h-4 overflow-hidden",children:I.jsx("div",{className:"bg-gradient-to-r from-green-400 to-emerald-500 h-full transition-all duration-500",style:{width:`${de}%`}})}),I.jsxs("p",{className:"text-indigo-200 text-sm mt-2",children:[de.toFixed(1),"% completo"]})]}),I.jsx("div",{className:"bg-white/10 backdrop-blur rounded-xl p-6 mb-6",children:e==="barcode"?I.jsxs("form",{onSubmit:k,children:[I.jsx("label",{className:"text-white font-semibold block mb-3",children:"Escaneie o cdigo de barras:"}),I.jsx("input",{ref:ee,type:"text",value:s,onChange:V=>c(V.target.value),placeholder:"Posicione o cursor aqui e bipe...",className:"w-full px-4 py-3 rounded-lg bg-white/90 text-gray-900 font-mono text-lg focus:outline-none focus:ring-4 focus:ring-green-400",disabled:y||ne,autoFocus:!0}),I.jsx("button",{type:"submit",className:"w-full mt-4 py-3 bg-green-500 hover:bg-green-600 text-white font-bold rounded-lg transition",disabled:y||!s.trim()||ne,children:y?"Processando...":"Confirmar Bipagem"})]}):I.jsxs("div",{children:[I.jsx("label",{className:"text-white font-semibold block mb-3",children:"Aponte a cmera para o cdigo:"}),I.jsx("div",{id:"qr-reader",className:"rounded-lg overflow-hidden"})]})}),H&&I.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-6 mb-6 border-4 animate-pulse",style:{borderColor:H.route_color||"#fff"},children:[I.jsx("h3",{className:"text-white font-bold text-xl mb-4",children:" Pacote Identificado!"}),I.jsxs("div",{className:"grid grid-cols-2 gap-4 text-white",children:[I.jsxs("div",{children:[I.jsx("span",{className:"text-indigo-200 text-sm",children:"Entregador:"}),I.jsx("p",{className:"font-bold text-lg",children:H.deliverer_name})]}),I.jsxs("div",{children:[I.jsx("span",{className:"text-indigo-200 text-sm",children:"Cor da Rota:"}),I.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[I.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white",style:{backgroundColor:H.route_color}}),I.jsx("span",{className:"font-bold",children:H.route_color})]})]}),I.jsxs("div",{children:[I.jsx("span",{className:"text-indigo-200 text-sm",children:"Sequncia:"}),I.jsxs("p",{className:"font-bold text-lg",children:["#",H.sequence," de ",H.total_in_route]})]}),I.jsxs("div",{children:[I.jsx("span",{className:"text-indigo-200 text-sm",children:"Endereo:"}),I.jsx("p",{className:"text-sm",children:H.address})]})]})]}),A&&I.jsx("div",{className:"bg-red-500/20 border-2 border-red-500 rounded-xl p-4 mb-6",children:I.jsxs("p",{className:"text-white font-semibold",children:[" ",A]})}),ne&&I.jsx("button",{onClick:P,className:"w-full py-4 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-bold text-xl rounded-xl shadow-2xl transition transform hover:scale-105",children:" Finalizar Separao e Enviar Rotas"})]})})}function p2(){const[e,n]=_e.useState("dashboard"),[s,c]=_e.useState(null),[f,g]=_e.useState({role:"loading"}),[y,E]=_e.useState(null),[A,C]=_e.useState(null),[R,O]=_e.useState(null),[H,X]=_e.useState(!1);_e.useEffect(()=>{var de;let P=null;const K=new URLSearchParams(window.location.search);if(K.get("tab")&&n(K.get("tab")),window.Telegram&&window.Telegram.WebApp){const ne=window.Telegram.WebApp;ne.ready(),ne.expand(),(de=ne.initDataUnsafe)!=null&&de.user&&(c(ne.initDataUnsafe.user),P=ne.initDataUnsafe.user.id),ne.colorScheme==="dark"&&document.documentElement.classList.add("dark")}if(!P){const ne=new URLSearchParams(window.location.search);ne.get("user_id")&&(P=parseInt(ne.get("user_id")),c({id:P,first_name:"Dev User"}))}P?ee(P):g({role:"guest"})},[]);const ee=async P=>{X(!0);try{const de=await(await fetch(`/api/auth/me?user_id=${P}`)).json();g(de);const ne=[];ne.push(fetch(`/api/financial/balance?user_id=${P}`).then(V=>V.json()).then(V=>O(V)).catch(V=>console.error("Erro Finanas",V))),de.role==="admin"?ne.push(fetch("/api/admin/stats").then(V=>V.json()).then(V=>C(V))):de.role==="deliverer"&&ne.push(fetch(`/api/deliverer/route?user_id=${P}`).then(V=>V.json()).then(V=>E(V))),await Promise.all(ne)}catch(K){console.error("Erro fetching data",K)}finally{X(!1)}},U=()=>{s!=null&&s.id&&ee(s.id)},ye=()=>I.jsxs("div",{className:"space-y-4 animate-fade-in",children:[I.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl p-6 text-white shadow-lg",children:[I.jsx("h2",{className:"text-lg font-semibold opacity-90",children:"Painel do Chefe "}),I.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[I.jsxs("div",{children:[I.jsx("p",{className:"text-sm opacity-70",children:"Pacotes Hoje"}),I.jsx("p",{className:"text-2xl font-bold",children:(A==null?void 0:A.packages_total)||0})]}),I.jsxs("div",{children:[I.jsx("p",{className:"text-sm opacity-70",children:"Entregues"}),I.jsx("p",{className:"text-2xl font-bold",children:(A==null?void 0:A.delivered)||0})]})]})]}),I.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[I.jsxs("button",{onClick:()=>n("financial"),className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col items-center justify-center gap-2 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[I.jsx(cl,{className:"text-green-500"}),I.jsx("span",{className:"text-sm font-semibold",children:"Financeiro"})]}),I.jsxs("button",{onClick:()=>n("team"),className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col items-center justify-center gap-2 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[I.jsx(Pl,{className:"text-blue-500"}),I.jsx("span",{className:"text-sm font-semibold",children:"Equipe"})]})]}),I.jsxs("button",{onClick:()=>n("analysis"),className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-4 rounded-xl shadow-lg shadow-purple-500/30 flex items-center justify-between group transition-all active:scale-95",children:[I.jsxs("div",{className:"flex items-center gap-4",children:[I.jsx("div",{className:"bg-white/20 p-2 rounded-lg backdrop-blur-sm",children:I.jsx(U1,{className:"text-white w-6 h-6"})}),I.jsxs("div",{className:"text-left",children:[I.jsx("span",{className:"block font-bold text-lg",children:"Analisar Rota IA"}),I.jsx("span",{className:"block text-xs text-purple-100 opacity-90",children:"Upload & Otimizao Auto"})]})]}),I.jsx("div",{className:"opacity-70 group-hover:opacity-100 transform group-hover:translate-x-1 transition-all",children:""})]}),I.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-100 dark:border-gray-700",children:[I.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[I.jsx(Vu,{className:`w-4 h-4 ${H?"animate-spin":""}`})," Status da Sesso"]}),A!=null&&A.active_session?I.jsxs("div",{className:"text-green-600 font-medium bg-green-50 dark:bg-green-900/20 p-2 rounded-lg",children:[" Sesso Ativa: ",A.session_name]}):I.jsx("div",{className:"text-gray-500 bg-gray-50 dark:bg-gray-700/20 p-2 rounded-lg",children:" Nenhuma sesso aberta"})]})]}),j=()=>{var P;return I.jsxs("div",{className:"space-y-4 animate-fade-in",children:[I.jsx("div",{className:"bg-gradient-to-br from-emerald-500 to-emerald-700 rounded-xl p-6 text-white shadow-lg relative overflow-hidden",children:I.jsxs("div",{className:"relative z-10 flex justify-between items-start",children:[I.jsxs("div",{children:[I.jsxs("h2",{className:"text-lg font-semibold opacity-90",children:["Ol, ",(P=f.name)==null?void 0:P.split(" ")[0]," "]}),I.jsx("p",{className:"text-sm opacity-80 mt-1 flex items-center gap-1",children:f.is_partner?I.jsx("span",{className:"bg-yellow-400/20 text-yellow-100 px-2 py-0.5 rounded text-xs font-bold border border-yellow-400/30",children:"SCIO"}):"Colaborador"})]}),I.jsx("div",{className:"bg-white/20 p-2 rounded-lg backdrop-blur-sm",children:I.jsx(Xm,{className:"w-6 h-6"})})]})}),I.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[I.jsxs("button",{onClick:()=>n("financial"),className:"flex items-center gap-3 bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md transition-shadow",children:[I.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 p-2 rounded-full text-green-600 dark:text-green-400",children:I.jsx(cl,{size:20})}),I.jsxs("div",{className:"text-left",children:[I.jsx("span",{className:"block text-xs text-gray-500",children:"Saldo Semana"}),I.jsxs("span",{className:"block font-bold text-gray-900 dark:text-gray-100",children:["R$ ",R!=null&&R.balance?R.balance.toFixed(0):"..."]})]})]}),I.jsxs("button",{onClick:()=>n("routes"),className:`flex items-center gap-3 bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md transition-shadow ${!(y!=null&&y.has_route)&&"opacity-60"}`,children:[I.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-full text-blue-600 dark:text-blue-400",children:I.jsx($o,{size:20})}),I.jsxs("div",{className:"text-left",children:[I.jsx("span",{className:"block text-xs text-gray-500",children:"Rota Atual"}),I.jsx("span",{className:"block font-bold text-gray-900 dark:text-gray-100",children:y!=null&&y.has_route?"Ativa":"Sem rota"})]})]})]}),(y==null?void 0:y.has_route)&&I.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:[I.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 px-4 py-3 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[I.jsx("h3",{className:"font-bold text-sm text-gray-700 dark:text-gray-200",children:"Resumo da Rota"}),I.jsxs("span",{className:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs px-2 py-1 rounded-full",children:[y.summary.total_packages," volumes"]})]}),I.jsxs("div",{className:"grid grid-cols-3 gap-2 p-4 text-center text-sm",children:[I.jsxs("div",{children:[I.jsx("span",{className:"block text-gray-400 text-xs mb-1",children:"Paradas"}),I.jsx("span",{className:"font-semibold text-lg",children:y.summary.total_stops})]}),I.jsxs("div",{children:[I.jsx("span",{className:"block text-gray-400 text-xs mb-1",children:"Km"}),I.jsx("span",{className:"font-semibold text-lg",children:y.summary.distance_km})]}),I.jsxs("div",{children:[I.jsx("span",{className:"block text-gray-400 text-xs mb-1",children:"Min"}),I.jsx("span",{className:"font-semibold text-lg",children:y.summary.estimated_time_min})]})]}),I.jsx("div",{className:"p-4 pt-0",children:I.jsxs("button",{onClick:()=>n("routes"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 rounded-lg flex items-center justify-center gap-2 transition-transform active:scale-95",children:[I.jsx(Ym,{className:"w-5 h-5"})," Abrir Navegao"]})})]})]})},k=()=>f.role==="loading"?I.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[I.jsx(Vu,{className:"animate-spin mb-2",size:32}),I.jsx("p",{children:"Carregando Mini App..."})]}):e==="dashboard"?f.role==="admin"?ye():f.role==="deliverer"?j():I.jsx("div",{className:"p-4 text-center text-gray-500",children:"Visitante no autorizado."}):e==="analysis"?I.jsx("div",{className:"h-full overflow-y-auto p-4",children:I.jsx(Mx,{})}):e==="separation"?I.jsx("div",{className:"h-full overflow-y-auto",children:I.jsx(g2,{})}):e==="routes"?f.role==="deliverer"&&(y!=null&&y.has_route)?I.jsxs("div",{className:"h-[calc(100vh-140px)] w-full rounded-xl overflow-hidden shadow-lg border border-gray-200 dark:border-gray-700 relative",children:[I.jsx(Ax,{stops:y.stops}),I.jsxs("div",{className:"absolute top-2 left-2 right-2 bg-white/90 backdrop-blur-sm p-2 rounded-lg shadow-sm z-[1000] text-xs flex justify-between",children:[I.jsx("span",{children:" Modo Navegao"}),I.jsxs("span",{className:"font-bold",children:[y.stops.length," pontos"]})]})]}):I.jsxs("div",{className:"p-10 text-center text-gray-500 flex flex-col items-center gap-2",children:[I.jsx($o,{size:48,className:"opacity-20"}),I.jsx("p",{children:"Nenhuma rota para exibir no mapa."})]}):e==="financial"?I.jsx(Sx,{data:R}):e==="team"?I.jsx(bx,{}):I.jsx("div",{className:"p-10 text-center text-gray-500",children:"Funcionalidade em desenvolvimento "});return I.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 flex flex-col font-sans",children:[I.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm px-4 py-3 flex justify-between items-center sticky top-0 z-20",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("div",{className:"w-8 h-8 bg-gradient-to-tr from-blue-600 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-sm",children:"BE"}),I.jsx("h1",{className:"text-lg font-bold text-gray-800 dark:text-white",children:"Bot Entregador"})]}),I.jsx("button",{onClick:U,className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-all",children:I.jsx(Vu,{size:18,className:H?"animate-spin text-blue-600":""})})]}),I.jsx("main",{className:"flex-1 p-4 overflow-auto pb-24 max-w-lg mx-auto w-full",children:k()}),I.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 pb-safe z-30 shadow-[0_-5px_10px_rgba(0,0,0,0.02)]",children:I.jsxs("div",{className:"flex justify-around items-center h-16 max-w-lg mx-auto",children:[I.jsx(qa,{icon:I.jsx(Zm,{size:22}),label:"Incio",isActive:e==="dashboard",onClick:()=>n("dashboard")}),I.jsx(qa,{icon:I.jsx($o,{size:22}),label:"Mapa",isActive:e==="routes",onClick:()=>n("routes")}),I.jsx(qa,{icon:I.jsx(cl,{size:22}),label:"Ganhos",isActive:e==="financial",onClick:()=>n("financial")}),I.jsx(qa,{icon:I.jsx(Pl,{size:22}),label:"Perfil",isActive:e==="profile",onClick:()=>n("dashboard")})]})})]})}function qa({icon:e,label:n,isActive:s,onClick:c}){return I.jsxs("button",{onClick:c,className:`flex flex-col items-center justify-center w-full h-full transition-all duration-300 relative ${s?"text-blue-600 dark:text-blue-400 translate-y-[-2px]":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}`,children:[s&&I.jsx("span",{className:"absolute -top-3 w-10 h-1 bg-blue-600 dark:bg-blue-400 rounded-full shadow-lg shadow-blue-500/30"}),I.jsx("div",{className:`transition-transform duration-200 ${s?"scale-110":""}`,children:e}),I.jsx("span",{className:`text-[10px] font-medium mt-1 ${s?"font-bold":""}`,children:n})]})}Zu.createRoot(document.getElementById("root")).render(I.jsx(hl.StrictMode,{children:I.jsx(p2,{})}));
