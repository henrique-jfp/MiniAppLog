(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const g of d)if(g.type==="childList")for(const _ of g.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&c(_)}).observe(document,{childList:!0,subtree:!0});function s(d){const g={};return d.integrity&&(g.integrity=d.integrity),d.referrerPolicy&&(g.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?g.credentials="include":d.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function c(d){if(d.ep)return;d.ep=!0;const g=s(d);fetch(d.href,g)}})();var Os=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ff={exports:{}},jl={},jf={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _a=Symbol.for("react.element"),Sg=Symbol.for("react.portal"),Tg=Symbol.for("react.fragment"),Ig=Symbol.for("react.strict_mode"),Ng=Symbol.for("react.profiler"),bg=Symbol.for("react.provider"),Mg=Symbol.for("react.context"),Og=Symbol.for("react.forward_ref"),Lg=Symbol.for("react.suspense"),kg=Symbol.for("react.memo"),Rg=Symbol.for("react.lazy"),od=Symbol.iterator;function Dg(e){return e===null||typeof e!="object"?null:(e=od&&e[od]||e["@@iterator"],typeof e=="function"?e:null)}var zf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Uf=Object.assign,Hf={};function so(e,n,s){this.props=e,this.context=n,this.refs=Hf,this.updater=s||zf}so.prototype.isReactComponent={};so.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};so.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vf(){}Vf.prototype=so.prototype;function Wc(e,n,s){this.props=e,this.context=n,this.refs=Hf,this.updater=s||zf}var Gc=Wc.prototype=new Vf;Gc.constructor=Wc;Uf(Gc,so.prototype);Gc.isPureReactComponent=!0;var ad=Array.isArray,Zf=Object.prototype.hasOwnProperty,Yc={current:null},Wf={key:!0,ref:!0,__self:!0,__source:!0};function Gf(e,n,s){var c,d={},g=null,_=null;if(n!=null)for(c in n.ref!==void 0&&(_=n.ref),n.key!==void 0&&(g=""+n.key),n)Zf.call(n,c)&&!Wf.hasOwnProperty(c)&&(d[c]=n[c]);var A=arguments.length-2;if(A===1)d.children=s;else if(1<A){for(var S=Array(A),v=0;v<A;v++)S[v]=arguments[v+2];d.children=S}if(e&&e.defaultProps)for(c in A=e.defaultProps,A)d[c]===void 0&&(d[c]=A[c]);return{$$typeof:_a,type:e,key:g,ref:_,props:d,_owner:Yc.current}}function Pg(e,n){return{$$typeof:_a,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function Xc(e){return typeof e=="object"&&e!==null&&e.$$typeof===_a}function Bg(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return n[s]})}var ld=/\/+/g;function xu(e,n){return typeof e=="object"&&e!==null&&e.key!=null?Bg(""+e.key):n.toString(36)}function el(e,n,s,c,d){var g=typeof e;(g==="undefined"||g==="boolean")&&(e=null);var _=!1;if(e===null)_=!0;else switch(g){case"string":case"number":_=!0;break;case"object":switch(e.$$typeof){case _a:case Sg:_=!0}}if(_)return _=e,d=d(_),e=c===""?"."+xu(_,0):c,ad(d)?(s="",e!=null&&(s=e.replace(ld,"$&/")+"/"),el(d,n,s,"",function(v){return v})):d!=null&&(Xc(d)&&(d=Pg(d,s+(!d.key||_&&_.key===d.key?"":(""+d.key).replace(ld,"$&/")+"/")+e)),n.push(d)),1;if(_=0,c=c===""?".":c+":",ad(e))for(var A=0;A<e.length;A++){g=e[A];var S=c+xu(g,A);_+=el(g,n,s,S,d)}else if(S=Dg(e),typeof S=="function")for(e=S.call(e),A=0;!(g=e.next()).done;)g=g.value,S=c+xu(g,A++),_+=el(g,n,s,S,d);else if(g==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return _}function Pa(e,n,s){if(e==null)return e;var c=[],d=0;return el(e,c,"","",function(g){return n.call(s,g,d++)}),c}function Fg(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var kn={current:null},tl={transition:null},jg={ReactCurrentDispatcher:kn,ReactCurrentBatchConfig:tl,ReactCurrentOwner:Yc};function Yf(){throw Error("act(...) is not supported in production builds of React.")}Ke.Children={map:Pa,forEach:function(e,n,s){Pa(e,function(){n.apply(this,arguments)},s)},count:function(e){var n=0;return Pa(e,function(){n++}),n},toArray:function(e){return Pa(e,function(n){return n})||[]},only:function(e){if(!Xc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ke.Component=so;Ke.Fragment=Tg;Ke.Profiler=Ng;Ke.PureComponent=Wc;Ke.StrictMode=Ig;Ke.Suspense=Lg;Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jg;Ke.act=Yf;Ke.cloneElement=function(e,n,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var c=Uf({},e.props),d=e.key,g=e.ref,_=e._owner;if(n!=null){if(n.ref!==void 0&&(g=n.ref,_=Yc.current),n.key!==void 0&&(d=""+n.key),e.type&&e.type.defaultProps)var A=e.type.defaultProps;for(S in n)Zf.call(n,S)&&!Wf.hasOwnProperty(S)&&(c[S]=n[S]===void 0&&A!==void 0?A[S]:n[S])}var S=arguments.length-2;if(S===1)c.children=s;else if(1<S){A=Array(S);for(var v=0;v<S;v++)A[v]=arguments[v+2];c.children=A}return{$$typeof:_a,type:e.type,key:d,ref:g,props:c,_owner:_}};Ke.createContext=function(e){return e={$$typeof:Mg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bg,_context:e},e.Consumer=e};Ke.createElement=Gf;Ke.createFactory=function(e){var n=Gf.bind(null,e);return n.type=e,n};Ke.createRef=function(){return{current:null}};Ke.forwardRef=function(e){return{$$typeof:Og,render:e}};Ke.isValidElement=Xc;Ke.lazy=function(e){return{$$typeof:Rg,_payload:{_status:-1,_result:e},_init:Fg}};Ke.memo=function(e,n){return{$$typeof:kg,type:e,compare:n===void 0?null:n}};Ke.startTransition=function(e){var n=tl.transition;tl.transition={};try{e()}finally{tl.transition=n}};Ke.unstable_act=Yf;Ke.useCallback=function(e,n){return kn.current.useCallback(e,n)};Ke.useContext=function(e){return kn.current.useContext(e)};Ke.useDebugValue=function(){};Ke.useDeferredValue=function(e){return kn.current.useDeferredValue(e)};Ke.useEffect=function(e,n){return kn.current.useEffect(e,n)};Ke.useId=function(){return kn.current.useId()};Ke.useImperativeHandle=function(e,n,s){return kn.current.useImperativeHandle(e,n,s)};Ke.useInsertionEffect=function(e,n){return kn.current.useInsertionEffect(e,n)};Ke.useLayoutEffect=function(e,n){return kn.current.useLayoutEffect(e,n)};Ke.useMemo=function(e,n){return kn.current.useMemo(e,n)};Ke.useReducer=function(e,n,s){return kn.current.useReducer(e,n,s)};Ke.useRef=function(e){return kn.current.useRef(e)};Ke.useState=function(e){return kn.current.useState(e)};Ke.useSyncExternalStore=function(e,n,s){return kn.current.useSyncExternalStore(e,n,s)};Ke.useTransition=function(){return kn.current.useTransition()};Ke.version="18.3.1";jf.exports=Ke;var ge=jf.exports;const dl=Bf(ge);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg=ge,Ug=Symbol.for("react.element"),Hg=Symbol.for("react.fragment"),Vg=Object.prototype.hasOwnProperty,Zg=zg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wg={key:!0,ref:!0,__self:!0,__source:!0};function Xf(e,n,s){var c,d={},g=null,_=null;s!==void 0&&(g=""+s),n.key!==void 0&&(g=""+n.key),n.ref!==void 0&&(_=n.ref);for(c in n)Vg.call(n,c)&&!Wg.hasOwnProperty(c)&&(d[c]=n[c]);if(e&&e.defaultProps)for(c in n=e.defaultProps,n)d[c]===void 0&&(d[c]=n[c]);return{$$typeof:Ug,type:e,key:g,ref:_,props:d,_owner:Zg.current}}jl.Fragment=Hg;jl.jsx=Xf;jl.jsxs=Xf;Ff.exports=jl;var E=Ff.exports,Yu={},Qf={exports:{}},ei={},Kf={exports:{}},qf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(te,Me){var le=te.length;te.push(Me);e:for(;0<le;){var Re=le-1>>>1,ke=te[Re];if(0<d(ke,Me))te[Re]=Me,te[le]=ke,le=Re;else break e}}function s(te){return te.length===0?null:te[0]}function c(te){if(te.length===0)return null;var Me=te[0],le=te.pop();if(le!==Me){te[0]=le;e:for(var Re=0,ke=te.length,ht=ke>>>1;Re<ht;){var Be=2*(Re+1)-1,Ve=te[Be],ae=Be+1,pe=te[ae];if(0>d(Ve,le))ae<ke&&0>d(pe,Ve)?(te[Re]=pe,te[ae]=le,Re=ae):(te[Re]=Ve,te[Be]=le,Re=Be);else if(ae<ke&&0>d(pe,le))te[Re]=pe,te[ae]=le,Re=ae;else break e}}return Me}function d(te,Me){var le=te.sortIndex-Me.sortIndex;return le!==0?le:te.id-Me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;e.unstable_now=function(){return g.now()}}else{var _=Date,A=_.now();e.unstable_now=function(){return _.now()-A}}var S=[],v=[],k=1,O=null,H=3,Y=!1,ee=!1,U=!1,me=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(te){for(var Me=s(v);Me!==null;){if(Me.callback===null)c(v);else if(Me.startTime<=te)c(v),Me.sortIndex=Me.expirationTime,n(S,Me);else break;Me=s(v)}}function q(te){if(U=!1,P(te),!ee)if(s(S)!==null)ee=!0,Ye(de);else{var Me=s(v);Me!==null&&Le(q,Me.startTime-te)}}function de(te,Me){ee=!1,U&&(U=!1,j(ne),ne=-1),Y=!0;var le=H;try{for(P(Me),O=s(S);O!==null&&(!(O.expirationTime>Me)||te&&!ze());){var Re=O.callback;if(typeof Re=="function"){O.callback=null,H=O.priorityLevel;var ke=Re(O.expirationTime<=Me);Me=e.unstable_now(),typeof ke=="function"?O.callback=ke:O===s(S)&&c(S),P(Me)}else c(S);O=s(S)}if(O!==null)var ht=!0;else{var Be=s(v);Be!==null&&Le(q,Be.startTime-Me),ht=!1}return ht}finally{O=null,H=le,Y=!1}}var ie=!1,V=null,ne=-1,$=5,be=-1;function ze(){return!(e.unstable_now()-be<$)}function Ce(){if(V!==null){var te=e.unstable_now();be=te;var Me=!0;try{Me=V(!0,te)}finally{Me?Ze():(ie=!1,V=null)}}else ie=!1}var Ze;if(typeof D=="function")Ze=function(){D(Ce)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,J=tt.port2;tt.port1.onmessage=Ce,Ze=function(){J.postMessage(null)}}else Ze=function(){me(Ce,0)};function Ye(te){V=te,ie||(ie=!0,Ze())}function Le(te,Me){ne=me(function(){te(e.unstable_now())},Me)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){ee||Y||(ee=!0,Ye(de))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return H},e.unstable_getFirstCallbackNode=function(){return s(S)},e.unstable_next=function(te){switch(H){case 1:case 2:case 3:var Me=3;break;default:Me=H}var le=H;H=Me;try{return te()}finally{H=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,Me){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var le=H;H=te;try{return Me()}finally{H=le}},e.unstable_scheduleCallback=function(te,Me,le){var Re=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Re+le:Re):le=Re,te){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=le+ke,te={id:k++,callback:Me,priorityLevel:te,startTime:le,expirationTime:ke,sortIndex:-1},le>Re?(te.sortIndex=le,n(v,te),s(S)===null&&te===s(v)&&(U?(j(ne),ne=-1):U=!0,Le(q,le-Re))):(te.sortIndex=ke,n(S,te),ee||Y||(ee=!0,Ye(de))),te},e.unstable_shouldYield=ze,e.unstable_wrapCallback=function(te){var Me=H;return function(){var le=H;H=Me;try{return te.apply(this,arguments)}finally{H=le}}}})(qf);Kf.exports=qf;var Gg=Kf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg=ge,$n=Gg;function he(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jf=new Set,na={};function ws(e,n){Js(e,n),Js(e+"Capture",n)}function Js(e,n){for(na[e]=n,e=0;e<n.length;e++)Jf.add(n[e])}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xu=Object.prototype.hasOwnProperty,Xg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ud={},cd={};function Qg(e){return Xu.call(cd,e)?!0:Xu.call(ud,e)?!1:Xg.test(e)?cd[e]=!0:(ud[e]=!0,!1)}function Kg(e,n,s,c){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return c?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qg(e,n,s,c){if(n===null||typeof n>"u"||Kg(e,n,s,c))return!0;if(c)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Rn(e,n,s,c,d,g,_){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=g,this.removeEmptyString=_}var pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pn[e]=new Rn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];pn[n]=new Rn(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pn[e]=new Rn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pn[e]=new Rn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pn[e]=new Rn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pn[e]=new Rn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pn[e]=new Rn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pn[e]=new Rn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pn[e]=new Rn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qc=/[\-:]([a-z])/g;function Kc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Qc,Kc);pn[n]=new Rn(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Qc,Kc);pn[n]=new Rn(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Qc,Kc);pn[n]=new Rn(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pn[e]=new Rn(e,1,!1,e.toLowerCase(),null,!1,!1)});pn.xlinkHref=new Rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pn[e]=new Rn(e,1,!1,e.toLowerCase(),null,!0,!0)});function qc(e,n,s,c){var d=pn.hasOwnProperty(n)?pn[n]:null;(d!==null?d.type!==0:c||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(qg(n,s,d,c)&&(s=null),c||d===null?Qg(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):d.mustUseProperty?e[d.propertyName]=s===null?d.type===3?!1:"":s:(n=d.attributeName,c=d.attributeNamespace,s===null?e.removeAttribute(n):(d=d.type,s=d===3||d===4&&s===!0?"":""+s,c?e.setAttributeNS(c,n,s):e.setAttribute(n,s))))}var dr=Yg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ba=Symbol.for("react.element"),Ls=Symbol.for("react.portal"),ks=Symbol.for("react.fragment"),Jc=Symbol.for("react.strict_mode"),Qu=Symbol.for("react.profiler"),$f=Symbol.for("react.provider"),e0=Symbol.for("react.context"),$c=Symbol.for("react.forward_ref"),Ku=Symbol.for("react.suspense"),qu=Symbol.for("react.suspense_list"),eh=Symbol.for("react.memo"),Nr=Symbol.for("react.lazy"),t0=Symbol.for("react.offscreen"),hd=Symbol.iterator;function ko(e){return e===null||typeof e!="object"?null:(e=hd&&e[hd]||e["@@iterator"],typeof e=="function"?e:null)}var Bt=Object.assign,yu;function Uo(e){if(yu===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);yu=n&&n[1]||""}return`
`+yu+e}var _u=!1;function wu(e,n){if(!e||_u)return"";_u=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(v){var c=v}Reflect.construct(e,[],n)}else{try{n.call()}catch(v){c=v}e.call(n.prototype)}else{try{throw Error()}catch(v){c=v}e()}}catch(v){if(v&&c&&typeof v.stack=="string"){for(var d=v.stack.split(`
`),g=c.stack.split(`
`),_=d.length-1,A=g.length-1;1<=_&&0<=A&&d[_]!==g[A];)A--;for(;1<=_&&0<=A;_--,A--)if(d[_]!==g[A]){if(_!==1||A!==1)do if(_--,A--,0>A||d[_]!==g[A]){var S=`
`+d[_].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=_&&0<=A);break}}}finally{_u=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Uo(e):""}function Jg(e){switch(e.tag){case 5:return Uo(e.type);case 16:return Uo("Lazy");case 13:return Uo("Suspense");case 19:return Uo("SuspenseList");case 0:case 2:case 15:return e=wu(e.type,!1),e;case 11:return e=wu(e.type.render,!1),e;case 1:return e=wu(e.type,!0),e;default:return""}}function Ju(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ks:return"Fragment";case Ls:return"Portal";case Qu:return"Profiler";case Jc:return"StrictMode";case Ku:return"Suspense";case qu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case e0:return(e.displayName||"Context")+".Consumer";case $f:return(e._context.displayName||"Context")+".Provider";case $c:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case eh:return n=e.displayName||null,n!==null?n:Ju(e.type)||"Memo";case Nr:n=e._payload,e=e._init;try{return Ju(e(n))}catch{}}return null}function $g(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ju(n);case 8:return n===Jc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Hr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function n0(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ep(e){var n=n0(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),c=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,g=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,g.call(this,_)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Fa(e){e._valueTracker||(e._valueTracker=ep(e))}function i0(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),c="";return e&&(c=n0(e)?e.checked?"true":"false":e.value),e=c,e!==s?(n.setValue(e),!0):!1}function fl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $u(e,n){var s=n.checked;return Bt({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function dd(e,n){var s=n.defaultValue==null?"":n.defaultValue,c=n.checked!=null?n.checked:n.defaultChecked;s=Hr(n.value!=null?n.value:s),e._wrapperState={initialChecked:c,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function r0(e,n){n=n.checked,n!=null&&qc(e,"checked",n,!1)}function ec(e,n){r0(e,n);var s=Hr(n.value),c=n.type;if(s!=null)c==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?tc(e,n.type,s):n.hasOwnProperty("defaultValue")&&tc(e,n.type,Hr(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function fd(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var c=n.type;if(!(c!=="submit"&&c!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function tc(e,n,s){(n!=="number"||fl(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Ho=Array.isArray;function Gs(e,n,s,c){if(e=e.options,n){n={};for(var d=0;d<s.length;d++)n["$"+s[d]]=!0;for(s=0;s<e.length;s++)d=n.hasOwnProperty("$"+e[s].value),e[s].selected!==d&&(e[s].selected=d),d&&c&&(e[s].defaultSelected=!0)}else{for(s=""+Hr(s),n=null,d=0;d<e.length;d++){if(e[d].value===s){e[d].selected=!0,c&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function nc(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(he(91));return Bt({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gd(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(he(92));if(Ho(s)){if(1<s.length)throw Error(he(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:Hr(s)}}function s0(e,n){var s=Hr(n.value),c=Hr(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),c!=null&&(e.defaultValue=""+c)}function pd(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function o0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ic(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?o0(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ja,a0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,c,d){MSApp.execUnsafeLocalFunction(function(){return e(n,s,c,d)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(ja=ja||document.createElement("div"),ja.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ja.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function ia(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tp=["Webkit","ms","Moz","O"];Object.keys(Wo).forEach(function(e){tp.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Wo[n]=Wo[e]})});function l0(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Wo.hasOwnProperty(e)&&Wo[e]?(""+n).trim():n+"px"}function u0(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var c=s.indexOf("--")===0,d=l0(s,n[s],c);s==="float"&&(s="cssFloat"),c?e.setProperty(s,d):e[s]=d}}var np=Bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rc(e,n){if(n){if(np[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(he(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(he(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(he(61))}if(n.style!=null&&typeof n.style!="object")throw Error(he(62))}}function sc(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oc=null;function th(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ac=null,Ys=null,Xs=null;function md(e){if(e=Ca(e)){if(typeof ac!="function")throw Error(he(280));var n=e.stateNode;n&&(n=Zl(n),ac(e.stateNode,e.type,n))}}function c0(e){Ys?Xs?Xs.push(e):Xs=[e]:Ys=e}function h0(){if(Ys){var e=Ys,n=Xs;if(Xs=Ys=null,md(e),n)for(e=0;e<n.length;e++)md(n[e])}}function d0(e,n){return e(n)}function f0(){}var vu=!1;function g0(e,n,s){if(vu)return e(n,s);vu=!0;try{return d0(e,n,s)}finally{vu=!1,(Ys!==null||Xs!==null)&&(f0(),h0())}}function ra(e,n){var s=e.stateNode;if(s===null)return null;var c=Zl(s);if(c===null)return null;s=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(he(231,n,typeof s));return s}var lc=!1;if(lr)try{var Ro={};Object.defineProperty(Ro,"passive",{get:function(){lc=!0}}),window.addEventListener("test",Ro,Ro),window.removeEventListener("test",Ro,Ro)}catch{lc=!1}function ip(e,n,s,c,d,g,_,A,S){var v=Array.prototype.slice.call(arguments,3);try{n.apply(s,v)}catch(k){this.onError(k)}}var Go=!1,gl=null,pl=!1,uc=null,rp={onError:function(e){Go=!0,gl=e}};function sp(e,n,s,c,d,g,_,A,S){Go=!1,gl=null,ip.apply(rp,arguments)}function op(e,n,s,c,d,g,_,A,S){if(sp.apply(this,arguments),Go){if(Go){var v=gl;Go=!1,gl=null}else throw Error(he(198));pl||(pl=!0,uc=v)}}function vs(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function p0(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function xd(e){if(vs(e)!==e)throw Error(he(188))}function ap(e){var n=e.alternate;if(!n){if(n=vs(e),n===null)throw Error(he(188));return n!==e?null:e}for(var s=e,c=n;;){var d=s.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){s=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===s)return xd(d),e;if(g===c)return xd(d),n;g=g.sibling}throw Error(he(188))}if(s.return!==c.return)s=d,c=g;else{for(var _=!1,A=d.child;A;){if(A===s){_=!0,s=d,c=g;break}if(A===c){_=!0,c=d,s=g;break}A=A.sibling}if(!_){for(A=g.child;A;){if(A===s){_=!0,s=g,c=d;break}if(A===c){_=!0,c=g,s=d;break}A=A.sibling}if(!_)throw Error(he(189))}}if(s.alternate!==c)throw Error(he(190))}if(s.tag!==3)throw Error(he(188));return s.stateNode.current===s?e:n}function m0(e){return e=ap(e),e!==null?x0(e):null}function x0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=x0(e);if(n!==null)return n;e=e.sibling}return null}var y0=$n.unstable_scheduleCallback,yd=$n.unstable_cancelCallback,lp=$n.unstable_shouldYield,up=$n.unstable_requestPaint,Vt=$n.unstable_now,cp=$n.unstable_getCurrentPriorityLevel,nh=$n.unstable_ImmediatePriority,_0=$n.unstable_UserBlockingPriority,ml=$n.unstable_NormalPriority,hp=$n.unstable_LowPriority,w0=$n.unstable_IdlePriority,zl=null,Wi=null;function dp(e){if(Wi&&typeof Wi.onCommitFiberRoot=="function")try{Wi.onCommitFiberRoot(zl,e,void 0,(e.current.flags&128)===128)}catch{}}var Mi=Math.clz32?Math.clz32:pp,fp=Math.log,gp=Math.LN2;function pp(e){return e>>>=0,e===0?32:31-(fp(e)/gp|0)|0}var za=64,Ua=4194304;function Vo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xl(e,n){var s=e.pendingLanes;if(s===0)return 0;var c=0,d=e.suspendedLanes,g=e.pingedLanes,_=s&268435455;if(_!==0){var A=_&~d;A!==0?c=Vo(A):(g&=_,g!==0&&(c=Vo(g)))}else _=s&~d,_!==0?c=Vo(_):g!==0&&(c=Vo(g));if(c===0)return 0;if(n!==0&&n!==c&&!(n&d)&&(d=c&-c,g=n&-n,d>=g||d===16&&(g&4194240)!==0))return n;if(c&4&&(c|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=c;0<n;)s=31-Mi(n),d=1<<s,c|=e[s],n&=~d;return c}function mp(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xp(e,n){for(var s=e.suspendedLanes,c=e.pingedLanes,d=e.expirationTimes,g=e.pendingLanes;0<g;){var _=31-Mi(g),A=1<<_,S=d[_];S===-1?(!(A&s)||A&c)&&(d[_]=mp(A,n)):S<=n&&(e.expiredLanes|=A),g&=~A}}function cc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function v0(){var e=za;return za<<=1,!(za&4194240)&&(za=64),e}function Cu(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function wa(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Mi(n),e[n]=s}function yp(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<s;){var d=31-Mi(s),g=1<<d;n[d]=0,c[d]=-1,e[d]=-1,s&=~g}}function ih(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var c=31-Mi(s),d=1<<c;d&n|e[c]&n&&(e[c]|=n),s&=~d}}var pt=0;function C0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var E0,rh,A0,S0,T0,hc=!1,Ha=[],Rr=null,Dr=null,Pr=null,sa=new Map,oa=new Map,Mr=[],_p="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _d(e,n){switch(e){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":sa.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":oa.delete(n.pointerId)}}function Do(e,n,s,c,d,g){return e===null||e.nativeEvent!==g?(e={blockedOn:n,domEventName:s,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},n!==null&&(n=Ca(n),n!==null&&rh(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function wp(e,n,s,c,d){switch(n){case"focusin":return Rr=Do(Rr,e,n,s,c,d),!0;case"dragenter":return Dr=Do(Dr,e,n,s,c,d),!0;case"mouseover":return Pr=Do(Pr,e,n,s,c,d),!0;case"pointerover":var g=d.pointerId;return sa.set(g,Do(sa.get(g)||null,e,n,s,c,d)),!0;case"gotpointercapture":return g=d.pointerId,oa.set(g,Do(oa.get(g)||null,e,n,s,c,d)),!0}return!1}function I0(e){var n=cs(e.target);if(n!==null){var s=vs(n);if(s!==null){if(n=s.tag,n===13){if(n=p0(s),n!==null){e.blockedOn=n,T0(e.priority,function(){A0(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=dc(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var c=new s.constructor(s.type,s);oc=c,s.target.dispatchEvent(c),oc=null}else return n=Ca(s),n!==null&&rh(n),e.blockedOn=s,!1;n.shift()}return!0}function wd(e,n,s){nl(e)&&s.delete(n)}function vp(){hc=!1,Rr!==null&&nl(Rr)&&(Rr=null),Dr!==null&&nl(Dr)&&(Dr=null),Pr!==null&&nl(Pr)&&(Pr=null),sa.forEach(wd),oa.forEach(wd)}function Po(e,n){e.blockedOn===n&&(e.blockedOn=null,hc||(hc=!0,$n.unstable_scheduleCallback($n.unstable_NormalPriority,vp)))}function aa(e){function n(d){return Po(d,e)}if(0<Ha.length){Po(Ha[0],e);for(var s=1;s<Ha.length;s++){var c=Ha[s];c.blockedOn===e&&(c.blockedOn=null)}}for(Rr!==null&&Po(Rr,e),Dr!==null&&Po(Dr,e),Pr!==null&&Po(Pr,e),sa.forEach(n),oa.forEach(n),s=0;s<Mr.length;s++)c=Mr[s],c.blockedOn===e&&(c.blockedOn=null);for(;0<Mr.length&&(s=Mr[0],s.blockedOn===null);)I0(s),s.blockedOn===null&&Mr.shift()}var Qs=dr.ReactCurrentBatchConfig,yl=!0;function Cp(e,n,s,c){var d=pt,g=Qs.transition;Qs.transition=null;try{pt=1,sh(e,n,s,c)}finally{pt=d,Qs.transition=g}}function Ep(e,n,s,c){var d=pt,g=Qs.transition;Qs.transition=null;try{pt=4,sh(e,n,s,c)}finally{pt=d,Qs.transition=g}}function sh(e,n,s,c){if(yl){var d=dc(e,n,s,c);if(d===null)Lu(e,n,c,_l,s),_d(e,c);else if(wp(d,e,n,s,c))c.stopPropagation();else if(_d(e,c),n&4&&-1<_p.indexOf(e)){for(;d!==null;){var g=Ca(d);if(g!==null&&E0(g),g=dc(e,n,s,c),g===null&&Lu(e,n,c,_l,s),g===d)break;d=g}d!==null&&c.stopPropagation()}else Lu(e,n,c,null,s)}}var _l=null;function dc(e,n,s,c){if(_l=null,e=th(c),e=cs(e),e!==null)if(n=vs(e),n===null)e=null;else if(s=n.tag,s===13){if(e=p0(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return _l=e,null}function N0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cp()){case nh:return 1;case _0:return 4;case ml:case hp:return 16;case w0:return 536870912;default:return 16}default:return 16}}var Lr=null,oh=null,il=null;function b0(){if(il)return il;var e,n=oh,s=n.length,c,d="value"in Lr?Lr.value:Lr.textContent,g=d.length;for(e=0;e<s&&n[e]===d[e];e++);var _=s-e;for(c=1;c<=_&&n[s-c]===d[g-c];c++);return il=d.slice(e,1<c?1-c:void 0)}function rl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Va(){return!0}function vd(){return!1}function ti(e){function n(s,c,d,g,_){this._reactName=s,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(s=e[A],this[A]=s?s(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Va:vd,this.isPropagationStopped=vd,this}return Bt(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Va)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Va)},persist:function(){},isPersistent:Va}),n}var oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ah=ti(oo),va=Bt({},oo,{view:0,detail:0}),Ap=ti(va),Eu,Au,Bo,Ul=Bt({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bo&&(Bo&&e.type==="mousemove"?(Eu=e.screenX-Bo.screenX,Au=e.screenY-Bo.screenY):Au=Eu=0,Bo=e),Eu)},movementY:function(e){return"movementY"in e?e.movementY:Au}}),Cd=ti(Ul),Sp=Bt({},Ul,{dataTransfer:0}),Tp=ti(Sp),Ip=Bt({},va,{relatedTarget:0}),Su=ti(Ip),Np=Bt({},oo,{animationName:0,elapsedTime:0,pseudoElement:0}),bp=ti(Np),Mp=Bt({},oo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Op=ti(Mp),Lp=Bt({},oo,{data:0}),Ed=ti(Lp),kp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pp(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Dp[e])?!!n[e]:!1}function lh(){return Pp}var Bp=Bt({},va,{key:function(e){if(e.key){var n=kp[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=rl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Rp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lh,charCode:function(e){return e.type==="keypress"?rl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fp=ti(Bp),jp=Bt({},Ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ad=ti(jp),zp=Bt({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lh}),Up=ti(zp),Hp=Bt({},oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vp=ti(Hp),Zp=Bt({},Ul,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wp=ti(Zp),Gp=[9,13,27,32],uh=lr&&"CompositionEvent"in window,Yo=null;lr&&"documentMode"in document&&(Yo=document.documentMode);var Yp=lr&&"TextEvent"in window&&!Yo,M0=lr&&(!uh||Yo&&8<Yo&&11>=Yo),Sd=" ",Td=!1;function O0(e,n){switch(e){case"keyup":return Gp.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rs=!1;function Xp(e,n){switch(e){case"compositionend":return L0(n);case"keypress":return n.which!==32?null:(Td=!0,Sd);case"textInput":return e=n.data,e===Sd&&Td?null:e;default:return null}}function Qp(e,n){if(Rs)return e==="compositionend"||!uh&&O0(e,n)?(e=b0(),il=oh=Lr=null,Rs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return M0&&n.locale!=="ko"?null:n.data;default:return null}}var Kp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Id(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Kp[e.type]:n==="textarea"}function k0(e,n,s,c){c0(c),n=wl(n,"onChange"),0<n.length&&(s=new ah("onChange","change",null,s,c),e.push({event:s,listeners:n}))}var Xo=null,la=null;function qp(e){Z0(e,0)}function Hl(e){var n=Bs(e);if(i0(n))return e}function Jp(e,n){if(e==="change")return n}var R0=!1;if(lr){var Tu;if(lr){var Iu="oninput"in document;if(!Iu){var Nd=document.createElement("div");Nd.setAttribute("oninput","return;"),Iu=typeof Nd.oninput=="function"}Tu=Iu}else Tu=!1;R0=Tu&&(!document.documentMode||9<document.documentMode)}function bd(){Xo&&(Xo.detachEvent("onpropertychange",D0),la=Xo=null)}function D0(e){if(e.propertyName==="value"&&Hl(la)){var n=[];k0(n,la,e,th(e)),g0(qp,n)}}function $p(e,n,s){e==="focusin"?(bd(),Xo=n,la=s,Xo.attachEvent("onpropertychange",D0)):e==="focusout"&&bd()}function em(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hl(la)}function tm(e,n){if(e==="click")return Hl(n)}function nm(e,n){if(e==="input"||e==="change")return Hl(n)}function im(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Li=typeof Object.is=="function"?Object.is:im;function ua(e,n){if(Li(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),c=Object.keys(n);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var d=s[c];if(!Xu.call(n,d)||!Li(e[d],n[d]))return!1}return!0}function Md(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Od(e,n){var s=Md(e);e=0;for(var c;s;){if(s.nodeType===3){if(c=e+s.textContent.length,e<=n&&c>=n)return{node:s,offset:n-e};e=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Md(s)}}function P0(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?P0(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function B0(){for(var e=window,n=fl();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=fl(e.document)}return n}function ch(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function rm(e){var n=B0(),s=e.focusedElem,c=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&P0(s.ownerDocument.documentElement,s)){if(c!==null&&ch(s)){if(n=c.start,e=c.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var d=s.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!e.extend&&g>c&&(d=c,c=g,g=d),d=Od(s,g);var _=Od(s,c);d&&_&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==_.node||e.focusOffset!==_.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),e.removeAllRanges(),g>c?(e.addRange(n),e.extend(_.node,_.offset)):(n.setEnd(_.node,_.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sm=lr&&"documentMode"in document&&11>=document.documentMode,Ds=null,fc=null,Qo=null,gc=!1;function Ld(e,n,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;gc||Ds==null||Ds!==fl(c)||(c=Ds,"selectionStart"in c&&ch(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Qo&&ua(Qo,c)||(Qo=c,c=wl(fc,"onSelect"),0<c.length&&(n=new ah("onSelect","select",null,n,s),e.push({event:n,listeners:c}),n.target=Ds)))}function Za(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Ps={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionend:Za("Transition","TransitionEnd")},Nu={},F0={};lr&&(F0=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function Vl(e){if(Nu[e])return Nu[e];if(!Ps[e])return e;var n=Ps[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in F0)return Nu[e]=n[s];return e}var j0=Vl("animationend"),z0=Vl("animationiteration"),U0=Vl("animationstart"),H0=Vl("transitionend"),V0=new Map,kd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wr(e,n){V0.set(e,n),ws(n,[e])}for(var bu=0;bu<kd.length;bu++){var Mu=kd[bu],om=Mu.toLowerCase(),am=Mu[0].toUpperCase()+Mu.slice(1);Wr(om,"on"+am)}Wr(j0,"onAnimationEnd");Wr(z0,"onAnimationIteration");Wr(U0,"onAnimationStart");Wr("dblclick","onDoubleClick");Wr("focusin","onFocus");Wr("focusout","onBlur");Wr(H0,"onTransitionEnd");Js("onMouseEnter",["mouseout","mouseover"]);Js("onMouseLeave",["mouseout","mouseover"]);Js("onPointerEnter",["pointerout","pointerover"]);Js("onPointerLeave",["pointerout","pointerover"]);ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zo));function Rd(e,n,s){var c=e.type||"unknown-event";e.currentTarget=s,op(c,n,void 0,e),e.currentTarget=null}function Z0(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var c=e[s],d=c.event;c=c.listeners;e:{var g=void 0;if(n)for(var _=c.length-1;0<=_;_--){var A=c[_],S=A.instance,v=A.currentTarget;if(A=A.listener,S!==g&&d.isPropagationStopped())break e;Rd(d,A,v),g=S}else for(_=0;_<c.length;_++){if(A=c[_],S=A.instance,v=A.currentTarget,A=A.listener,S!==g&&d.isPropagationStopped())break e;Rd(d,A,v),g=S}}}if(pl)throw e=uc,pl=!1,uc=null,e}function Nt(e,n){var s=n[_c];s===void 0&&(s=n[_c]=new Set);var c=e+"__bubble";s.has(c)||(W0(n,e,2,!1),s.add(c))}function Ou(e,n,s){var c=0;n&&(c|=4),W0(s,e,c,n)}var Wa="_reactListening"+Math.random().toString(36).slice(2);function ca(e){if(!e[Wa]){e[Wa]=!0,Jf.forEach(function(s){s!=="selectionchange"&&(lm.has(s)||Ou(s,!1,e),Ou(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Wa]||(n[Wa]=!0,Ou("selectionchange",!1,n))}}function W0(e,n,s,c){switch(N0(n)){case 1:var d=Cp;break;case 4:d=Ep;break;default:d=sh}s=d.bind(null,n,s,e),d=void 0,!lc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),c?d!==void 0?e.addEventListener(n,s,{capture:!0,passive:d}):e.addEventListener(n,s,!0):d!==void 0?e.addEventListener(n,s,{passive:d}):e.addEventListener(n,s,!1)}function Lu(e,n,s,c,d){var g=c;if(!(n&1)&&!(n&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var A=c.stateNode.containerInfo;if(A===d||A.nodeType===8&&A.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var S=_.tag;if((S===3||S===4)&&(S=_.stateNode.containerInfo,S===d||S.nodeType===8&&S.parentNode===d))return;_=_.return}for(;A!==null;){if(_=cs(A),_===null)return;if(S=_.tag,S===5||S===6){c=g=_;continue e}A=A.parentNode}}c=c.return}g0(function(){var v=g,k=th(s),O=[];e:{var H=V0.get(e);if(H!==void 0){var Y=ah,ee=e;switch(e){case"keypress":if(rl(s)===0)break e;case"keydown":case"keyup":Y=Fp;break;case"focusin":ee="focus",Y=Su;break;case"focusout":ee="blur",Y=Su;break;case"beforeblur":case"afterblur":Y=Su;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Cd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Tp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Up;break;case j0:case z0:case U0:Y=bp;break;case H0:Y=Vp;break;case"scroll":Y=Ap;break;case"wheel":Y=Wp;break;case"copy":case"cut":case"paste":Y=Op;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Ad}var U=(n&4)!==0,me=!U&&e==="scroll",j=U?H!==null?H+"Capture":null:H;U=[];for(var D=v,P;D!==null;){P=D;var q=P.stateNode;if(P.tag===5&&q!==null&&(P=q,j!==null&&(q=ra(D,j),q!=null&&U.push(ha(D,q,P)))),me)break;D=D.return}0<U.length&&(H=new Y(H,ee,null,s,k),O.push({event:H,listeners:U}))}}if(!(n&7)){e:{if(H=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",H&&s!==oc&&(ee=s.relatedTarget||s.fromElement)&&(cs(ee)||ee[ur]))break e;if((Y||H)&&(H=k.window===k?k:(H=k.ownerDocument)?H.defaultView||H.parentWindow:window,Y?(ee=s.relatedTarget||s.toElement,Y=v,ee=ee?cs(ee):null,ee!==null&&(me=vs(ee),ee!==me||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(Y=null,ee=v),Y!==ee)){if(U=Cd,q="onMouseLeave",j="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(U=Ad,q="onPointerLeave",j="onPointerEnter",D="pointer"),me=Y==null?H:Bs(Y),P=ee==null?H:Bs(ee),H=new U(q,D+"leave",Y,s,k),H.target=me,H.relatedTarget=P,q=null,cs(k)===v&&(U=new U(j,D+"enter",ee,s,k),U.target=P,U.relatedTarget=me,q=U),me=q,Y&&ee)t:{for(U=Y,j=ee,D=0,P=U;P;P=Ms(P))D++;for(P=0,q=j;q;q=Ms(q))P++;for(;0<D-P;)U=Ms(U),D--;for(;0<P-D;)j=Ms(j),P--;for(;D--;){if(U===j||j!==null&&U===j.alternate)break t;U=Ms(U),j=Ms(j)}U=null}else U=null;Y!==null&&Dd(O,H,Y,U,!1),ee!==null&&me!==null&&Dd(O,me,ee,U,!0)}}e:{if(H=v?Bs(v):window,Y=H.nodeName&&H.nodeName.toLowerCase(),Y==="select"||Y==="input"&&H.type==="file")var de=Jp;else if(Id(H))if(R0)de=nm;else{de=em;var ie=$p}else(Y=H.nodeName)&&Y.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(de=tm);if(de&&(de=de(e,v))){k0(O,de,s,k);break e}ie&&ie(e,H,v),e==="focusout"&&(ie=H._wrapperState)&&ie.controlled&&H.type==="number"&&tc(H,"number",H.value)}switch(ie=v?Bs(v):window,e){case"focusin":(Id(ie)||ie.contentEditable==="true")&&(Ds=ie,fc=v,Qo=null);break;case"focusout":Qo=fc=Ds=null;break;case"mousedown":gc=!0;break;case"contextmenu":case"mouseup":case"dragend":gc=!1,Ld(O,s,k);break;case"selectionchange":if(sm)break;case"keydown":case"keyup":Ld(O,s,k)}var V;if(uh)e:{switch(e){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else Rs?O0(e,s)&&(ne="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ne="onCompositionStart");ne&&(M0&&s.locale!=="ko"&&(Rs||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&Rs&&(V=b0()):(Lr=k,oh="value"in Lr?Lr.value:Lr.textContent,Rs=!0)),ie=wl(v,ne),0<ie.length&&(ne=new Ed(ne,e,null,s,k),O.push({event:ne,listeners:ie}),V?ne.data=V:(V=L0(s),V!==null&&(ne.data=V)))),(V=Yp?Xp(e,s):Qp(e,s))&&(v=wl(v,"onBeforeInput"),0<v.length&&(k=new Ed("onBeforeInput","beforeinput",null,s,k),O.push({event:k,listeners:v}),k.data=V))}Z0(O,n)})}function ha(e,n,s){return{instance:e,listener:n,currentTarget:s}}function wl(e,n){for(var s=n+"Capture",c=[];e!==null;){var d=e,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=ra(e,s),g!=null&&c.unshift(ha(e,g,d)),g=ra(e,n),g!=null&&c.push(ha(e,g,d))),e=e.return}return c}function Ms(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Dd(e,n,s,c,d){for(var g=n._reactName,_=[];s!==null&&s!==c;){var A=s,S=A.alternate,v=A.stateNode;if(S!==null&&S===c)break;A.tag===5&&v!==null&&(A=v,d?(S=ra(s,g),S!=null&&_.unshift(ha(s,S,A))):d||(S=ra(s,g),S!=null&&_.push(ha(s,S,A)))),s=s.return}_.length!==0&&e.push({event:n,listeners:_})}var um=/\r\n?/g,cm=/\u0000|\uFFFD/g;function Pd(e){return(typeof e=="string"?e:""+e).replace(um,`
`).replace(cm,"")}function Ga(e,n,s){if(n=Pd(n),Pd(e)!==n&&s)throw Error(he(425))}function vl(){}var pc=null,mc=null;function xc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yc=typeof setTimeout=="function"?setTimeout:void 0,hm=typeof clearTimeout=="function"?clearTimeout:void 0,Bd=typeof Promise=="function"?Promise:void 0,dm=typeof queueMicrotask=="function"?queueMicrotask:typeof Bd<"u"?function(e){return Bd.resolve(null).then(e).catch(fm)}:yc;function fm(e){setTimeout(function(){throw e})}function ku(e,n){var s=n,c=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(c===0){e.removeChild(d),aa(n);return}c--}else s!=="$"&&s!=="$?"&&s!=="$!"||c++;s=d}while(s);aa(n)}function Br(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Fd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var ao=Math.random().toString(36).slice(2),Zi="__reactFiber$"+ao,da="__reactProps$"+ao,ur="__reactContainer$"+ao,_c="__reactEvents$"+ao,gm="__reactListeners$"+ao,pm="__reactHandles$"+ao;function cs(e){var n=e[Zi];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ur]||s[Zi]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Fd(e);e!==null;){if(s=e[Zi])return s;e=Fd(e)}return n}e=s,s=e.parentNode}return null}function Ca(e){return e=e[Zi]||e[ur],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(he(33))}function Zl(e){return e[da]||null}var wc=[],Fs=-1;function Gr(e){return{current:e}}function bt(e){0>Fs||(e.current=wc[Fs],wc[Fs]=null,Fs--)}function Et(e,n){Fs++,wc[Fs]=e.current,e.current=n}var Vr={},En=Gr(Vr),jn=Gr(!1),ps=Vr;function $s(e,n){var s=e.type.contextTypes;if(!s)return Vr;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===n)return c.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in s)d[g]=n[g];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=d),d}function zn(e){return e=e.childContextTypes,e!=null}function Cl(){bt(jn),bt(En)}function jd(e,n,s){if(En.current!==Vr)throw Error(he(168));Et(En,n),Et(jn,s)}function G0(e,n,s){var c=e.stateNode;if(n=n.childContextTypes,typeof c.getChildContext!="function")return s;c=c.getChildContext();for(var d in c)if(!(d in n))throw Error(he(108,$g(e)||"Unknown",d));return Bt({},s,c)}function El(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vr,ps=En.current,Et(En,e),Et(jn,jn.current),!0}function zd(e,n,s){var c=e.stateNode;if(!c)throw Error(he(169));s?(e=G0(e,n,ps),c.__reactInternalMemoizedMergedChildContext=e,bt(jn),bt(En),Et(En,e)):bt(jn),Et(jn,s)}var ir=null,Wl=!1,Ru=!1;function Y0(e){ir===null?ir=[e]:ir.push(e)}function mm(e){Wl=!0,Y0(e)}function Yr(){if(!Ru&&ir!==null){Ru=!0;var e=0,n=pt;try{var s=ir;for(pt=1;e<s.length;e++){var c=s[e];do c=c(!0);while(c!==null)}ir=null,Wl=!1}catch(d){throw ir!==null&&(ir=ir.slice(e+1)),y0(nh,Yr),d}finally{pt=n,Ru=!1}}return null}var js=[],zs=0,Al=null,Sl=0,hi=[],di=0,ms=null,rr=1,sr="";function ls(e,n){js[zs++]=Sl,js[zs++]=Al,Al=e,Sl=n}function X0(e,n,s){hi[di++]=rr,hi[di++]=sr,hi[di++]=ms,ms=e;var c=rr;e=sr;var d=32-Mi(c)-1;c&=~(1<<d),s+=1;var g=32-Mi(n)+d;if(30<g){var _=d-d%5;g=(c&(1<<_)-1).toString(32),c>>=_,d-=_,rr=1<<32-Mi(n)+d|s<<d|c,sr=g+e}else rr=1<<g|s<<d|c,sr=e}function hh(e){e.return!==null&&(ls(e,1),X0(e,1,0))}function dh(e){for(;e===Al;)Al=js[--zs],js[zs]=null,Sl=js[--zs],js[zs]=null;for(;e===ms;)ms=hi[--di],hi[di]=null,sr=hi[--di],hi[di]=null,rr=hi[--di],hi[di]=null}var Jn=null,qn=null,Ot=!1,bi=null;function Q0(e,n){var s=fi(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function Ud(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Jn=e,qn=Br(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Jn=e,qn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=ms!==null?{id:rr,overflow:sr}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=fi(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,Jn=e,qn=null,!0):!1;default:return!1}}function vc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cc(e){if(Ot){var n=qn;if(n){var s=n;if(!Ud(e,n)){if(vc(e))throw Error(he(418));n=Br(s.nextSibling);var c=Jn;n&&Ud(e,n)?Q0(c,s):(e.flags=e.flags&-4097|2,Ot=!1,Jn=e)}}else{if(vc(e))throw Error(he(418));e.flags=e.flags&-4097|2,Ot=!1,Jn=e}}}function Hd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jn=e}function Ya(e){if(e!==Jn)return!1;if(!Ot)return Hd(e),Ot=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!xc(e.type,e.memoizedProps)),n&&(n=qn)){if(vc(e))throw K0(),Error(he(418));for(;n;)Q0(e,n),n=Br(n.nextSibling)}if(Hd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(he(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){qn=Br(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}qn=null}}else qn=Jn?Br(e.stateNode.nextSibling):null;return!0}function K0(){for(var e=qn;e;)e=Br(e.nextSibling)}function eo(){qn=Jn=null,Ot=!1}function fh(e){bi===null?bi=[e]:bi.push(e)}var xm=dr.ReactCurrentBatchConfig;function Fo(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(he(309));var c=s.stateNode}if(!c)throw Error(he(147,e));var d=c,g=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===g?n.ref:(n=function(_){var A=d.refs;_===null?delete A[g]:A[g]=_},n._stringRef=g,n)}if(typeof e!="string")throw Error(he(284));if(!s._owner)throw Error(he(290,e))}return e}function Xa(e,n){throw e=Object.prototype.toString.call(n),Error(he(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Vd(e){var n=e._init;return n(e._payload)}function q0(e){function n(j,D){if(e){var P=j.deletions;P===null?(j.deletions=[D],j.flags|=16):P.push(D)}}function s(j,D){if(!e)return null;for(;D!==null;)n(j,D),D=D.sibling;return null}function c(j,D){for(j=new Map;D!==null;)D.key!==null?j.set(D.key,D):j.set(D.index,D),D=D.sibling;return j}function d(j,D){return j=Ur(j,D),j.index=0,j.sibling=null,j}function g(j,D,P){return j.index=P,e?(P=j.alternate,P!==null?(P=P.index,P<D?(j.flags|=2,D):P):(j.flags|=2,D)):(j.flags|=1048576,D)}function _(j){return e&&j.alternate===null&&(j.flags|=2),j}function A(j,D,P,q){return D===null||D.tag!==6?(D=Uu(P,j.mode,q),D.return=j,D):(D=d(D,P),D.return=j,D)}function S(j,D,P,q){var de=P.type;return de===ks?k(j,D,P.props.children,q,P.key):D!==null&&(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Nr&&Vd(de)===D.type)?(q=d(D,P.props),q.ref=Fo(j,D,P),q.return=j,q):(q=hl(P.type,P.key,P.props,null,j.mode,q),q.ref=Fo(j,D,P),q.return=j,q)}function v(j,D,P,q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Hu(P,j.mode,q),D.return=j,D):(D=d(D,P.children||[]),D.return=j,D)}function k(j,D,P,q,de){return D===null||D.tag!==7?(D=gs(P,j.mode,q,de),D.return=j,D):(D=d(D,P),D.return=j,D)}function O(j,D,P){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Uu(""+D,j.mode,P),D.return=j,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ba:return P=hl(D.type,D.key,D.props,null,j.mode,P),P.ref=Fo(j,null,D),P.return=j,P;case Ls:return D=Hu(D,j.mode,P),D.return=j,D;case Nr:var q=D._init;return O(j,q(D._payload),P)}if(Ho(D)||ko(D))return D=gs(D,j.mode,P,null),D.return=j,D;Xa(j,D)}return null}function H(j,D,P,q){var de=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return de!==null?null:A(j,D,""+P,q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ba:return P.key===de?S(j,D,P,q):null;case Ls:return P.key===de?v(j,D,P,q):null;case Nr:return de=P._init,H(j,D,de(P._payload),q)}if(Ho(P)||ko(P))return de!==null?null:k(j,D,P,q,null);Xa(j,P)}return null}function Y(j,D,P,q,de){if(typeof q=="string"&&q!==""||typeof q=="number")return j=j.get(P)||null,A(D,j,""+q,de);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Ba:return j=j.get(q.key===null?P:q.key)||null,S(D,j,q,de);case Ls:return j=j.get(q.key===null?P:q.key)||null,v(D,j,q,de);case Nr:var ie=q._init;return Y(j,D,P,ie(q._payload),de)}if(Ho(q)||ko(q))return j=j.get(P)||null,k(D,j,q,de,null);Xa(D,q)}return null}function ee(j,D,P,q){for(var de=null,ie=null,V=D,ne=D=0,$=null;V!==null&&ne<P.length;ne++){V.index>ne?($=V,V=null):$=V.sibling;var be=H(j,V,P[ne],q);if(be===null){V===null&&(V=$);break}e&&V&&be.alternate===null&&n(j,V),D=g(be,D,ne),ie===null?de=be:ie.sibling=be,ie=be,V=$}if(ne===P.length)return s(j,V),Ot&&ls(j,ne),de;if(V===null){for(;ne<P.length;ne++)V=O(j,P[ne],q),V!==null&&(D=g(V,D,ne),ie===null?de=V:ie.sibling=V,ie=V);return Ot&&ls(j,ne),de}for(V=c(j,V);ne<P.length;ne++)$=Y(V,j,ne,P[ne],q),$!==null&&(e&&$.alternate!==null&&V.delete($.key===null?ne:$.key),D=g($,D,ne),ie===null?de=$:ie.sibling=$,ie=$);return e&&V.forEach(function(ze){return n(j,ze)}),Ot&&ls(j,ne),de}function U(j,D,P,q){var de=ko(P);if(typeof de!="function")throw Error(he(150));if(P=de.call(P),P==null)throw Error(he(151));for(var ie=de=null,V=D,ne=D=0,$=null,be=P.next();V!==null&&!be.done;ne++,be=P.next()){V.index>ne?($=V,V=null):$=V.sibling;var ze=H(j,V,be.value,q);if(ze===null){V===null&&(V=$);break}e&&V&&ze.alternate===null&&n(j,V),D=g(ze,D,ne),ie===null?de=ze:ie.sibling=ze,ie=ze,V=$}if(be.done)return s(j,V),Ot&&ls(j,ne),de;if(V===null){for(;!be.done;ne++,be=P.next())be=O(j,be.value,q),be!==null&&(D=g(be,D,ne),ie===null?de=be:ie.sibling=be,ie=be);return Ot&&ls(j,ne),de}for(V=c(j,V);!be.done;ne++,be=P.next())be=Y(V,j,ne,be.value,q),be!==null&&(e&&be.alternate!==null&&V.delete(be.key===null?ne:be.key),D=g(be,D,ne),ie===null?de=be:ie.sibling=be,ie=be);return e&&V.forEach(function(Ce){return n(j,Ce)}),Ot&&ls(j,ne),de}function me(j,D,P,q){if(typeof P=="object"&&P!==null&&P.type===ks&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Ba:e:{for(var de=P.key,ie=D;ie!==null;){if(ie.key===de){if(de=P.type,de===ks){if(ie.tag===7){s(j,ie.sibling),D=d(ie,P.props.children),D.return=j,j=D;break e}}else if(ie.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Nr&&Vd(de)===ie.type){s(j,ie.sibling),D=d(ie,P.props),D.ref=Fo(j,ie,P),D.return=j,j=D;break e}s(j,ie);break}else n(j,ie);ie=ie.sibling}P.type===ks?(D=gs(P.props.children,j.mode,q,P.key),D.return=j,j=D):(q=hl(P.type,P.key,P.props,null,j.mode,q),q.ref=Fo(j,D,P),q.return=j,j=q)}return _(j);case Ls:e:{for(ie=P.key;D!==null;){if(D.key===ie)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(j,D.sibling),D=d(D,P.children||[]),D.return=j,j=D;break e}else{s(j,D);break}else n(j,D);D=D.sibling}D=Hu(P,j.mode,q),D.return=j,j=D}return _(j);case Nr:return ie=P._init,me(j,D,ie(P._payload),q)}if(Ho(P))return ee(j,D,P,q);if(ko(P))return U(j,D,P,q);Xa(j,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,D!==null&&D.tag===6?(s(j,D.sibling),D=d(D,P),D.return=j,j=D):(s(j,D),D=Uu(P,j.mode,q),D.return=j,j=D),_(j)):s(j,D)}return me}var to=q0(!0),J0=q0(!1),Tl=Gr(null),Il=null,Us=null,gh=null;function ph(){gh=Us=Il=null}function mh(e){var n=Tl.current;bt(Tl),e._currentValue=n}function Ec(e,n,s){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===s)break;e=e.return}}function Ks(e,n){Il=e,gh=Us=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(Fn=!0),e.firstContext=null)}function pi(e){var n=e._currentValue;if(gh!==e)if(e={context:e,memoizedValue:n,next:null},Us===null){if(Il===null)throw Error(he(308));Us=e,Il.dependencies={lanes:0,firstContext:e}}else Us=Us.next=e;return n}var hs=null;function xh(e){hs===null?hs=[e]:hs.push(e)}function $0(e,n,s,c){var d=n.interleaved;return d===null?(s.next=s,xh(n)):(s.next=d.next,d.next=s),n.interleaved=s,cr(e,c)}function cr(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var br=!1;function yh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function e1(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ar(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Fr(e,n,s){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,ot&2){var d=c.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),c.pending=n,cr(e,s)}return d=c.interleaved,d===null?(n.next=n,xh(c)):(n.next=d.next,d.next=n),c.interleaved=n,cr(e,s)}function sl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var c=n.lanes;c&=e.pendingLanes,s|=c,n.lanes=s,ih(e,s)}}function Zd(e,n){var s=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var d=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var _={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};g===null?d=g=_:g=g.next=_,s=s.next}while(s!==null);g===null?d=g=n:g=g.next=n}else d=g=n;s={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,effects:c.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function Nl(e,n,s,c){var d=e.updateQueue;br=!1;var g=d.firstBaseUpdate,_=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var S=A,v=S.next;S.next=null,_===null?g=v:_.next=v,_=S;var k=e.alternate;k!==null&&(k=k.updateQueue,A=k.lastBaseUpdate,A!==_&&(A===null?k.firstBaseUpdate=v:A.next=v,k.lastBaseUpdate=S))}if(g!==null){var O=d.baseState;_=0,k=v=S=null,A=g;do{var H=A.lane,Y=A.eventTime;if((c&H)===H){k!==null&&(k=k.next={eventTime:Y,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ee=e,U=A;switch(H=n,Y=s,U.tag){case 1:if(ee=U.payload,typeof ee=="function"){O=ee.call(Y,O,H);break e}O=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=U.payload,H=typeof ee=="function"?ee.call(Y,O,H):ee,H==null)break e;O=Bt({},O,H);break e;case 2:br=!0}}A.callback!==null&&A.lane!==0&&(e.flags|=64,H=d.effects,H===null?d.effects=[A]:H.push(A))}else Y={eventTime:Y,lane:H,tag:A.tag,payload:A.payload,callback:A.callback,next:null},k===null?(v=k=Y,S=O):k=k.next=Y,_|=H;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;H=A,A=H.next,H.next=null,d.lastBaseUpdate=H,d.shared.pending=null}}while(!0);if(k===null&&(S=O),d.baseState=S,d.firstBaseUpdate=v,d.lastBaseUpdate=k,n=d.shared.interleaved,n!==null){d=n;do _|=d.lane,d=d.next;while(d!==n)}else g===null&&(d.shared.lanes=0);ys|=_,e.lanes=_,e.memoizedState=O}}function Wd(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var c=e[n],d=c.callback;if(d!==null){if(c.callback=null,c=s,typeof d!="function")throw Error(he(191,d));d.call(c)}}}var Ea={},Gi=Gr(Ea),fa=Gr(Ea),ga=Gr(Ea);function ds(e){if(e===Ea)throw Error(he(174));return e}function _h(e,n){switch(Et(ga,n),Et(fa,e),Et(Gi,Ea),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ic(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=ic(n,e)}bt(Gi),Et(Gi,n)}function no(){bt(Gi),bt(fa),bt(ga)}function t1(e){ds(ga.current);var n=ds(Gi.current),s=ic(n,e.type);n!==s&&(Et(fa,e),Et(Gi,s))}function wh(e){fa.current===e&&(bt(Gi),bt(fa))}var Dt=Gr(0);function bl(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Du=[];function vh(){for(var e=0;e<Du.length;e++)Du[e]._workInProgressVersionPrimary=null;Du.length=0}var ol=dr.ReactCurrentDispatcher,Pu=dr.ReactCurrentBatchConfig,xs=0,Pt=null,$t=null,cn=null,Ml=!1,Ko=!1,pa=0,ym=0;function wn(){throw Error(he(321))}function Ch(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Li(e[s],n[s]))return!1;return!0}function Eh(e,n,s,c,d,g){if(xs=g,Pt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ol.current=e===null||e.memoizedState===null?Cm:Em,e=s(c,d),Ko){g=0;do{if(Ko=!1,pa=0,25<=g)throw Error(he(301));g+=1,cn=$t=null,n.updateQueue=null,ol.current=Am,e=s(c,d)}while(Ko)}if(ol.current=Ol,n=$t!==null&&$t.next!==null,xs=0,cn=$t=Pt=null,Ml=!1,n)throw Error(he(300));return e}function Ah(){var e=pa!==0;return pa=0,e}function Hi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?Pt.memoizedState=cn=e:cn=cn.next=e,cn}function mi(){if($t===null){var e=Pt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=cn===null?Pt.memoizedState:cn.next;if(n!==null)cn=n,$t=e;else{if(e===null)throw Error(he(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},cn===null?Pt.memoizedState=cn=e:cn=cn.next=e}return cn}function ma(e,n){return typeof n=="function"?n(e):n}function Bu(e){var n=mi(),s=n.queue;if(s===null)throw Error(he(311));s.lastRenderedReducer=e;var c=$t,d=c.baseQueue,g=s.pending;if(g!==null){if(d!==null){var _=d.next;d.next=g.next,g.next=_}c.baseQueue=d=g,s.pending=null}if(d!==null){g=d.next,c=c.baseState;var A=_=null,S=null,v=g;do{var k=v.lane;if((xs&k)===k)S!==null&&(S=S.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),c=v.hasEagerState?v.eagerState:e(c,v.action);else{var O={lane:k,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};S===null?(A=S=O,_=c):S=S.next=O,Pt.lanes|=k,ys|=k}v=v.next}while(v!==null&&v!==g);S===null?_=c:S.next=A,Li(c,n.memoizedState)||(Fn=!0),n.memoizedState=c,n.baseState=_,n.baseQueue=S,s.lastRenderedState=c}if(e=s.interleaved,e!==null){d=e;do g=d.lane,Pt.lanes|=g,ys|=g,d=d.next;while(d!==e)}else d===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function Fu(e){var n=mi(),s=n.queue;if(s===null)throw Error(he(311));s.lastRenderedReducer=e;var c=s.dispatch,d=s.pending,g=n.memoizedState;if(d!==null){s.pending=null;var _=d=d.next;do g=e(g,_.action),_=_.next;while(_!==d);Li(g,n.memoizedState)||(Fn=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),s.lastRenderedState=g}return[g,c]}function n1(){}function i1(e,n){var s=Pt,c=mi(),d=n(),g=!Li(c.memoizedState,d);if(g&&(c.memoizedState=d,Fn=!0),c=c.queue,Sh(o1.bind(null,s,c,e),[e]),c.getSnapshot!==n||g||cn!==null&&cn.memoizedState.tag&1){if(s.flags|=2048,xa(9,s1.bind(null,s,c,d,n),void 0,null),hn===null)throw Error(he(349));xs&30||r1(s,n,d)}return d}function r1(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Pt.updateQueue,n===null?(n={lastEffect:null,stores:null},Pt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function s1(e,n,s,c){n.value=s,n.getSnapshot=c,a1(n)&&l1(e)}function o1(e,n,s){return s(function(){a1(n)&&l1(e)})}function a1(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Li(e,s)}catch{return!0}}function l1(e){var n=cr(e,1);n!==null&&Oi(n,e,1,-1)}function Gd(e){var n=Hi();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:e},n.queue=e,e=e.dispatch=vm.bind(null,Pt,e),[n.memoizedState,e]}function xa(e,n,s,c){return e={tag:e,create:n,destroy:s,deps:c,next:null},n=Pt.updateQueue,n===null?(n={lastEffect:null,stores:null},Pt.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(c=s.next,s.next=e,e.next=c,n.lastEffect=e)),e}function u1(){return mi().memoizedState}function al(e,n,s,c){var d=Hi();Pt.flags|=e,d.memoizedState=xa(1|n,s,void 0,c===void 0?null:c)}function Gl(e,n,s,c){var d=mi();c=c===void 0?null:c;var g=void 0;if($t!==null){var _=$t.memoizedState;if(g=_.destroy,c!==null&&Ch(c,_.deps)){d.memoizedState=xa(n,s,g,c);return}}Pt.flags|=e,d.memoizedState=xa(1|n,s,g,c)}function Yd(e,n){return al(8390656,8,e,n)}function Sh(e,n){return Gl(2048,8,e,n)}function c1(e,n){return Gl(4,2,e,n)}function h1(e,n){return Gl(4,4,e,n)}function d1(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function f1(e,n,s){return s=s!=null?s.concat([e]):null,Gl(4,4,d1.bind(null,n,e),s)}function Th(){}function g1(e,n){var s=mi();n=n===void 0?null:n;var c=s.memoizedState;return c!==null&&n!==null&&Ch(n,c[1])?c[0]:(s.memoizedState=[e,n],e)}function p1(e,n){var s=mi();n=n===void 0?null:n;var c=s.memoizedState;return c!==null&&n!==null&&Ch(n,c[1])?c[0]:(e=e(),s.memoizedState=[e,n],e)}function m1(e,n,s){return xs&21?(Li(s,n)||(s=v0(),Pt.lanes|=s,ys|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,Fn=!0),e.memoizedState=s)}function _m(e,n){var s=pt;pt=s!==0&&4>s?s:4,e(!0);var c=Pu.transition;Pu.transition={};try{e(!1),n()}finally{pt=s,Pu.transition=c}}function x1(){return mi().memoizedState}function wm(e,n,s){var c=zr(e);if(s={lane:c,action:s,hasEagerState:!1,eagerState:null,next:null},y1(e))_1(n,s);else if(s=$0(e,n,s,c),s!==null){var d=Ln();Oi(s,e,c,d),w1(s,n,c)}}function vm(e,n,s){var c=zr(e),d={lane:c,action:s,hasEagerState:!1,eagerState:null,next:null};if(y1(e))_1(n,d);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var _=n.lastRenderedState,A=g(_,s);if(d.hasEagerState=!0,d.eagerState=A,Li(A,_)){var S=n.interleaved;S===null?(d.next=d,xh(n)):(d.next=S.next,S.next=d),n.interleaved=d;return}}catch{}finally{}s=$0(e,n,d,c),s!==null&&(d=Ln(),Oi(s,e,c,d),w1(s,n,c))}}function y1(e){var n=e.alternate;return e===Pt||n!==null&&n===Pt}function _1(e,n){Ko=Ml=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function w1(e,n,s){if(s&4194240){var c=n.lanes;c&=e.pendingLanes,s|=c,n.lanes=s,ih(e,s)}}var Ol={readContext:pi,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},Cm={readContext:pi,useCallback:function(e,n){return Hi().memoizedState=[e,n===void 0?null:n],e},useContext:pi,useEffect:Yd,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,al(4194308,4,d1.bind(null,n,e),s)},useLayoutEffect:function(e,n){return al(4194308,4,e,n)},useInsertionEffect:function(e,n){return al(4,2,e,n)},useMemo:function(e,n){var s=Hi();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var c=Hi();return n=s!==void 0?s(n):n,c.memoizedState=c.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},c.queue=e,e=e.dispatch=wm.bind(null,Pt,e),[c.memoizedState,e]},useRef:function(e){var n=Hi();return e={current:e},n.memoizedState=e},useState:Gd,useDebugValue:Th,useDeferredValue:function(e){return Hi().memoizedState=e},useTransition:function(){var e=Gd(!1),n=e[0];return e=_m.bind(null,e[1]),Hi().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var c=Pt,d=Hi();if(Ot){if(s===void 0)throw Error(he(407));s=s()}else{if(s=n(),hn===null)throw Error(he(349));xs&30||r1(c,n,s)}d.memoizedState=s;var g={value:s,getSnapshot:n};return d.queue=g,Yd(o1.bind(null,c,g,e),[e]),c.flags|=2048,xa(9,s1.bind(null,c,g,s,n),void 0,null),s},useId:function(){var e=Hi(),n=hn.identifierPrefix;if(Ot){var s=sr,c=rr;s=(c&~(1<<32-Mi(c)-1)).toString(32)+s,n=":"+n+"R"+s,s=pa++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=ym++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Em={readContext:pi,useCallback:g1,useContext:pi,useEffect:Sh,useImperativeHandle:f1,useInsertionEffect:c1,useLayoutEffect:h1,useMemo:p1,useReducer:Bu,useRef:u1,useState:function(){return Bu(ma)},useDebugValue:Th,useDeferredValue:function(e){var n=mi();return m1(n,$t.memoizedState,e)},useTransition:function(){var e=Bu(ma)[0],n=mi().memoizedState;return[e,n]},useMutableSource:n1,useSyncExternalStore:i1,useId:x1,unstable_isNewReconciler:!1},Am={readContext:pi,useCallback:g1,useContext:pi,useEffect:Sh,useImperativeHandle:f1,useInsertionEffect:c1,useLayoutEffect:h1,useMemo:p1,useReducer:Fu,useRef:u1,useState:function(){return Fu(ma)},useDebugValue:Th,useDeferredValue:function(e){var n=mi();return $t===null?n.memoizedState=e:m1(n,$t.memoizedState,e)},useTransition:function(){var e=Fu(ma)[0],n=mi().memoizedState;return[e,n]},useMutableSource:n1,useSyncExternalStore:i1,useId:x1,unstable_isNewReconciler:!1};function Ti(e,n){if(e&&e.defaultProps){n=Bt({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function Ac(e,n,s,c){n=e.memoizedState,s=s(c,n),s=s==null?n:Bt({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Yl={isMounted:function(e){return(e=e._reactInternals)?vs(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var c=Ln(),d=zr(e),g=ar(c,d);g.payload=n,s!=null&&(g.callback=s),n=Fr(e,g,d),n!==null&&(Oi(n,e,d,c),sl(n,e,d))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var c=Ln(),d=zr(e),g=ar(c,d);g.tag=1,g.payload=n,s!=null&&(g.callback=s),n=Fr(e,g,d),n!==null&&(Oi(n,e,d,c),sl(n,e,d))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Ln(),c=zr(e),d=ar(s,c);d.tag=2,n!=null&&(d.callback=n),n=Fr(e,d,c),n!==null&&(Oi(n,e,c,s),sl(n,e,c))}};function Xd(e,n,s,c,d,g,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,_):n.prototype&&n.prototype.isPureReactComponent?!ua(s,c)||!ua(d,g):!0}function v1(e,n,s){var c=!1,d=Vr,g=n.contextType;return typeof g=="object"&&g!==null?g=pi(g):(d=zn(n)?ps:En.current,c=n.contextTypes,g=(c=c!=null)?$s(e,d):Vr),n=new n(s,g),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Yl,e.stateNode=n,n._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=g),n}function Qd(e,n,s,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,c),n.state!==e&&Yl.enqueueReplaceState(n,n.state,null)}function Sc(e,n,s,c){var d=e.stateNode;d.props=s,d.state=e.memoizedState,d.refs={},yh(e);var g=n.contextType;typeof g=="object"&&g!==null?d.context=pi(g):(g=zn(n)?ps:En.current,d.context=$s(e,g)),d.state=e.memoizedState,g=n.getDerivedStateFromProps,typeof g=="function"&&(Ac(e,n,g,s),d.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(n=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),n!==d.state&&Yl.enqueueReplaceState(d,d.state,null),Nl(e,s,d,c),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function io(e,n){try{var s="",c=n;do s+=Jg(c),c=c.return;while(c);var d=s}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:e,source:n,stack:d,digest:null}}function ju(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function Tc(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var Sm=typeof WeakMap=="function"?WeakMap:Map;function C1(e,n,s){s=ar(-1,s),s.tag=3,s.payload={element:null};var c=n.value;return s.callback=function(){kl||(kl=!0,Pc=c),Tc(e,n)},s}function E1(e,n,s){s=ar(-1,s),s.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var d=n.value;s.payload=function(){return c(d)},s.callback=function(){Tc(e,n)}}var g=e.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(s.callback=function(){Tc(e,n),typeof c!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var _=n.stack;this.componentDidCatch(n.value,{componentStack:_!==null?_:""})}),s}function Kd(e,n,s){var c=e.pingCache;if(c===null){c=e.pingCache=new Sm;var d=new Set;c.set(n,d)}else d=c.get(n),d===void 0&&(d=new Set,c.set(n,d));d.has(s)||(d.add(s),e=jm.bind(null,e,n,s),n.then(e,e))}function qd(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Jd(e,n,s,c,d){return e.mode&1?(e.flags|=65536,e.lanes=d,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=ar(-1,1),n.tag=2,Fr(s,n,1))),s.lanes|=1),e)}var Tm=dr.ReactCurrentOwner,Fn=!1;function On(e,n,s,c){n.child=e===null?J0(n,null,s,c):to(n,e.child,s,c)}function $d(e,n,s,c,d){s=s.render;var g=n.ref;return Ks(n,d),c=Eh(e,n,s,c,g,d),s=Ah(),e!==null&&!Fn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~d,hr(e,n,d)):(Ot&&s&&hh(n),n.flags|=1,On(e,n,c,d),n.child)}function ef(e,n,s,c,d){if(e===null){var g=s.type;return typeof g=="function"&&!Rh(g)&&g.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=g,A1(e,n,g,c,d)):(e=hl(s.type,null,c,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,!(e.lanes&d)){var _=g.memoizedProps;if(s=s.compare,s=s!==null?s:ua,s(_,c)&&e.ref===n.ref)return hr(e,n,d)}return n.flags|=1,e=Ur(g,c),e.ref=n.ref,e.return=n,n.child=e}function A1(e,n,s,c,d){if(e!==null){var g=e.memoizedProps;if(ua(g,c)&&e.ref===n.ref)if(Fn=!1,n.pendingProps=c=g,(e.lanes&d)!==0)e.flags&131072&&(Fn=!0);else return n.lanes=e.lanes,hr(e,n,d)}return Ic(e,n,s,c,d)}function S1(e,n,s){var c=n.pendingProps,d=c.children,g=e!==null?e.memoizedState:null;if(c.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(Vs,Qn),Qn|=s;else{if(!(s&1073741824))return e=g!==null?g.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Et(Vs,Qn),Qn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:s,Et(Vs,Qn),Qn|=c}else g!==null?(c=g.baseLanes|s,n.memoizedState=null):c=s,Et(Vs,Qn),Qn|=c;return On(e,n,d,s),n.child}function T1(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function Ic(e,n,s,c,d){var g=zn(s)?ps:En.current;return g=$s(n,g),Ks(n,d),s=Eh(e,n,s,c,g,d),c=Ah(),e!==null&&!Fn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~d,hr(e,n,d)):(Ot&&c&&hh(n),n.flags|=1,On(e,n,s,d),n.child)}function tf(e,n,s,c,d){if(zn(s)){var g=!0;El(n)}else g=!1;if(Ks(n,d),n.stateNode===null)ll(e,n),v1(n,s,c),Sc(n,s,c,d),c=!0;else if(e===null){var _=n.stateNode,A=n.memoizedProps;_.props=A;var S=_.context,v=s.contextType;typeof v=="object"&&v!==null?v=pi(v):(v=zn(s)?ps:En.current,v=$s(n,v));var k=s.getDerivedStateFromProps,O=typeof k=="function"||typeof _.getSnapshotBeforeUpdate=="function";O||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==c||S!==v)&&Qd(n,_,c,v),br=!1;var H=n.memoizedState;_.state=H,Nl(n,c,_,d),S=n.memoizedState,A!==c||H!==S||jn.current||br?(typeof k=="function"&&(Ac(n,s,k,c),S=n.memoizedState),(A=br||Xd(n,s,A,c,H,S,v))?(O||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(n.flags|=4194308)):(typeof _.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=S),_.props=c,_.state=S,_.context=v,c=A):(typeof _.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{_=n.stateNode,e1(e,n),A=n.memoizedProps,v=n.type===n.elementType?A:Ti(n.type,A),_.props=v,O=n.pendingProps,H=_.context,S=s.contextType,typeof S=="object"&&S!==null?S=pi(S):(S=zn(s)?ps:En.current,S=$s(n,S));var Y=s.getDerivedStateFromProps;(k=typeof Y=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==O||H!==S)&&Qd(n,_,c,S),br=!1,H=n.memoizedState,_.state=H,Nl(n,c,_,d);var ee=n.memoizedState;A!==O||H!==ee||jn.current||br?(typeof Y=="function"&&(Ac(n,s,Y,c),ee=n.memoizedState),(v=br||Xd(n,s,v,c,H,ee,S)||!1)?(k||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ee,S),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ee,S)),typeof _.componentDidUpdate=="function"&&(n.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof _.componentDidUpdate!="function"||A===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=ee),_.props=c,_.state=ee,_.context=S,c=v):(typeof _.componentDidUpdate!="function"||A===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),c=!1)}return Nc(e,n,s,c,g,d)}function Nc(e,n,s,c,d,g){T1(e,n);var _=(n.flags&128)!==0;if(!c&&!_)return d&&zd(n,s,!1),hr(e,n,g);c=n.stateNode,Tm.current=n;var A=_&&typeof s.getDerivedStateFromError!="function"?null:c.render();return n.flags|=1,e!==null&&_?(n.child=to(n,e.child,null,g),n.child=to(n,null,A,g)):On(e,n,A,g),n.memoizedState=c.state,d&&zd(n,s,!0),n.child}function I1(e){var n=e.stateNode;n.pendingContext?jd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&jd(e,n.context,!1),_h(e,n.containerInfo)}function nf(e,n,s,c,d){return eo(),fh(d),n.flags|=256,On(e,n,s,c),n.child}var bc={dehydrated:null,treeContext:null,retryLane:0};function Mc(e){return{baseLanes:e,cachePool:null,transitions:null}}function N1(e,n,s){var c=n.pendingProps,d=Dt.current,g=!1,_=(n.flags&128)!==0,A;if((A=_)||(A=e!==null&&e.memoizedState===null?!1:(d&2)!==0),A?(g=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),Et(Dt,d&1),e===null)return Cc(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(_=c.children,e=c.fallback,g?(c=n.mode,g=n.child,_={mode:"hidden",children:_},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=_):g=Kl(_,c,0,null),e=gs(e,c,s,null),g.return=n,e.return=n,g.sibling=e,n.child=g,n.child.memoizedState=Mc(s),n.memoizedState=bc,e):Ih(n,_));if(d=e.memoizedState,d!==null&&(A=d.dehydrated,A!==null))return Im(e,n,_,c,A,d,s);if(g){g=c.fallback,_=n.mode,d=e.child,A=d.sibling;var S={mode:"hidden",children:c.children};return!(_&1)&&n.child!==d?(c=n.child,c.childLanes=0,c.pendingProps=S,n.deletions=null):(c=Ur(d,S),c.subtreeFlags=d.subtreeFlags&14680064),A!==null?g=Ur(A,g):(g=gs(g,_,s,null),g.flags|=2),g.return=n,c.return=n,c.sibling=g,n.child=c,c=g,g=n.child,_=e.child.memoizedState,_=_===null?Mc(s):{baseLanes:_.baseLanes|s,cachePool:null,transitions:_.transitions},g.memoizedState=_,g.childLanes=e.childLanes&~s,n.memoizedState=bc,c}return g=e.child,e=g.sibling,c=Ur(g,{mode:"visible",children:c.children}),!(n.mode&1)&&(c.lanes=s),c.return=n,c.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=c,n.memoizedState=null,c}function Ih(e,n){return n=Kl({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Qa(e,n,s,c){return c!==null&&fh(c),to(n,e.child,null,s),e=Ih(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Im(e,n,s,c,d,g,_){if(s)return n.flags&256?(n.flags&=-257,c=ju(Error(he(422))),Qa(e,n,_,c)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(g=c.fallback,d=n.mode,c=Kl({mode:"visible",children:c.children},d,0,null),g=gs(g,d,_,null),g.flags|=2,c.return=n,g.return=n,c.sibling=g,n.child=c,n.mode&1&&to(n,e.child,null,_),n.child.memoizedState=Mc(_),n.memoizedState=bc,g);if(!(n.mode&1))return Qa(e,n,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var A=c.dgst;return c=A,g=Error(he(419)),c=ju(g,c,void 0),Qa(e,n,_,c)}if(A=(_&e.childLanes)!==0,Fn||A){if(c=hn,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|_)?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,cr(e,d),Oi(c,e,d,-1))}return kh(),c=ju(Error(he(421))),Qa(e,n,_,c)}return d.data==="$?"?(n.flags|=128,n.child=e.child,n=zm.bind(null,e),d._reactRetry=n,null):(e=g.treeContext,qn=Br(d.nextSibling),Jn=n,Ot=!0,bi=null,e!==null&&(hi[di++]=rr,hi[di++]=sr,hi[di++]=ms,rr=e.id,sr=e.overflow,ms=n),n=Ih(n,c.children),n.flags|=4096,n)}function rf(e,n,s){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),Ec(e.return,n,s)}function zu(e,n,s,c,d){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:d}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=s,g.tailMode=d)}function b1(e,n,s){var c=n.pendingProps,d=c.revealOrder,g=c.tail;if(On(e,n,c.children,s),c=Dt.current,c&2)c=c&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rf(e,s,n);else if(e.tag===19)rf(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if(Et(Dt,c),!(n.mode&1))n.memoizedState=null;else switch(d){case"forwards":for(s=n.child,d=null;s!==null;)e=s.alternate,e!==null&&bl(e)===null&&(d=s),s=s.sibling;s=d,s===null?(d=n.child,n.child=null):(d=s.sibling,s.sibling=null),zu(n,!1,d,s,g);break;case"backwards":for(s=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&bl(e)===null){n.child=d;break}e=d.sibling,d.sibling=s,s=d,d=e}zu(n,!0,s,null,g);break;case"together":zu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ll(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function hr(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ys|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(he(153));if(n.child!==null){for(e=n.child,s=Ur(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ur(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Nm(e,n,s){switch(n.tag){case 3:I1(n),eo();break;case 5:t1(n);break;case 1:zn(n.type)&&El(n);break;case 4:_h(n,n.stateNode.containerInfo);break;case 10:var c=n.type._context,d=n.memoizedProps.value;Et(Tl,c._currentValue),c._currentValue=d;break;case 13:if(c=n.memoizedState,c!==null)return c.dehydrated!==null?(Et(Dt,Dt.current&1),n.flags|=128,null):s&n.child.childLanes?N1(e,n,s):(Et(Dt,Dt.current&1),e=hr(e,n,s),e!==null?e.sibling:null);Et(Dt,Dt.current&1);break;case 19:if(c=(s&n.childLanes)!==0,e.flags&128){if(c)return b1(e,n,s);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Et(Dt,Dt.current),c)break;return null;case 22:case 23:return n.lanes=0,S1(e,n,s)}return hr(e,n,s)}var M1,Oc,O1,L1;M1=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Oc=function(){};O1=function(e,n,s,c){var d=e.memoizedProps;if(d!==c){e=n.stateNode,ds(Gi.current);var g=null;switch(s){case"input":d=$u(e,d),c=$u(e,c),g=[];break;case"select":d=Bt({},d,{value:void 0}),c=Bt({},c,{value:void 0}),g=[];break;case"textarea":d=nc(e,d),c=nc(e,c),g=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=vl)}rc(s,c);var _;s=null;for(v in d)if(!c.hasOwnProperty(v)&&d.hasOwnProperty(v)&&d[v]!=null)if(v==="style"){var A=d[v];for(_ in A)A.hasOwnProperty(_)&&(s||(s={}),s[_]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(na.hasOwnProperty(v)?g||(g=[]):(g=g||[]).push(v,null));for(v in c){var S=c[v];if(A=d!=null?d[v]:void 0,c.hasOwnProperty(v)&&S!==A&&(S!=null||A!=null))if(v==="style")if(A){for(_ in A)!A.hasOwnProperty(_)||S&&S.hasOwnProperty(_)||(s||(s={}),s[_]="");for(_ in S)S.hasOwnProperty(_)&&A[_]!==S[_]&&(s||(s={}),s[_]=S[_])}else s||(g||(g=[]),g.push(v,s)),s=S;else v==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,A=A?A.__html:void 0,S!=null&&A!==S&&(g=g||[]).push(v,S)):v==="children"?typeof S!="string"&&typeof S!="number"||(g=g||[]).push(v,""+S):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(na.hasOwnProperty(v)?(S!=null&&v==="onScroll"&&Nt("scroll",e),g||A===S||(g=[])):(g=g||[]).push(v,S))}s&&(g=g||[]).push("style",s);var v=g;(n.updateQueue=v)&&(n.flags|=4)}};L1=function(e,n,s,c){s!==c&&(n.flags|=4)};function jo(e,n){if(!Ot)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function vn(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,c=0;if(n)for(var d=e.child;d!==null;)s|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)s|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=c,e.childLanes=s,n}function bm(e,n,s){var c=n.pendingProps;switch(dh(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(n),null;case 1:return zn(n.type)&&Cl(),vn(n),null;case 3:return c=n.stateNode,no(),bt(jn),bt(En),vh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(Ya(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,bi!==null&&(jc(bi),bi=null))),Oc(e,n),vn(n),null;case 5:wh(n);var d=ds(ga.current);if(s=n.type,e!==null&&n.stateNode!=null)O1(e,n,s,c,d),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!c){if(n.stateNode===null)throw Error(he(166));return vn(n),null}if(e=ds(Gi.current),Ya(n)){c=n.stateNode,s=n.type;var g=n.memoizedProps;switch(c[Zi]=n,c[da]=g,e=(n.mode&1)!==0,s){case"dialog":Nt("cancel",c),Nt("close",c);break;case"iframe":case"object":case"embed":Nt("load",c);break;case"video":case"audio":for(d=0;d<Zo.length;d++)Nt(Zo[d],c);break;case"source":Nt("error",c);break;case"img":case"image":case"link":Nt("error",c),Nt("load",c);break;case"details":Nt("toggle",c);break;case"input":dd(c,g),Nt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Nt("invalid",c);break;case"textarea":gd(c,g),Nt("invalid",c)}rc(s,g),d=null;for(var _ in g)if(g.hasOwnProperty(_)){var A=g[_];_==="children"?typeof A=="string"?c.textContent!==A&&(g.suppressHydrationWarning!==!0&&Ga(c.textContent,A,e),d=["children",A]):typeof A=="number"&&c.textContent!==""+A&&(g.suppressHydrationWarning!==!0&&Ga(c.textContent,A,e),d=["children",""+A]):na.hasOwnProperty(_)&&A!=null&&_==="onScroll"&&Nt("scroll",c)}switch(s){case"input":Fa(c),fd(c,g,!0);break;case"textarea":Fa(c),pd(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=vl)}c=d,n.updateQueue=c,c!==null&&(n.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=o0(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=_.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=_.createElement(s,{is:c.is}):(e=_.createElement(s),s==="select"&&(_=e,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):e=_.createElementNS(e,s),e[Zi]=n,e[da]=c,M1(e,n,!1,!1),n.stateNode=e;e:{switch(_=sc(s,c),s){case"dialog":Nt("cancel",e),Nt("close",e),d=c;break;case"iframe":case"object":case"embed":Nt("load",e),d=c;break;case"video":case"audio":for(d=0;d<Zo.length;d++)Nt(Zo[d],e);d=c;break;case"source":Nt("error",e),d=c;break;case"img":case"image":case"link":Nt("error",e),Nt("load",e),d=c;break;case"details":Nt("toggle",e),d=c;break;case"input":dd(e,c),d=$u(e,c),Nt("invalid",e);break;case"option":d=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},d=Bt({},c,{value:void 0}),Nt("invalid",e);break;case"textarea":gd(e,c),d=nc(e,c),Nt("invalid",e);break;default:d=c}rc(s,d),A=d;for(g in A)if(A.hasOwnProperty(g)){var S=A[g];g==="style"?u0(e,S):g==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&a0(e,S)):g==="children"?typeof S=="string"?(s!=="textarea"||S!=="")&&ia(e,S):typeof S=="number"&&ia(e,""+S):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(na.hasOwnProperty(g)?S!=null&&g==="onScroll"&&Nt("scroll",e):S!=null&&qc(e,g,S,_))}switch(s){case"input":Fa(e),fd(e,c,!1);break;case"textarea":Fa(e),pd(e);break;case"option":c.value!=null&&e.setAttribute("value",""+Hr(c.value));break;case"select":e.multiple=!!c.multiple,g=c.value,g!=null?Gs(e,!!c.multiple,g,!1):c.defaultValue!=null&&Gs(e,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=vl)}switch(s){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return vn(n),null;case 6:if(e&&n.stateNode!=null)L1(e,n,e.memoizedProps,c);else{if(typeof c!="string"&&n.stateNode===null)throw Error(he(166));if(s=ds(ga.current),ds(Gi.current),Ya(n)){if(c=n.stateNode,s=n.memoizedProps,c[Zi]=n,(g=c.nodeValue!==s)&&(e=Jn,e!==null))switch(e.tag){case 3:Ga(c.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ga(c.nodeValue,s,(e.mode&1)!==0)}g&&(n.flags|=4)}else c=(s.nodeType===9?s:s.ownerDocument).createTextNode(c),c[Zi]=n,n.stateNode=c}return vn(n),null;case 13:if(bt(Dt),c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ot&&qn!==null&&n.mode&1&&!(n.flags&128))K0(),eo(),n.flags|=98560,g=!1;else if(g=Ya(n),c!==null&&c.dehydrated!==null){if(e===null){if(!g)throw Error(he(318));if(g=n.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(he(317));g[Zi]=n}else eo(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;vn(n),g=!1}else bi!==null&&(jc(bi),bi=null),g=!0;if(!g)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(c=c!==null,c!==(e!==null&&e.memoizedState!==null)&&c&&(n.child.flags|=8192,n.mode&1&&(e===null||Dt.current&1?en===0&&(en=3):kh())),n.updateQueue!==null&&(n.flags|=4),vn(n),null);case 4:return no(),Oc(e,n),e===null&&ca(n.stateNode.containerInfo),vn(n),null;case 10:return mh(n.type._context),vn(n),null;case 17:return zn(n.type)&&Cl(),vn(n),null;case 19:if(bt(Dt),g=n.memoizedState,g===null)return vn(n),null;if(c=(n.flags&128)!==0,_=g.rendering,_===null)if(c)jo(g,!1);else{if(en!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(_=bl(e),_!==null){for(n.flags|=128,jo(g,!1),c=_.updateQueue,c!==null&&(n.updateQueue=c,n.flags|=4),n.subtreeFlags=0,c=s,s=n.child;s!==null;)g=s,e=c,g.flags&=14680066,_=g.alternate,_===null?(g.childLanes=0,g.lanes=e,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=_.childLanes,g.lanes=_.lanes,g.child=_.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=_.memoizedProps,g.memoizedState=_.memoizedState,g.updateQueue=_.updateQueue,g.type=_.type,e=_.dependencies,g.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Et(Dt,Dt.current&1|2),n.child}e=e.sibling}g.tail!==null&&Vt()>ro&&(n.flags|=128,c=!0,jo(g,!1),n.lanes=4194304)}else{if(!c)if(e=bl(_),e!==null){if(n.flags|=128,c=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),jo(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!Ot)return vn(n),null}else 2*Vt()-g.renderingStartTime>ro&&s!==1073741824&&(n.flags|=128,c=!0,jo(g,!1),n.lanes=4194304);g.isBackwards?(_.sibling=n.child,n.child=_):(s=g.last,s!==null?s.sibling=_:n.child=_,g.last=_)}return g.tail!==null?(n=g.tail,g.rendering=n,g.tail=n.sibling,g.renderingStartTime=Vt(),n.sibling=null,s=Dt.current,Et(Dt,c?s&1|2:s&1),n):(vn(n),null);case 22:case 23:return Lh(),c=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(n.flags|=8192),c&&n.mode&1?Qn&1073741824&&(vn(n),n.subtreeFlags&6&&(n.flags|=8192)):vn(n),null;case 24:return null;case 25:return null}throw Error(he(156,n.tag))}function Mm(e,n){switch(dh(n),n.tag){case 1:return zn(n.type)&&Cl(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return no(),bt(jn),bt(En),vh(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return wh(n),null;case 13:if(bt(Dt),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(he(340));eo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return bt(Dt),null;case 4:return no(),null;case 10:return mh(n.type._context),null;case 22:case 23:return Lh(),null;case 24:return null;default:return null}}var Ka=!1,Cn=!1,Om=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Hs(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(c){zt(e,n,c)}else s.current=null}function Lc(e,n,s){try{s()}catch(c){zt(e,n,c)}}var sf=!1;function Lm(e,n){if(pc=yl,e=B0(),ch(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break e}var _=0,A=-1,S=-1,v=0,k=0,O=e,H=null;t:for(;;){for(var Y;O!==s||d!==0&&O.nodeType!==3||(A=_+d),O!==g||c!==0&&O.nodeType!==3||(S=_+c),O.nodeType===3&&(_+=O.nodeValue.length),(Y=O.firstChild)!==null;)H=O,O=Y;for(;;){if(O===e)break t;if(H===s&&++v===d&&(A=_),H===g&&++k===c&&(S=_),(Y=O.nextSibling)!==null)break;O=H,H=O.parentNode}O=Y}s=A===-1||S===-1?null:{start:A,end:S}}else s=null}s=s||{start:0,end:0}}else s=null;for(mc={focusedElem:e,selectionRange:s},yl=!1,Ae=n;Ae!==null;)if(n=Ae,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ae=e;else for(;Ae!==null;){n=Ae;try{var ee=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var U=ee.memoizedProps,me=ee.memoizedState,j=n.stateNode,D=j.getSnapshotBeforeUpdate(n.elementType===n.type?U:Ti(n.type,U),me);j.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var P=n.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(q){zt(n,n.return,q)}if(e=n.sibling,e!==null){e.return=n.return,Ae=e;break}Ae=n.return}return ee=sf,sf=!1,ee}function qo(e,n,s){var c=n.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&e)===e){var g=d.destroy;d.destroy=void 0,g!==void 0&&Lc(n,s,g)}d=d.next}while(d!==c)}}function Xl(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var c=s.create;s.destroy=c()}s=s.next}while(s!==n)}}function kc(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function k1(e){var n=e.alternate;n!==null&&(e.alternate=null,k1(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Zi],delete n[da],delete n[_c],delete n[gm],delete n[pm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function R1(e){return e.tag===5||e.tag===3||e.tag===4}function of(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||R1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rc(e,n,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=vl));else if(c!==4&&(e=e.child,e!==null))for(Rc(e,n,s),e=e.sibling;e!==null;)Rc(e,n,s),e=e.sibling}function Dc(e,n,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for(Dc(e,n,s),e=e.sibling;e!==null;)Dc(e,n,s),e=e.sibling}var fn=null,Ii=!1;function Tr(e,n,s){for(s=s.child;s!==null;)D1(e,n,s),s=s.sibling}function D1(e,n,s){if(Wi&&typeof Wi.onCommitFiberUnmount=="function")try{Wi.onCommitFiberUnmount(zl,s)}catch{}switch(s.tag){case 5:Cn||Hs(s,n);case 6:var c=fn,d=Ii;fn=null,Tr(e,n,s),fn=c,Ii=d,fn!==null&&(Ii?(e=fn,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):fn.removeChild(s.stateNode));break;case 18:fn!==null&&(Ii?(e=fn,s=s.stateNode,e.nodeType===8?ku(e.parentNode,s):e.nodeType===1&&ku(e,s),aa(e)):ku(fn,s.stateNode));break;case 4:c=fn,d=Ii,fn=s.stateNode.containerInfo,Ii=!0,Tr(e,n,s),fn=c,Ii=d;break;case 0:case 11:case 14:case 15:if(!Cn&&(c=s.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var g=d,_=g.destroy;g=g.tag,_!==void 0&&(g&2||g&4)&&Lc(s,n,_),d=d.next}while(d!==c)}Tr(e,n,s);break;case 1:if(!Cn&&(Hs(s,n),c=s.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=s.memoizedProps,c.state=s.memoizedState,c.componentWillUnmount()}catch(A){zt(s,n,A)}Tr(e,n,s);break;case 21:Tr(e,n,s);break;case 22:s.mode&1?(Cn=(c=Cn)||s.memoizedState!==null,Tr(e,n,s),Cn=c):Tr(e,n,s);break;default:Tr(e,n,s)}}function af(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Om),n.forEach(function(c){var d=Um.bind(null,e,c);s.has(c)||(s.add(c),c.then(d,d))})}}function Si(e,n){var s=n.deletions;if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];try{var g=e,_=n,A=_;e:for(;A!==null;){switch(A.tag){case 5:fn=A.stateNode,Ii=!1;break e;case 3:fn=A.stateNode.containerInfo,Ii=!0;break e;case 4:fn=A.stateNode.containerInfo,Ii=!0;break e}A=A.return}if(fn===null)throw Error(he(160));D1(g,_,d),fn=null,Ii=!1;var S=d.alternate;S!==null&&(S.return=null),d.return=null}catch(v){zt(d,n,v)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)P1(n,e),n=n.sibling}function P1(e,n){var s=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Si(n,e),Ui(e),c&4){try{qo(3,e,e.return),Xl(3,e)}catch(U){zt(e,e.return,U)}try{qo(5,e,e.return)}catch(U){zt(e,e.return,U)}}break;case 1:Si(n,e),Ui(e),c&512&&s!==null&&Hs(s,s.return);break;case 5:if(Si(n,e),Ui(e),c&512&&s!==null&&Hs(s,s.return),e.flags&32){var d=e.stateNode;try{ia(d,"")}catch(U){zt(e,e.return,U)}}if(c&4&&(d=e.stateNode,d!=null)){var g=e.memoizedProps,_=s!==null?s.memoizedProps:g,A=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{A==="input"&&g.type==="radio"&&g.name!=null&&r0(d,g),sc(A,_);var v=sc(A,g);for(_=0;_<S.length;_+=2){var k=S[_],O=S[_+1];k==="style"?u0(d,O):k==="dangerouslySetInnerHTML"?a0(d,O):k==="children"?ia(d,O):qc(d,k,O,v)}switch(A){case"input":ec(d,g);break;case"textarea":s0(d,g);break;case"select":var H=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var Y=g.value;Y!=null?Gs(d,!!g.multiple,Y,!1):H!==!!g.multiple&&(g.defaultValue!=null?Gs(d,!!g.multiple,g.defaultValue,!0):Gs(d,!!g.multiple,g.multiple?[]:"",!1))}d[da]=g}catch(U){zt(e,e.return,U)}}break;case 6:if(Si(n,e),Ui(e),c&4){if(e.stateNode===null)throw Error(he(162));d=e.stateNode,g=e.memoizedProps;try{d.nodeValue=g}catch(U){zt(e,e.return,U)}}break;case 3:if(Si(n,e),Ui(e),c&4&&s!==null&&s.memoizedState.isDehydrated)try{aa(n.containerInfo)}catch(U){zt(e,e.return,U)}break;case 4:Si(n,e),Ui(e);break;case 13:Si(n,e),Ui(e),d=e.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(Mh=Vt())),c&4&&af(e);break;case 22:if(k=s!==null&&s.memoizedState!==null,e.mode&1?(Cn=(v=Cn)||k,Si(n,e),Cn=v):Si(n,e),Ui(e),c&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!k&&e.mode&1)for(Ae=e,k=e.child;k!==null;){for(O=Ae=k;Ae!==null;){switch(H=Ae,Y=H.child,H.tag){case 0:case 11:case 14:case 15:qo(4,H,H.return);break;case 1:Hs(H,H.return);var ee=H.stateNode;if(typeof ee.componentWillUnmount=="function"){c=H,s=H.return;try{n=c,ee.props=n.memoizedProps,ee.state=n.memoizedState,ee.componentWillUnmount()}catch(U){zt(c,s,U)}}break;case 5:Hs(H,H.return);break;case 22:if(H.memoizedState!==null){uf(O);continue}}Y!==null?(Y.return=H,Ae=Y):uf(O)}k=k.sibling}e:for(k=null,O=e;;){if(O.tag===5){if(k===null){k=O;try{d=O.stateNode,v?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(A=O.stateNode,S=O.memoizedProps.style,_=S!=null&&S.hasOwnProperty("display")?S.display:null,A.style.display=l0("display",_))}catch(U){zt(e,e.return,U)}}}else if(O.tag===6){if(k===null)try{O.stateNode.nodeValue=v?"":O.memoizedProps}catch(U){zt(e,e.return,U)}}else if((O.tag!==22&&O.tag!==23||O.memoizedState===null||O===e)&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===e)break e;for(;O.sibling===null;){if(O.return===null||O.return===e)break e;k===O&&(k=null),O=O.return}k===O&&(k=null),O.sibling.return=O.return,O=O.sibling}}break;case 19:Si(n,e),Ui(e),c&4&&af(e);break;case 21:break;default:Si(n,e),Ui(e)}}function Ui(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(R1(s)){var c=s;break e}s=s.return}throw Error(he(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(ia(d,""),c.flags&=-33);var g=of(e);Dc(e,g,d);break;case 3:case 4:var _=c.stateNode.containerInfo,A=of(e);Rc(e,A,_);break;default:throw Error(he(161))}}catch(S){zt(e,e.return,S)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function km(e,n,s){Ae=e,B1(e)}function B1(e,n,s){for(var c=(e.mode&1)!==0;Ae!==null;){var d=Ae,g=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||Ka;if(!_){var A=d.alternate,S=A!==null&&A.memoizedState!==null||Cn;A=Ka;var v=Cn;if(Ka=_,(Cn=S)&&!v)for(Ae=d;Ae!==null;)_=Ae,S=_.child,_.tag===22&&_.memoizedState!==null?cf(d):S!==null?(S.return=_,Ae=S):cf(d);for(;g!==null;)Ae=g,B1(g),g=g.sibling;Ae=d,Ka=A,Cn=v}lf(e)}else d.subtreeFlags&8772&&g!==null?(g.return=d,Ae=g):lf(e)}}function lf(e){for(;Ae!==null;){var n=Ae;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Cn||Xl(5,n);break;case 1:var c=n.stateNode;if(n.flags&4&&!Cn)if(s===null)c.componentDidMount();else{var d=n.elementType===n.type?s.memoizedProps:Ti(n.type,s.memoizedProps);c.componentDidUpdate(d,s.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=n.updateQueue;g!==null&&Wd(n,g,c);break;case 3:var _=n.updateQueue;if(_!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Wd(n,_,s)}break;case 5:var A=n.stateNode;if(s===null&&n.flags&4){s=A;var S=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&s.focus();break;case"img":S.src&&(s.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var v=n.alternate;if(v!==null){var k=v.memoizedState;if(k!==null){var O=k.dehydrated;O!==null&&aa(O)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}Cn||n.flags&512&&kc(n)}catch(H){zt(n,n.return,H)}}if(n===e){Ae=null;break}if(s=n.sibling,s!==null){s.return=n.return,Ae=s;break}Ae=n.return}}function uf(e){for(;Ae!==null;){var n=Ae;if(n===e){Ae=null;break}var s=n.sibling;if(s!==null){s.return=n.return,Ae=s;break}Ae=n.return}}function cf(e){for(;Ae!==null;){var n=Ae;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{Xl(4,n)}catch(S){zt(n,s,S)}break;case 1:var c=n.stateNode;if(typeof c.componentDidMount=="function"){var d=n.return;try{c.componentDidMount()}catch(S){zt(n,d,S)}}var g=n.return;try{kc(n)}catch(S){zt(n,g,S)}break;case 5:var _=n.return;try{kc(n)}catch(S){zt(n,_,S)}}}catch(S){zt(n,n.return,S)}if(n===e){Ae=null;break}var A=n.sibling;if(A!==null){A.return=n.return,Ae=A;break}Ae=n.return}}var Rm=Math.ceil,Ll=dr.ReactCurrentDispatcher,Nh=dr.ReactCurrentOwner,gi=dr.ReactCurrentBatchConfig,ot=0,hn=null,Yt=null,gn=0,Qn=0,Vs=Gr(0),en=0,ya=null,ys=0,Ql=0,bh=0,Jo=null,Bn=null,Mh=0,ro=1/0,nr=null,kl=!1,Pc=null,jr=null,qa=!1,kr=null,Rl=0,$o=0,Bc=null,ul=-1,cl=0;function Ln(){return ot&6?Vt():ul!==-1?ul:ul=Vt()}function zr(e){return e.mode&1?ot&2&&gn!==0?gn&-gn:xm.transition!==null?(cl===0&&(cl=v0()),cl):(e=pt,e!==0||(e=window.event,e=e===void 0?16:N0(e.type)),e):1}function Oi(e,n,s,c){if(50<$o)throw $o=0,Bc=null,Error(he(185));wa(e,s,c),(!(ot&2)||e!==hn)&&(e===hn&&(!(ot&2)&&(Ql|=s),en===4&&Or(e,gn)),Un(e,c),s===1&&ot===0&&!(n.mode&1)&&(ro=Vt()+500,Wl&&Yr()))}function Un(e,n){var s=e.callbackNode;xp(e,n);var c=xl(e,e===hn?gn:0);if(c===0)s!==null&&yd(s),e.callbackNode=null,e.callbackPriority=0;else if(n=c&-c,e.callbackPriority!==n){if(s!=null&&yd(s),n===1)e.tag===0?mm(hf.bind(null,e)):Y0(hf.bind(null,e)),dm(function(){!(ot&6)&&Yr()}),s=null;else{switch(C0(c)){case 1:s=nh;break;case 4:s=_0;break;case 16:s=ml;break;case 536870912:s=w0;break;default:s=ml}s=W1(s,F1.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function F1(e,n){if(ul=-1,cl=0,ot&6)throw Error(he(327));var s=e.callbackNode;if(qs()&&e.callbackNode!==s)return null;var c=xl(e,e===hn?gn:0);if(c===0)return null;if(c&30||c&e.expiredLanes||n)n=Dl(e,c);else{n=c;var d=ot;ot|=2;var g=z1();(hn!==e||gn!==n)&&(nr=null,ro=Vt()+500,fs(e,n));do try{Bm();break}catch(A){j1(e,A)}while(!0);ph(),Ll.current=g,ot=d,Yt!==null?n=0:(hn=null,gn=0,n=en)}if(n!==0){if(n===2&&(d=cc(e),d!==0&&(c=d,n=Fc(e,d))),n===1)throw s=ya,fs(e,0),Or(e,c),Un(e,Vt()),s;if(n===6)Or(e,c);else{if(d=e.current.alternate,!(c&30)&&!Dm(d)&&(n=Dl(e,c),n===2&&(g=cc(e),g!==0&&(c=g,n=Fc(e,g))),n===1))throw s=ya,fs(e,0),Or(e,c),Un(e,Vt()),s;switch(e.finishedWork=d,e.finishedLanes=c,n){case 0:case 1:throw Error(he(345));case 2:us(e,Bn,nr);break;case 3:if(Or(e,c),(c&130023424)===c&&(n=Mh+500-Vt(),10<n)){if(xl(e,0)!==0)break;if(d=e.suspendedLanes,(d&c)!==c){Ln(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=yc(us.bind(null,e,Bn,nr),n);break}us(e,Bn,nr);break;case 4:if(Or(e,c),(c&4194240)===c)break;for(n=e.eventTimes,d=-1;0<c;){var _=31-Mi(c);g=1<<_,_=n[_],_>d&&(d=_),c&=~g}if(c=d,c=Vt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Rm(c/1960))-c,10<c){e.timeoutHandle=yc(us.bind(null,e,Bn,nr),c);break}us(e,Bn,nr);break;case 5:us(e,Bn,nr);break;default:throw Error(he(329))}}}return Un(e,Vt()),e.callbackNode===s?F1.bind(null,e):null}function Fc(e,n){var s=Jo;return e.current.memoizedState.isDehydrated&&(fs(e,n).flags|=256),e=Dl(e,n),e!==2&&(n=Bn,Bn=s,n!==null&&jc(n)),e}function jc(e){Bn===null?Bn=e:Bn.push.apply(Bn,e)}function Dm(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var c=0;c<s.length;c++){var d=s[c],g=d.getSnapshot;d=d.value;try{if(!Li(g(),d))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Or(e,n){for(n&=~bh,n&=~Ql,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Mi(n),c=1<<s;e[s]=-1,n&=~c}}function hf(e){if(ot&6)throw Error(he(327));qs();var n=xl(e,0);if(!(n&1))return Un(e,Vt()),null;var s=Dl(e,n);if(e.tag!==0&&s===2){var c=cc(e);c!==0&&(n=c,s=Fc(e,c))}if(s===1)throw s=ya,fs(e,0),Or(e,n),Un(e,Vt()),s;if(s===6)throw Error(he(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,us(e,Bn,nr),Un(e,Vt()),null}function Oh(e,n){var s=ot;ot|=1;try{return e(n)}finally{ot=s,ot===0&&(ro=Vt()+500,Wl&&Yr())}}function _s(e){kr!==null&&kr.tag===0&&!(ot&6)&&qs();var n=ot;ot|=1;var s=gi.transition,c=pt;try{if(gi.transition=null,pt=1,e)return e()}finally{pt=c,gi.transition=s,ot=n,!(ot&6)&&Yr()}}function Lh(){Qn=Vs.current,bt(Vs)}function fs(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,hm(s)),Yt!==null)for(s=Yt.return;s!==null;){var c=s;switch(dh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Cl();break;case 3:no(),bt(jn),bt(En),vh();break;case 5:wh(c);break;case 4:no();break;case 13:bt(Dt);break;case 19:bt(Dt);break;case 10:mh(c.type._context);break;case 22:case 23:Lh()}s=s.return}if(hn=e,Yt=e=Ur(e.current,null),gn=Qn=n,en=0,ya=null,bh=Ql=ys=0,Bn=Jo=null,hs!==null){for(n=0;n<hs.length;n++)if(s=hs[n],c=s.interleaved,c!==null){s.interleaved=null;var d=c.next,g=s.pending;if(g!==null){var _=g.next;g.next=d,c.next=_}s.pending=c}hs=null}return e}function j1(e,n){do{var s=Yt;try{if(ph(),ol.current=Ol,Ml){for(var c=Pt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Ml=!1}if(xs=0,cn=$t=Pt=null,Ko=!1,pa=0,Nh.current=null,s===null||s.return===null){en=1,ya=n,Yt=null;break}e:{var g=e,_=s.return,A=s,S=n;if(n=gn,A.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var v=S,k=A,O=k.tag;if(!(k.mode&1)&&(O===0||O===11||O===15)){var H=k.alternate;H?(k.updateQueue=H.updateQueue,k.memoizedState=H.memoizedState,k.lanes=H.lanes):(k.updateQueue=null,k.memoizedState=null)}var Y=qd(_);if(Y!==null){Y.flags&=-257,Jd(Y,_,A,g,n),Y.mode&1&&Kd(g,v,n),n=Y,S=v;var ee=n.updateQueue;if(ee===null){var U=new Set;U.add(S),n.updateQueue=U}else ee.add(S);break e}else{if(!(n&1)){Kd(g,v,n),kh();break e}S=Error(he(426))}}else if(Ot&&A.mode&1){var me=qd(_);if(me!==null){!(me.flags&65536)&&(me.flags|=256),Jd(me,_,A,g,n),fh(io(S,A));break e}}g=S=io(S,A),en!==4&&(en=2),Jo===null?Jo=[g]:Jo.push(g),g=_;do{switch(g.tag){case 3:g.flags|=65536,n&=-n,g.lanes|=n;var j=C1(g,S,n);Zd(g,j);break e;case 1:A=S;var D=g.type,P=g.stateNode;if(!(g.flags&128)&&(typeof D.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(jr===null||!jr.has(P)))){g.flags|=65536,n&=-n,g.lanes|=n;var q=E1(g,A,n);Zd(g,q);break e}}g=g.return}while(g!==null)}H1(s)}catch(de){n=de,Yt===s&&s!==null&&(Yt=s=s.return);continue}break}while(!0)}function z1(){var e=Ll.current;return Ll.current=Ol,e===null?Ol:e}function kh(){(en===0||en===3||en===2)&&(en=4),hn===null||!(ys&268435455)&&!(Ql&268435455)||Or(hn,gn)}function Dl(e,n){var s=ot;ot|=2;var c=z1();(hn!==e||gn!==n)&&(nr=null,fs(e,n));do try{Pm();break}catch(d){j1(e,d)}while(!0);if(ph(),ot=s,Ll.current=c,Yt!==null)throw Error(he(261));return hn=null,gn=0,en}function Pm(){for(;Yt!==null;)U1(Yt)}function Bm(){for(;Yt!==null&&!lp();)U1(Yt)}function U1(e){var n=Z1(e.alternate,e,Qn);e.memoizedProps=e.pendingProps,n===null?H1(e):Yt=n,Nh.current=null}function H1(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=Mm(s,n),s!==null){s.flags&=32767,Yt=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{en=6,Yt=null;return}}else if(s=bm(s,n,Qn),s!==null){Yt=s;return}if(n=n.sibling,n!==null){Yt=n;return}Yt=n=e}while(n!==null);en===0&&(en=5)}function us(e,n,s){var c=pt,d=gi.transition;try{gi.transition=null,pt=1,Fm(e,n,s,c)}finally{gi.transition=d,pt=c}return null}function Fm(e,n,s,c){do qs();while(kr!==null);if(ot&6)throw Error(he(327));s=e.finishedWork;var d=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(he(177));e.callbackNode=null,e.callbackPriority=0;var g=s.lanes|s.childLanes;if(yp(e,g),e===hn&&(Yt=hn=null,gn=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||qa||(qa=!0,W1(ml,function(){return qs(),null})),g=(s.flags&15990)!==0,s.subtreeFlags&15990||g){g=gi.transition,gi.transition=null;var _=pt;pt=1;var A=ot;ot|=4,Nh.current=null,Lm(e,s),P1(s,e),rm(mc),yl=!!pc,mc=pc=null,e.current=s,km(s),up(),ot=A,pt=_,gi.transition=g}else e.current=s;if(qa&&(qa=!1,kr=e,Rl=d),g=e.pendingLanes,g===0&&(jr=null),dp(s.stateNode),Un(e,Vt()),n!==null)for(c=e.onRecoverableError,s=0;s<n.length;s++)d=n[s],c(d.value,{componentStack:d.stack,digest:d.digest});if(kl)throw kl=!1,e=Pc,Pc=null,e;return Rl&1&&e.tag!==0&&qs(),g=e.pendingLanes,g&1?e===Bc?$o++:($o=0,Bc=e):$o=0,Yr(),null}function qs(){if(kr!==null){var e=C0(Rl),n=gi.transition,s=pt;try{if(gi.transition=null,pt=16>e?16:e,kr===null)var c=!1;else{if(e=kr,kr=null,Rl=0,ot&6)throw Error(he(331));var d=ot;for(ot|=4,Ae=e.current;Ae!==null;){var g=Ae,_=g.child;if(Ae.flags&16){var A=g.deletions;if(A!==null){for(var S=0;S<A.length;S++){var v=A[S];for(Ae=v;Ae!==null;){var k=Ae;switch(k.tag){case 0:case 11:case 15:qo(8,k,g)}var O=k.child;if(O!==null)O.return=k,Ae=O;else for(;Ae!==null;){k=Ae;var H=k.sibling,Y=k.return;if(k1(k),k===v){Ae=null;break}if(H!==null){H.return=Y,Ae=H;break}Ae=Y}}}var ee=g.alternate;if(ee!==null){var U=ee.child;if(U!==null){ee.child=null;do{var me=U.sibling;U.sibling=null,U=me}while(U!==null)}}Ae=g}}if(g.subtreeFlags&2064&&_!==null)_.return=g,Ae=_;else e:for(;Ae!==null;){if(g=Ae,g.flags&2048)switch(g.tag){case 0:case 11:case 15:qo(9,g,g.return)}var j=g.sibling;if(j!==null){j.return=g.return,Ae=j;break e}Ae=g.return}}var D=e.current;for(Ae=D;Ae!==null;){_=Ae;var P=_.child;if(_.subtreeFlags&2064&&P!==null)P.return=_,Ae=P;else e:for(_=D;Ae!==null;){if(A=Ae,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:Xl(9,A)}}catch(de){zt(A,A.return,de)}if(A===_){Ae=null;break e}var q=A.sibling;if(q!==null){q.return=A.return,Ae=q;break e}Ae=A.return}}if(ot=d,Yr(),Wi&&typeof Wi.onPostCommitFiberRoot=="function")try{Wi.onPostCommitFiberRoot(zl,e)}catch{}c=!0}return c}finally{pt=s,gi.transition=n}}return!1}function df(e,n,s){n=io(s,n),n=C1(e,n,1),e=Fr(e,n,1),n=Ln(),e!==null&&(wa(e,1,n),Un(e,n))}function zt(e,n,s){if(e.tag===3)df(e,e,s);else for(;n!==null;){if(n.tag===3){df(n,e,s);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(jr===null||!jr.has(c))){e=io(s,e),e=E1(n,e,1),n=Fr(n,e,1),e=Ln(),n!==null&&(wa(n,1,e),Un(n,e));break}}n=n.return}}function jm(e,n,s){var c=e.pingCache;c!==null&&c.delete(n),n=Ln(),e.pingedLanes|=e.suspendedLanes&s,hn===e&&(gn&s)===s&&(en===4||en===3&&(gn&130023424)===gn&&500>Vt()-Mh?fs(e,0):bh|=s),Un(e,n)}function V1(e,n){n===0&&(e.mode&1?(n=Ua,Ua<<=1,!(Ua&130023424)&&(Ua=4194304)):n=1);var s=Ln();e=cr(e,n),e!==null&&(wa(e,n,s),Un(e,s))}function zm(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),V1(e,s)}function Um(e,n){var s=0;switch(e.tag){case 13:var c=e.stateNode,d=e.memoizedState;d!==null&&(s=d.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(he(314))}c!==null&&c.delete(n),V1(e,s)}var Z1;Z1=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||jn.current)Fn=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return Fn=!1,Nm(e,n,s);Fn=!!(e.flags&131072)}else Fn=!1,Ot&&n.flags&1048576&&X0(n,Sl,n.index);switch(n.lanes=0,n.tag){case 2:var c=n.type;ll(e,n),e=n.pendingProps;var d=$s(n,En.current);Ks(n,s),d=Eh(null,n,c,e,d,s);var g=Ah();return n.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,zn(c)?(g=!0,El(n)):g=!1,n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,yh(n),d.updater=Yl,n.stateNode=d,d._reactInternals=n,Sc(n,c,e,s),n=Nc(null,n,c,!0,g,s)):(n.tag=0,Ot&&g&&hh(n),On(null,n,d,s),n=n.child),n;case 16:c=n.elementType;e:{switch(ll(e,n),e=n.pendingProps,d=c._init,c=d(c._payload),n.type=c,d=n.tag=Vm(c),e=Ti(c,e),d){case 0:n=Ic(null,n,c,e,s);break e;case 1:n=tf(null,n,c,e,s);break e;case 11:n=$d(null,n,c,e,s);break e;case 14:n=ef(null,n,c,Ti(c.type,e),s);break e}throw Error(he(306,c,""))}return n;case 0:return c=n.type,d=n.pendingProps,d=n.elementType===c?d:Ti(c,d),Ic(e,n,c,d,s);case 1:return c=n.type,d=n.pendingProps,d=n.elementType===c?d:Ti(c,d),tf(e,n,c,d,s);case 3:e:{if(I1(n),e===null)throw Error(he(387));c=n.pendingProps,g=n.memoizedState,d=g.element,e1(e,n),Nl(n,c,null,s);var _=n.memoizedState;if(c=_.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){d=io(Error(he(423)),n),n=nf(e,n,c,s,d);break e}else if(c!==d){d=io(Error(he(424)),n),n=nf(e,n,c,s,d);break e}else for(qn=Br(n.stateNode.containerInfo.firstChild),Jn=n,Ot=!0,bi=null,s=J0(n,null,c,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(eo(),c===d){n=hr(e,n,s);break e}On(e,n,c,s)}n=n.child}return n;case 5:return t1(n),e===null&&Cc(n),c=n.type,d=n.pendingProps,g=e!==null?e.memoizedProps:null,_=d.children,xc(c,d)?_=null:g!==null&&xc(c,g)&&(n.flags|=32),T1(e,n),On(e,n,_,s),n.child;case 6:return e===null&&Cc(n),null;case 13:return N1(e,n,s);case 4:return _h(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=to(n,null,c,s):On(e,n,c,s),n.child;case 11:return c=n.type,d=n.pendingProps,d=n.elementType===c?d:Ti(c,d),$d(e,n,c,d,s);case 7:return On(e,n,n.pendingProps,s),n.child;case 8:return On(e,n,n.pendingProps.children,s),n.child;case 12:return On(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(c=n.type._context,d=n.pendingProps,g=n.memoizedProps,_=d.value,Et(Tl,c._currentValue),c._currentValue=_,g!==null)if(Li(g.value,_)){if(g.children===d.children&&!jn.current){n=hr(e,n,s);break e}}else for(g=n.child,g!==null&&(g.return=n);g!==null;){var A=g.dependencies;if(A!==null){_=g.child;for(var S=A.firstContext;S!==null;){if(S.context===c){if(g.tag===1){S=ar(-1,s&-s),S.tag=2;var v=g.updateQueue;if(v!==null){v=v.shared;var k=v.pending;k===null?S.next=S:(S.next=k.next,k.next=S),v.pending=S}}g.lanes|=s,S=g.alternate,S!==null&&(S.lanes|=s),Ec(g.return,s,n),A.lanes|=s;break}S=S.next}}else if(g.tag===10)_=g.type===n.type?null:g.child;else if(g.tag===18){if(_=g.return,_===null)throw Error(he(341));_.lanes|=s,A=_.alternate,A!==null&&(A.lanes|=s),Ec(_,s,n),_=g.sibling}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===n){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}On(e,n,d.children,s),n=n.child}return n;case 9:return d=n.type,c=n.pendingProps.children,Ks(n,s),d=pi(d),c=c(d),n.flags|=1,On(e,n,c,s),n.child;case 14:return c=n.type,d=Ti(c,n.pendingProps),d=Ti(c.type,d),ef(e,n,c,d,s);case 15:return A1(e,n,n.type,n.pendingProps,s);case 17:return c=n.type,d=n.pendingProps,d=n.elementType===c?d:Ti(c,d),ll(e,n),n.tag=1,zn(c)?(e=!0,El(n)):e=!1,Ks(n,s),v1(n,c,d),Sc(n,c,d,s),Nc(null,n,c,!0,e,s);case 19:return b1(e,n,s);case 22:return S1(e,n,s)}throw Error(he(156,n.tag))};function W1(e,n){return y0(e,n)}function Hm(e,n,s,c){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(e,n,s,c){return new Hm(e,n,s,c)}function Rh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vm(e){if(typeof e=="function")return Rh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$c)return 11;if(e===eh)return 14}return 2}function Ur(e,n){var s=e.alternate;return s===null?(s=fi(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function hl(e,n,s,c,d,g){var _=2;if(c=e,typeof e=="function")Rh(e)&&(_=1);else if(typeof e=="string")_=5;else e:switch(e){case ks:return gs(s.children,d,g,n);case Jc:_=8,d|=8;break;case Qu:return e=fi(12,s,n,d|2),e.elementType=Qu,e.lanes=g,e;case Ku:return e=fi(13,s,n,d),e.elementType=Ku,e.lanes=g,e;case qu:return e=fi(19,s,n,d),e.elementType=qu,e.lanes=g,e;case t0:return Kl(s,d,g,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $f:_=10;break e;case e0:_=9;break e;case $c:_=11;break e;case eh:_=14;break e;case Nr:_=16,c=null;break e}throw Error(he(130,e==null?e:typeof e,""))}return n=fi(_,s,n,d),n.elementType=e,n.type=c,n.lanes=g,n}function gs(e,n,s,c){return e=fi(7,e,c,n),e.lanes=s,e}function Kl(e,n,s,c){return e=fi(22,e,c,n),e.elementType=t0,e.lanes=s,e.stateNode={isHidden:!1},e}function Uu(e,n,s){return e=fi(6,e,null,n),e.lanes=s,e}function Hu(e,n,s){return n=fi(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Zm(e,n,s,c,d){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cu(0),this.expirationTimes=Cu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cu(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Dh(e,n,s,c,d,g,_,A,S){return e=new Zm(e,n,s,A,S),n===1?(n=1,g===!0&&(n|=8)):n=0,g=fi(3,null,null,n),e.current=g,g.stateNode=e,g.memoizedState={element:c,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},yh(g),e}function Wm(e,n,s){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ls,key:c==null?null:""+c,children:e,containerInfo:n,implementation:s}}function G1(e){if(!e)return Vr;e=e._reactInternals;e:{if(vs(e)!==e||e.tag!==1)throw Error(he(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(zn(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(he(171))}if(e.tag===1){var s=e.type;if(zn(s))return G0(e,s,n)}return n}function Y1(e,n,s,c,d,g,_,A,S){return e=Dh(s,c,!0,e,d,g,_,A,S),e.context=G1(null),s=e.current,c=Ln(),d=zr(s),g=ar(c,d),g.callback=n??null,Fr(s,g,d),e.current.lanes=d,wa(e,d,c),Un(e,c),e}function ql(e,n,s,c){var d=n.current,g=Ln(),_=zr(d);return s=G1(s),n.context===null?n.context=s:n.pendingContext=s,n=ar(g,_),n.payload={element:e},c=c===void 0?null:c,c!==null&&(n.callback=c),e=Fr(d,n,_),e!==null&&(Oi(e,d,_,g),sl(e,d,_)),_}function Pl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ff(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Ph(e,n){ff(e,n),(e=e.alternate)&&ff(e,n)}function Gm(){return null}var X1=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bh(e){this._internalRoot=e}Jl.prototype.render=Bh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(he(409));ql(e,n,null,null)};Jl.prototype.unmount=Bh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;_s(function(){ql(null,e,null,null)}),n[ur]=null}};function Jl(e){this._internalRoot=e}Jl.prototype.unstable_scheduleHydration=function(e){if(e){var n=S0();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Mr.length&&n!==0&&n<Mr[s].priority;s++);Mr.splice(s,0,e),s===0&&I0(e)}};function Fh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gf(){}function Ym(e,n,s,c,d){if(d){if(typeof c=="function"){var g=c;c=function(){var v=Pl(_);g.call(v)}}var _=Y1(n,c,e,0,null,!1,!1,"",gf);return e._reactRootContainer=_,e[ur]=_.current,ca(e.nodeType===8?e.parentNode:e),_s(),_}for(;d=e.lastChild;)e.removeChild(d);if(typeof c=="function"){var A=c;c=function(){var v=Pl(S);A.call(v)}}var S=Dh(e,0,!1,null,null,!1,!1,"",gf);return e._reactRootContainer=S,e[ur]=S.current,ca(e.nodeType===8?e.parentNode:e),_s(function(){ql(n,S,s,c)}),S}function eu(e,n,s,c,d){var g=s._reactRootContainer;if(g){var _=g;if(typeof d=="function"){var A=d;d=function(){var S=Pl(_);A.call(S)}}ql(n,_,e,d)}else _=Ym(s,n,e,d,c);return Pl(_)}E0=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=Vo(n.pendingLanes);s!==0&&(ih(n,s|1),Un(n,Vt()),!(ot&6)&&(ro=Vt()+500,Yr()))}break;case 13:_s(function(){var c=cr(e,1);if(c!==null){var d=Ln();Oi(c,e,1,d)}}),Ph(e,1)}};rh=function(e){if(e.tag===13){var n=cr(e,134217728);if(n!==null){var s=Ln();Oi(n,e,134217728,s)}Ph(e,134217728)}};A0=function(e){if(e.tag===13){var n=zr(e),s=cr(e,n);if(s!==null){var c=Ln();Oi(s,e,n,c)}Ph(e,n)}};S0=function(){return pt};T0=function(e,n){var s=pt;try{return pt=e,n()}finally{pt=s}};ac=function(e,n,s){switch(n){case"input":if(ec(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var c=s[n];if(c!==e&&c.form===e.form){var d=Zl(c);if(!d)throw Error(he(90));i0(c),ec(c,d)}}}break;case"textarea":s0(e,s);break;case"select":n=s.value,n!=null&&Gs(e,!!s.multiple,n,!1)}};d0=Oh;f0=_s;var Xm={usingClientEntryPoint:!1,Events:[Ca,Bs,Zl,c0,h0,Oh]},zo={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qm={bundleType:zo.bundleType,version:zo.version,rendererPackageName:zo.rendererPackageName,rendererConfig:zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=m0(e),e===null?null:e.stateNode},findFiberByHostInstance:zo.findFiberByHostInstance||Gm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ja=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ja.isDisabled&&Ja.supportsFiber)try{zl=Ja.inject(Qm),Wi=Ja}catch{}}ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xm;ei.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fh(n))throw Error(he(200));return Wm(e,n,null,s)};ei.createRoot=function(e,n){if(!Fh(e))throw Error(he(299));var s=!1,c="",d=X1;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=Dh(e,1,!1,null,null,s,!1,c,d),e[ur]=n.current,ca(e.nodeType===8?e.parentNode:e),new Bh(n)};ei.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(he(188)):(e=Object.keys(e).join(","),Error(he(268,e)));return e=m0(n),e=e===null?null:e.stateNode,e};ei.flushSync=function(e){return _s(e)};ei.hydrate=function(e,n,s){if(!$l(n))throw Error(he(200));return eu(null,e,n,!0,s)};ei.hydrateRoot=function(e,n,s){if(!Fh(e))throw Error(he(405));var c=s!=null&&s.hydratedSources||null,d=!1,g="",_=X1;if(s!=null&&(s.unstable_strictMode===!0&&(d=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),n=Y1(n,null,e,1,s??null,d,!1,g,_),e[ur]=n.current,ca(e),c)for(e=0;e<c.length;e++)s=c[e],d=s._getVersion,d=d(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,d]:n.mutableSourceEagerHydrationData.push(s,d);return new Jl(n)};ei.render=function(e,n,s){if(!$l(n))throw Error(he(200));return eu(null,e,n,!1,s)};ei.unmountComponentAtNode=function(e){if(!$l(e))throw Error(he(40));return e._reactRootContainer?(_s(function(){eu(null,null,e,!1,function(){e._reactRootContainer=null,e[ur]=null})}),!0):!1};ei.unstable_batchedUpdates=Oh;ei.unstable_renderSubtreeIntoContainer=function(e,n,s,c){if(!$l(s))throw Error(he(200));if(e==null||e._reactInternals===void 0)throw Error(he(38));return eu(e,n,s,!1,c)};ei.version="18.3.1-next-f1338f8080-20240426";function Q1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q1)}catch(e){console.error(e)}}Q1(),Qf.exports=ei;var K1=Qf.exports,pf=K1;Yu.createRoot=pf.createRoot,Yu.hydrateRoot=pf.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Km={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),At=(e,n)=>{const s=ge.forwardRef(({color:c="currentColor",size:d=24,strokeWidth:g=2,absoluteStrokeWidth:_,className:A="",children:S,...v},k)=>ge.createElement("svg",{ref:k,...Km,width:d,height:d,stroke:c,strokeWidth:_?Number(g)*24/Number(d):g,className:["lucide",`lucide-${qm(e)}`,A].join(" "),...v},[...n.map(([O,H])=>ge.createElement(O,H)),...Array.isArray(S)?S:[S]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=At("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=At("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=At("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=At("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=At("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=At("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=At("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=At("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=At("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=At("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=At("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=At("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=At("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=At("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=At("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=At("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=At("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=At("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=At("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=At("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=At("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=At("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=At("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=At("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=At("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=At("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function J1(e,n){const s=ge.useRef(n);ge.useEffect(function(){n!==s.current&&e.attributionControl!=null&&(s.current!=null&&e.attributionControl.removeAttribution(s.current),n!=null&&e.attributionControl.addAttribution(n)),s.current=n},[e,n])}const gx=1;function px(e){return Object.freeze({__version:gx,map:e})}function $1(e,n){return Object.freeze({...e,...n})}const eg=ge.createContext(null),tg=eg.Provider;function tu(){const e=ge.useContext(eg);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function ng(e){function n(s,c){const{instance:d,context:g}=e(s).current;return ge.useImperativeHandle(c,()=>d),s.children==null?null:dl.createElement(tg,{value:g},s.children)}return ge.forwardRef(n)}function mx(e){function n(s,c){const[d,g]=ge.useState(!1),{instance:_}=e(s,g).current;ge.useImperativeHandle(c,()=>_),ge.useEffect(function(){d&&_.update()},[_,d,s.children]);const A=_._contentNode;return A?K1.createPortal(s.children,A):null}return ge.forwardRef(n)}function xx(e){function n(s,c){const{instance:d}=e(s).current;return ge.useImperativeHandle(c,()=>d),null}return ge.forwardRef(n)}function zh(e,n){const s=ge.useRef();ge.useEffect(function(){return n!=null&&e.instance.on(n),s.current=n,function(){s.current!=null&&e.instance.off(s.current),s.current=null}},[e,n])}function nu(e,n){const s=e.pane??n.pane;return s?{...e,pane:s}:e}function yx(e,n){return function(c,d){const g=tu(),_=e(nu(c,g),g);return J1(g.map,c.attribution),zh(_.current,c.eventHandlers),n(_.current,g,c,d),_}}var Uc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,n){(function(s,c){c(n)})(Os,function(s){var c="1.9.4";function d(r){var u,p,y,C;for(p=1,y=arguments.length;p<y;p++){C=arguments[p];for(u in C)r[u]=C[u]}return r}var g=Object.create||function(){function r(){}return function(u){return r.prototype=u,new r}}();function _(r,u){var p=Array.prototype.slice;if(r.bind)return r.bind.apply(r,p.call(arguments,1));var y=p.call(arguments,2);return function(){return r.apply(u,y.length?y.concat(p.call(arguments)):arguments)}}var A=0;function S(r){return"_leaflet_id"in r||(r._leaflet_id=++A),r._leaflet_id}function v(r,u,p){var y,C,b,B;return B=function(){y=!1,C&&(b.apply(p,C),C=!1)},b=function(){y?C=arguments:(r.apply(p,arguments),setTimeout(B,u),y=!0)},b}function k(r,u,p){var y=u[1],C=u[0],b=y-C;return r===y&&p?r:((r-C)%b+b)%b+C}function O(){return!1}function H(r,u){if(u===!1)return r;var p=Math.pow(10,u===void 0?6:u);return Math.round(r*p)/p}function Y(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function ee(r){return Y(r).split(/\s+/)}function U(r,u){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?g(r.options):{});for(var p in u)r.options[p]=u[p];return r.options}function me(r,u,p){var y=[];for(var C in r)y.push(encodeURIComponent(p?C.toUpperCase():C)+"="+encodeURIComponent(r[C]));return(!u||u.indexOf("?")===-1?"?":"&")+y.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function D(r,u){return r.replace(j,function(p,y){var C=u[y];if(C===void 0)throw new Error("No value provided for variable "+p);return typeof C=="function"&&(C=C(u)),C})}var P=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function q(r,u){for(var p=0;p<r.length;p++)if(r[p]===u)return p;return-1}var de="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ie(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var V=0;function ne(r){var u=+new Date,p=Math.max(0,16-(u-V));return V=u+p,window.setTimeout(r,p)}var $=window.requestAnimationFrame||ie("RequestAnimationFrame")||ne,be=window.cancelAnimationFrame||ie("CancelAnimationFrame")||ie("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function ze(r,u,p){if(p&&$===ne)r.call(u);else return $.call(window,_(r,u))}function Ce(r){r&&be.call(window,r)}var Ze={__proto__:null,extend:d,create:g,bind:_,get lastId(){return A},stamp:S,throttle:v,wrapNum:k,falseFn:O,formatNum:H,trim:Y,splitWords:ee,setOptions:U,getParamString:me,template:D,isArray:P,indexOf:q,emptyImageUrl:de,requestFn:$,cancelFn:be,requestAnimFrame:ze,cancelAnimFrame:Ce};function tt(){}tt.extend=function(r){var u=function(){U(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=u.__super__=this.prototype,y=g(p);y.constructor=u,u.prototype=y;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(u[C]=this[C]);return r.statics&&d(u,r.statics),r.includes&&(J(r.includes),d.apply(null,[y].concat(r.includes))),d(y,r),delete y.statics,delete y.includes,y.options&&(y.options=p.options?g(p.options):{},d(y.options,r.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var b=0,B=y._initHooks.length;b<B;b++)y._initHooks[b].call(this)}},u},tt.include=function(r){var u=this.prototype.options;return d(this.prototype,r),r.options&&(this.prototype.options=u,this.mergeOptions(r.options)),this},tt.mergeOptions=function(r){return d(this.prototype.options,r),this},tt.addInitHook=function(r){var u=Array.prototype.slice.call(arguments,1),p=typeof r=="function"?r:function(){this[r].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function J(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=P(r)?r:[r];for(var u=0;u<r.length;u++)r[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ye={on:function(r,u,p){if(typeof r=="object")for(var y in r)this._on(y,r[y],u);else{r=ee(r);for(var C=0,b=r.length;C<b;C++)this._on(r[C],u,p)}return this},off:function(r,u,p){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var y in r)this._off(y,r[y],u);else{r=ee(r);for(var C=arguments.length===1,b=0,B=r.length;b<B;b++)C?this._off(r[b]):this._off(r[b],u,p)}return this},_on:function(r,u,p,y){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(r,u,p)===!1){p===this&&(p=void 0);var C={fn:u,ctx:p};y&&(C.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(C)}},_off:function(r,u,p){var y,C,b;if(this._events&&(y=this._events[r],!!y)){if(arguments.length===1){if(this._firingCount)for(C=0,b=y.length;C<b;C++)y[C].fn=O;delete this._events[r];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var B=this._listens(r,u,p);if(B!==!1){var G=y[B];this._firingCount&&(G.fn=O,this._events[r]=y=y.slice()),y.splice(B,1)}}},fire:function(r,u,p){if(!this.listens(r,p))return this;var y=d({},u,{type:r,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var C=this._events[r];if(C){this._firingCount=this._firingCount+1||1;for(var b=0,B=C.length;b<B;b++){var G=C[b],K=G.fn;G.once&&this.off(r,K,G.ctx),K.call(G.ctx||this,y)}this._firingCount--}}return p&&this._propagateEvent(y),this},listens:function(r,u,p,y){typeof r!="string"&&console.warn('"string" type argument expected');var C=u;typeof u!="function"&&(y=!!u,C=void 0,p=void 0);var b=this._events&&this._events[r];if(b&&b.length&&this._listens(r,C,p)!==!1)return!0;if(y){for(var B in this._eventParents)if(this._eventParents[B].listens(r,u,p,y))return!0}return!1},_listens:function(r,u,p){if(!this._events)return!1;var y=this._events[r]||[];if(!u)return!!y.length;p===this&&(p=void 0);for(var C=0,b=y.length;C<b;C++)if(y[C].fn===u&&y[C].ctx===p)return C;return!1},once:function(r,u,p){if(typeof r=="object")for(var y in r)this._on(y,r[y],u,!0);else{r=ee(r);for(var C=0,b=r.length;C<b;C++)this._on(r[C],u,p,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[S(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[S(r)],this},_propagateEvent:function(r){for(var u in this._eventParents)this._eventParents[u].fire(r.type,d({layer:r.target,propagatedFrom:r.target},r),!0)}};Ye.addEventListener=Ye.on,Ye.removeEventListener=Ye.clearAllEventListeners=Ye.off,Ye.addOneTimeEventListener=Ye.once,Ye.fireEvent=Ye.fire,Ye.hasEventListeners=Ye.listens;var Le=tt.extend(Ye);function te(r,u,p){this.x=p?Math.round(r):r,this.y=p?Math.round(u):u}var Me=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};te.prototype={clone:function(){return new te(this.x,this.y)},add:function(r){return this.clone()._add(le(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(le(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new te(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new te(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Me(this.x),this.y=Me(this.y),this},distanceTo:function(r){r=le(r);var u=r.x-this.x,p=r.y-this.y;return Math.sqrt(u*u+p*p)},equals:function(r){return r=le(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=le(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+H(this.x)+", "+H(this.y)+")"}};function le(r,u,p){return r instanceof te?r:P(r)?new te(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new te(r.x,r.y):new te(r,u,p)}function Re(r,u){if(r)for(var p=u?[r,u]:r,y=0,C=p.length;y<C;y++)this.extend(p[y])}Re.prototype={extend:function(r){var u,p;if(!r)return this;if(r instanceof te||typeof r[0]=="number"||"x"in r)u=p=le(r);else if(r=ke(r),u=r.min,p=r.max,!u||!p)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=p.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(r){return le((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return le(this.min.x,this.max.y)},getTopRight:function(){return le(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var u,p;return typeof r[0]=="number"||r instanceof te?r=le(r):r=ke(r),r instanceof Re?(u=r.min,p=r.max):u=p=r,u.x>=this.min.x&&p.x<=this.max.x&&u.y>=this.min.y&&p.y<=this.max.y},intersects:function(r){r=ke(r);var u=this.min,p=this.max,y=r.min,C=r.max,b=C.x>=u.x&&y.x<=p.x,B=C.y>=u.y&&y.y<=p.y;return b&&B},overlaps:function(r){r=ke(r);var u=this.min,p=this.max,y=r.min,C=r.max,b=C.x>u.x&&y.x<p.x,B=C.y>u.y&&y.y<p.y;return b&&B},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var u=this.min,p=this.max,y=Math.abs(u.x-p.x)*r,C=Math.abs(u.y-p.y)*r;return ke(le(u.x-y,u.y-C),le(p.x+y,p.y+C))},equals:function(r){return r?(r=ke(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function ke(r,u){return!r||r instanceof Re?r:new Re(r,u)}function ht(r,u){if(r)for(var p=u?[r,u]:r,y=0,C=p.length;y<C;y++)this.extend(p[y])}ht.prototype={extend:function(r){var u=this._southWest,p=this._northEast,y,C;if(r instanceof Ve)y=r,C=r;else if(r instanceof ht){if(y=r._southWest,C=r._northEast,!y||!C)return this}else return r?this.extend(ae(r)||Be(r)):this;return!u&&!p?(this._southWest=new Ve(y.lat,y.lng),this._northEast=new Ve(C.lat,C.lng)):(u.lat=Math.min(y.lat,u.lat),u.lng=Math.min(y.lng,u.lng),p.lat=Math.max(C.lat,p.lat),p.lng=Math.max(C.lng,p.lng)),this},pad:function(r){var u=this._southWest,p=this._northEast,y=Math.abs(u.lat-p.lat)*r,C=Math.abs(u.lng-p.lng)*r;return new ht(new Ve(u.lat-y,u.lng-C),new Ve(p.lat+y,p.lng+C))},getCenter:function(){return new Ve((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ve(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ve(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof Ve||"lat"in r?r=ae(r):r=Be(r);var u=this._southWest,p=this._northEast,y,C;return r instanceof ht?(y=r.getSouthWest(),C=r.getNorthEast()):y=C=r,y.lat>=u.lat&&C.lat<=p.lat&&y.lng>=u.lng&&C.lng<=p.lng},intersects:function(r){r=Be(r);var u=this._southWest,p=this._northEast,y=r.getSouthWest(),C=r.getNorthEast(),b=C.lat>=u.lat&&y.lat<=p.lat,B=C.lng>=u.lng&&y.lng<=p.lng;return b&&B},overlaps:function(r){r=Be(r);var u=this._southWest,p=this._northEast,y=r.getSouthWest(),C=r.getNorthEast(),b=C.lat>u.lat&&y.lat<p.lat,B=C.lng>u.lng&&y.lng<p.lng;return b&&B},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,u){return r?(r=Be(r),this._southWest.equals(r.getSouthWest(),u)&&this._northEast.equals(r.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Be(r,u){return r instanceof ht?r:new ht(r,u)}function Ve(r,u,p){if(isNaN(r)||isNaN(u))throw new Error("Invalid LatLng object: ("+r+", "+u+")");this.lat=+r,this.lng=+u,p!==void 0&&(this.alt=+p)}Ve.prototype={equals:function(r,u){if(!r)return!1;r=ae(r);var p=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return p<=(u===void 0?1e-9:u)},toString:function(r){return"LatLng("+H(this.lat,r)+", "+H(this.lng,r)+")"},distanceTo:function(r){return _e.distance(this,ae(r))},wrap:function(){return _e.wrapLatLng(this)},toBounds:function(r){var u=180*r/40075017,p=u/Math.cos(Math.PI/180*this.lat);return Be([this.lat-u,this.lng-p],[this.lat+u,this.lng+p])},clone:function(){return new Ve(this.lat,this.lng,this.alt)}};function ae(r,u,p){return r instanceof Ve?r:P(r)&&typeof r[0]!="object"?r.length===3?new Ve(r[0],r[1],r[2]):r.length===2?new Ve(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new Ve(r.lat,"lng"in r?r.lng:r.lon,r.alt):u===void 0?null:new Ve(r,u,p)}var pe={latLngToPoint:function(r,u){var p=this.projection.project(r),y=this.scale(u);return this.transformation._transform(p,y)},pointToLatLng:function(r,u){var p=this.scale(u),y=this.transformation.untransform(r,p);return this.projection.unproject(y)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var u=this.projection.bounds,p=this.scale(r),y=this.transformation.transform(u.min,p),C=this.transformation.transform(u.max,p);return new Re(y,C)},infinite:!1,wrapLatLng:function(r){var u=this.wrapLng?k(r.lng,this.wrapLng,!0):r.lng,p=this.wrapLat?k(r.lat,this.wrapLat,!0):r.lat,y=r.alt;return new Ve(p,u,y)},wrapLatLngBounds:function(r){var u=r.getCenter(),p=this.wrapLatLng(u),y=u.lat-p.lat,C=u.lng-p.lng;if(y===0&&C===0)return r;var b=r.getSouthWest(),B=r.getNorthEast(),G=new Ve(b.lat-y,b.lng-C),K=new Ve(B.lat-y,B.lng-C);return new ht(G,K)}},_e=d({},pe,{wrapLng:[-180,180],R:6371e3,distance:function(r,u){var p=Math.PI/180,y=r.lat*p,C=u.lat*p,b=Math.sin((u.lat-r.lat)*p/2),B=Math.sin((u.lng-r.lng)*p/2),G=b*b+Math.cos(y)*Math.cos(C)*B*B,K=2*Math.atan2(Math.sqrt(G),Math.sqrt(1-G));return this.R*K}}),rt=6378137,Xt={R:rt,MAX_LATITUDE:85.0511287798,project:function(r){var u=Math.PI/180,p=this.MAX_LATITUDE,y=Math.max(Math.min(p,r.lat),-p),C=Math.sin(y*u);return new te(this.R*r.lng*u,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(r){var u=180/Math.PI;return new Ve((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*u,r.x*u/this.R)},bounds:function(){var r=rt*Math.PI;return new Re([-r,-r],[r,r])}()};function tn(r,u,p,y){if(P(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=u,this._c=p,this._d=y}tn.prototype={transform:function(r,u){return this._transform(r.clone(),u)},_transform:function(r,u){return u=u||1,r.x=u*(this._a*r.x+this._b),r.y=u*(this._c*r.y+this._d),r},untransform:function(r,u){return u=u||1,new te((r.x/u-this._b)/this._a,(r.y/u-this._d)/this._c)}};function ki(r,u,p,y){return new tn(r,u,p,y)}var Je=d({},_e,{code:"EPSG:3857",projection:Xt,transformation:function(){var r=.5/(Math.PI*Xt.R);return ki(r,.5,-r,.5)}()}),fr=d({},Je,{code:"EPSG:900913"});function Hn(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function gr(r,u){var p="",y,C,b,B,G,K;for(y=0,b=r.length;y<b;y++){for(G=r[y],C=0,B=G.length;C<B;C++)K=G[C],p+=(C?"L":"M")+K.x+" "+K.y;p+=u?Te.svg?"z":"x":""}return p||"M0 0"}var Ut=document.documentElement.style,lt="ActiveXObject"in window,$e=lt&&!document.addEventListener,Xr="msLaunchUri"in navigator&&!("documentMode"in document),Se=St("webkit"),Qr=St("android"),uo=St("android 2")||St("android 3"),xi=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),co=Qr&&St("Google")&&xi<537&&!("AudioNode"in window),An=!!window.opera,ho=!Xr&&St("chrome"),yi=St("gecko")&&!Se&&!An&&!lt,dn=!ho&&St("safari"),fo=St("phantom"),Kr="OTransition"in Ut,su=navigator.platform.indexOf("Win")===0,Lt=lt&&"transition"in Ut,fe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!uo,Ft="MozPerspective"in Ut,dt=!window.L_DISABLE_3D&&(Lt||fe||Ft)&&!Kr&&!fo,mt=typeof orientation<"u"||St("mobile"),qr=mt&&Se,go=mt&&fe,po=!window.PointerEvent&&window.MSPointerEvent,nt=!!(window.PointerEvent||po),Ri="ontouchstart"in window||!!window.TouchEvent,Aa=!window.L_NO_TOUCH&&(Ri||nt),Sa=mt&&An,Vn=mt&&yi,mo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,nn=function(){var r=!1;try{var u=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",O,u),window.removeEventListener("testPassiveEventSupport",O,u)}catch{}return r}(),pr=function(){return!!document.createElement("canvas").getContext}(),mr=!!(document.createElementNS&&Hn("svg").createSVGRect),ni=!!mr&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ou=!mr&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var u=r.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),Yi=navigator.platform.indexOf("Mac")===0,xo=navigator.platform.indexOf("Linux")===0;function St(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Te={ie:lt,ielt9:$e,edge:Xr,webkit:Se,android:Qr,android23:uo,androidStock:co,opera:An,chrome:ho,gecko:yi,safari:dn,phantom:fo,opera12:Kr,win:su,ie3d:Lt,webkit3d:fe,gecko3d:Ft,any3d:dt,mobile:mt,mobileWebkit:qr,mobileWebkit3d:go,msPointer:po,pointer:nt,touch:Aa,touchNative:Ri,mobileOpera:Sa,mobileGecko:Vn,retina:mo,passiveEvents:nn,canvas:pr,svg:mr,vml:ou,inlineSvg:ni,mac:Yi,linux:xo},Sn=Te.msPointer?"MSPointerDown":"pointerdown",we=Te.msPointer?"MSPointerMove":"pointermove",Xi=Te.msPointer?"MSPointerUp":"pointerup",Cs=Te.msPointer?"MSPointerCancel":"pointercancel",rn={touchstart:Sn,touchmove:we,touchend:Xi,touchcancel:Cs},Qi={touchstart:Di,touchmove:$r,touchend:$r,touchcancel:$r},_i={},Jr=!1;function ii(r,u,p){return u==="touchstart"&&wt(),Qi[u]?(p=Qi[u].bind(this,p),r.addEventListener(rn[u],p,!1),p):(console.warn("wrong event specified:",u),O)}function au(r,u,p){if(!rn[u]){console.warn("wrong event specified:",u);return}r.removeEventListener(rn[u],p,!1)}function lu(r){_i[r.pointerId]=r}function ri(r){_i[r.pointerId]&&(_i[r.pointerId]=r)}function sn(r){delete _i[r.pointerId]}function wt(){Jr||(document.addEventListener(Sn,lu,!0),document.addEventListener(we,ri,!0),document.addEventListener(Xi,sn,!0),document.addEventListener(Cs,sn,!0),Jr=!0)}function $r(r,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var p in _i)u.touches.push(_i[p]);u.changedTouches=[u],r(u)}}function Di(r,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Kt(u),$r(r,u)}function yo(r){var u={},p,y;for(y in r)p=r[y],u[y]=p&&p.bind?p.bind(r):p;return r=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var re=200;function uu(r,u){r.addEventListener("dblclick",u);var p=0,y;function C(b){if(b.detail!==1){y=b.detail;return}if(!(b.pointerType==="mouse"||b.sourceCapabilities&&!b.sourceCapabilities.firesTouchEvents)){var B=yr(b);if(!(B.some(function(K){return K instanceof HTMLLabelElement&&K.attributes.for})&&!B.some(function(K){return K instanceof HTMLInputElement||K instanceof HTMLSelectElement}))){var G=Date.now();G-p<=re?(y++,y===2&&u(yo(b))):y=1,p=G}}}return r.addEventListener("click",C),{dblclick:u,simDblclick:C}}function Mt(r,u){r.removeEventListener("dblclick",u.dblclick),r.removeEventListener("click",u.simDblclick)}var Pi=W(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),es=W(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),st=es==="webkitTransition"||es==="OTransition"?es+"End":"transitionend";function it(r){return typeof r=="string"?document.getElementById(r):r}function He(r,u){var p=r.style[u]||r.currentStyle&&r.currentStyle[u];if((!p||p==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(r,null);p=y?y[u]:null}return p==="auto"?null:p}function qe(r,u,p){var y=document.createElement(r);return y.className=u||"",p&&p.appendChild(y),y}function yt(r){var u=r.parentNode;u&&u.removeChild(r)}function xr(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function vt(r){var u=r.parentNode;u&&u.lastChild!==r&&u.appendChild(r)}function Tn(r){var u=r.parentNode;u&&u.firstChild!==r&&u.insertBefore(r,u.firstChild)}function _o(r,u){if(r.classList!==void 0)return r.classList.contains(u);var p=wi(r);return p.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(p)}function Ie(r,u){if(r.classList!==void 0)for(var p=ee(u),y=0,C=p.length;y<C;y++)r.classList.add(p[y]);else if(!_o(r,u)){var b=wi(r);wo(r,(b?b+" ":"")+u)}}function ut(r,u){r.classList!==void 0?r.classList.remove(u):wo(r,Y((" "+wi(r)+" ").replace(" "+u+" "," ")))}function wo(r,u){r.className.baseVal===void 0?r.className=u:r.className.baseVal=u}function wi(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function We(r,u){"opacity"in r.style?r.style.opacity=u:"filter"in r.style&&on(r,u)}function on(r,u){var p=!1,y="DXImageTransform.Microsoft.Alpha";try{p=r.filters.item(y)}catch{if(u===1)return}u=Math.round(u*100),p?(p.Enabled=u!==100,p.Opacity=u):r.style.filter+=" progid:"+y+"(opacity="+u+")"}function W(r){for(var u=document.documentElement.style,p=0;p<r.length;p++)if(r[p]in u)return r[p];return!1}function M(r,u,p){var y=u||new te(0,0);r.style[Pi]=(Te.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(p?" scale("+p+")":"")}function xe(r,u){r._leaflet_pos=u,Te.any3d?M(r,u):(r.style.left=u.x+"px",r.style.top=u.y+"px")}function Ct(r){return r._leaflet_pos||new te(0,0)}var an,ts,ns;if("onselectstart"in document)an=function(){Pe(window,"selectstart",Kt)},ts=function(){ye(window,"selectstart",Kt)};else{var ln=W(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);an=function(){if(ln){var r=document.documentElement.style;ns=r[ln],r[ln]="none"}},ts=function(){ln&&(document.documentElement.style[ln]=ns,ns=void 0)}}function Ne(){Pe(window,"dragstart",Kt)}function _t(){ye(window,"dragstart",Kt)}var is,vo;function rs(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Ki(),is=r,vo=r.style.outlineStyle,r.style.outlineStyle="none",Pe(window,"keydown",Ki))}function Ki(){is&&(is.style.outlineStyle=vo,is=void 0,vo=void 0,ye(window,"keydown",Ki))}function Es(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Co(r){var u=r.getBoundingClientRect();return{x:u.width/r.offsetWidth||1,y:u.height/r.offsetHeight||1,boundingClientRect:u}}var Zt={__proto__:null,TRANSFORM:Pi,TRANSITION:es,TRANSITION_END:st,get:it,getStyle:He,create:qe,remove:yt,empty:xr,toFront:vt,toBack:Tn,hasClass:_o,addClass:Ie,removeClass:ut,setClass:wo,getClass:wi,setOpacity:We,testProp:W,setTransform:M,setPosition:xe,getPosition:Ct,get disableTextSelection(){return an},get enableTextSelection(){return ts},disableImageDrag:Ne,enableImageDrag:_t,preventOutline:rs,restoreOutline:Ki,getSizedParentNode:Es,getScale:Co};function Pe(r,u,p,y){if(u&&typeof u=="object")for(var C in u)Ht(r,C,u[C],p);else{u=ee(u);for(var b=0,B=u.length;b<B;b++)Ht(r,u[b],p,y)}return this}var Qt="_leaflet_events";function ye(r,u,p,y){if(arguments.length===1)Ta(r),delete r[Qt];else if(u&&typeof u=="object")for(var C in u)Eo(r,C,u[C],p);else if(u=ee(u),arguments.length===2)Ta(r,function(G){return q(u,G)!==-1});else for(var b=0,B=u.length;b<B;b++)Eo(r,u[b],p,y);return this}function Ta(r,u){for(var p in r[Qt]){var y=p.split(/\d/)[0];(!u||u(y))&&Eo(r,y,null,null,p)}}var Fe={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ht(r,u,p,y){var C=u+S(p)+(y?"_"+S(y):"");if(r[Qt]&&r[Qt][C])return this;var b=function(G){return p.call(y||r,G||window.event)},B=b;!Te.touchNative&&Te.pointer&&u.indexOf("touch")===0?b=ii(r,u,b):Te.touch&&u==="dblclick"?b=uu(r,b):"addEventListener"in r?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?r.addEventListener(Fe[u]||u,b,Te.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(b=function(G){G=G||window.event,qi(r,G)&&B(G)},r.addEventListener(Fe[u],b,!1)):r.addEventListener(u,B,!1):r.attachEvent("on"+u,b),r[Qt]=r[Qt]||{},r[Qt][C]=b}function Eo(r,u,p,y,C){C=C||u+S(p)+(y?"_"+S(y):"");var b=r[Qt]&&r[Qt][C];if(!b)return this;!Te.touchNative&&Te.pointer&&u.indexOf("touch")===0?au(r,u,b):Te.touch&&u==="dblclick"?Mt(r,b):"removeEventListener"in r?r.removeEventListener(Fe[u]||u,b,!1):r.detachEvent("on"+u,b),r[Qt][C]=null}function vi(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function As(r){return Ht(r,"wheel",vi),this}function Zn(r){return Pe(r,"mousedown touchstart dblclick contextmenu",vi),r._leaflet_disable_click=!0,this}function Kt(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function Wn(r){return Kt(r),vi(r),this}function yr(r){if(r.composedPath)return r.composedPath();for(var u=[],p=r.target;p;)u.push(p),p=p.parentNode;return u}function _r(r,u){if(!u)return new te(r.clientX,r.clientY);var p=Co(u),y=p.boundingClientRect;return new te((r.clientX-y.left)/p.x-u.clientLeft,(r.clientY-y.top)/p.y-u.clientTop)}var Ia=Te.linux&&Te.chrome?window.devicePixelRatio:Te.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function wr(r){return Te.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Ia:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function qi(r,u){var p=u.relatedTarget;if(!p)return!0;try{for(;p&&p!==r;)p=p.parentNode}catch{return!1}return p!==r}var mn={__proto__:null,on:Pe,off:ye,stopPropagation:vi,disableScrollPropagation:As,disableClickPropagation:Zn,preventDefault:Kt,stop:Wn,getPropagationPath:yr,getMousePosition:_r,getWheelDelta:wr,isExternalTarget:qi,addListener:Pe,removeListener:ye},Ao=Le.extend({run:function(r,u,p,y){this.stop(),this._el=r,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=Ct(r),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ze(this._animate,this),this._step()},_step:function(r){var u=+new Date-this._startTime,p=this._duration*1e3;u<p?this._runFrame(this._easeOut(u/p),r):(this._runFrame(1),this._complete())},_runFrame:function(r,u){var p=this._startPos.add(this._offset.multiplyBy(r));u&&p._round(),xe(this._el,p),this.fire("step")},_complete:function(){Ce(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Qe=Le.extend({options:{crs:Je,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,u){u=U(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=_(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(ae(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=es&&Te.any3d&&!Te.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Pe(this._proxy,st,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,u,p){if(u=u===void 0?this._zoom:this._limitZoom(u),r=this._limitCenter(ae(r),u,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=d({animate:p.animate},p.zoom),p.pan=d({animate:p.animate,duration:p.duration},p.pan));var y=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,u,p.zoom):this._tryAnimatedPan(r,p.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(r,u,p.pan&&p.pan.noMoveStart),this},setZoom:function(r,u){return this._loaded?this.setView(this.getCenter(),r,{zoom:u}):(this._zoom=r,this)},zoomIn:function(r,u){return r=r||(Te.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,u)},zoomOut:function(r,u){return r=r||(Te.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,u)},setZoomAround:function(r,u,p){var y=this.getZoomScale(u),C=this.getSize().divideBy(2),b=r instanceof te?r:this.latLngToContainerPoint(r),B=b.subtract(C).multiplyBy(1-1/y),G=this.containerPointToLatLng(C.add(B));return this.setView(G,u,{zoom:p})},_getBoundsCenterZoom:function(r,u){u=u||{},r=r.getBounds?r.getBounds():Be(r);var p=le(u.paddingTopLeft||u.padding||[0,0]),y=le(u.paddingBottomRight||u.padding||[0,0]),C=this.getBoundsZoom(r,!1,p.add(y));if(C=typeof u.maxZoom=="number"?Math.min(u.maxZoom,C):C,C===1/0)return{center:r.getCenter(),zoom:C};var b=y.subtract(p).divideBy(2),B=this.project(r.getSouthWest(),C),G=this.project(r.getNorthEast(),C),K=this.unproject(B.add(G).divideBy(2).add(b),C);return{center:K,zoom:C}},fitBounds:function(r,u){if(r=Be(r),!r.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(r,u);return this.setView(p.center,p.zoom,u)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,u){return this.setView(r,this._zoom,{pan:u})},panBy:function(r,u){if(r=le(r).round(),u=u||{},!r.x&&!r.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ao,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Ie(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,p,u.duration||.25,u.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,u,p){if(p=p||{},p.animate===!1||!Te.any3d)return this.setView(r,u,p);this._stop();var y=this.project(this.getCenter()),C=this.project(r),b=this.getSize(),B=this._zoom;r=ae(r),u=u===void 0?B:u;var G=Math.max(b.x,b.y),K=G*this.getZoomScale(B,u),se=C.distanceTo(y)||1,ve=1.42,De=ve*ve;function Xe(Gt){var Da=Gt?-1:1,vg=Gt?K:G,Cg=K*K-G*G+Da*De*De*se*se,Eg=2*vg*De*se,mu=Cg/Eg,sd=Math.sqrt(mu*mu+1)-mu,Ag=sd<1e-9?-18:Math.log(sd);return Ag}function Mn(Gt){return(Math.exp(Gt)-Math.exp(-Gt))/2}function un(Gt){return(Math.exp(Gt)+Math.exp(-Gt))/2}function ci(Gt){return Mn(Gt)/un(Gt)}var Pn=Xe(0);function bs(Gt){return G*(un(Pn)/un(Pn+ve*Gt))}function xg(Gt){return G*(un(Pn)*ci(Pn+ve*Gt)-Mn(Pn))/De}function yg(Gt){return 1-Math.pow(1-Gt,1.5)}var _g=Date.now(),id=(Xe(1)-Pn)/ve,wg=p.duration?1e3*p.duration:1e3*id*.8;function rd(){var Gt=(Date.now()-_g)/wg,Da=yg(Gt)*id;Gt<=1?(this._flyToFrame=ze(rd,this),this._move(this.unproject(y.add(C.subtract(y).multiplyBy(xg(Da)/se)),B),this.getScaleZoom(G/bs(Da),B),{flyTo:!0})):this._move(r,u)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),rd.call(this),this},flyToBounds:function(r,u){var p=this._getBoundsCenterZoom(r,u);return this.flyTo(p.center,p.zoom,u)},setMaxBounds:function(r){return r=Be(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var u=this.options.minZoom;return this.options.minZoom=r,this._loaded&&u!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var u=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&u!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,u){this._enforcingBounds=!0;var p=this.getCenter(),y=this._limitCenter(p,this._zoom,Be(r));return p.equals(y)||this.panTo(y,u),this._enforcingBounds=!1,this},panInside:function(r,u){u=u||{};var p=le(u.paddingTopLeft||u.padding||[0,0]),y=le(u.paddingBottomRight||u.padding||[0,0]),C=this.project(this.getCenter()),b=this.project(r),B=this.getPixelBounds(),G=ke([B.min.add(p),B.max.subtract(y)]),K=G.getSize();if(!G.contains(b)){this._enforcingBounds=!0;var se=b.subtract(G.getCenter()),ve=G.extend(b).getSize().subtract(K);C.x+=se.x<0?-ve.x:ve.x,C.y+=se.y<0?-ve.y:ve.y,this.panTo(this.unproject(C),u),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=d({animate:!1,pan:!0},r===!0?{animate:!0}:r);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),y=u.divideBy(2).round(),C=p.divideBy(2).round(),b=y.subtract(C);return!b.x&&!b.y?this:(r.animate&&r.pan?this.panBy(b):(r.pan&&this._rawPanBy(b),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(_(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=d({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=_(this._handleGeolocationResponse,this),p=_(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,p,r):navigator.geolocation.getCurrentPosition(u,p,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var u=r.code,p=r.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var u=r.coords.latitude,p=r.coords.longitude,y=new Ve(u,p),C=y.toBounds(r.coords.accuracy*2),b=this._locateOptions;if(b.setView){var B=this.getBoundsZoom(C);this.setView(y,b.maxZoom?Math.min(B,b.maxZoom):B)}var G={latlng:y,bounds:C,timestamp:r.timestamp};for(var K in r.coords)typeof r.coords[K]=="number"&&(G[K]=r.coords[K]);this.fire("locationfound",G)}},addHandler:function(r,u){if(!u)return this;var p=this[r]=new u(this);return this._handlers.push(p),this.options[r]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),yt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ce(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)yt(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,u){var p="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),y=qe("div",p,u||this._mapPane);return r&&(this._panes[r]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),u=this.unproject(r.getBottomLeft()),p=this.unproject(r.getTopRight());return new ht(u,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,u,p){r=Be(r),p=le(p||[0,0]);var y=this.getZoom()||0,C=this.getMinZoom(),b=this.getMaxZoom(),B=r.getNorthWest(),G=r.getSouthEast(),K=this.getSize().subtract(p),se=ke(this.project(G,y),this.project(B,y)).getSize(),ve=Te.any3d?this.options.zoomSnap:1,De=K.x/se.x,Xe=K.y/se.y,Mn=u?Math.max(De,Xe):Math.min(De,Xe);return y=this.getScaleZoom(Mn,y),ve&&(y=Math.round(y/(ve/100))*(ve/100),y=u?Math.ceil(y/ve)*ve:Math.floor(y/ve)*ve),Math.max(C,Math.min(b,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new te(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,u){var p=this._getTopLeftPoint(r,u);return new Re(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,u){var p=this.options.crs;return u=u===void 0?this._zoom:u,p.scale(r)/p.scale(u)},getScaleZoom:function(r,u){var p=this.options.crs;u=u===void 0?this._zoom:u;var y=p.zoom(r*p.scale(u));return isNaN(y)?1/0:y},project:function(r,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(ae(r),u)},unproject:function(r,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(le(r),u)},layerPointToLatLng:function(r){var u=le(r).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(r){var u=this.project(ae(r))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(ae(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(Be(r))},distance:function(r,u){return this.options.crs.distance(ae(r),ae(u))},containerPointToLayerPoint:function(r){return le(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return le(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var u=this.containerPointToLayerPoint(le(r));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ae(r)))},mouseEventToContainerPoint:function(r){return _r(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var u=this._container=it(r);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Pe(u,"scroll",this._onScroll,this),this._containerId=S(u)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Te.any3d,Ie(r,"leaflet-container"+(Te.touch?" leaflet-touch":"")+(Te.retina?" leaflet-retina":"")+(Te.ielt9?" leaflet-oldie":"")+(Te.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=He(r,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),xe(this._mapPane,new te(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ie(r.markerPane,"leaflet-zoom-hide"),Ie(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,u,p){xe(this._mapPane,new te(0,0));var y=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var C=this._zoom!==u;this._moveStart(C,p)._move(r,u)._moveEnd(C),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(r,u){return r&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(r,u,p,y){u===void 0&&(u=this._zoom);var C=this._zoom!==u;return this._zoom=u,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),y?p&&p.pinch&&this.fire("zoom",p):((C||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ce(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){xe(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[S(this._container)]=this;var u=r?ye:Pe;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Te.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ce(this._resizeRequest),this._resizeRequest=ze(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,u){for(var p=[],y,C=u==="mouseout"||u==="mouseover",b=r.target||r.srcElement,B=!1;b;){if(y=this._targets[S(b)],y&&(u==="click"||u==="preclick")&&this._draggableMoved(y)){B=!0;break}if(y&&y.listens(u,!0)&&(C&&!qi(b,r)||(p.push(y),C))||b===this._container)break;b=b.parentNode}return!p.length&&!B&&!C&&this.listens(u,!0)&&(p=[this]),p},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var u=r.target||r.srcElement;if(!(!this._loaded||u._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(u))){var p=r.type;p==="mousedown"&&rs(u),this._fireDOMEvent(r,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,u,p){if(r.type==="click"){var y=d({},r);y.type="preclick",this._fireDOMEvent(y,y.type,p)}var C=this._findEventTargets(r,u);if(p){for(var b=[],B=0;B<p.length;B++)p[B].listens(u,!0)&&b.push(p[B]);C=b.concat(C)}if(C.length){u==="contextmenu"&&Kt(r);var G=C[0],K={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var se=G.getLatLng&&(!G._radius||G._radius<=10);K.containerPoint=se?this.latLngToContainerPoint(G.getLatLng()):this.mouseEventToContainerPoint(r),K.layerPoint=this.containerPointToLayerPoint(K.containerPoint),K.latlng=se?G.getLatLng():this.layerPointToLatLng(K.layerPoint)}for(B=0;B<C.length;B++)if(C[B].fire(u,K,!0),K.originalEvent._stopped||C[B].options.bubblingMouseEvents===!1&&q(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,u=this._handlers.length;r<u;r++)this._handlers[r].disable()},whenReady:function(r,u){return this._loaded?r.call(u||this,{target:this}):this.on("load",r,u),this},_getMapPanePos:function(){return Ct(this._mapPane)||new te(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,u){var p=r&&u!==void 0?this._getNewPixelOrigin(r,u):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,u){var p=this.getSize()._divideBy(2);return this.project(r,u)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,u,p){var y=this._getNewPixelOrigin(p,u);return this.project(r,u)._subtract(y)},_latLngBoundsToNewLayerBounds:function(r,u,p){var y=this._getNewPixelOrigin(p,u);return ke([this.project(r.getSouthWest(),u)._subtract(y),this.project(r.getNorthWest(),u)._subtract(y),this.project(r.getSouthEast(),u)._subtract(y),this.project(r.getNorthEast(),u)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,u,p){if(!p)return r;var y=this.project(r,u),C=this.getSize().divideBy(2),b=new Re(y.subtract(C),y.add(C)),B=this._getBoundsOffset(b,p,u);return Math.abs(B.x)<=1&&Math.abs(B.y)<=1?r:this.unproject(y.add(B),u)},_limitOffset:function(r,u){if(!u)return r;var p=this.getPixelBounds(),y=new Re(p.min.add(r),p.max.add(r));return r.add(this._getBoundsOffset(y,u))},_getBoundsOffset:function(r,u,p){var y=ke(this.project(u.getNorthEast(),p),this.project(u.getSouthWest(),p)),C=y.min.subtract(r.min),b=y.max.subtract(r.max),B=this._rebound(C.x,-b.x),G=this._rebound(C.y,-b.y);return new te(B,G)},_rebound:function(r,u){return r+u>0?Math.round(r-u)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(u))},_limitZoom:function(r){var u=this.getMinZoom(),p=this.getMaxZoom(),y=Te.any3d?this.options.zoomSnap:1;return y&&(r=Math.round(r/y)*y),Math.max(u,Math.min(p,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ut(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,u){var p=this._getCenterOffset(r)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,u),!0)},_createAnimProxy:function(){var r=this._proxy=qe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(u){var p=Pi,y=this._proxy.style[p];M(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),y===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){yt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),u=this.getZoom();M(this._proxy,this.project(r,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,u,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(u),C=this._getCenterOffset(r)._divideBy(1-1/y);return p.animate!==!0&&!this.getSize().contains(C)?!1:(ze(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(r,u,!0)},this),!0)},_animateZoom:function(r,u,p,y){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=u,Ie(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:u,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(_(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ut(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Na(r,u){return new Qe(r,u)}var Gn=tt.extend({options:{position:"topright"},initialize:function(r){U(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var u=this._map;return u&&u.removeControl(this),this.options.position=r,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var u=this._container=this.onAdd(r),p=this.getPosition(),y=r._controlCorners[p];return Ie(u,"leaflet-control"),p.indexOf("bottom")!==-1?y.insertBefore(u,y.firstChild):y.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(yt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),ss=function(r){return new Gn(r)};Qe.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},u="leaflet-",p=this._controlContainer=qe("div",u+"control-container",this._container);function y(C,b){var B=u+C+" "+u+b;r[C+b]=qe("div",B,p)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)yt(this._controlCorners[r]);yt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ba=Gn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,u,p,y){return p<y?-1:y<p?1:0}},initialize:function(r,u,p){U(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in r)this._addLayer(r[y],y);for(y in u)this._addLayer(u[y],y,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Gn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,u){return this._addLayer(r,u),this._map?this._update():this},addOverlay:function(r,u){return this._addLayer(r,u,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var u=this._getLayer(S(r));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Ie(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Ie(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):ut(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ut(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",u=this._container=qe("div",r),p=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Zn(u),As(u);var y=this._section=qe("section",r+"-list");p&&(this._map.on("click",this.collapse,this),Pe(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=qe("a",r+"-toggle",u);C.href="#",C.title="Layers",C.setAttribute("role","button"),Pe(C,{keydown:function(b){b.keyCode===13&&this._expandSafely()},click:function(b){Kt(b),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=qe("div",r+"-base",y),this._separator=qe("div",r+"-separator",y),this._overlaysList=qe("div",r+"-overlays",y),u.appendChild(y)},_getLayer:function(r){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&S(this._layers[u].layer)===r)return this._layers[u]},_addLayer:function(r,u,p){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:u,overlay:p}),this.options.sortLayers&&this._layers.sort(_(function(y,C){return this.options.sortFunction(y.layer,C.layer,y.name,C.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;xr(this._baseLayersList),xr(this._overlaysList),this._layerControlInputs=[];var r,u,p,y,C=0;for(p=0;p<this._layers.length;p++)y=this._layers[p],this._addItem(y),u=u||y.overlay,r=r||!y.overlay,C+=y.overlay?0:1;return this.options.hideSingleBase&&(r=r&&C>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=u&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var u=this._getLayer(S(r.target)),p=u.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;p&&this._map.fire(p,u)},_createRadioElement:function(r,u){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(u?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=p,y.firstChild},_addItem:function(r){var u=document.createElement("label"),p=this._map.hasLayer(r.layer),y;r.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=p):y=this._createRadioElement("leaflet-base-layers_"+S(this),p),this._layerControlInputs.push(y),y.layerId=S(r.layer),Pe(y,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+r.name;var b=document.createElement("span");u.appendChild(b),b.appendChild(y),b.appendChild(C);var B=r.overlay?this._overlaysList:this._baseLayersList;return B.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,u,p,y=[],C=[];this._handlingClick=!0;for(var b=r.length-1;b>=0;b--)u=r[b],p=this._getLayer(u.layerId).layer,u.checked?y.push(p):u.checked||C.push(p);for(b=0;b<C.length;b++)this._map.hasLayer(C[b])&&this._map.removeLayer(C[b]);for(b=0;b<y.length;b++)this._map.hasLayer(y[b])||this._map.addLayer(y[b]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,u,p,y=this._map.getZoom(),C=r.length-1;C>=0;C--)u=r[C],p=this._getLayer(u.layerId).layer,u.disabled=p.options.minZoom!==void 0&&y<p.options.minZoom||p.options.maxZoom!==void 0&&y>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Pe(r,"click",Kt),this.expand();var u=this;setTimeout(function(){ye(r,"click",Kt),u._preventClick=!1})}}),ct=function(r,u,p){return new ba(r,u,p)},Ss=Gn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var u="leaflet-control-zoom",p=qe("div",u+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,u+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,u+"-out",p,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,u,p,y,C){var b=qe("a",p,y);return b.innerHTML=r,b.href="#",b.title=u,b.setAttribute("role","button"),b.setAttribute("aria-label",u),Zn(b),Pe(b,"click",Wn),Pe(b,"click",C,this),Pe(b,"click",this._refocusOnMap,this),b},_updateDisabled:function(){var r=this._map,u="leaflet-disabled";ut(this._zoomInButton,u),ut(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Ie(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Ie(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Qe.mergeOptions({zoomControl:!0}),Qe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ss,this.addControl(this.zoomControl))});var Ts=function(r){return new Ss(r)},Ci=Gn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var u="leaflet-control-scale",p=qe("div",u),y=this.options;return this._addScales(y,u+"-line",p),r.on(y.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),p},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,u,p){r.metric&&(this._mScale=qe("div",u,p)),r.imperial&&(this._iScale=qe("div",u,p))},_update:function(){var r=this._map,u=r.getSize().y/2,p=r.distance(r.containerPointToLatLng([0,u]),r.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(p)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var u=this._getRoundNum(r),p=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,p,u/r)},_updateImperial:function(r){var u=r*3.2808399,p,y,C;u>5280?(p=u/5280,y=this._getRoundNum(p),this._updateScale(this._iScale,y+" mi",y/p)):(C=this._getRoundNum(u),this._updateScale(this._iScale,C+" ft",C/u))},_updateScale:function(r,u,p){r.style.width=Math.round(this.options.maxWidth*p)+"px",r.innerHTML=u},_getRoundNum:function(r){var u=Math.pow(10,(Math.floor(r)+"").length-1),p=r/u;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,u*p}}),cu=function(r){return new Ci(r)},Q='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ue=Gn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Te.inlineSvg?Q+" ":"")+"Leaflet</a>"},initialize:function(r){U(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=qe("div","leaflet-control-attribution"),Zn(this._container);for(var u in r._layers)r._layers[u].getAttribution&&this.addAttribution(r._layers[u].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var u in this._attributions)this._attributions[u]&&r.push(u);var p=[];this.options.prefix&&p.push(this.options.prefix),r.length&&p.push(r.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});Qe.mergeOptions({attributionControl:!0}),Qe.addInitHook(function(){this.options.attributionControl&&new Ue().addTo(this)});var qt=function(r){return new Ue(r)};Gn.Layers=ba,Gn.Zoom=Ss,Gn.Scale=Ci,Gn.Attribution=Ue,ss.layers=ct,ss.zoom=Ts,ss.scale=cu,ss.attribution=qt;var In=tt.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});In.addTo=function(r,u){return r.addHandler(u,this),this};var Ma={Events:Ye},Oa=Te.touch?"touchstart mousedown":"mousedown",Bi=Le.extend({options:{clickTolerance:3},initialize:function(r,u,p,y){U(this,y),this._element=r,this._dragStartTarget=u||r,this._preventOutline=p},enable:function(){this._enabled||(Pe(this._dragStartTarget,Oa,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Bi._dragging===this&&this.finishDrag(!0),ye(this._dragStartTarget,Oa,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!_o(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Bi._dragging===this&&this.finishDrag();return}if(!(Bi._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Bi._dragging=this,this._preventOutline&&rs(this._element),Ne(),an(),!this._moving)){this.fire("down");var u=r.touches?r.touches[0]:r,p=Es(this._element);this._startPoint=new te(u.clientX,u.clientY),this._startPos=Ct(this._element),this._parentScale=Co(p);var y=r.type==="mousedown";Pe(document,y?"mousemove":"touchmove",this._onMove,this),Pe(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var u=r.touches&&r.touches.length===1?r.touches[0]:r,p=new te(u.clientX,u.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,Kt(r),this._moved||(this.fire("dragstart"),this._moved=!0,Ie(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ie(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),xe(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){ut(document.body,"leaflet-dragging"),this._lastTarget&&(ut(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ye(document,"mousemove touchmove",this._onMove,this),ye(document,"mouseup touchend touchcancel",this._onUp,this),_t(),ts();var u=this._moved&&this._moving;this._moving=!1,Bi._dragging=!1,u&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function La(r,u,p){var y,C=[1,4,2,8],b,B,G,K,se,ve,De,Xe;for(b=0,ve=r.length;b<ve;b++)r[b]._code=$i(r[b],u);for(G=0;G<4;G++){for(De=C[G],y=[],b=0,ve=r.length,B=ve-1;b<ve;B=b++)K=r[b],se=r[B],K._code&De?se._code&De||(Xe=Ei(se,K,De,u,p),Xe._code=$i(Xe,u),y.push(Xe)):(se._code&De&&(Xe=Ei(se,K,De,u,p),Xe._code=$i(Xe,u),y.push(Xe)),y.push(K));r=y}return r}function Is(r,u){var p,y,C,b,B,G,K,se,ve;if(!r||r.length===0)throw new Error("latlngs not passed");Nn(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var De=ae([0,0]),Xe=Be(r),Mn=Xe.getNorthWest().distanceTo(Xe.getSouthWest())*Xe.getNorthEast().distanceTo(Xe.getNorthWest());Mn<1700&&(De=kt(r));var un=r.length,ci=[];for(p=0;p<un;p++){var Pn=ae(r[p]);ci.push(u.project(ae([Pn.lat-De.lat,Pn.lng-De.lng])))}for(G=K=se=0,p=0,y=un-1;p<un;y=p++)C=ci[p],b=ci[y],B=C.y*b.x-b.y*C.x,K+=(C.x+b.x)*B,se+=(C.y+b.y)*B,G+=B*3;G===0?ve=ci[0]:ve=[K/G,se/G];var bs=u.unproject(le(ve));return ae([bs.lat+De.lat,bs.lng+De.lng])}function kt(r){for(var u=0,p=0,y=0,C=0;C<r.length;C++){var b=ae(r[C]);u+=b.lat,p+=b.lng,y++}return ae([u/y,p/y])}var So={__proto__:null,clipPolygon:La,polygonCenter:Is,centroid:kt};function Tt(r,u){if(!u||!r.length)return r.slice();var p=u*u;return r=hu(r,p),r=ft(r,p),r}function os(r,u,p){return Math.sqrt(er(r,u,p,!0))}function Ji(r,u,p){return er(r,u,p)}function ft(r,u){var p=r.length,y=typeof Uint8Array<"u"?Uint8Array:Array,C=new y(p);C[0]=C[p-1]=1,Oe(r,C,u,0,p-1);var b,B=[];for(b=0;b<p;b++)C[b]&&B.push(r[b]);return B}function Oe(r,u,p,y,C){var b=0,B,G,K;for(G=y+1;G<=C-1;G++)K=er(r[G],r[y],r[C],!0),K>b&&(B=G,b=K);b>p&&(u[B]=1,Oe(r,u,p,y,B),Oe(r,u,p,B,C))}function hu(r,u){for(var p=[r[0]],y=1,C=0,b=r.length;y<b;y++)si(r[y],r[C])>u&&(p.push(r[y]),C=y);return C<b-1&&p.push(r[b-1]),p}var xt;function Fi(r,u,p,y,C){var b=y?xt:$i(r,p),B=$i(u,p),G,K,se;for(xt=B;;){if(!(b|B))return[r,u];if(b&B)return!1;G=b||B,K=Ei(r,u,G,p,C),se=$i(K,p),G===b?(r=K,b=se):(u=K,B=se)}}function Ei(r,u,p,y,C){var b=u.x-r.x,B=u.y-r.y,G=y.min,K=y.max,se,ve;return p&8?(se=r.x+b*(K.y-r.y)/B,ve=K.y):p&4?(se=r.x+b*(G.y-r.y)/B,ve=G.y):p&2?(se=K.x,ve=r.y+B*(K.x-r.x)/b):p&1&&(se=G.x,ve=r.y+B*(G.x-r.x)/b),new te(se,ve,C)}function $i(r,u){var p=0;return r.x<u.min.x?p|=1:r.x>u.max.x&&(p|=2),r.y<u.min.y?p|=4:r.y>u.max.y&&(p|=8),p}function si(r,u){var p=u.x-r.x,y=u.y-r.y;return p*p+y*y}function er(r,u,p,y){var C=u.x,b=u.y,B=p.x-C,G=p.y-b,K=B*B+G*G,se;return K>0&&(se=((r.x-C)*B+(r.y-b)*G)/K,se>1?(C=p.x,b=p.y):se>0&&(C+=B*se,b+=G*se)),B=r.x-C,G=r.y-b,y?B*B+G*G:new te(C,b)}function Nn(r){return!P(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function Ns(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Nn(r)}function To(r,u){var p,y,C,b,B,G,K,se;if(!r||r.length===0)throw new Error("latlngs not passed");Nn(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var ve=ae([0,0]),De=Be(r),Xe=De.getNorthWest().distanceTo(De.getSouthWest())*De.getNorthEast().distanceTo(De.getNorthWest());Xe<1700&&(ve=kt(r));var Mn=r.length,un=[];for(p=0;p<Mn;p++){var ci=ae(r[p]);un.push(u.project(ae([ci.lat-ve.lat,ci.lng-ve.lng])))}for(p=0,y=0;p<Mn-1;p++)y+=un[p].distanceTo(un[p+1])/2;if(y===0)se=un[0];else for(p=0,b=0;p<Mn-1;p++)if(B=un[p],G=un[p+1],C=B.distanceTo(G),b+=C,b>y){K=(b-y)/C,se=[G.x-K*(G.x-B.x),G.y-K*(G.y-B.y)];break}var Pn=u.unproject(le(se));return ae([Pn.lat+ve.lat,Pn.lng+ve.lng])}var ka={__proto__:null,simplify:Tt,pointToSegmentDistance:os,closestPointOnSegment:Ji,clipSegment:Fi,_getEdgeIntersection:Ei,_getBitCode:$i,_sqClosestPointOnSegment:er,isFlat:Nn,_flat:Ns,polylineCenter:To},Io={project:function(r){return new te(r.lng,r.lat)},unproject:function(r){return new Ve(r.y,r.x)},bounds:new Re([-180,-90],[180,90])},ji={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Re([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var u=Math.PI/180,p=this.R,y=r.lat*u,C=this.R_MINOR/p,b=Math.sqrt(1-C*C),B=b*Math.sin(y),G=Math.tan(Math.PI/4-y/2)/Math.pow((1-B)/(1+B),b/2);return y=-p*Math.log(Math.max(G,1e-10)),new te(r.lng*u*p,y)},unproject:function(r){for(var u=180/Math.PI,p=this.R,y=this.R_MINOR/p,C=Math.sqrt(1-y*y),b=Math.exp(-r.y/p),B=Math.PI/2-2*Math.atan(b),G=0,K=.1,se;G<15&&Math.abs(K)>1e-7;G++)se=C*Math.sin(B),se=Math.pow((1-se)/(1+se),C/2),K=Math.PI/2-2*Math.atan(b*se)-B,B+=K;return new Ve(B*u,r.x*u/p)}},No={__proto__:null,LonLat:Io,Mercator:ji,SphericalMercator:Xt},du=d({},_e,{code:"EPSG:3395",projection:ji,transformation:function(){var r=.5/(Math.PI*ji.R);return ki(r,.5,-r,.5)}()}),vr=d({},_e,{code:"EPSG:4326",projection:Io,transformation:ki(1/180,1,-1/180,.5)}),fu=d({},pe,{projection:Io,transformation:ki(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,u){var p=u.lng-r.lng,y=u.lat-r.lat;return Math.sqrt(p*p+y*y)},infinite:!0});pe.Earth=_e,pe.EPSG3395=du,pe.EPSG3857=Je,pe.EPSG900913=fr,pe.EPSG4326=vr,pe.Simple=fu;var Wt=Le.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[S(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[S(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var u=r.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var p=this.getEvents();u.on(p,this),this.once("remove",function(){u.off(p,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Qe.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var u=S(r);return this._layers[u]?this:(this._layers[u]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var u=S(r);return this._layers[u]?(this._loaded&&r.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return S(r)in this._layers},eachLayer:function(r,u){for(var p in this._layers)r.call(u,this._layers[p]);return this},_addLayers:function(r){r=r?P(r)?r:[r]:[];for(var u=0,p=r.length;u<p;u++)this.addLayer(r[u])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[S(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var u=S(r);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,u=-1/0,p=this._getZoomSpan();for(var y in this._zoomBoundLayers){var C=this._zoomBoundLayers[y].options;r=C.minZoom===void 0?r:Math.min(r,C.minZoom),u=C.maxZoom===void 0?u:Math.max(u,C.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=r===1/0?void 0:r,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ai=Wt.extend({initialize:function(r,u){U(this,u),this._layers={};var p,y;if(r)for(p=0,y=r.length;p<y;p++)this.addLayer(r[p])},addLayer:function(r){var u=this.getLayerId(r);return this._layers[u]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var u=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(r){var u=typeof r=="number"?r:this.getLayerId(r);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var u=Array.prototype.slice.call(arguments,1),p,y;for(p in this._layers)y=this._layers[p],y[r]&&y[r].apply(y,u);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,u){for(var p in this._layers)r.call(u,this._layers[p]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return S(r)}}),Dn=function(r,u){return new Ai(r,u)},oi=Ai.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),Ai.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),Ai.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new ht;for(var u in this._layers){var p=this._layers[u];r.extend(p.getBounds?p.getBounds():p.getLatLng())}return r}}),ai=function(r,u){return new oi(r,u)},Cr=tt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){U(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,u){var p=this._getIconUrl(r);if(!p){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(p,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(y,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(r,u){var p=this.options,y=p[u+"Size"];typeof y=="number"&&(y=[y,y]);var C=le(y),b=le(u==="shadow"&&p.shadowAnchor||p.iconAnchor||C&&C.divideBy(2,!0));r.className="leaflet-marker-"+u+" "+(p.className||""),b&&(r.style.marginLeft=-b.x+"px",r.style.marginTop=-b.y+"px"),C&&(r.style.width=C.x+"px",r.style.height=C.y+"px")},_createImg:function(r,u){return u=u||document.createElement("img"),u.src=r,u},_getIconUrl:function(r){return Te.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function bo(r){return new Cr(r)}var as=Cr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof as.imagePath!="string"&&(as.imagePath=this._detectIconPath()),(this.options.imagePath||as.imagePath)+Cr.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var u=function(p,y,C){var b=y.exec(p);return b&&b[C]};return r=u(r,/^url\((['"])?(.+)\1\)$/,2),r&&u(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=qe("div","leaflet-default-icon-path",document.body),u=He(r,"background-image")||He(r,"backgroundImage");if(document.body.removeChild(r),u=this._stripUrl(u),u)return u;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),Mo=In.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Bi(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ie(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ut(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var u=this._marker,p=u._map,y=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,b=Ct(u._icon),B=p.getPixelBounds(),G=p.getPixelOrigin(),K=ke(B.min._subtract(G).add(C),B.max._subtract(G).subtract(C));if(!K.contains(b)){var se=le((Math.max(K.max.x,b.x)-K.max.x)/(B.max.x-K.max.x)-(Math.min(K.min.x,b.x)-K.min.x)/(B.min.x-K.min.x),(Math.max(K.max.y,b.y)-K.max.y)/(B.max.y-K.max.y)-(Math.min(K.min.y,b.y)-K.min.y)/(B.min.y-K.min.y)).multiplyBy(y);p.panBy(se,{animate:!1}),this._draggable._newPos._add(se),this._draggable._startPos._add(se),xe(u._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=ze(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(Ce(this._panRequest),this._panRequest=ze(this._adjustPan.bind(this,r)))},_onDrag:function(r){var u=this._marker,p=u._shadow,y=Ct(u._icon),C=u._map.layerPointToLatLng(y);p&&xe(p,y),u._latlng=C,r.latlng=C,r.oldLatLng=this._oldLatLng,u.fire("move",r).fire("drag",r)},_onDragEnd:function(r){Ce(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),bn=Wt.extend({options:{icon:new as,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,u){U(this,u),this._latlng=ae(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var u=this._latlng;return this._latlng=ae(r),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=r.icon.createIcon(this._icon),y=!1;p!==this._icon&&(this._icon&&this._removeIcon(),y=!0,r.title&&(p.title=r.title),p.tagName==="IMG"&&(p.alt=r.alt||"")),Ie(p,u),r.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pe(p,"focus",this._panOnFocus,this);var C=r.icon.createShadow(this._shadow),b=!1;C!==this._shadow&&(this._removeShadow(),b=!0),C&&(Ie(C,u),C.alt=""),this._shadow=C,r.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&b&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ye(this._icon,"focus",this._panOnFocus,this),yt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&yt(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&xe(this._icon,r),this._shadow&&xe(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Ie(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Mo)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Mo(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&We(this._icon,r),this._shadow&&We(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var u=this.options.icon.options,p=u.iconSize?le(u.iconSize):le(0,0),y=u.iconAnchor?le(u.iconAnchor):le(0,0);r.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:p.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function gu(r,u){return new bn(r,u)}var li=Wt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return U(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),zi=li.extend({options:{fill:!0,radius:10},initialize:function(r,u){U(this,u),this._latlng=ae(r),this._radius=this.options.radius},setLatLng:function(r){var u=this._latlng;return this._latlng=ae(r),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var u=r&&r.radius||this._radius;return li.prototype.setStyle.call(this,r),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,u=this._radiusY||r,p=this._clickTolerance(),y=[r+p,u+p];this._pxBounds=new Re(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function et(r,u){return new zi(r,u)}var Er=zi.extend({initialize:function(r,u,p){if(typeof u=="number"&&(u=d({},p,{radius:u})),U(this,u),this._latlng=ae(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new ht(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:li.prototype.setStyle,_project:function(){var r=this._latlng.lng,u=this._latlng.lat,p=this._map,y=p.options.crs;if(y.distance===_e.distance){var C=Math.PI/180,b=this._mRadius/_e.R/C,B=p.project([u+b,r]),G=p.project([u-b,r]),K=B.add(G).divideBy(2),se=p.unproject(K).lat,ve=Math.acos((Math.cos(b*C)-Math.sin(u*C)*Math.sin(se*C))/(Math.cos(u*C)*Math.cos(se*C)))/C;(isNaN(ve)||ve===0)&&(ve=b/Math.cos(Math.PI/180*u)),this._point=K.subtract(p.getPixelOrigin()),this._radius=isNaN(ve)?0:K.x-p.project([se,r-ve]).x,this._radiusY=K.y-B.y}else{var De=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(De).x}this._updateBounds()}});function T(r,u,p){return new Er(r,u,p)}var t=li.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,u){U(this,u),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var u=1/0,p=null,y=er,C,b,B=0,G=this._parts.length;B<G;B++)for(var K=this._parts[B],se=1,ve=K.length;se<ve;se++){C=K[se-1],b=K[se];var De=y(r,C,b,!0);De<u&&(u=De,p=y(r,C,b))}return p&&(p.distance=Math.sqrt(u)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return To(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,u){return u=u||this._defaultShape(),r=ae(r),u.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new ht,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return Nn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var u=[],p=Nn(r),y=0,C=r.length;y<C;y++)p?(u[y]=ae(r[y]),this._bounds.extend(u[y])):u[y]=this._convertLatLngs(r[y]);return u},_project:function(){var r=new Re;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),u=new te(r,r);this._rawPxBounds&&(this._pxBounds=new Re([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(r,u,p){var y=r[0]instanceof Ve,C=r.length,b,B;if(y){for(B=[],b=0;b<C;b++)B[b]=this._map.latLngToLayerPoint(r[b]),p.extend(B[b]);u.push(B)}else for(b=0;b<C;b++)this._projectLatlngs(r[b],u,p)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,p,y,C,b,B,G,K;for(p=0,C=0,b=this._rings.length;p<b;p++)for(K=this._rings[p],y=0,B=K.length;y<B-1;y++)G=Fi(K[y],K[y+1],r,y,!0),G&&(u[C]=u[C]||[],u[C].push(G[0]),(G[1]!==K[y+1]||y===B-2)&&(u[C].push(G[1]),C++))}},_simplifyPoints:function(){for(var r=this._parts,u=this.options.smoothFactor,p=0,y=r.length;p<y;p++)r[p]=Tt(r[p],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,u){var p,y,C,b,B,G,K=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(p=0,b=this._parts.length;p<b;p++)for(G=this._parts[p],y=0,B=G.length,C=B-1;y<B;C=y++)if(!(!u&&y===0)&&os(r,G[C],G[y])<=K)return!0;return!1}});function i(r,u){return new t(r,u)}t._flat=Ns;var o=t.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Is(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var u=t.prototype._convertLatLngs.call(this,r),p=u.length;return p>=2&&u[0]instanceof Ve&&u[0].equals(u[p-1])&&u.pop(),u},_setLatLngs:function(r){t.prototype._setLatLngs.call(this,r),Nn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Nn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,u=this.options.weight,p=new te(u,u);if(r=new Re(r.min.subtract(p),r.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,C=this._rings.length,b;y<C;y++)b=La(this._rings[y],r,!0),b.length&&this._parts.push(b)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var u=!1,p,y,C,b,B,G,K,se;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(b=0,K=this._parts.length;b<K;b++)for(p=this._parts[b],B=0,se=p.length,G=se-1;B<se;G=B++)y=p[B],C=p[G],y.y>r.y!=C.y>r.y&&r.x<(C.x-y.x)*(r.y-y.y)/(C.y-y.y)+y.x&&(u=!u);return u||t.prototype._containsPoint.call(this,r,!0)}});function a(r,u){return new o(r,u)}var l=oi.extend({initialize:function(r,u){U(this,u),this._layers={},r&&this.addData(r)},addData:function(r){var u=P(r)?r:r.features,p,y,C;if(u){for(p=0,y=u.length;p<y;p++)C=u[p],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var b=this.options;if(b.filter&&!b.filter(r))return this;var B=h(r,b);return B?(B.feature=R(r),B.defaultOptions=B.options,this.resetStyle(B),b.onEachFeature&&b.onEachFeature(r,B),this.addLayer(B)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=d({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(u){this._setLayerStyle(u,r)},this)},_setLayerStyle:function(r,u){r.setStyle&&(typeof u=="function"&&(u=u(r.feature)),r.setStyle(u))}});function h(r,u){var p=r.type==="Feature"?r.geometry:r,y=p?p.coordinates:null,C=[],b=u&&u.pointToLayer,B=u&&u.coordsToLatLng||m,G,K,se,ve;if(!y&&!p)return null;switch(p.type){case"Point":return G=B(y),f(b,r,G,u);case"MultiPoint":for(se=0,ve=y.length;se<ve;se++)G=B(y[se]),C.push(f(b,r,G,u));return new oi(C);case"LineString":case"MultiLineString":return K=x(y,p.type==="LineString"?0:1,B),new t(K,u);case"Polygon":case"MultiPolygon":return K=x(y,p.type==="Polygon"?1:2,B),new o(K,u);case"GeometryCollection":for(se=0,ve=p.geometries.length;se<ve;se++){var De=h({geometry:p.geometries[se],type:"Feature",properties:r.properties},u);De&&C.push(De)}return new oi(C);case"FeatureCollection":for(se=0,ve=p.features.length;se<ve;se++){var Xe=h(p.features[se],u);Xe&&C.push(Xe)}return new oi(C);default:throw new Error("Invalid GeoJSON object.")}}function f(r,u,p,y){return r?r(u,p):new bn(p,y&&y.markersInheritOptions&&y)}function m(r){return new Ve(r[1],r[0],r[2])}function x(r,u,p){for(var y=[],C=0,b=r.length,B;C<b;C++)B=u?x(r[C],u-1,p):(p||m)(r[C]),y.push(B);return y}function w(r,u){return r=ae(r),r.alt!==void 0?[H(r.lng,u),H(r.lat,u),H(r.alt,u)]:[H(r.lng,u),H(r.lat,u)]}function I(r,u,p,y){for(var C=[],b=0,B=r.length;b<B;b++)C.push(u?I(r[b],Nn(r[b])?0:u-1,p,y):w(r[b],y));return!u&&p&&C.length>0&&C.push(C[0].slice()),C}function N(r,u){return r.feature?d({},r.feature,{geometry:u}):R(u)}function R(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var F={toGeoJSON:function(r){return N(this,{type:"Point",coordinates:w(this.getLatLng(),r)})}};bn.include(F),Er.include(F),zi.include(F),t.include({toGeoJSON:function(r){var u=!Nn(this._latlngs),p=I(this._latlngs,u?1:0,!1,r);return N(this,{type:(u?"Multi":"")+"LineString",coordinates:p})}}),o.include({toGeoJSON:function(r){var u=!Nn(this._latlngs),p=u&&!Nn(this._latlngs[0]),y=I(this._latlngs,p?2:u?1:0,!0,r);return u||(y=[y]),N(this,{type:(p?"Multi":"")+"Polygon",coordinates:y})}}),Ai.include({toMultiPoint:function(r){var u=[];return this.eachLayer(function(p){u.push(p.toGeoJSON(r).geometry.coordinates)}),N(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(r){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(r);var p=u==="GeometryCollection",y=[];return this.eachLayer(function(C){if(C.toGeoJSON){var b=C.toGeoJSON(r);if(p)y.push(b.geometry);else{var B=R(b);B.type==="FeatureCollection"?y.push.apply(y,B.features):y.push(B)}}}),p?N(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function z(r,u){return new l(r,u)}var Z=z,X=Wt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,u,p){this._url=r,this._bounds=Be(u),U(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ie(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){yt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&vt(this._image),this},bringToBack:function(){return this._map&&Tn(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=Be(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",u=this._image=r?this._url:qe("img");if(Ie(u,"leaflet-image-layer"),this._zoomAnimated&&Ie(u,"leaflet-zoom-animated"),this.options.className&&Ie(u,this.options.className),u.onselectstart=O,u.onmousemove=O,u.onload=_(this.fire,this,"load"),u.onerror=_(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(r){var u=this._map.getZoomScale(r.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;M(this._image,p,u)},_reset:function(){var r=this._image,u=new Re(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=u.getSize();xe(r,u.min),r.style.width=p.x+"px",r.style.height=p.y+"px"},_updateOpacity:function(){We(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),ue=function(r,u,p){return new X(r,u,p)},ce=X.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",u=this._image=r?this._url:qe("video");if(Ie(u,"leaflet-image-layer"),this._zoomAnimated&&Ie(u,"leaflet-zoom-animated"),this.options.className&&Ie(u,this.options.className),u.onselectstart=O,u.onmousemove=O,u.onloadeddata=_(this.fire,this,"load"),r){for(var p=u.getElementsByTagName("source"),y=[],C=0;C<p.length;C++)y.push(p[C].src);this._url=p.length>0?y:[u.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var b=0;b<this._url.length;b++){var B=qe("source");B.src=this._url[b],u.appendChild(B)}}});function oe(r,u,p){return new ce(r,u,p)}var Ge=X.extend({_initImage:function(){var r=this._image=this._url;Ie(r,"leaflet-image-layer"),this._zoomAnimated&&Ie(r,"leaflet-zoom-animated"),this.options.className&&Ie(r,this.options.className),r.onselectstart=O,r.onmousemove=O}});function je(r,u,p){return new Ge(r,u,p)}var It=Wt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,u){r&&(r instanceof Ve||P(r))?(this._latlng=ae(r),U(this,u)):(U(this,r),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&We(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&We(this._container,1),this.bringToFront(),this.options.interactive&&(Ie(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(We(this._container,0),this._removeTimeout=setTimeout(_(yt,void 0,this._container),200)):yt(this._container),this.options.interactive&&(ut(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=ae(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&vt(this._container),this},bringToBack:function(){return this._map&&Tn(this._container),this},_prepareOpen:function(r){var u=this._source;if(!u._map)return!1;if(u instanceof oi){u=null;var p=this._source._layers;for(var y in p)if(p[y]._map){u=p[y];break}if(!u)return!1;this._source=u}if(!r)if(u.getCenter)r=u.getCenter();else if(u.getLatLng)r=u.getLatLng();else if(u.getBounds)r=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")r.innerHTML=u;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),u=le(this.options.offset),p=this._getAnchor();this._zoomAnimated?xe(this._container,r.add(p)):u=u.add(r).add(p);var y=this._containerBottom=-u.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=y+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});Qe.include({_initOverlay:function(r,u,p,y){var C=u;return C instanceof r||(C=new r(y).setContent(u)),p&&C.setLatLng(p),C}}),Wt.include({_initOverlay:function(r,u,p,y){var C=p;return C instanceof r?(U(C,y),C._source=this):(C=u&&!y?u:new r(y,this),C.setContent(p)),C}});var xn=It.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,It.prototype.openOn.call(this,r)},onAdd:function(r){It.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof li||this._source.on("preclick",vi))},onRemove:function(r){It.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof li||this._source.off("preclick",vi))},getEvents:function(){var r=It.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",u=this._container=qe("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=qe("div",r+"-content-wrapper",u);if(this._contentNode=qe("div",r+"-content",p),Zn(u),As(this._contentNode),Pe(u,"contextmenu",vi),this._tipContainer=qe("div",r+"-tip-container",u),this._tip=qe("div",r+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=qe("a",r+"-close-button",u);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',Pe(y,"click",function(C){Kt(C),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,u=r.style;u.width="",u.whiteSpace="nowrap";var p=r.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),u.width=p+1+"px",u.whiteSpace="",u.height="";var y=r.offsetHeight,C=this.options.maxHeight,b="leaflet-popup-scrolled";C&&y>C?(u.height=C+"px",Ie(r,b)):ut(r,b),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),p=this._getAnchor();xe(this._container,u.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,u=parseInt(He(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+u,y=this._containerWidth,C=new te(this._containerLeft,-p-this._containerBottom);C._add(Ct(this._container));var b=r.layerPointToContainerPoint(C),B=le(this.options.autoPanPadding),G=le(this.options.autoPanPaddingTopLeft||B),K=le(this.options.autoPanPaddingBottomRight||B),se=r.getSize(),ve=0,De=0;b.x+y+K.x>se.x&&(ve=b.x+y-se.x+K.x),b.x-ve-G.x<0&&(ve=b.x-G.x),b.y+p+K.y>se.y&&(De=b.y+p-se.y+K.y),b.y-De-G.y<0&&(De=b.y-G.y),(ve||De)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([ve,De]))}},_getAnchor:function(){return le(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),yn=function(r,u){return new xn(r,u)};Qe.mergeOptions({closePopupOnClick:!0}),Qe.include({openPopup:function(r,u,p){return this._initOverlay(xn,r,u,p).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),Wt.include({bindPopup:function(r,u){return this._popup=this._initOverlay(xn,this._popup,r,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof oi||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){Wn(r);var u=r.layer||r.target;if(this._popup._source===u&&!(u instanceof li)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=u,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var at=It.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){It.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){It.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=It.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",u=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=qe("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+S(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var u,p,y=this._map,C=this._container,b=y.latLngToContainerPoint(y.getCenter()),B=y.layerPointToContainerPoint(r),G=this.options.direction,K=C.offsetWidth,se=C.offsetHeight,ve=le(this.options.offset),De=this._getAnchor();G==="top"?(u=K/2,p=se):G==="bottom"?(u=K/2,p=0):G==="center"?(u=K/2,p=se/2):G==="right"?(u=0,p=se/2):G==="left"?(u=K,p=se/2):B.x<b.x?(G="right",u=0,p=se/2):(G="left",u=K+(ve.x+De.x)*2,p=se/2),r=r.subtract(le(u,p,!0)).add(ve).add(De),ut(C,"leaflet-tooltip-right"),ut(C,"leaflet-tooltip-left"),ut(C,"leaflet-tooltip-top"),ut(C,"leaflet-tooltip-bottom"),Ie(C,"leaflet-tooltip-"+G),xe(C,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&We(this._container,r)},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(u)},_getAnchor:function(){return le(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Jt=function(r,u){return new at(r,u)};Qe.include({openTooltip:function(r,u,p){return this._initOverlay(at,r,u,p).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Wt.include({bindTooltip:function(r,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(at,this._tooltip,r,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var u=r?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[u](p),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof oi||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var u=typeof r.getElement=="function"&&r.getElement();u&&(Pe(u,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Pe(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var u=typeof r.getElement=="function"&&r.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var u=r.latlng,p,y;this._tooltip.options.sticky&&r.originalEvent&&(p=this._map.mouseEventToContainerPoint(r.originalEvent),y=this._map.containerPointToLayerPoint(p),u=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(u)}});var _n=Cr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var u=r&&r.tagName==="DIV"?r:document.createElement("div"),p=this.options;if(p.html instanceof Element?(xr(u),u.appendChild(p.html)):u.innerHTML=p.html!==!1?p.html:"",p.bgPos){var y=le(p.bgPos);u.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Ar(r){return new _n(r)}Cr.Default=as;var ui=Wt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Te.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){U(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),yt(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(vt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Tn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof te?r:new te(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var u=this.getPane().children,p=-r(-1/0,1/0),y=0,C=u.length,b;y<C;y++)b=u[y].style.zIndex,u[y]!==this._container&&b&&(p=r(p,+b));isFinite(p)&&(this.options.zIndex=p+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Te.ielt9){We(this._container,this.options.opacity);var r=+new Date,u=!1,p=!1;for(var y in this._tiles){var C=this._tiles[y];if(!(!C.current||!C.loaded)){var b=Math.min(1,(r-C.loaded)/200);We(C.el,b),b<1?u=!0:(C.active?p=!0:this._onOpaqueTile(C),C.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),u&&(Ce(this._fadeFrame),this._fadeFrame=ze(this._updateOpacity,this))}},_onOpaqueTile:O,_initContainer:function(){this._container||(this._container=qe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,u=this.options.maxZoom;if(r!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===r?(this._levels[p].el.style.zIndex=u-Math.abs(r-p),this._onUpdateLevel(p)):(yt(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var y=this._levels[r],C=this._map;return y||(y=this._levels[r]={},y.el=qe("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=u,y.origin=C.project(C.unproject(C.getPixelOrigin()),r).round(),y.zoom=r,this._setZoomTransform(y,C.getCenter(),C.getZoom()),O(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:O,_onRemoveLevel:O,_onCreateLevel:O,_pruneTiles:function(){if(this._map){var r,u,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)u=this._tiles[r],u.retain=u.current;for(r in this._tiles)if(u=this._tiles[r],u.current&&!u.active){var y=u.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var u in this._tiles)this._tiles[u].coords.z===r&&this._removeTile(u)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)yt(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,u,p,y){var C=Math.floor(r/2),b=Math.floor(u/2),B=p-1,G=new te(+C,+b);G.z=+B;var K=this._tileCoordsToKey(G),se=this._tiles[K];return se&&se.active?(se.retain=!0,!0):(se&&se.loaded&&(se.retain=!0),B>y?this._retainParent(C,b,B,y):!1)},_retainChildren:function(r,u,p,y){for(var C=2*r;C<2*r+2;C++)for(var b=2*u;b<2*u+2;b++){var B=new te(C,b);B.z=p+1;var G=this._tileCoordsToKey(B),K=this._tiles[G];if(K&&K.active){K.retain=!0;continue}else K&&K.loaded&&(K.retain=!0);p+1<y&&this._retainChildren(C,b,p+1,y)}},_resetView:function(r){var u=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var u=this.options;return u.minNativeZoom!==void 0&&r<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<r?u.maxNativeZoom:r},_setView:function(r,u,p,y){var C=Math.round(u);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var b=this.options.updateWhenZooming&&C!==this._tileZoom;(!y||b)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(r),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(r,u)},_setZoomTransforms:function(r,u){for(var p in this._levels)this._setZoomTransform(this._levels[p],r,u)},_setZoomTransform:function(r,u,p){var y=this._map.getZoomScale(p,r.zoom),C=r.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(u,p)).round();Te.any3d?M(r.el,C,y):xe(r.el,C)},_resetGrid:function(){var r=this._map,u=r.options.crs,p=this._tileSize=this.getTileSize(),y=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,u.wrapLng[0]],y).x/p.x),Math.ceil(r.project([0,u.wrapLng[1]],y).x/p.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([u.wrapLat[0],0],y).y/p.x),Math.ceil(r.project([u.wrapLat[1],0],y).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var u=this._map,p=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),y=u.getZoomScale(p,this._tileZoom),C=u.project(r,this._tileZoom).floor(),b=u.getSize().divideBy(y*2);return new Re(C.subtract(b),C.add(b))},_update:function(r){var u=this._map;if(u){var p=this._clampZoom(u.getZoom());if(r===void 0&&(r=u.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(r),C=this._pxBoundsToTileRange(y),b=C.getCenter(),B=[],G=this.options.keepBuffer,K=new Re(C.getBottomLeft().subtract([G,-G]),C.getTopRight().add([G,-G]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var se in this._tiles){var ve=this._tiles[se].coords;(ve.z!==this._tileZoom||!K.contains(new te(ve.x,ve.y)))&&(this._tiles[se].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(r,p);return}for(var De=C.min.y;De<=C.max.y;De++)for(var Xe=C.min.x;Xe<=C.max.x;Xe++){var Mn=new te(Xe,De);if(Mn.z=this._tileZoom,!!this._isValidTile(Mn)){var un=this._tiles[this._tileCoordsToKey(Mn)];un?un.current=!0:B.push(Mn)}}if(B.sort(function(Pn,bs){return Pn.distanceTo(b)-bs.distanceTo(b)}),B.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ci=document.createDocumentFragment();for(Xe=0;Xe<B.length;Xe++)this._addTile(B[Xe],ci);this._level.el.appendChild(ci)}}}},_isValidTile:function(r){var u=this._map.options.crs;if(!u.infinite){var p=this._globalTileRange;if(!u.wrapLng&&(r.x<p.min.x||r.x>p.max.x)||!u.wrapLat&&(r.y<p.min.y||r.y>p.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(r);return Be(this.options.bounds).overlaps(y)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var u=this._map,p=this.getTileSize(),y=r.scaleBy(p),C=y.add(p),b=u.unproject(y,r.z),B=u.unproject(C,r.z);return[b,B]},_tileCoordsToBounds:function(r){var u=this._tileCoordsToNwSe(r),p=new ht(u[0],u[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var u=r.split(":"),p=new te(+u[0],+u[1]);return p.z=+u[2],p},_removeTile:function(r){var u=this._tiles[r];u&&(yt(u.el),delete this._tiles[r],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Ie(r,"leaflet-tile");var u=this.getTileSize();r.style.width=u.x+"px",r.style.height=u.y+"px",r.onselectstart=O,r.onmousemove=O,Te.ielt9&&this.options.opacity<1&&We(r,this.options.opacity)},_addTile:function(r,u){var p=this._getTilePos(r),y=this._tileCoordsToKey(r),C=this.createTile(this._wrapCoords(r),_(this._tileReady,this,r));this._initTile(C),this.createTile.length<2&&ze(_(this._tileReady,this,r,null,C)),xe(C,p),this._tiles[y]={el:C,coords:r,current:!0},u.appendChild(C),this.fire("tileloadstart",{tile:C,coords:r})},_tileReady:function(r,u,p){u&&this.fire("tileerror",{error:u,tile:p,coords:r});var y=this._tileCoordsToKey(r);p=this._tiles[y],p&&(p.loaded=+new Date,this._map._fadeAnimated?(We(p.el,0),Ce(this._fadeFrame),this._fadeFrame=ze(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),u||(Ie(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Te.ielt9||!this._map._fadeAnimated?ze(this._pruneTiles,this):setTimeout(_(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var u=new te(this._wrapX?k(r.x,this._wrapX):r.x,this._wrapY?k(r.y,this._wrapY):r.y);return u.z=r.z,u},_pxBoundsToTileRange:function(r){var u=this.getTileSize();return new Re(r.min.unscaleBy(u).floor(),r.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function pu(r){return new ui(r)}var Sr=ui.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,u){this._url=r,u=U(this,u),u.detectRetina&&Te.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,u){return this._url===r&&u===void 0&&(u=!0),this._url=r,u||this.redraw(),this},createTile:function(r,u){var p=document.createElement("img");return Pe(p,"load",_(this._tileOnLoad,this,u,p)),Pe(p,"error",_(this._tileOnError,this,u,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(r),p},getTileUrl:function(r){var u={r:Te.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-r.y;this.options.tms&&(u.y=p),u["-y"]=p}return D(this._url,d(u,this.options))},_tileOnLoad:function(r,u){Te.ielt9?setTimeout(_(r,this,null,u),0):r(null,u)},_tileOnError:function(r,u,p){var y=this.options.errorTileUrl;y&&u.getAttribute("src")!==y&&(u.src=y),r(p,u)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,u=this.options.maxZoom,p=this.options.zoomReverse,y=this.options.zoomOffset;return p&&(r=u-r),r+y},_getSubdomain:function(r){var u=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var r,u;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(u=this._tiles[r].el,u.onload=O,u.onerror=O,!u.complete)){u.src=de;var p=this._tiles[r].coords;yt(u),delete this._tiles[r],this.fire("tileabort",{tile:u,coords:p})}},_removeTile:function(r){var u=this._tiles[r];if(u)return u.el.setAttribute("src",de),ui.prototype._removeTile.call(this,r)},_tileReady:function(r,u,p){if(!(!this._map||p&&p.getAttribute("src")===de))return ui.prototype._tileReady.call(this,r,u,p)}});function Zh(r,u){return new Sr(r,u)}var Wh=Sr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,u){this._url=r;var p=d({},this.defaultWmsParams);for(var y in u)y in this.options||(p[y]=u[y]);u=U(this,u);var C=u.detectRetina&&Te.retina?2:1,b=this.getTileSize();p.width=b.x*C,p.height=b.y*C,this.wmsParams=p},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Sr.prototype.onAdd.call(this,r)},getTileUrl:function(r){var u=this._tileCoordsToNwSe(r),p=this._crs,y=ke(p.project(u[0]),p.project(u[1])),C=y.min,b=y.max,B=(this._wmsVersion>=1.3&&this._crs===vr?[C.y,C.x,b.y,b.x]:[C.x,C.y,b.x,b.y]).join(","),G=Sr.prototype.getTileUrl.call(this,r);return G+me(this.wmsParams,G,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+B},setParams:function(r,u){return d(this.wmsParams,r),u||this.redraw(),this}});function dg(r,u){return new Wh(r,u)}Sr.WMS=Wh,Zh.wms=dg;var tr=Wt.extend({options:{padding:.1},initialize:function(r){U(this,r),S(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ie(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,u){var p=this._map.getZoomScale(u,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,u),b=y.multiplyBy(-p).add(C).subtract(this._map._getNewPixelOrigin(r,u));Te.any3d?M(this._container,b,p):xe(this._container,b)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,u=this._map.getSize(),p=this._map.containerPointToLayerPoint(u.multiplyBy(-r)).round();this._bounds=new Re(p,p.add(u.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Gh=tr.extend({options:{tolerance:0},getEvents:function(){var r=tr.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){tr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Pe(r,"mousemove",this._onMouseMove,this),Pe(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Pe(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){Ce(this._redrawRequest),delete this._ctx,yt(this._container),ye(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var u in this._layers)r=this._layers[u],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){tr.prototype._update.call(this);var r=this._bounds,u=this._container,p=r.getSize(),y=Te.retina?2:1;xe(u,r.min),u.width=y*p.x,u.height=y*p.y,u.style.width=p.x+"px",u.style.height=p.y+"px",Te.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){tr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[S(r)]=r;var u=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var u=r._order,p=u.next,y=u.prev;p?p.prev=y:this._drawLast=y,y?y.next=p:this._drawFirst=p,delete r._order,delete this._layers[S(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var u=r.options.dashArray.split(/[, ]+/),p=[],y,C;for(C=0;C<u.length;C++){if(y=Number(u[C]),isNaN(y))return;p.push(y)}r.options._dashArray=p}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||ze(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var u=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Re,this._redrawBounds.extend(r._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(r._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var u=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,u=this._redrawBounds;if(this._ctx.save(),u){var p=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)r=y.layer,(!u||r._pxBounds&&r._pxBounds.intersects(u))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,u){if(this._drawing){var p,y,C,b,B=r._parts,G=B.length,K=this._ctx;if(G){for(K.beginPath(),p=0;p<G;p++){for(y=0,C=B[p].length;y<C;y++)b=B[p][y],K[y?"lineTo":"moveTo"](b.x,b.y);u&&K.closePath()}this._fillStroke(K,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var u=r._point,p=this._ctx,y=Math.max(Math.round(r._radius),1),C=(Math.max(Math.round(r._radiusY),1)||y)/y;C!==1&&(p.save(),p.scale(1,C)),p.beginPath(),p.arc(u.x,u.y/C,y,0,Math.PI*2,!1),C!==1&&p.restore(),this._fillStroke(p,r)}},_fillStroke:function(r,u){var p=u.options;p.fill&&(r.globalAlpha=p.fillOpacity,r.fillStyle=p.fillColor||p.color,r.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(r.setLineDash&&r.setLineDash(u.options&&u.options._dashArray||[]),r.globalAlpha=p.opacity,r.lineWidth=p.weight,r.strokeStyle=p.color,r.lineCap=p.lineCap,r.lineJoin=p.lineJoin,r.stroke())},_onClick:function(r){for(var u=this._map.mouseEventToLayerPoint(r),p,y,C=this._drawFirst;C;C=C.next)p=C.layer,p.options.interactive&&p._containsPoint(u)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(p))&&(y=p);this._fireEvent(y?[y]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,u)}},_handleMouseOut:function(r){var u=this._hoveredLayer;u&&(ut(this._container,"leaflet-interactive"),this._fireEvent([u],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,u){if(!this._mouseHoverThrottled){for(var p,y,C=this._drawFirst;C;C=C.next)p=C.layer,p.options.interactive&&p._containsPoint(u)&&(y=p);y!==this._hoveredLayer&&(this._handleMouseOut(r),y&&(Ie(this._container,"leaflet-interactive"),this._fireEvent([y],r,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(_(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,u,p){this._map._fireDOMEvent(u,p||u.type,r)},_bringToFront:function(r){var u=r._order;if(u){var p=u.next,y=u.prev;if(p)p.prev=y;else return;y?y.next=p:p&&(this._drawFirst=p),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(r)}},_bringToBack:function(r){var u=r._order;if(u){var p=u.next,y=u.prev;if(y)y.next=p;else return;p?p.prev=y:y&&(this._drawLast=y),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(r)}}});function Yh(r){return Te.canvas?new Gh(r):null}var Oo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),fg={_initContainer:function(){this._container=qe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(tr.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var u=r._container=Oo("shape");Ie(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",r._path=Oo("path"),u.appendChild(r._path),this._updateStyle(r),this._layers[S(r)]=r},_addPath:function(r){var u=r._container;this._container.appendChild(u),r.options.interactive&&r.addInteractiveTarget(u)},_removePath:function(r){var u=r._container;yt(u),r.removeInteractiveTarget(u),delete this._layers[S(r)]},_updateStyle:function(r){var u=r._stroke,p=r._fill,y=r.options,C=r._container;C.stroked=!!y.stroke,C.filled=!!y.fill,y.stroke?(u||(u=r._stroke=Oo("stroke")),C.appendChild(u),u.weight=y.weight+"px",u.color=y.color,u.opacity=y.opacity,y.dashArray?u.dashStyle=P(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=y.lineCap.replace("butt","flat"),u.joinstyle=y.lineJoin):u&&(C.removeChild(u),r._stroke=null),y.fill?(p||(p=r._fill=Oo("fill")),C.appendChild(p),p.color=y.fillColor||y.color,p.opacity=y.fillOpacity):p&&(C.removeChild(p),r._fill=null)},_updateCircle:function(r){var u=r._point.round(),p=Math.round(r._radius),y=Math.round(r._radiusY||p);this._setPath(r,r._empty()?"M0 0":"AL "+u.x+","+u.y+" "+p+","+y+" 0,"+65535*360)},_setPath:function(r,u){r._path.v=u},_bringToFront:function(r){vt(r._container)},_bringToBack:function(r){Tn(r._container)}},Ra=Te.vml?Oo:Hn,Lo=tr.extend({_initContainer:function(){this._container=Ra("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ra("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){yt(this._container),ye(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){tr.prototype._update.call(this);var r=this._bounds,u=r.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,p.setAttribute("width",u.x),p.setAttribute("height",u.y)),xe(p,r.min),p.setAttribute("viewBox",[r.min.x,r.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(r){var u=r._path=Ra("path");r.options.className&&Ie(u,r.options.className),r.options.interactive&&Ie(u,"leaflet-interactive"),this._updateStyle(r),this._layers[S(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){yt(r._path),r.removeInteractiveTarget(r._path),delete this._layers[S(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var u=r._path,p=r.options;u&&(p.stroke?(u.setAttribute("stroke",p.color),u.setAttribute("stroke-opacity",p.opacity),u.setAttribute("stroke-width",p.weight),u.setAttribute("stroke-linecap",p.lineCap),u.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?u.setAttribute("stroke-dasharray",p.dashArray):u.removeAttribute("stroke-dasharray"),p.dashOffset?u.setAttribute("stroke-dashoffset",p.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),p.fill?(u.setAttribute("fill",p.fillColor||p.color),u.setAttribute("fill-opacity",p.fillOpacity),u.setAttribute("fill-rule",p.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(r,u){this._setPath(r,gr(r._parts,u))},_updateCircle:function(r){var u=r._point,p=Math.max(Math.round(r._radius),1),y=Math.max(Math.round(r._radiusY),1)||p,C="a"+p+","+y+" 0 1,0 ",b=r._empty()?"M0 0":"M"+(u.x-p)+","+u.y+C+p*2+",0 "+C+-p*2+",0 ";this._setPath(r,b)},_setPath:function(r,u){r._path.setAttribute("d",u)},_bringToFront:function(r){vt(r._path)},_bringToBack:function(r){Tn(r._path)}});Te.vml&&Lo.include(fg);function Xh(r){return Te.svg||Te.vml?new Lo(r):null}Qe.include({getRenderer:function(r){var u=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var u=this._paneRenderers[r];return u===void 0&&(u=this._createRenderer({pane:r}),this._paneRenderers[r]=u),u},_createRenderer:function(r){return this.options.preferCanvas&&Yh(r)||Xh(r)}});var Qh=o.extend({initialize:function(r,u){o.prototype.initialize.call(this,this._boundsToLatLngs(r),u)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=Be(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function gg(r,u){return new Qh(r,u)}Lo.create=Ra,Lo.pointsToPath=gr,l.geometryToLayer=h,l.coordsToLatLng=m,l.coordsToLatLngs=x,l.latLngToCoords=w,l.latLngsToCoords=I,l.getFeature=N,l.asFeature=R,Qe.mergeOptions({boxZoom:!0});var Kh=In.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Pe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ye(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){yt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),an(),Ne(),this._startPoint=this._map.mouseEventToContainerPoint(r),Pe(document,{contextmenu:Wn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=qe("div","leaflet-zoom-box",this._container),Ie(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var u=new Re(this._point,this._startPoint),p=u.getSize();xe(this._box,u.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(yt(this._box),ut(this._container,"leaflet-crosshair")),ts(),_t(),ye(document,{contextmenu:Wn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(_(this._resetState,this),0);var u=new ht(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Qe.addInitHook("addHandler","boxZoom",Kh),Qe.mergeOptions({doubleClickZoom:!0});var qh=In.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var u=this._map,p=u.getZoom(),y=u.options.zoomDelta,C=r.originalEvent.shiftKey?p-y:p+y;u.options.doubleClickZoom==="center"?u.setZoom(C):u.setZoomAround(r.containerPoint,C)}});Qe.addInitHook("addHandler","doubleClickZoom",qh),Qe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Jh=In.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Bi(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Ie(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ut(this._map._container,"leaflet-grab"),ut(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=Be(this._map.options.maxBounds);this._offsetLimit=ke(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var u=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(u),this._prunePositions(u)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,u){return r-(r-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;r.x<u.min.x&&(r.x=this._viscousLimit(r.x,u.min.x)),r.y<u.min.y&&(r.y=this._viscousLimit(r.y,u.min.y)),r.x>u.max.x&&(r.x=this._viscousLimit(r.x,u.max.x)),r.y>u.max.y&&(r.y=this._viscousLimit(r.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,u=Math.round(r/2),p=this._initialWorldOffset,y=this._draggable._newPos.x,C=(y-u+p)%r+u-p,b=(y+u+p)%r-u-p,B=Math.abs(C+p)<Math.abs(b+p)?C:b;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=B},_onDragEnd:function(r){var u=this._map,p=u.options,y=!p.inertia||r.noInertia||this._times.length<2;if(u.fire("dragend",r),y)u.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),b=(this._lastTime-this._times[0])/1e3,B=p.easeLinearity,G=C.multiplyBy(B/b),K=G.distanceTo([0,0]),se=Math.min(p.inertiaMaxSpeed,K),ve=G.multiplyBy(se/K),De=se/(p.inertiaDeceleration*B),Xe=ve.multiplyBy(-De/2).round();!Xe.x&&!Xe.y?u.fire("moveend"):(Xe=u._limitOffset(Xe,u.options.maxBounds),ze(function(){u.panBy(Xe,{duration:De,easeLinearity:B,noMoveStart:!0,animate:!0})}))}}});Qe.addInitHook("addHandler","dragging",Jh),Qe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var $h=In.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Pe(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ye(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,u=document.documentElement,p=r.scrollTop||u.scrollTop,y=r.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(y,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var u=this._panKeys={},p=this.keyCodes,y,C;for(y=0,C=p.left.length;y<C;y++)u[p.left[y]]=[-1*r,0];for(y=0,C=p.right.length;y<C;y++)u[p.right[y]]=[r,0];for(y=0,C=p.down.length;y<C;y++)u[p.down[y]]=[0,r];for(y=0,C=p.up.length;y<C;y++)u[p.up[y]]=[0,-1*r]},_setZoomDelta:function(r){var u=this._zoomKeys={},p=this.keyCodes,y,C;for(y=0,C=p.zoomIn.length;y<C;y++)u[p.zoomIn[y]]=r;for(y=0,C=p.zoomOut.length;y<C;y++)u[p.zoomOut[y]]=-r},_addHooks:function(){Pe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ye(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var u=r.keyCode,p=this._map,y;if(u in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(y=this._panKeys[u],r.shiftKey&&(y=le(y).multiplyBy(3)),p.options.maxBounds&&(y=p._limitOffset(le(y),p.options.maxBounds)),p.options.worldCopyJump){var C=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(y)));p.panTo(C)}else p.panBy(y)}else if(u in this._zoomKeys)p.setZoom(p.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;Wn(r)}}});Qe.addInitHook("addHandler","keyboard",$h),Qe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ed=In.extend({addHooks:function(){Pe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ye(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var u=wr(r),p=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var y=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(_(this._performZoom,this),y),Wn(r)},_performZoom:function(){var r=this._map,u=r.getZoom(),p=this._map.options.zoomSnap||0;r._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,b=p?Math.ceil(C/p)*p:C,B=r._limitZoom(u+(this._delta>0?b:-b))-u;this._delta=0,this._startTime=null,B&&(r.options.scrollWheelZoom==="center"?r.setZoom(u+B):r.setZoomAround(this._lastMousePos,u+B))}});Qe.addInitHook("addHandler","scrollWheelZoom",ed);var pg=600;Qe.mergeOptions({tapHold:Te.touchNative&&Te.safari&&Te.mobile,tapTolerance:15});var td=In.extend({addHooks:function(){Pe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ye(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var u=r.touches[0];this._startPos=this._newPos=new te(u.clientX,u.clientY),this._holdTimeout=setTimeout(_(function(){this._cancel(),this._isTapValid()&&(Pe(document,"touchend",Kt),Pe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),pg),Pe(document,"touchend touchcancel contextmenu",this._cancel,this),Pe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){ye(document,"touchend",Kt),ye(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),ye(document,"touchend touchcancel contextmenu",this._cancel,this),ye(document,"touchmove",this._onMove,this)},_onMove:function(r){var u=r.touches[0];this._newPos=new te(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,u){var p=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});p._simulated=!0,u.target.dispatchEvent(p)}});Qe.addInitHook("addHandler","tapHold",td),Qe.mergeOptions({touchZoom:Te.touch,bounceAtZoomLimits:!0});var nd=In.extend({addHooks:function(){Ie(this._map._container,"leaflet-touch-zoom"),Pe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ut(this._map._container,"leaflet-touch-zoom"),ye(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var u=this._map;if(!(!r.touches||r.touches.length!==2||u._animatingZoom||this._zooming)){var p=u.mouseEventToContainerPoint(r.touches[0]),y=u.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(p.add(y)._divideBy(2))),this._startDist=p.distanceTo(y),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Pe(document,"touchmove",this._onTouchMove,this),Pe(document,"touchend touchcancel",this._onTouchEnd,this),Kt(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var u=this._map,p=u.mouseEventToContainerPoint(r.touches[0]),y=u.mouseEventToContainerPoint(r.touches[1]),C=p.distanceTo(y)/this._startDist;if(this._zoom=u.getScaleZoom(C,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&C<1||this._zoom>u.getMaxZoom()&&C>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var b=p._add(y)._divideBy(2)._subtract(this._centerPoint);if(C===1&&b.x===0&&b.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(b),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),Ce(this._animRequest);var B=_(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ze(B,this,!0),Kt(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ce(this._animRequest),ye(document,"touchmove",this._onTouchMove,this),ye(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Qe.addInitHook("addHandler","touchZoom",nd),Qe.BoxZoom=Kh,Qe.DoubleClickZoom=qh,Qe.Drag=Jh,Qe.Keyboard=$h,Qe.ScrollWheelZoom=ed,Qe.TapHold=td,Qe.TouchZoom=nd,s.Bounds=Re,s.Browser=Te,s.CRS=pe,s.Canvas=Gh,s.Circle=Er,s.CircleMarker=zi,s.Class=tt,s.Control=Gn,s.DivIcon=_n,s.DivOverlay=It,s.DomEvent=mn,s.DomUtil=Zt,s.Draggable=Bi,s.Evented=Le,s.FeatureGroup=oi,s.GeoJSON=l,s.GridLayer=ui,s.Handler=In,s.Icon=Cr,s.ImageOverlay=X,s.LatLng=Ve,s.LatLngBounds=ht,s.Layer=Wt,s.LayerGroup=Ai,s.LineUtil=ka,s.Map=Qe,s.Marker=bn,s.Mixin=Ma,s.Path=li,s.Point=te,s.PolyUtil=So,s.Polygon=o,s.Polyline=t,s.Popup=xn,s.PosAnimation=Ao,s.Projection=No,s.Rectangle=Qh,s.Renderer=tr,s.SVG=Lo,s.SVGOverlay=Ge,s.TileLayer=Sr,s.Tooltip=at,s.Transformation=tn,s.Util=Ze,s.VideoOverlay=ce,s.bind=_,s.bounds=ke,s.canvas=Yh,s.circle=T,s.circleMarker=et,s.control=ss,s.divIcon=Ar,s.extend=d,s.featureGroup=ai,s.geoJSON=z,s.geoJson=Z,s.gridLayer=pu,s.icon=bo,s.imageOverlay=ue,s.latLng=ae,s.latLngBounds=Be,s.layerGroup=Dn,s.map=Na,s.marker=gu,s.point=le,s.polygon=a,s.polyline=i,s.popup=yn,s.rectangle=gg,s.setOptions=U,s.stamp=S,s.svg=Xh,s.svgOverlay=je,s.tileLayer=Zh,s.tooltip=Jt,s.transformation=ki,s.version=c,s.videoOverlay=oe;var mg=window.L;s.noConflict=function(){return window.L=mg,this},window.L=s})})(Uc,Uc.exports);var lo=Uc.exports;const Uh=Bf(lo);function iu(e,n,s){return Object.freeze({instance:e,context:n,container:s})}function ru(e,n){return n==null?function(c,d){const g=ge.useRef();return g.current||(g.current=e(c,d)),g}:function(c,d){const g=ge.useRef();g.current||(g.current=e(c,d));const _=ge.useRef(c),{instance:A}=g.current;return ge.useEffect(function(){_.current!==c&&(n(A,c,_.current),_.current=c)},[A,c,d]),g}}function ig(e,n){ge.useEffect(function(){return(n.layerContainer??n.map).addLayer(e.instance),function(){var g;(g=n.layerContainer)==null||g.removeLayer(e.instance),n.map.removeLayer(e.instance)}},[n,e])}function rg(e){return function(s){const c=tu(),d=e(nu(s,c),c);return J1(c.map,s.attribution),zh(d.current,s.eventHandlers),ig(d.current,c),d}}function _x(e,n){const s=ge.useRef();ge.useEffect(function(){if(n.pathOptions!==s.current){const d=n.pathOptions??{};e.instance.setStyle(d),s.current=d}},[e,n])}function wx(e){return function(s){const c=tu(),d=e(nu(s,c),c);return zh(d.current,s.eventHandlers),ig(d.current,c),_x(d.current,s),d}}function vx(e,n){const s=ru(e,n),c=rg(s);return ng(c)}function Cx(e,n){const s=ru(e),c=yx(s,n);return mx(c)}function Ex(e,n){const s=ru(e,n),c=wx(s);return ng(c)}function Ax(e,n){const s=ru(e,n),c=rg(s);return xx(c)}function Sx(e,n,s){const{opacity:c,zIndex:d}=n;c!=null&&c!==s.opacity&&e.setOpacity(c),d!=null&&d!==s.zIndex&&e.setZIndex(d)}function Tx(){return tu().map}function Hc(){return Hc=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(e[c]=s[c])}return e},Hc.apply(this,arguments)}function Ix({bounds:e,boundsOptions:n,center:s,children:c,className:d,id:g,placeholder:_,style:A,whenReady:S,zoom:v,...k},O){const[H]=ge.useState({className:d,id:g,style:A}),[Y,ee]=ge.useState(null);ge.useImperativeHandle(O,()=>(Y==null?void 0:Y.map)??null,[Y]);const U=ge.useCallback(j=>{if(j!==null&&Y===null){const D=new lo.Map(j,k);s!=null&&v!=null?D.setView(s,v):e!=null&&D.fitBounds(e,n),S!=null&&D.whenReady(S),ee(px(D))}},[]);ge.useEffect(()=>()=>{Y==null||Y.map.remove()},[Y]);const me=Y?dl.createElement(tg,{value:Y},c):_??null;return dl.createElement("div",Hc({},H,{ref:U}),me)}const Nx=ge.forwardRef(Ix),bx=vx(function({position:n,...s},c){const d=new lo.Marker(n,s);return iu(d,$1(c,{overlayContainer:d}))},function(n,s,c){s.position!==c.position&&n.setLatLng(s.position),s.icon!=null&&s.icon!==c.icon&&n.setIcon(s.icon),s.zIndexOffset!=null&&s.zIndexOffset!==c.zIndexOffset&&n.setZIndexOffset(s.zIndexOffset),s.opacity!=null&&s.opacity!==c.opacity&&n.setOpacity(s.opacity),n.dragging!=null&&s.draggable!==c.draggable&&(s.draggable===!0?n.dragging.enable():n.dragging.disable())}),Mx=Ex(function({positions:n,...s},c){const d=new lo.Polyline(n,s);return iu(d,$1(c,{overlayContainer:d}))},function(n,s,c){s.positions!==c.positions&&n.setLatLngs(s.positions)}),Ox=Cx(function(n,s){const c=new lo.Popup(n,s.overlayContainer);return iu(c,s)},function(n,s,{position:c},d){ge.useEffect(function(){const{instance:_}=n;function A(v){v.popup===_&&(_.update(),d(!0))}function S(v){v.popup===_&&d(!1)}return s.map.on({popupopen:A,popupclose:S}),s.overlayContainer==null?(c!=null&&_.setLatLng(c),_.openOn(s.map)):s.overlayContainer.bindPopup(_),function(){var k;s.map.off({popupopen:A,popupclose:S}),(k=s.overlayContainer)==null||k.unbindPopup(),s.map.removeLayer(_)}},[n,s,d,c])}),Lx=Ax(function({url:n,...s},c){const d=new lo.TileLayer(n,nu(s,c));return iu(d,c)},function(n,s,c){Sx(n,s,c);const{url:d}=s;d!=null&&d!==c.url&&n.setUrl(d)});delete Uh.Icon.Default.prototype._getIconUrl;Uh.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});function kx({points:e}){const n=Tx();return ge.useEffect(()=>{if(e&&e.length>0){const s=Uh.latLngBounds(e.map(c=>[c.lat,c.lng]));n.fitBounds(s,{padding:[50,50]})}},[e,n]),null}function Rx({stops:e}){if(!e||e.length===0)return E.jsx("div",{className:"p-4 text-center text-gray-500",children:"Sem pontos no mapa."});const n=e.map(c=>[c.lat,c.lng]),s=[e[0].lat,e[0].lng];return E.jsx("div",{className:"h-full w-full rounded-xl overflow-hidden shadow-lg border border-gray-200 dark:border-gray-700 relative z-0",children:E.jsxs(Nx,{center:s,zoom:13,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[E.jsx(Lx,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),E.jsx(Mx,{positions:n,pathOptions:{color:"blue",weight:4,opacity:.7}}),e.map((c,d)=>E.jsx(bx,{position:[c.lat,c.lng],children:E.jsx(Ox,{children:E.jsxs("div",{className:"text-sm",children:[E.jsxs("strong",{className:"block text-base mb-1",children:["Parada ",c.id]}),E.jsx("span",{className:"block text-gray-600 dark:text-gray-300",children:c.address}),E.jsxs("div",{className:"mt-2 text-xs bg-blue-100 text-blue-800 p-1 rounded inline-block",children:[c.packages.length," pacotes"]})]})})},d)),E.jsx(kx,{points:e})]})})}function Dx({data:e,adminStats:n}){return e?e.view==="personal"?E.jsx(Px,{data:e}):e.view==="company"?E.jsx(Bx,{data:e,adminStats:n}):E.jsx("div",{children:"Tipo de visualizao desconhecido."}):E.jsxs("div",{className:"space-y-4 animate-fade-in",children:[E.jsx("div",{className:"skeleton h-48 rounded-3xl"}),E.jsx("div",{className:"skeleton h-32 rounded-2xl"}),E.jsx("div",{className:"skeleton h-40 rounded-2xl"})]})}function Px({data:e}){const n=e.balance.toFixed(2).replace(".",","),s=n.split(",")[0],c=n.split(",")[1];return E.jsxs("div",{className:"space-y-5 animate-fade-in",children:[E.jsxs("div",{className:"relative overflow-hidden gradient-success rounded-3xl p-6 text-white shadow-glass",children:[E.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/10 rounded-full blur-3xl -mr-20 -mt-20"}),E.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-white/10 rounded-full blur-3xl -ml-16 -mb-16"}),E.jsxs("div",{className:"relative z-10",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[E.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center",children:E.jsx(dx,{className:"w-5 h-5"})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-xs font-medium text-white/70",children:"Seus Ganhos"}),E.jsx("p",{className:"text-xs font-bold text-white/90",children:e.period})]})]}),E.jsx("div",{className:"mb-6",children:E.jsxs("div",{className:"flex items-baseline gap-1",children:[E.jsx("span",{className:"text-xl font-bold opacity-80",children:"R$"}),E.jsx("span",{className:"text-5xl font-black tracking-tight",children:s}),E.jsxs("span",{className:"text-2xl font-bold opacity-80",children:[",",c]})]})}),E.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/20",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(tx,{className:"w-4 h-4 text-white/70"}),E.jsx("span",{className:"text-xs font-medium text-white/90",children:"Prximo pagamento: Sexta"})]}),E.jsx("span",{className:"badge bg-yellow-400/30 text-yellow-100 border-yellow-400/50 text-[10px]",children:"A RECEBER"})]})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[E.jsx(yf,{label:"Entregas",value:"--",icon:E.jsx(jh,{className:"w-4 h-4"}),trend:"positive"}),E.jsx(yf,{label:"Mdia/Dia",value:`R$ ${(e.balance/5).toFixed(0)}`,icon:E.jsx(ea,{className:"w-4 h-4"}),trend:"neutral"})]}),E.jsxs("div",{className:"card-premium overflow-hidden",children:[E.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-800/50 px-5 py-3 border-b border-gray-100 dark:border-gray-700/50",children:E.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white text-sm flex items-center gap-2",children:[E.jsx(ix,{className:"w-4 h-4"}),"Extrato Recente"]})}),E.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-gray-700/50",children:[E.jsx(Wu,{title:"Rota de Hoje",subtitle:"Processando...",value:"--",status:"pending"}),E.jsx(Wu,{title:"Rota Ontem",subtitle:"Concluda",value:`+ R$ ${((e.balance>0?e.balance:50)*.4).toFixed(2).replace(".",",")}`,status:"completed"}),E.jsx(Wu,{title:"Bnus Meta Semanal",subtitle:"Extra conquistado",value:`+ R$ ${((e.balance>0?e.balance:50)*.1).toFixed(2).replace(".",",")}`,status:"bonus"})]})]})]})}function Bx({data:e,adminStats:n}){const{revenue:s,costs:c,profit:d}=e.company_stats,[g,_]=ge.useState(""),[A,S]=ge.useState(""),[v,k]=ge.useState(!1),[O,H]=ge.useState(null),Y=d.toFixed(2).replace(".",","),ee=d>=0,U=(n==null?void 0:n.active_session)&&(n==null?void 0:n.pending)===0,me=async()=>{k(!0),H(null);try{const j=await fetch("/api/session/finalize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({extra_revenue:g?parseFloat(g):0,other_costs:A?parseFloat(A):0})}),D=await j.json();if(!j.ok)throw new Error(D.detail||"Falha ao fechar dia");H(" Dia fechado com sucesso.")}catch(j){H(j.message)}finally{k(!1)}};return E.jsxs("div",{className:"space-y-5 animate-fade-in",children:[E.jsxs("div",{className:"relative overflow-hidden gradient-dark rounded-3xl p-6 text-white shadow-glass",children:[E.jsx("div",{className:"absolute top-0 right-0 opacity-10",children:E.jsx(ea,{size:120,strokeWidth:1})}),E.jsxs("div",{className:"relative z-10",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[E.jsx("div",{className:"w-10 h-10 bg-white/10 backdrop-blur-sm rounded-2xl flex items-center justify-center",children:E.jsx(jh,{className:"w-5 h-5"})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-xs text-gray-400",children:"Lucro Lquido"}),E.jsx("p",{className:"text-xs font-bold text-gray-300",children:e.period})]})]}),E.jsx("div",{className:"mb-6",children:E.jsxs("div",{className:`text-5xl font-black ${ee?"text-green-400":"text-red-400"}`,children:["R$ ",Y]})}),E.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[E.jsxs("div",{className:"bg-white/5 backdrop-blur-sm p-4 rounded-xl border border-white/10",children:[E.jsxs("div",{className:"flex items-center gap-1.5 text-green-300 text-xs mb-2 font-medium",children:[E.jsx($m,{className:"w-3.5 h-3.5"})," Receita"]}),E.jsxs("div",{className:"text-2xl font-black text-white",children:["R$ ",s.toFixed(0)]})]}),E.jsxs("div",{className:"bg-white/5 backdrop-blur-sm p-4 rounded-xl border border-white/10",children:[E.jsxs("div",{className:"flex items-center gap-1.5 text-red-300 text-xs mb-2 font-medium",children:[E.jsx(Jm,{className:"w-3.5 h-3.5"})," Custos"]}),E.jsxs("div",{className:"text-2xl font-black text-white",children:["R$ ",c.toFixed(0)]})]})]})]})]}),E.jsxs("div",{className:"card-premium overflow-hidden",children:[E.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 px-5 py-3 border-b border-gray-100 dark:border-gray-700/50",children:E.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white text-sm flex items-center gap-2",children:[E.jsx(_f,{className:"w-4 h-4"}),"Repasse aos Entregadores"]})}),E.jsx("div",{className:"p-5 space-y-4",children:Object.entries(e.deliverers_stats).length>0?Object.entries(e.deliverers_stats).map(([j,D],P)=>E.jsxs("div",{className:"flex items-center justify-between group hover:bg-gray-50 dark:hover:bg-gray-800/50 p-3 rounded-xl transition-all",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-black text-xs shadow-lg shadow-blue-500/30",children:j.substring(0,2).toUpperCase()}),E.jsxs("div",{children:[E.jsx("p",{className:"font-bold text-sm text-gray-900 dark:text-white",children:j}),E.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Colaborador"})]})]}),E.jsx("div",{className:"text-right",children:E.jsxs("p",{className:"font-black text-lg text-gray-900 dark:text-white",children:["R$ ",D.toFixed(2).replace(".",",")]})})]},P)):E.jsxs("div",{className:"text-center py-8",children:[E.jsx("div",{className:"w-16 h-16 mx-auto mb-3 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:E.jsx(_f,{className:"w-8 h-8 text-gray-400"})}),E.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Nenhum repasse registrado"}),E.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"Os valores aparecero aqui"})]})})]}),U&&E.jsxs("div",{className:"card-premium p-5 space-y-3",children:[E.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:" Fechar Dia"}),E.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Todos os pacotes foram finalizados. Informe custos e lucros extras para fechar a sesso."}),E.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[E.jsx("input",{type:"number",placeholder:"Lucro extra",value:g,onChange:j=>_(j.target.value),className:"px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900"}),E.jsx("input",{type:"number",placeholder:"Custos extras",value:A,onChange:j=>S(j.target.value),className:"px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900"})]}),E.jsx("button",{onClick:me,disabled:v,className:`w-full py-3 rounded-lg text-sm font-semibold ${v?"bg-gray-400 text-white":"bg-emerald-600 text-white"}`,children:v?"Fechando...":"Fechar Dia"}),O&&E.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:O})]})]})}function yf({label:e,value:n,icon:s,trend:c}){const d={positive:"text-green-600 dark:text-green-400 bg-green-100 dark:bg-green-900/30",negative:"text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900/30",neutral:"text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30"};return E.jsxs("div",{className:"card-premium p-4",children:[E.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center mb-3 ${d[c]}`,children:s}),E.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium mb-1",children:e}),E.jsx("p",{className:"text-lg font-black text-gray-900 dark:text-white",children:n})]})}function Wu({title:e,subtitle:n,value:s,status:c}){const d={pending:{color:"text-gray-400",bg:"bg-gray-100 dark:bg-gray-800"},completed:{color:"text-green-600 dark:text-green-400",bg:"bg-green-50 dark:bg-green-900/20"},bonus:{color:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50 dark:bg-blue-900/20"}};return E.jsxs("div",{className:"flex justify-between items-center p-4 hover:bg-gray-50 dark:hover:bg-gray-800/30 transition-all",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("p",{className:"font-bold text-sm text-gray-900 dark:text-white mb-0.5",children:e}),E.jsx("p",{className:`text-xs font-semibold ${d[c].color}`,children:n})]}),E.jsx("div",{className:`text-sm font-black font-mono ${d[c].color}`,children:s})]})}const _f=({className:e="w-5 h-5"})=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[E.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),E.jsx("circle",{cx:"9",cy:"7",r:"4"}),E.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),E.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]});function Fx(){const[e,n]=ge.useState([]),[s,c]=ge.useState(!0),[d,g]=ge.useState(!1),[_,A]=ge.useState({name:"",telegram_id:"",is_partner:!1}),[S,v]=ge.useState([]),k=()=>{c(!0),fetch("/api/admin/team").then(U=>U.json()).then(U=>{n(U),c(!1)}).catch(U=>{console.error(U),c(!1)})};ge.useEffect(()=>{k(),Y()},[]);const O=async U=>{if(U.preventDefault(),!_.name||!_.telegram_id)return;(await fetch("/api/admin/team",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({..._,telegram_id:parseInt(_.telegram_id)})})).ok?(g(!1),A({name:"",telegram_id:"",is_partner:!1}),k()):alert("Erro ao adicionar member")},H=async U=>{confirm("Tem certeza que deseja remover este entregador?")&&(await fetch(`/api/admin/team/${U}`,{method:"DELETE"}),k())},Y=async()=>{try{const me=await(await fetch("/api/delivery/pending-transfers")).json();v(me.transfers||[])}catch(U){console.error("Erro ao buscar transferncias:",U)}},ee=async(U,me,j="")=>{try{(await fetch("/api/delivery/transfer-approve",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transfer_id:U,approved:me,admin_id:123456,admin_name:"Admin",rejection_reason:j})})).ok&&(alert(me?"Transferncia aprovada!":"Transferncia rejeitada!"),Y())}catch{alert("Erro ao processar transferncia")}};return E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[E.jsx(ta,{className:"text-blue-500"})," Gesto de Equipe"]}),E.jsx("p",{className:"text-sm text-gray-500",children:"Gerencie seus entregadores e parceiros"})]}),E.jsx("button",{onClick:()=>g(!0),className:"bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-lg shadow-lg shadow-blue-500/30 transition-all active:scale-95",children:E.jsx(hx,{size:20})})]}),E.jsx("div",{className:"space-y-3",children:s?E.jsx("div",{className:"text-center text-gray-500 py-10",children:"Carregando equipe..."}):e.length===0?E.jsx("div",{className:"text-center text-gray-400 py-10 bg-gray-50 dark:bg-gray-800 rounded-xl border border-dashed border-gray-300",children:"Nenhum membro na equipe ainda."}):e.map(U=>E.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 flex justify-between items-center group",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg ${U.is_partner?"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-300":"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-300"}`,children:U.name.substring(0,1).toUpperCase()}),E.jsxs("div",{children:[E.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[U.name,U.is_partner&&E.jsx(lx,{size:14,className:"text-purple-500",title:"Scio"})]}),E.jsxs("div",{className:"flex gap-3 text-xs text-gray-500 mt-1",children:[E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx(cx,{size:10})," ",U.deliveries," entregas"]}),E.jsxs("span",{className:"font-mono",children:["ID: ",U.id]})]})]})]}),E.jsx("button",{onClick:()=>H(U.id),className:"text-gray-400 hover:text-red-500 p-2 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:E.jsx(ux,{size:18})})]},U.id))}),S.length>0&&E.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-xl p-6 border border-yellow-200 dark:border-yellow-800",children:[E.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2 mb-4 text-yellow-800 dark:text-yellow-200",children:[E.jsx(q1,{size:20})," Solicitaes de Transferncia Pendentes (",S.length,")"]}),E.jsx("div",{className:"space-y-3",children:S.map(U=>E.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[E.jsxs("div",{className:"flex justify-between items-start mb-3",children:[E.jsxs("div",{children:[E.jsxs("p",{className:"font-semibold text-sm",children:[U.from_deliverer.name,"  ",U.to_deliverer.name]}),E.jsxs("p",{className:"text-xs text-gray-500",children:[U.package_count," pacote(s)"]})]}),E.jsx("span",{className:"text-xs bg-yellow-100 dark:bg-yellow-900/50 text-yellow-700 dark:text-yellow-300 px-2 py-1 rounded",children:"Pendente"})]}),E.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:[E.jsx("strong",{children:"Motivo:"})," ",U.reason]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{onClick:()=>ee(U.id,!0),className:"flex-1 flex items-center justify-center gap-2 bg-green-500 hover:bg-green-600 text-white py-2 rounded-lg text-sm font-semibold transition",children:[E.jsx(nx,{size:16})," Aprovar"]}),E.jsxs("button",{onClick:()=>{const me=prompt("Motivo da rejeio (opcional):");ee(U.id,!1,me||"")},className:"flex-1 flex items-center justify-center gap-2 bg-red-500 hover:bg-red-600 text-white py-2 rounded-lg text-sm font-semibold transition",children:[E.jsx(fx,{size:16})," Rejeitar"]})]})]},U.id))})]}),d&&E.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:E.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-sm shadow-2xl animate-fade-in",children:[E.jsx("h3",{className:"text-lg font-bold mb-4",children:"Novo Entregador"}),E.jsxs("form",{onSubmit:O,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Nome"}),E.jsx("input",{type:"text",required:!0,className:"w-full bg-gray-50 dark:bg-gray-800 border-none rounded-lg p-3 outline-none focus:ring-2 ring-blue-500",placeholder:"Ex: Joo Silva",value:_.name,onChange:U=>A({..._,name:U.target.value})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Telegram ID"}),E.jsx("input",{type:"number",required:!0,className:"w-full bg-gray-50 dark:bg-gray-800 border-none rounded-lg p-3 outline-none focus:ring-2 ring-blue-500 font-mono",placeholder:"Ex: 123456789",value:_.telegram_id,onChange:U=>A({..._,telegram_id:U.target.value})}),E.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Pea pro entregador enviar /id para o bot."})]}),E.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[E.jsx("input",{type:"checkbox",id:"is_partner",className:"w-5 h-5 rounded text-blue-600 focus:ring-blue-500 border-gray-300",checked:_.is_partner,onChange:U=>A({..._,is_partner:U.target.checked})}),E.jsx("label",{htmlFor:"is_partner",className:"text-sm font-medium",children:"Scio (No recebe por pacote)"})]}),E.jsxs("div",{className:"flex gap-3 pt-4",children:[E.jsx("button",{type:"button",onClick:()=>g(!1),className:"flex-1 py-3 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl text-sm font-medium",children:"Cancelar"}),E.jsx("button",{type:"submit",className:"flex-1 py-3 bg-blue-600 text-white rounded-xl text-sm font-bold shadow-lg shadow-blue-500/30",children:"Salvar"})]})]})]})})]})}function jx(){var ae;const[e,n]=ge.useState(null),[s,c]=ge.useState(null),[d,g]=ge.useState(!1),[_,A]=ge.useState(null),[S,v]=ge.useState(""),[k,O]=ge.useState(null),[H,Y]=ge.useState([]),[ee,U]=ge.useState("analysis"),[me,j]=ge.useState(!1),[D,P]=ge.useState(null),[q,de]=ge.useState(null),[ie,V]=ge.useState(2),[ne,$]=ge.useState([]),[be,ze]=ge.useState({}),[Ce,Ze]=ge.useState(null),tt=ge.useRef(null);ge.useEffect(()=>{fetch("/api/admin/team").then(pe=>pe.json()).then(Y).catch(()=>Y([]))},[]);const J=pe=>{pe.target.files.length>0&&(n(pe.target.files[0]),A(null))},Ye=async()=>{if(!e)return;g(!0),A(null),c(null);const pe=new FormData;pe.append("file",e),S&&pe.append("route_value",S);try{const _e=await fetch("/api/route/analyze",{method:"POST",body:pe});if(!_e.ok){const Xt=await _e.json();throw new Error(Xt.detail||"Falha ao analisar rota")}const rt=await _e.json();c(rt),rt.minimap_url&&O(rt.minimap_url)}catch(_e){A(_e.message)}finally{g(!1)}},Le=async()=>{if(S)try{await fetch("/api/session/route-value",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({value:parseFloat(S)})})}catch{A("Erro ao salvar valor da rota")}},te=async()=>{if(!e||!S)return;g(!0),A(null);const pe=new FormData;pe.append("file",e);try{const _e=await fetch("/api/romaneio/import",{method:"POST",body:pe});if(!_e.ok){const Xt=await _e.json();throw new Error(Xt.detail||"Falha ao importar romaneio")}const rt=await _e.json();O(rt.minimap_url||null),j(!0),rt.session_id&&P(rt.session_id)}catch(_e){A(_e.message)}finally{g(!1)}},Me=async()=>{if(!e||!S||!me)return;g(!0),A(null);const pe=new FormData;pe.append("file",e);try{const _e=await fetch("/api/session/romaneio/import-additional",{method:"POST",body:pe});if(!_e.ok){const Xt=await _e.json();throw new Error(Xt.detail||"Falha ao importar romaneio adicional")}const rt=await _e.json();O(rt.minimap_url||null),rt.session_id&&P(rt.session_id)}catch(_e){A(_e.message)}finally{g(!1)}},le=async()=>{g(!0),A(null);try{const pe=await fetch("/api/session/report");if(!pe.ok){const rt=await pe.json();throw new Error(rt.detail||"Falha ao gerar relatrio")}const _e=await pe.json();c(_e),_e.minimap_url&&O(_e.minimap_url)}catch(pe){A(pe.message)}finally{g(!1)}},Re=async()=>{g(!0),A(null),$([]),Ze(null);try{const pe=await fetch("/api/routes/optimize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({num_deliverers:Number(ie)})});if(!pe.ok){const rt=await pe.json();throw new Error(rt.detail||"Falha ao otimizar rotas")}const _e=await pe.json();$(_e.routes||[])}catch(pe){A(pe.message)}finally{g(!1)}},ke=async(pe,_e)=>{try{const rt=await fetch("/api/routes/assign",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({route_id:pe,deliverer_id:Number(_e)})});if(!rt.ok){const Xt=await rt.json();throw new Error(Xt.detail||"Falha ao atribuir")}ze(Xt=>({...Xt,[pe]:_e}))}catch(rt){A(rt.message)}},ht=async()=>{if(!(ne.length>0&&ne.every(_e=>be[_e.route_id]))){A("Selecione um entregador para cada rota antes de iniciar.");return}g(!0),A(null);try{const _e=await fetch("/api/routes/send",{method:"POST"});if(!_e.ok){const rt=await _e.json();throw new Error(rt.detail||"Falha ao enviar rotas")}}catch(_e){A(_e.message)}finally{g(!1)}},Be=async()=>{try{const pe=await fetch("/api/routes/combined-map");if(!pe.ok){const rt=await pe.json();throw new Error(rt.detail||"Falha ao gerar mapa completo")}const _e=await pe.json();Ze(_e.map_url||null)}catch(pe){A(pe.message)}},Ve=ne.length>0&&ne.every(pe=>be[pe.route_id]);return E.jsxs("div",{className:"space-y-6 animate-fade-in pb-20",children:[E.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-700",children:[E.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 mb-2",children:[E.jsx(zc,{className:"text-purple-500"})," Anlise de Rota com IA"]}),E.jsx("p",{className:"text-sm text-gray-500",children:"Envie o romaneio da Shopee (.xlsx) para inteligncia verificar se vale a pena."})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[E.jsx("button",{onClick:()=>U("analysis"),className:`py-3 rounded-xl font-bold text-sm ${ee==="analysis"?"bg-purple-600 text-white":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 border border-gray-100 dark:border-gray-700"}`,children:"Analisar Rota"}),E.jsx("button",{onClick:()=>U("import"),className:`py-3 rounded-xl font-bold text-sm ${ee==="import"?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 border border-gray-100 dark:border-gray-700"}`,children:"Importar Romaneio"})]}),E.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-700",children:[E.jsxs("div",{onClick:()=>{var pe;return(pe=tt.current)==null?void 0:pe.click()},className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-8 text-center cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[E.jsx("input",{type:"file",ref:tt,onChange:J,accept:".xlsx,.xls",className:"hidden"}),E.jsx(rx,{size:48,className:"mx-auto text-gray-400 mb-4"}),e?E.jsxs("div",{children:[E.jsx("p",{className:"font-bold text-green-600",children:e.name}),E.jsxs("p",{className:"text-sm text-gray-500",children:[(e.size/1024).toFixed(1)," KB"]})]}):E.jsxs("div",{children:[E.jsx("p",{className:"font-medium",children:"Toque para selecionar o arquivo"}),E.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Suporta apenas Romaneio Shopee (.xlsx)"})]})]}),E.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2",children:[E.jsx("input",{type:"number",placeholder:"Valor total da rota",value:S,onChange:pe=>v(pe.target.value),className:"col-span-2 px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900"}),E.jsx("button",{onClick:Le,className:"bg-gray-900 text-white rounded-lg text-sm font-semibold",children:"Salvar"})]}),ee==="analysis"?E.jsx("div",{className:"mt-4",children:E.jsx("button",{onClick:Ye,disabled:!e||d,className:`w-full py-3 rounded-xl font-bold text-white shadow-lg transition-all ${d?"bg-gray-400 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700 shadow-purple-500/30"}`,children:d?"Analisando...":"Analisar IA"})}):E.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[E.jsx("button",{onClick:te,disabled:!e||d||!S,className:`py-3 rounded-xl font-bold text-white shadow-lg transition-all ${d||!S?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 shadow-blue-500/30"}`,children:d?"Importando...":"Importar Romaneio"}),E.jsx("button",{onClick:le,disabled:d||!me,className:`py-3 rounded-xl font-bold text-white shadow-lg transition-all ${d||!me?"bg-gray-400 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-500/30"}`,children:"Gerar Relatrio"})]}),ee==="import"&&me&&E.jsx("button",{onClick:Me,disabled:!e||d,className:`mt-3 w-full py-3 rounded-xl font-bold text-white shadow-lg transition-all ${d||!e?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 shadow-indigo-500/30"}`,children:"Importar Outro Romaneio"}),k&&E.jsxs("a",{href:k,target:"_blank",rel:"noreferrer",className:"mt-4 inline-flex items-center gap-2 text-sm text-blue-600",children:[E.jsx(Zs,{size:16})," Ver minimapa completo"]}),_&&E.jsxs("div",{className:"mt-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-300 rounded-xl flex items-center gap-3 text-sm",children:[E.jsx(q1,{size:20}),_]})]}),ee==="import"&&E.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 space-y-4",children:[E.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[E.jsx(ta,{size:18,className:"text-indigo-500"})," Otimizar e Distribuir"]}),E.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[E.jsx("input",{type:"number",min:1,value:ie,onChange:pe=>V(pe.target.value),className:"col-span-2 px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900"}),E.jsx("button",{onClick:Re,disabled:!me||!S,className:`rounded-lg text-sm font-semibold ${!me||!S?"bg-gray-400 text-white cursor-not-allowed":"bg-indigo-600 text-white"}`,children:"Otimizar"})]}),ne.length>0&&E.jsxs("div",{className:"space-y-3",children:[E.jsx("button",{onClick:()=>window.location.href="/?tab=separation",className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white py-4 rounded-xl font-bold text-lg shadow-xl flex items-center justify-center gap-2 transition-all",children:" Iniciar Modo Separao"}),ne.map(pe=>E.jsxs("div",{className:"p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("p",{className:"font-semibold",children:pe.route_id}),E.jsxs("p",{className:"text-xs text-gray-500",children:[pe.total_packages," pacotes"]})]}),E.jsx("a",{href:pe.map_url,target:"_blank",rel:"noreferrer",className:"text-sm text-blue-600",children:"Mapa"})]}),E.jsx("div",{className:"mt-3",children:E.jsxs("select",{value:be[pe.route_id]||"",onChange:_e=>ke(pe.route_id,_e.target.value),className:"px-2 py-2 rounded border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-sm",children:[E.jsx("option",{value:"",children:"Selecionar entregador"}),H.map(_e=>E.jsx("option",{value:_e.id,children:_e.name},_e.id))]})})]},pe.route_id)),!Ve&&E.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:"Selecione um entregador para cada rota antes de iniciar."}),E.jsxs("button",{onClick:ht,disabled:!Ve,className:`w-full py-3 rounded-lg text-sm font-semibold flex items-center justify-center gap-2 ${Ve?"bg-emerald-600 text-white":"bg-gray-400 text-white cursor-not-allowed"}`,children:[E.jsx(ax,{size:14})," Iniciar Rota (Enviar para Entregadores)"]})]}),E.jsx("button",{onClick:Be,className:"w-full bg-gray-900 text-white py-3 rounded-lg text-sm font-semibold",children:"Gerar mapa completo colorido"}),Ce&&E.jsxs("a",{href:Ce,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 text-sm text-blue-600",children:[E.jsx(Zs,{size:16})," Ver mapa completo"]})]}),s&&E.jsxs("div",{className:"space-y-4 animate-fade-in-up",children:[E.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:[E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-white/80 text-sm mb-1 uppercase tracking-wider",children:"Score Geral"}),E.jsxs("h1",{className:"text-5xl font-black",children:[s.overall_score.toFixed(1),E.jsx("span",{className:"text-2xl font-normal opacity-50",children:"/10"})]})]}),E.jsxs("div",{className:"text-right",children:[E.jsx("div",{className:"bg-white/20 px-3 py-1 rounded-full text-xs font-bold inline-block mb-1",children:s.recommendation}),E.jsxs("p",{className:"text-sm opacity-90",children:[s.total_packages," pacotes"]})]})]}),E.jsxs("div",{className:"mt-4 bg-black/20 p-3 rounded-lg text-sm italic",children:['" ',s.ai_comment,' "']})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700",children:[E.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Distncia Tot."}),E.jsxs("p",{className:"text-xl font-bold",children:[s.total_distance_km.toFixed(1)," km"]})]}),E.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700",children:[E.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Ganho Est."}),E.jsxs("p",{className:"text-xl font-bold text-green-600",children:["R$ ",((ae=s.route_value)==null?void 0:ae.toFixed(2))||"0.00"]})]})]}),E.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-700",children:[E.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[E.jsx(ox,{size:18,className:"text-blue-500"})," Bairros Encontrados"]}),E.jsx("div",{className:"flex flex-wrap gap-2",children:s.neighborhood_list&&s.neighborhood_list.map((pe,_e)=>E.jsx("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-sm",children:pe},_e))})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{className:"bg-green-50 dark:bg-green-900/10 p-5 rounded-xl",children:[E.jsx("h4",{className:"text-green-700 dark:text-green-400 font-bold mb-2",children:"Pontos Fortes"}),E.jsx("ul",{className:"text-sm space-y-1 text-gray-600 dark:text-gray-300",children:s.pros&&s.pros.map((pe,_e)=>E.jsxs("li",{children:[" ",pe]},_e))})]}),E.jsxs("div",{className:"bg-red-50 dark:bg-red-900/10 p-5 rounded-xl",children:[E.jsx("h4",{className:"text-red-700 dark:text-red-400 font-bold mb-2",children:"Pontos Fracos"}),E.jsx("ul",{className:"text-sm space-y-1 text-gray-600 dark:text-gray-300",children:s.cons&&s.cons.map((pe,_e)=>E.jsxs("li",{children:[" ",pe]},_e))})]})]})]})]})}var Ee;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ee||(Ee={}));var wf=new Map([[Ee.QR_CODE,"QR_CODE"],[Ee.AZTEC,"AZTEC"],[Ee.CODABAR,"CODABAR"],[Ee.CODE_39,"CODE_39"],[Ee.CODE_93,"CODE_93"],[Ee.CODE_128,"CODE_128"],[Ee.DATA_MATRIX,"DATA_MATRIX"],[Ee.MAXICODE,"MAXICODE"],[Ee.ITF,"ITF"],[Ee.EAN_13,"EAN_13"],[Ee.EAN_8,"EAN_8"],[Ee.PDF_417,"PDF_417"],[Ee.RSS_14,"RSS_14"],[Ee.RSS_EXPANDED,"RSS_EXPANDED"],[Ee.UPC_A,"UPC_A"],[Ee.UPC_E,"UPC_E"],[Ee.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),vf;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(vf||(vf={}));function zx(e){return Object.values(Ee).includes(e)}var Zr;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Zr||(Zr={}));var Ni=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Zr.SCAN_TYPE_CAMERA,Zr.SCAN_TYPE_FILE],e}(),sg=function(){function e(n,s){this.format=n,this.formatName=s}return e.prototype.toString=function(){return this.formatName},e.create=function(n){if(!wf.has(n))throw"".concat(n," not in html5QrcodeSupportedFormatsTextMap");return new e(n,wf.get(n))},e}(),Cf=function(){function e(){}return e.createFromText=function(n){var s={text:n};return{decodedText:n,result:s}},e.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},e}(),Vc;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Vc||(Vc={}));var og=function(){function e(){}return e.createFrom=function(n){return{errorMessage:n,type:Vc.UNKWOWN_ERROR}},e}(),ag=function(){function e(n){this.verbose=n}return e.prototype.log=function(n){this.verbose&&console.log(n)},e.prototype.warn=function(n){this.verbose&&console.warn(n)},e.prototype.logError=function(n,s){(this.verbose||s===!0)&&console.error(n)},e.prototype.logErrors=function(n){if(n.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},e}();function Vi(e){return typeof e>"u"||e===null}function Ux(e,n,s){return e>s?s:e<n?n:e}var Ws=function(){function e(){}return e.codeParseError=function(n){return"QR code parse error, error = ".concat(n)},e.errorGettingUserMedia=function(n){return"Error getting userMedia, error = ".concat(n)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),gt=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(n){return"Last Match: ".concat(n)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),Ef=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),lg=function(){function e(){}return e.isMediaStreamConstraintsValid=function(n,s){if(typeof n!="object"){var c=typeof n;return s.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(c,"."),!0),!1}for(var d=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],g=new Set(d),_=Object.keys(n),A=0,S=_;A<S.length;A++){var v=S[A];if(g.has(v))return s.logError("".concat(v," is not supported videoConstaints."),!0),!1}return!0},e}(),Zc={exports:{}};(function(e,n){(function(s,c){c(n)})(Os,function(s){function c(T){return T==null}var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,t){T.__proto__=t}||function(T,t){for(var i in t)t.hasOwnProperty(i)&&(T[i]=t[i])};function g(T,t){d(T,t);function i(){this.constructor=T}T.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}function _(T,t){var i=Object.setPrototypeOf;i?i(T,t):T.__proto__=t}function A(T,t){t===void 0&&(t=T.constructor);var i=Error.captureStackTrace;i&&i(T,t)}var S=function(T){g(t,T);function t(i){var o=this.constructor,a=T.call(this,i)||this;return Object.defineProperty(a,"name",{value:o.name,enumerable:!1}),_(a,o.prototype),A(a),a}return t}(Error);class v extends S{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}v.kind="Exception";class k extends v{}k.kind="ArgumentException";class O extends v{}O.kind="IllegalArgumentException";class H{constructor(t){if(this.binarizer=t,t===null)throw new O("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,i){return this.binarizer.getBlackRow(t,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,i,o,a){const l=this.binarizer.getLuminanceSource().crop(t,i,o,a);return new H(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new H(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new H(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class Y extends v{static getChecksumInstance(){return new Y}}Y.kind="ChecksumException";class ee{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class U{static arraycopy(t,i,o,a,l){for(;l--;)o[a++]=t[i++]}static currentTimeMillis(){return Date.now()}}class me extends v{}me.kind="IndexOutOfBoundsException";class j extends me{constructor(t=void 0,i=void 0){super(i),this.index=t,this.message=i}}j.kind="ArrayIndexOutOfBoundsException";class D{static fill(t,i){for(let o=0,a=t.length;o<a;o++)t[o]=i}static fillWithin(t,i,o,a){D.rangeCheck(t.length,i,o);for(let l=i;l<o;l++)t[l]=a}static rangeCheck(t,i,o){if(i>o)throw new O("fromIndex("+i+") > toIndex("+o+")");if(i<0)throw new j(i);if(o>t)throw new j(o)}static asList(...t){return t}static create(t,i,o){return Array.from({length:t}).map(l=>Array.from({length:i}).fill(o))}static createInt32Array(t,i,o){return Array.from({length:t}).map(l=>Int32Array.from({length:i}).fill(o))}static equals(t,i){if(!t||!i||!t.length||!i.length||t.length!==i.length)return!1;for(let o=0,a=t.length;o<a;o++)if(t[o]!==i[o])return!1;return!0}static hashCode(t){if(t===null)return 0;let i=1;for(const o of t)i=31*i+o;return i}static fillUint8Array(t,i){for(let o=0;o!==t.length;o++)t[o]=i}static copyOf(t,i){return t.slice(0,i)}static copyOfUint8Array(t,i){if(t.length<=i){const o=new Uint8Array(i);return o.set(t),o}return t.slice(0,i)}static copyOfRange(t,i,o){const a=o-i,l=new Int32Array(a);return U.arraycopy(t,i,l,0,a),l}static binarySearch(t,i,o){o===void 0&&(o=D.numberComparator);let a=0,l=t.length-1;for(;a<=l;){const h=l+a>>1,f=o(i,t[h]);if(f>0)a=h+1;else if(f<0)l=h-1;else return h}return-a-1}static numberComparator(t,i){return t-i}}class P{static numberOfTrailingZeros(t){let i;if(t===0)return 32;let o=31;return i=t<<16,i!==0&&(o-=16,t=i),i=t<<8,i!==0&&(o-=8,t=i),i=t<<4,i!==0&&(o-=4,t=i),i=t<<2,i!==0&&(o-=2,t=i),o-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let i=1;return t>>>16||(i+=16,t<<=16),t>>>24||(i+=8,t<<=8),t>>>28||(i+=4,t<<=4),t>>>30||(i+=2,t<<=2),i-=t>>>31,i}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,i){return Math.trunc(t/i)}static parseInt(t,i=void 0){return parseInt(t,i)}}P.MIN_VALUE_32_BITS=-2147483648,P.MAX_VALUE=Number.MAX_SAFE_INTEGER;class q{constructor(t,i){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,i==null?this.bits=q.makeArray(t):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const i=q.makeArray(t);U.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const i=this.size;if(t>=i)return i;const o=this.bits;let a=Math.floor(t/32),l=o[a];l&=~((1<<(t&31))-1);const h=o.length;for(;l===0;){if(++a===h)return i;l=o[a]}const f=a*32+P.numberOfTrailingZeros(l);return f>i?i:f}getNextUnset(t){const i=this.size;if(t>=i)return i;const o=this.bits;let a=Math.floor(t/32),l=~o[a];l&=~((1<<(t&31))-1);const h=o.length;for(;l===0;){if(++a===h)return i;l=~o[a]}const f=a*32+P.numberOfTrailingZeros(l);return f>i?i:f}setBulk(t,i){this.bits[Math.floor(t/32)]=i}setRange(t,i){if(i<t||t<0||i>this.size)throw new O;if(i===t)return;i--;const o=Math.floor(t/32),a=Math.floor(i/32),l=this.bits;for(let h=o;h<=a;h++){const f=h>o?0:t&31,x=(2<<(h<a?31:i&31))-(1<<f);l[h]|=x}}clear(){const t=this.bits.length,i=this.bits;for(let o=0;o<t;o++)i[o]=0}isRange(t,i,o){if(i<t||t<0||i>this.size)throw new O;if(i===t)return!0;i--;const a=Math.floor(t/32),l=Math.floor(i/32),h=this.bits;for(let f=a;f<=l;f++){const m=f>a?0:t&31,w=(2<<(f<l?31:i&31))-(1<<m)&4294967295;if((h[f]&w)!==(o?w:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,i){if(i<0||i>32)throw new O("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let o=i;o>0;o--)this.appendBit((t>>o-1&1)===1)}appendBitArray(t){const i=t.size;this.ensureCapacity(this.size+i);for(let o=0;o<i;o++)this.appendBit(t.get(o))}xor(t){if(this.size!==t.size)throw new O("Sizes don't match");const i=this.bits;for(let o=0,a=i.length;o<a;o++)i[o]^=t.bits[o]}toBytes(t,i,o,a){for(let l=0;l<a;l++){let h=0;for(let f=0;f<8;f++)this.get(t)&&(h|=1<<7-f),t++;i[o+l]=h}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),o=i+1,a=this.bits;for(let l=0;l<o;l++){let h=a[l];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,t[i-l]=h}if(this.size!==o*32){const l=o*32-this.size;let h=t[0]>>>l;for(let f=1;f<o;f++){const m=t[f];h|=m<<32-l,t[f-1]=h,h=m>>>l}t[o-1]=h}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof q))return!1;const i=t;return this.size===i.size&&D.equals(this.bits,i.bits)}hashCode(){return 31*this.size+D.hashCode(this.bits)}toString(){let t="";for(let i=0,o=this.size;i<o;i++)i&7||(t+=" "),t+=this.get(i)?"X":".";return t}clone(){return new q(this.size,this.bits.slice())}}var de;(function(T){T[T.OTHER=0]="OTHER",T[T.PURE_BARCODE=1]="PURE_BARCODE",T[T.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",T[T.TRY_HARDER=3]="TRY_HARDER",T[T.CHARACTER_SET=4]="CHARACTER_SET",T[T.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",T[T.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",T[T.ASSUME_GS1=7]="ASSUME_GS1",T[T.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",T[T.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",T[T.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(de||(de={}));var ie=de;class V extends v{static getFormatInstance(){return new V}}V.kind="FormatException";var ne;(function(T){T[T.Cp437=0]="Cp437",T[T.ISO8859_1=1]="ISO8859_1",T[T.ISO8859_2=2]="ISO8859_2",T[T.ISO8859_3=3]="ISO8859_3",T[T.ISO8859_4=4]="ISO8859_4",T[T.ISO8859_5=5]="ISO8859_5",T[T.ISO8859_6=6]="ISO8859_6",T[T.ISO8859_7=7]="ISO8859_7",T[T.ISO8859_8=8]="ISO8859_8",T[T.ISO8859_9=9]="ISO8859_9",T[T.ISO8859_10=10]="ISO8859_10",T[T.ISO8859_11=11]="ISO8859_11",T[T.ISO8859_13=12]="ISO8859_13",T[T.ISO8859_14=13]="ISO8859_14",T[T.ISO8859_15=14]="ISO8859_15",T[T.ISO8859_16=15]="ISO8859_16",T[T.SJIS=16]="SJIS",T[T.Cp1250=17]="Cp1250",T[T.Cp1251=18]="Cp1251",T[T.Cp1252=19]="Cp1252",T[T.Cp1256=20]="Cp1256",T[T.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",T[T.UTF8=22]="UTF8",T[T.ASCII=23]="ASCII",T[T.Big5=24]="Big5",T[T.GB18030=25]="GB18030",T[T.EUC_KR=26]="EUC_KR"})(ne||(ne={}));class ${constructor(t,i,o,...a){this.valueIdentifier=t,this.name=o,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=a,$.VALUE_IDENTIFIER_TO_ECI.set(t,this),$.NAME_TO_ECI.set(o,this);const l=this.values;for(let h=0,f=l.length;h!==f;h++){const m=l[h];$.VALUES_TO_ECI.set(m,this)}for(const h of a)$.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new V("incorect value");const i=$.VALUES_TO_ECI.get(t);if(i===void 0)throw new V("incorect value");return i}static getCharacterSetECIByName(t){const i=$.NAME_TO_ECI.get(t);if(i===void 0)throw new V("incorect value");return i}equals(t){if(!(t instanceof $))return!1;const i=t;return this.getName()===i.getName()}}$.VALUE_IDENTIFIER_TO_ECI=new Map,$.VALUES_TO_ECI=new Map,$.NAME_TO_ECI=new Map,$.Cp437=new $(ne.Cp437,Int32Array.from([0,2]),"Cp437"),$.ISO8859_1=new $(ne.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),$.ISO8859_2=new $(ne.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),$.ISO8859_3=new $(ne.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),$.ISO8859_4=new $(ne.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),$.ISO8859_5=new $(ne.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),$.ISO8859_6=new $(ne.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),$.ISO8859_7=new $(ne.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),$.ISO8859_8=new $(ne.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),$.ISO8859_9=new $(ne.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),$.ISO8859_10=new $(ne.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),$.ISO8859_11=new $(ne.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),$.ISO8859_13=new $(ne.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),$.ISO8859_14=new $(ne.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),$.ISO8859_15=new $(ne.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),$.ISO8859_16=new $(ne.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),$.SJIS=new $(ne.SJIS,20,"SJIS","Shift_JIS"),$.Cp1250=new $(ne.Cp1250,21,"Cp1250","windows-1250"),$.Cp1251=new $(ne.Cp1251,22,"Cp1251","windows-1251"),$.Cp1252=new $(ne.Cp1252,23,"Cp1252","windows-1252"),$.Cp1256=new $(ne.Cp1256,24,"Cp1256","windows-1256"),$.UnicodeBigUnmarked=new $(ne.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),$.UTF8=new $(ne.UTF8,26,"UTF8","UTF-8"),$.ASCII=new $(ne.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),$.Big5=new $(ne.Big5,28,"Big5"),$.GB18030=new $(ne.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),$.EUC_KR=new $(ne.EUC_KR,30,"EUC_KR","EUC-KR");class be extends v{}be.kind="UnsupportedOperationException";class ze{static decode(t,i){const o=this.encodingName(i);return this.customDecoder?this.customDecoder(t,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(t,o):new TextDecoder(o).decode(t)}static shouldDecodeOnFallback(t){return!ze.isBrowser()&&t==="ISO-8859-1"}static encode(t,i){const o=this.encodingName(i);return this.customEncoder?this.customEncoder(t,o):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof $?t:$.getCharacterSetECIByName(t)}static decodeFallback(t,i){const o=this.encodingCharacterSet(i);if(ze.isDecodeFallbackSupported(o)){let a="";for(let l=0,h=t.length;l<h;l++){let f=t[l].toString(16);f.length<2&&(f="0"+f),a+="%"+f}return decodeURIComponent(a)}if(o.equals($.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new be(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals($.UTF8)||t.equals($.ISO8859_1)||t.equals($.ASCII)}static encodeFallback(t){const o=btoa(unescape(encodeURIComponent(t))).split(""),a=[];for(let l=0;l<o.length;l++)a.push(o[l].charCodeAt(0));return new Uint8Array(a)}}class Ce{static castAsNonUtf8Char(t,i=null){const o=i?i.getName():this.ISO88591;return ze.decode(new Uint8Array([t]),o)}static guessEncoding(t,i){if(i!=null&&i.get(ie.CHARACTER_SET)!==void 0)return i.get(ie.CHARACTER_SET).toString();const o=t.length;let a=!0,l=!0,h=!0,f=0,m=0,x=0,w=0,I=0,N=0,R=0,F=0,z=0,Z=0,X=0;const ue=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let ce=0;ce<o&&(a||l||h);ce++){const oe=t[ce]&255;h&&(f>0?oe&128?f--:h=!1:oe&128&&(oe&64?(f++,oe&32?(f++,oe&16?(f++,oe&8?h=!1:w++):x++):m++):h=!1)),a&&(oe>127&&oe<160?a=!1:oe>159&&(oe<192||oe===215||oe===247)&&X++),l&&(I>0?oe<64||oe===127||oe>252?l=!1:I--:oe===128||oe===160||oe>239?l=!1:oe>160&&oe<224?(N++,F=0,R++,R>z&&(z=R)):oe>127?(I++,R=0,F++,F>Z&&(Z=F)):(R=0,F=0))}return h&&f>0&&(h=!1),l&&I>0&&(l=!1),h&&(ue||m+x+w>0)?Ce.UTF8:l&&(Ce.ASSUME_SHIFT_JIS||z>=3||Z>=3)?Ce.SHIFT_JIS:a&&l?z===2&&N===2||X*10>=o?Ce.SHIFT_JIS:Ce.ISO88591:a?Ce.ISO88591:l?Ce.SHIFT_JIS:h?Ce.UTF8:Ce.PLATFORM_DEFAULT_ENCODING}static format(t,...i){let o=-1;function a(h,f,m,x,w,I){if(h==="%%")return"%";if(i[++o]===void 0)return;h=x?parseInt(x.substr(1)):void 0;let N=w?parseInt(w.substr(1)):void 0,R;switch(I){case"s":R=i[o];break;case"c":R=i[o][0];break;case"f":R=parseFloat(i[o]).toFixed(h);break;case"p":R=parseFloat(i[o]).toPrecision(h);break;case"e":R=parseFloat(i[o]).toExponential(h);break;case"x":R=parseInt(i[o]).toString(N||16);break;case"d":R=parseFloat(parseInt(i[o],N||10).toPrecision(h)).toFixed(0);break}R=typeof R=="object"?JSON.stringify(R):(+R).toString(N);let F=parseInt(m),z=m&&m[0]+""=="0"?"0":" ";for(;R.length<F;)R=f!==void 0?R+z:z+R;return R}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,a)}static getBytes(t,i){return ze.encode(t,i)}static getCharCode(t,i=0){return t.charCodeAt(i)}static getCharAt(t){return String.fromCharCode(t)}}Ce.SHIFT_JIS=$.SJIS.getName(),Ce.GB2312="GB2312",Ce.ISO88591=$.ISO8859_1.getName(),Ce.EUC_JP="EUC_JP",Ce.UTF8=$.UTF8.getName(),Ce.PLATFORM_DEFAULT_ENCODING=Ce.UTF8,Ce.ASSUME_SHIFT_JIS=!1;class Ze{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=Ce.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,i,o){for(let a=i;i<i+o;a++)this.append(t[a]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+1)}substring(t,i){return this.value.substring(t,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+i.length)}}class tt{constructor(t,i,o,a){if(this.width=t,this.height=i,this.rowSize=o,this.bits=a,i==null&&(i=t),this.height=i,t<1||i<1)throw new O("Both dimensions must be greater than 0");o==null&&(o=Math.floor((t+31)/32)),this.rowSize=o,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const i=t.length,o=t[0].length,a=new tt(o,i);for(let l=0;l<i;l++){const h=t[l];for(let f=0;f<o;f++)h[f]&&a.set(f,l)}return a}static parseFromString(t,i,o){if(t===null)throw new O("stringRepresentation cannot be null");const a=new Array(t.length);let l=0,h=0,f=-1,m=0,x=0;for(;x<t.length;)if(t.charAt(x)===`
`||t.charAt(x)==="\r"){if(l>h){if(f===-1)f=l-h;else if(l-h!==f)throw new O("row lengths do not match");h=l,m++}x++}else if(t.substring(x,x+i.length)===i)x+=i.length,a[l]=!0,l++;else if(t.substring(x,x+o.length)===o)x+=o.length,a[l]=!1,l++;else throw new O("illegal character encountered: "+t.substring(x));if(l>h){if(f===-1)f=l-h;else if(l-h!==f)throw new O("row lengths do not match");m++}const w=new tt(f,m);for(let I=0;I<l;I++)a[I]&&w.set(Math.floor(I%f),Math.floor(I/f));return w}get(t,i){const o=i*this.rowSize+Math.floor(t/32);return(this.bits[o]>>>(t&31)&1)!==0}set(t,i){const o=i*this.rowSize+Math.floor(t/32);this.bits[o]|=1<<(t&31)&4294967295}unset(t,i){const o=i*this.rowSize+Math.floor(t/32);this.bits[o]&=~(1<<(t&31)&4294967295)}flip(t,i){const o=i*this.rowSize+Math.floor(t/32);this.bits[o]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new O("input matrix dimensions do not match");const i=new q(Math.floor(this.width/32)+1),o=this.rowSize,a=this.bits;for(let l=0,h=this.height;l<h;l++){const f=l*o,m=t.getRow(l,i).getBitArray();for(let x=0;x<o;x++)a[f+x]^=m[x]}}clear(){const t=this.bits,i=t.length;for(let o=0;o<i;o++)t[o]=0}setRegion(t,i,o,a){if(i<0||t<0)throw new O("Left and top must be nonnegative");if(a<1||o<1)throw new O("Height and width must be at least 1");const l=t+o,h=i+a;if(h>this.height||l>this.width)throw new O("The region must fit inside the matrix");const f=this.rowSize,m=this.bits;for(let x=i;x<h;x++){const w=x*f;for(let I=t;I<l;I++)m[w+Math.floor(I/32)]|=1<<(I&31)&4294967295}}getRow(t,i){i==null||i.getSize()<this.width?i=new q(this.width):i.clear();const o=this.rowSize,a=this.bits,l=t*o;for(let h=0;h<o;h++)i.setBulk(h*32,a[l+h]);return i}setRow(t,i){U.arraycopy(i.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),i=this.getHeight();let o=new q(t),a=new q(t);for(let l=0,h=Math.floor((i+1)/2);l<h;l++)o=this.getRow(l,o),a=this.getRow(i-1-l,a),o.reverse(),a.reverse(),this.setRow(l,a),this.setRow(i-1-l,o)}getEnclosingRectangle(){const t=this.width,i=this.height,o=this.rowSize,a=this.bits;let l=t,h=i,f=-1,m=-1;for(let x=0;x<i;x++)for(let w=0;w<o;w++){const I=a[x*o+w];if(I!==0){if(x<h&&(h=x),x>m&&(m=x),w*32<l){let N=0;for(;!(I<<31-N&4294967295);)N++;w*32+N<l&&(l=w*32+N)}if(w*32+31>f){let N=31;for(;!(I>>>N);)N--;w*32+N>f&&(f=w*32+N)}}}return f<l||m<h?null:Int32Array.from([l,h,f-l+1,m-h+1])}getTopLeftOnBit(){const t=this.rowSize,i=this.bits;let o=0;for(;o<i.length&&i[o]===0;)o++;if(o===i.length)return null;const a=o/t;let l=o%t*32;const h=i[o];let f=0;for(;!(h<<31-f&4294967295);)f++;return l+=f,Int32Array.from([l,a])}getBottomRightOnBit(){const t=this.rowSize,i=this.bits;let o=i.length-1;for(;o>=0&&i[o]===0;)o--;if(o<0)return null;const a=Math.floor(o/t);let l=Math.floor(o%t)*32;const h=i[o];let f=31;for(;!(h>>>f);)f--;return l+=f,Int32Array.from([l,a])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof tt))return!1;const i=t;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&D.equals(this.bits,i.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+D.hashCode(this.bits),t}toString(t="X ",i="  ",o=`
`){return this.buildToString(t,i,o)}buildToString(t,i,o){let a=new Ze;for(let l=0,h=this.height;l<h;l++){for(let f=0,m=this.width;f<m;f++)a.append(this.get(f,l)?t:i);a.append(o)}return a.toString()}clone(){return new tt(this.width,this.height,this.rowSize,this.bits.slice())}}class J extends v{static getNotFoundInstance(){return new J}}J.kind="NotFoundException";class Ye extends ee{constructor(t){super(t),this.luminances=Ye.EMPTY,this.buckets=new Int32Array(Ye.LUMINANCE_BUCKETS)}getBlackRow(t,i){const o=this.getLuminanceSource(),a=o.getWidth();i==null||i.getSize()<a?i=new q(a):i.clear(),this.initArrays(a);const l=o.getRow(t,this.luminances),h=this.buckets;for(let m=0;m<a;m++)h[(l[m]&255)>>Ye.LUMINANCE_SHIFT]++;const f=Ye.estimateBlackPoint(h);if(a<3)for(let m=0;m<a;m++)(l[m]&255)<f&&i.set(m);else{let m=l[0]&255,x=l[1]&255;for(let w=1;w<a-1;w++){const I=l[w+1]&255;(x*4-m-I)/2<f&&i.set(w),m=x,x=I}}return i}getBlackMatrix(){const t=this.getLuminanceSource(),i=t.getWidth(),o=t.getHeight(),a=new tt(i,o);this.initArrays(i);const l=this.buckets;for(let m=1;m<5;m++){const x=Math.floor(o*m/5),w=t.getRow(x,this.luminances),I=Math.floor(i*4/5);for(let N=Math.floor(i/5);N<I;N++){const R=w[N]&255;l[R>>Ye.LUMINANCE_SHIFT]++}}const h=Ye.estimateBlackPoint(l),f=t.getMatrix();for(let m=0;m<o;m++){const x=m*i;for(let w=0;w<i;w++)(f[x+w]&255)<h&&a.set(w,m)}return a}createBinarizer(t){return new Ye(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const i=this.buckets;for(let o=0;o<Ye.LUMINANCE_BUCKETS;o++)i[o]=0}static estimateBlackPoint(t){const i=t.length;let o=0,a=0,l=0;for(let w=0;w<i;w++)t[w]>l&&(a=w,l=t[w]),t[w]>o&&(o=t[w]);let h=0,f=0;for(let w=0;w<i;w++){const I=w-a,N=t[w]*I*I;N>f&&(h=w,f=N)}if(a>h){const w=a;a=h,h=w}if(h-a<=i/16)throw new J;let m=h-1,x=-1;for(let w=h-1;w>a;w--){const I=w-a,N=I*I*(h-w)*(o-t[w]);N>x&&(m=w,x=N)}return m<<Ye.LUMINANCE_SHIFT}}Ye.LUMINANCE_BITS=5,Ye.LUMINANCE_SHIFT=8-Ye.LUMINANCE_BITS,Ye.LUMINANCE_BUCKETS=1<<Ye.LUMINANCE_BITS,Ye.EMPTY=Uint8ClampedArray.from([0]);class Le extends Ye{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),i=t.getWidth(),o=t.getHeight();if(i>=Le.MINIMUM_DIMENSION&&o>=Le.MINIMUM_DIMENSION){const a=t.getMatrix();let l=i>>Le.BLOCK_SIZE_POWER;i&Le.BLOCK_SIZE_MASK&&l++;let h=o>>Le.BLOCK_SIZE_POWER;o&Le.BLOCK_SIZE_MASK&&h++;const f=Le.calculateBlackPoints(a,l,h,i,o),m=new tt(i,o);Le.calculateThresholdForBlock(a,l,h,i,o,f,m),this.matrix=m}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new Le(t)}static calculateThresholdForBlock(t,i,o,a,l,h,f){const m=l-Le.BLOCK_SIZE,x=a-Le.BLOCK_SIZE;for(let w=0;w<o;w++){let I=w<<Le.BLOCK_SIZE_POWER;I>m&&(I=m);const N=Le.cap(w,2,o-3);for(let R=0;R<i;R++){let F=R<<Le.BLOCK_SIZE_POWER;F>x&&(F=x);const z=Le.cap(R,2,i-3);let Z=0;for(let ue=-2;ue<=2;ue++){const ce=h[N+ue];Z+=ce[z-2]+ce[z-1]+ce[z]+ce[z+1]+ce[z+2]}const X=Z/25;Le.thresholdBlock(t,F,I,X,a,f)}}}static cap(t,i,o){return t<i?i:t>o?o:t}static thresholdBlock(t,i,o,a,l,h){for(let f=0,m=o*l+i;f<Le.BLOCK_SIZE;f++,m+=l)for(let x=0;x<Le.BLOCK_SIZE;x++)(t[m+x]&255)<=a&&h.set(i+x,o+f)}static calculateBlackPoints(t,i,o,a,l){const h=l-Le.BLOCK_SIZE,f=a-Le.BLOCK_SIZE,m=new Array(o);for(let x=0;x<o;x++){m[x]=new Int32Array(i);let w=x<<Le.BLOCK_SIZE_POWER;w>h&&(w=h);for(let I=0;I<i;I++){let N=I<<Le.BLOCK_SIZE_POWER;N>f&&(N=f);let R=0,F=255,z=0;for(let X=0,ue=w*a+N;X<Le.BLOCK_SIZE;X++,ue+=a){for(let ce=0;ce<Le.BLOCK_SIZE;ce++){const oe=t[ue+ce]&255;R+=oe,oe<F&&(F=oe),oe>z&&(z=oe)}if(z-F>Le.MIN_DYNAMIC_RANGE)for(X++,ue+=a;X<Le.BLOCK_SIZE;X++,ue+=a)for(let ce=0;ce<Le.BLOCK_SIZE;ce++)R+=t[ue+ce]&255}let Z=R>>Le.BLOCK_SIZE_POWER*2;if(z-F<=Le.MIN_DYNAMIC_RANGE&&(Z=F/2,x>0&&I>0)){const X=(m[x-1][I]+2*m[x][I-1]+m[x-1][I-1])/4;F<X&&(Z=X)}m[x][I]=Z}}return m}}Le.BLOCK_SIZE_POWER=3,Le.BLOCK_SIZE=1<<Le.BLOCK_SIZE_POWER,Le.BLOCK_SIZE_MASK=Le.BLOCK_SIZE-1,Le.MINIMUM_DIMENSION=Le.BLOCK_SIZE*5,Le.MIN_DYNAMIC_RANGE=24;class te{constructor(t,i){this.width=t,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,i,o,a){throw new be("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new be("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new be("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let i=new Ze;for(let o=0;o<this.height;o++){const a=this.getRow(o,t);for(let l=0;l<this.width;l++){const h=a[l]&255;let f;h<64?f="#":h<128?f="+":h<192?f=".":f=" ",i.append(f)}i.append(`
`)}return i.toString()}}class Me extends te{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,i){const o=this.delegate.getRow(t,i),a=this.getWidth();for(let l=0;l<a;l++)o[l]=255-(o[l]&255);return o}getMatrix(){const t=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(i);for(let a=0;a<i;a++)o[a]=255-(t[a]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(t,i,o,a){return new Me(this.delegate.crop(t,i,o,a))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Me(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Me(this.delegate.rotateCounterClockwise45())}}class le extends te{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=le.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const i=t.getContext("2d").getImageData(0,0,t.width,t.height);return le.toGrayscaleBuffer(i.data,t.width,t.height)}static toGrayscaleBuffer(t,i,o){const a=new Uint8ClampedArray(i*o);for(let l=0,h=0,f=t.length;l<f;l+=4,h++){let m;if(t[l+3]===0)m=255;else{const w=t[l],I=t[l+1],N=t[l+2];m=306*w+601*I+117*N+512>>10}a[h]=m}return a}getRow(t,i){if(t<0||t>=this.getHeight())throw new O("Requested row is outside the image: "+t);const o=this.getWidth(),a=t*o;return i===null?i=this.buffer.slice(a,a+o):(i.length<o&&(i=new Uint8ClampedArray(o)),i.set(this.buffer.slice(a,a+o))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,i,o,a){return super.crop(t,i,o,a),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const i=this.getTempCanvasElement(),o=i.getContext("2d"),a=t*le.DEGREE_TO_RADIANS,l=this.canvas.width,h=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(a))*l+Math.abs(Math.sin(a))*h),m=Math.ceil(Math.abs(Math.sin(a))*l+Math.abs(Math.cos(a))*h);return i.width=f,i.height=m,o.translate(f/2,m/2),o.rotate(a),o.drawImage(this.canvas,l/-2,h/-2),this.buffer=le.makeBufferFromCanvasImageData(i),this}invert(){return new Me(this)}}le.DEGREE_TO_RADIANS=Math.PI/180;class Re{constructor(t,i,o){this.deviceId=t,this.label=i,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ke=(globalThis||Os||self||window||void 0)&&(globalThis||Os||self||window||void 0).__awaiter||function(T,t,i,o){function a(l){return l instanceof i?l:new i(function(h){h(l)})}return new(i||(i=Promise))(function(l,h){function f(w){try{x(o.next(w))}catch(I){h(I)}}function m(w){try{x(o.throw(w))}catch(I){h(I)}}function x(w){w.done?l(w.value):a(w.value).then(f,m)}x((o=o.apply(T,t||[])).next())})};class ht{constructor(t,i=500,o){this.reader=t,this.timeBetweenScansMillis=i,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return ke(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const o of t){const a=o.kind==="video"?"videoinput":o.kind;if(a!=="videoinput")continue;const l=o.deviceId||o.id,h=o.label||`Video device ${i.length+1}`,f=o.groupId,m={deviceId:l,label:h,kind:a,groupId:f};i.push(m)}return i})}getVideoInputDevices(){return ke(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new Re(i.deviceId,i.label))})}findDeviceById(t){return ke(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(o=>o.deviceId===t):null})}decodeFromInputVideoDevice(t,i){return ke(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,i)})}decodeOnceFromVideoDevice(t,i){return ke(this,void 0,void 0,function*(){this.reset();let o;t?o={deviceId:{exact:t}}:o={facingMode:"environment"};const a={video:o};return yield this.decodeOnceFromConstraints(a,i)})}decodeOnceFromConstraints(t,i){return ke(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(o,i)})}decodeOnceFromStream(t,i){return ke(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(t,i);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(t,i,o){return ke(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,i,o)})}decodeFromVideoDevice(t,i,o){return ke(this,void 0,void 0,function*(){let a;t?a={deviceId:{exact:t}}:a={facingMode:"environment"};const l={video:a};return yield this.decodeFromConstraints(l,i,o)})}decodeFromConstraints(t,i,o){return ke(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(a,i,o)})}decodeFromStream(t,i,o){return ke(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(t,i);return yield this.decodeContinuously(a,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,i){return ke(this,void 0,void 0,function*(){const o=this.prepareVideoElement(i);return this.addVideoSource(o,t),this.videoElement=o,this.stream=t,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(t){return new Promise((i,o)=>this.playVideoOnLoad(t,()=>i()))}playVideoOnLoad(t,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",i),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return ke(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,i){const o=document.getElementById(t);if(!o)throw new k(`element with id '${t}' not found`);if(o.nodeName.toLowerCase()!==i.toLowerCase())throw new k(`element with id '${t}' must be an ${i} element`);return o}decodeFromImage(t,i){if(!t&&!i)throw new k("either imageElement with a src set or an url must be provided");return i&&!t?this.decodeFromImageUrl(i):this.decodeFromImageElement(t)}decodeFromVideo(t,i){if(!t&&!i)throw new k("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,i,o){if(t===void 0&&i===void 0)throw new k("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrlContinuously(i,o):this.decodeFromVideoElementContinuously(t,o)}decodeFromImageElement(t){if(!t)throw new k("An image element must be provided.");this.reset();const i=this.prepareImageElement(t);this.imageElement=i;let o;return this.isImageLoaded(i)?o=this.decodeOnce(i,!1,!0):o=this._decodeOnLoadImage(i),o}decodeFromVideoElement(t){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(t,i){const o=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(o,i)}_decodeFromVideoElementSetup(t){if(!t)throw new k("A video element must be provided.");this.reset();const i=this.prepareVideoElement(t);return this.videoElement=i,i}decodeFromImageUrl(t){if(!t)throw new k("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const o=this._decodeOnLoadImage(i);return i.src=t,o}decodeFromVideoUrl(t){if(!t)throw new k("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElement(i);return i.src=t,o}decodeFromVideoUrlContinuously(t,i){if(!t)throw new k("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(o,i);return o.src=t,a}_decodeOnLoadImage(t){return new Promise((i,o)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(i,o),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return ke(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,i){return ke(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,i)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let i;return typeof t>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(i=t),i}prepareVideoElement(t){let i;return!t&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(i=t),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(t,i=!0,o=!0){this._stopAsyncDecode=!1;const a=(l,h)=>{if(this._stopAsyncDecode){h(new J("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(t);l(f)}catch(f){const m=i&&f instanceof J,w=(f instanceof Y||f instanceof V)&&o;if(m||w)return setTimeout(a,this._timeBetweenDecodingAttempts,l,h);h(f)}};return new Promise((l,h)=>a(l,h))}decodeContinuously(t,i){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const a=this.decode(t);i(a,null),setTimeout(o,this.timeBetweenScansMillis)}catch(a){i(null,a);const l=a instanceof Y||a instanceof V,h=a instanceof J;(l||h)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(t){const i=this.createBinaryBitmap(t);return this.decodeBitmap(i)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,i,o){i||(i={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(t,i,o=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const i=this.getCaptureCanvas(t),o=new le(i),a=new Le(o);return new H(a)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const i=this.createCaptureCanvas(t);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let o,a;return typeof t<"u"&&(t instanceof HTMLVideoElement?(o=t.videoWidth,a=t.videoHeight):t instanceof HTMLImageElement&&(o=t.naturalWidth||t.width,a=t.naturalHeight||t.height)),i.style.width=o+"px",i.style.height=a+"px",i.width=o,i.height=a,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,i){try{t.srcObject=i}catch{t.src=URL.createObjectURL(i)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class Be{constructor(t,i,o=i==null?0:8*i.length,a,l,h=U.currentTimeMillis()){this.text=t,this.rawBytes=i,this.numBits=o,this.resultPoints=a,this.format=l,this.timestamp=h,this.text=t,this.rawBytes=i,o==null?this.numBits=i==null?0:8*i.length:this.numBits=o,this.resultPoints=a,this.format=l,this.resultMetadata=null,h==null?this.timestamp=U.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,i)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const i=this.resultPoints;if(i===null)this.resultPoints=t;else if(t!==null&&t.length>0){const o=new Array(i.length+t.length);U.arraycopy(i,0,o,0,i.length),U.arraycopy(t,0,o,i.length,t.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ve;(function(T){T[T.AZTEC=0]="AZTEC",T[T.CODABAR=1]="CODABAR",T[T.CODE_39=2]="CODE_39",T[T.CODE_93=3]="CODE_93",T[T.CODE_128=4]="CODE_128",T[T.DATA_MATRIX=5]="DATA_MATRIX",T[T.EAN_8=6]="EAN_8",T[T.EAN_13=7]="EAN_13",T[T.ITF=8]="ITF",T[T.MAXICODE=9]="MAXICODE",T[T.PDF_417=10]="PDF_417",T[T.QR_CODE=11]="QR_CODE",T[T.RSS_14=12]="RSS_14",T[T.RSS_EXPANDED=13]="RSS_EXPANDED",T[T.UPC_A=14]="UPC_A",T[T.UPC_E=15]="UPC_E",T[T.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ve||(Ve={}));var ae=Ve,pe;(function(T){T[T.OTHER=0]="OTHER",T[T.ORIENTATION=1]="ORIENTATION",T[T.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",T[T.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",T[T.ISSUE_NUMBER=4]="ISSUE_NUMBER",T[T.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",T[T.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",T[T.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",T[T.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",T[T.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",T[T.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(pe||(pe={}));var _e=pe;class rt{constructor(t,i,o,a,l=-1,h=-1){this.rawBytes=t,this.text=i,this.byteSegments=o,this.ecLevel=a,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=h,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Xt{exp(t){return this.expTable[t]}log(t){if(t===0)throw new O;return this.logTable[t]}static addOrSubtract(t,i){return t^i}}class tn{constructor(t,i){if(i.length===0)throw new O;this.field=t;const o=i.length;if(o>1&&i[0]===0){let a=1;for(;a<o&&i[a]===0;)a++;a===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-a),U.arraycopy(i,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const i=this.coefficients;let o;if(t===1){o=0;for(let h=0,f=i.length;h!==f;h++){const m=i[h];o=Xt.addOrSubtract(o,m)}return o}o=i[0];const a=i.length,l=this.field;for(let h=1;h<a;h++)o=Xt.addOrSubtract(l.multiply(t,o),i[h]);return o}addOrSubtract(t){if(!this.field.equals(t.field))throw new O("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,o=t.coefficients;if(i.length>o.length){const h=i;i=o,o=h}let a=new Int32Array(o.length);const l=o.length-i.length;U.arraycopy(o,0,a,0,l);for(let h=l;h<o.length;h++)a[h]=Xt.addOrSubtract(i[h-l],o[h]);return new tn(this.field,a)}multiply(t){if(!this.field.equals(t.field))throw new O("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const i=this.coefficients,o=i.length,a=t.coefficients,l=a.length,h=new Int32Array(o+l-1),f=this.field;for(let m=0;m<o;m++){const x=i[m];for(let w=0;w<l;w++)h[m+w]=Xt.addOrSubtract(h[m+w],f.multiply(x,a[w]))}return new tn(f,h)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const i=this.coefficients.length,o=this.field,a=new Int32Array(i),l=this.coefficients;for(let h=0;h<i;h++)a[h]=o.multiply(l[h],t);return new tn(o,a)}multiplyByMonomial(t,i){if(t<0)throw new O;if(i===0)return this.field.getZero();const o=this.coefficients,a=o.length,l=new Int32Array(a+t),h=this.field;for(let f=0;f<a;f++)l[f]=h.multiply(o[f],i);return new tn(h,l)}divide(t){if(!this.field.equals(t.field))throw new O("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new O("Divide by 0");const i=this.field;let o=i.getZero(),a=this;const l=t.getCoefficient(t.getDegree()),h=i.inverse(l);for(;a.getDegree()>=t.getDegree()&&!a.isZero();){const f=a.getDegree()-t.getDegree(),m=i.multiply(a.getCoefficient(a.getDegree()),h),x=t.multiplyByMonomial(f,m),w=i.buildMonomial(f,m);o=o.addOrSubtract(w),a=a.addOrSubtract(x)}return[o,a]}toString(){let t="";for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);if(o!==0){if(o<0?(t+=" - ",o=-o):t.length>0&&(t+=" + "),i===0||o!==1){const a=this.field.log(o);a===0?t+="1":a===1?t+="a":(t+="a^",t+=a)}i!==0&&(i===1?t+="x":(t+="x^",t+=i))}}return t}}class ki extends v{}ki.kind="ArithmeticException";class Je extends Xt{constructor(t,i,o){super(),this.primitive=t,this.size=i,this.generatorBase=o;const a=new Int32Array(i);let l=1;for(let f=0;f<i;f++)a[f]=l,l*=2,l>=i&&(l^=t,l&=i-1);this.expTable=a;const h=new Int32Array(i);for(let f=0;f<i-1;f++)h[a[f]]=f;this.logTable=h,this.zero=new tn(this,Int32Array.from([0])),this.one=new tn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new O;if(i===0)return this.zero;const o=new Int32Array(t+1);return o[0]=i,new tn(this,o)}inverse(t){if(t===0)throw new ki;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+P.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}Je.AZTEC_DATA_12=new Je(4201,4096,1),Je.AZTEC_DATA_10=new Je(1033,1024,1),Je.AZTEC_DATA_6=new Je(67,64,1),Je.AZTEC_PARAM=new Je(19,16,1),Je.QR_CODE_FIELD_256=new Je(285,256,0),Je.DATA_MATRIX_FIELD_256=new Je(301,256,1),Je.AZTEC_DATA_8=Je.DATA_MATRIX_FIELD_256,Je.MAXICODE_FIELD_64=Je.AZTEC_DATA_6;class fr extends v{}fr.kind="ReedSolomonException";class Hn extends v{}Hn.kind="IllegalStateException";class gr{constructor(t){this.field=t}decode(t,i){const o=this.field,a=new tn(o,t),l=new Int32Array(i);let h=!0;for(let R=0;R<i;R++){const F=a.evaluateAt(o.exp(R+o.getGeneratorBase()));l[l.length-1-R]=F,F!==0&&(h=!1)}if(h)return;const f=new tn(o,l),m=this.runEuclideanAlgorithm(o.buildMonomial(i,1),f,i),x=m[0],w=m[1],I=this.findErrorLocations(x),N=this.findErrorMagnitudes(w,I);for(let R=0;R<I.length;R++){const F=t.length-1-o.log(I[R]);if(F<0)throw new fr("Bad error location");t[F]=Je.addOrSubtract(t[F],N[R])}}runEuclideanAlgorithm(t,i,o){if(t.getDegree()<i.getDegree()){const R=t;t=i,i=R}const a=this.field;let l=t,h=i,f=a.getZero(),m=a.getOne();for(;h.getDegree()>=(o/2|0);){let R=l,F=f;if(l=h,f=m,l.isZero())throw new fr("r_{i-1} was zero");h=R;let z=a.getZero();const Z=l.getCoefficient(l.getDegree()),X=a.inverse(Z);for(;h.getDegree()>=l.getDegree()&&!h.isZero();){const ue=h.getDegree()-l.getDegree(),ce=a.multiply(h.getCoefficient(h.getDegree()),X);z=z.addOrSubtract(a.buildMonomial(ue,ce)),h=h.addOrSubtract(l.multiplyByMonomial(ue,ce))}if(m=z.multiply(f).addOrSubtract(F),h.getDegree()>=l.getDegree())throw new Hn("Division algorithm failed to reduce polynomial?")}const x=m.getCoefficient(0);if(x===0)throw new fr("sigmaTilde(0) was zero");const w=a.inverse(x),I=m.multiplyScalar(w),N=h.multiplyScalar(w);return[I,N]}findErrorLocations(t){const i=t.getDegree();if(i===1)return Int32Array.from([t.getCoefficient(1)]);const o=new Int32Array(i);let a=0;const l=this.field;for(let h=1;h<l.getSize()&&a<i;h++)t.evaluateAt(h)===0&&(o[a]=l.inverse(h),a++);if(a!==i)throw new fr("Error locator degree does not match number of roots");return o}findErrorMagnitudes(t,i){const o=i.length,a=new Int32Array(o),l=this.field;for(let h=0;h<o;h++){const f=l.inverse(i[h]);let m=1;for(let x=0;x<o;x++)if(h!==x){const w=l.multiply(i[x],f),I=w&1?w&-2:w|1;m=l.multiply(m,I)}a[h]=l.multiply(t.evaluateAt(f),l.inverse(m)),l.getGeneratorBase()!==0&&(a[h]=l.multiply(a[h],f))}return a}}var Ut;(function(T){T[T.UPPER=0]="UPPER",T[T.LOWER=1]="LOWER",T[T.MIXED=2]="MIXED",T[T.DIGIT=3]="DIGIT",T[T.PUNCT=4]="PUNCT",T[T.BINARY=5]="BINARY"})(Ut||(Ut={}));class lt{decode(t){this.ddata=t;let i=t.getBits(),o=this.extractBits(i),a=this.correctBits(o),l=lt.convertBoolArrayToByteArray(a),h=lt.getEncodedData(a),f=new rt(l,h,null,null);return f.setNumBits(a.length),f}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let i=t.length,o=Ut.UPPER,a=Ut.UPPER,l="",h=0;for(;h<i;)if(a===Ut.BINARY){if(i-h<5)break;let f=lt.readCode(t,h,5);if(h+=5,f===0){if(i-h<11)break;f=lt.readCode(t,h,11)+31,h+=11}for(let m=0;m<f;m++){if(i-h<8){h=i;break}const x=lt.readCode(t,h,8);l+=Ce.castAsNonUtf8Char(x),h+=8}a=o}else{let f=a===Ut.DIGIT?4:5;if(i-h<f)break;let m=lt.readCode(t,h,f);h+=f;let x=lt.getCharacter(a,m);x.startsWith("CTRL_")?(o=a,a=lt.getTable(x.charAt(5)),x.charAt(6)==="L"&&(o=a)):(l+=x,a=o)}return l}static getTable(t){switch(t){case"L":return Ut.LOWER;case"P":return Ut.PUNCT;case"M":return Ut.MIXED;case"D":return Ut.DIGIT;case"B":return Ut.BINARY;case"U":default:return Ut.UPPER}}static getCharacter(t,i){switch(t){case Ut.UPPER:return lt.UPPER_TABLE[i];case Ut.LOWER:return lt.LOWER_TABLE[i];case Ut.MIXED:return lt.MIXED_TABLE[i];case Ut.PUNCT:return lt.PUNCT_TABLE[i];case Ut.DIGIT:return lt.DIGIT_TABLE[i];default:throw new Hn("Bad table")}}correctBits(t){let i,o;this.ddata.getNbLayers()<=2?(o=6,i=Je.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,i=Je.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,i=Je.AZTEC_DATA_10):(o=12,i=Je.AZTEC_DATA_12);let a=this.ddata.getNbDatablocks(),l=t.length/o;if(l<a)throw new V;let h=t.length%o,f=new Int32Array(l);for(let N=0;N<l;N++,h+=o)f[N]=lt.readCode(t,h,o);try{new gr(i).decode(f,l-a)}catch(N){throw new V(N)}let m=(1<<o)-1,x=0;for(let N=0;N<a;N++){let R=f[N];if(R===0||R===m)throw new V;(R===1||R===m-1)&&x++}let w=new Array(a*o-x),I=0;for(let N=0;N<a;N++){let R=f[N];if(R===1||R===m-1)w.fill(R>1,I,I+o-1),I+=o-1;else for(let F=o-1;F>=0;--F)w[I++]=(R&1<<F)!==0}return w}extractBits(t){let i=this.ddata.isCompact(),o=this.ddata.getNbLayers(),a=(i?11:14)+o*4,l=new Int32Array(a),h=new Array(this.totalBitsInLayer(o,i));if(i)for(let f=0;f<l.length;f++)l[f]=f;else{let f=a+1+2*P.truncDivision(P.truncDivision(a,2)-1,15),m=a/2,x=P.truncDivision(f,2);for(let w=0;w<m;w++){let I=w+P.truncDivision(w,15);l[m-w-1]=x-I-1,l[m+w]=x+I+1}}for(let f=0,m=0;f<o;f++){let x=(o-f)*4+(i?9:12),w=f*2,I=a-1-w;for(let N=0;N<x;N++){let R=N*2;for(let F=0;F<2;F++)h[m+R+F]=t.get(l[w+F],l[w+N]),h[m+2*x+R+F]=t.get(l[w+N],l[I-F]),h[m+4*x+R+F]=t.get(l[I-F],l[I-N]),h[m+6*x+R+F]=t.get(l[I-N],l[w+F])}m+=x*8}return h}static readCode(t,i,o){let a=0;for(let l=i;l<i+o;l++)a<<=1,t[l]&&(a|=1);return a}static readByte(t,i){let o=t.length-i;return o>=8?lt.readCode(t,i,8):lt.readCode(t,i,o)<<8-o}static convertBoolArrayToByteArray(t){let i=new Uint8Array((t.length+7)/8);for(let o=0;o<i.length;o++)i[o]=lt.readByte(t,8*o);return i}totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}lt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],lt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],lt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],lt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],lt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class $e{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,i,o,a){const l=t-o,h=i-a;return Math.sqrt(l*l+h*h)}static sum(t){let i=0;for(let o=0,a=t.length;o!==a;o++){const l=t[o];i+=l}return i}}class Xr{static floatToIntBits(t){return t}}Xr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Se{constructor(t,i){this.x=t,this.y=i}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof Se){const i=t;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Xr.floatToIntBits(this.x)+Xr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const i=this.distance(t[0],t[1]),o=this.distance(t[1],t[2]),a=this.distance(t[0],t[2]);let l,h,f;if(o>=i&&o>=a?(h=t[0],l=t[1],f=t[2]):a>=o&&a>=i?(h=t[1],l=t[0],f=t[2]):(h=t[2],l=t[0],f=t[1]),this.crossProductZ(l,h,f)<0){const m=l;l=f,f=m}t[0]=l,t[1]=h,t[2]=f}static distance(t,i){return $e.distance(t.x,t.y,i.x,i.y)}static crossProductZ(t,i,o){const a=i.x,l=i.y;return(o.x-a)*(t.y-l)-(o.y-l)*(t.x-a)}}class Qr{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class uo extends Qr{constructor(t,i,o,a,l){super(t,i),this.compact=o,this.nbDatablocks=a,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class xi{constructor(t,i,o,a){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),i==null&&(i=xi.INIT_SIZE),o==null&&(o=t.getWidth()/2|0),a==null&&(a=t.getHeight()/2|0);const l=i/2|0;if(this.leftInit=o-l,this.rightInit=o+l,this.upInit=a-l,this.downInit=a+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new J}detect(){let t=this.leftInit,i=this.rightInit,o=this.upInit,a=this.downInit,l=!1,h=!0,f=!1,m=!1,x=!1,w=!1,I=!1;const N=this.width,R=this.height;for(;h;){h=!1;let F=!0;for(;(F||!m)&&i<N;)F=this.containsBlackPoint(o,a,i,!1),F?(i++,h=!0,m=!0):m||i++;if(i>=N){l=!0;break}let z=!0;for(;(z||!x)&&a<R;)z=this.containsBlackPoint(t,i,a,!0),z?(a++,h=!0,x=!0):x||a++;if(a>=R){l=!0;break}let Z=!0;for(;(Z||!w)&&t>=0;)Z=this.containsBlackPoint(o,a,t,!1),Z?(t--,h=!0,w=!0):w||t--;if(t<0){l=!0;break}let X=!0;for(;(X||!I)&&o>=0;)X=this.containsBlackPoint(t,i,o,!0),X?(o--,h=!0,I=!0):I||o--;if(o<0){l=!0;break}h&&(f=!0)}if(!l&&f){const F=i-t;let z=null;for(let ce=1;z===null&&ce<F;ce++)z=this.getBlackPointOnSegment(t,a-ce,t+ce,a);if(z==null)throw new J;let Z=null;for(let ce=1;Z===null&&ce<F;ce++)Z=this.getBlackPointOnSegment(t,o+ce,t+ce,o);if(Z==null)throw new J;let X=null;for(let ce=1;X===null&&ce<F;ce++)X=this.getBlackPointOnSegment(i,o+ce,i-ce,o);if(X==null)throw new J;let ue=null;for(let ce=1;ue===null&&ce<F;ce++)ue=this.getBlackPointOnSegment(i,a-ce,i-ce,a);if(ue==null)throw new J;return this.centerEdges(ue,z,X,Z)}else throw new J}getBlackPointOnSegment(t,i,o,a){const l=$e.round($e.distance(t,i,o,a)),h=(o-t)/l,f=(a-i)/l,m=this.image;for(let x=0;x<l;x++){const w=$e.round(t+x*h),I=$e.round(i+x*f);if(m.get(w,I))return new Se(w,I)}return null}centerEdges(t,i,o,a){const l=t.getX(),h=t.getY(),f=i.getX(),m=i.getY(),x=o.getX(),w=o.getY(),I=a.getX(),N=a.getY(),R=xi.CORR;return l<this.width/2?[new Se(I-R,N+R),new Se(f+R,m+R),new Se(x-R,w-R),new Se(l+R,h-R)]:[new Se(I+R,N+R),new Se(f+R,m-R),new Se(x-R,w+R),new Se(l-R,h-R)]}containsBlackPoint(t,i,o,a){const l=this.image;if(a){for(let h=t;h<=i;h++)if(l.get(h,o))return!0}else for(let h=t;h<=i;h++)if(l.get(o,h))return!0;return!1}}xi.INIT_SIZE=10,xi.CORR=1;class co{static checkAndNudgePoints(t,i){const o=t.getWidth(),a=t.getHeight();let l=!0;for(let h=0;h<i.length&&l;h+=2){const f=Math.floor(i[h]),m=Math.floor(i[h+1]);if(f<-1||f>o||m<-1||m>a)throw new J;l=!1,f===-1?(i[h]=0,l=!0):f===o&&(i[h]=o-1,l=!0),m===-1?(i[h+1]=0,l=!0):m===a&&(i[h+1]=a-1,l=!0)}l=!0;for(let h=i.length-2;h>=0&&l;h-=2){const f=Math.floor(i[h]),m=Math.floor(i[h+1]);if(f<-1||f>o||m<-1||m>a)throw new J;l=!1,f===-1?(i[h]=0,l=!0):f===o&&(i[h]=o-1,l=!0),m===-1?(i[h+1]=0,l=!0):m===a&&(i[h+1]=a-1,l=!0)}}}class An{constructor(t,i,o,a,l,h,f,m,x){this.a11=t,this.a21=i,this.a31=o,this.a12=a,this.a22=l,this.a32=h,this.a13=f,this.a23=m,this.a33=x}static quadrilateralToQuadrilateral(t,i,o,a,l,h,f,m,x,w,I,N,R,F,z,Z){const X=An.quadrilateralToSquare(t,i,o,a,l,h,f,m);return An.squareToQuadrilateral(x,w,I,N,R,F,z,Z).times(X)}transformPoints(t){const i=t.length,o=this.a11,a=this.a12,l=this.a13,h=this.a21,f=this.a22,m=this.a23,x=this.a31,w=this.a32,I=this.a33;for(let N=0;N<i;N+=2){const R=t[N],F=t[N+1],z=l*R+m*F+I;t[N]=(o*R+h*F+x)/z,t[N+1]=(a*R+f*F+w)/z}}transformPointsWithValues(t,i){const o=this.a11,a=this.a12,l=this.a13,h=this.a21,f=this.a22,m=this.a23,x=this.a31,w=this.a32,I=this.a33,N=t.length;for(let R=0;R<N;R++){const F=t[R],z=i[R],Z=l*F+m*z+I;t[R]=(o*F+h*z+x)/Z,i[R]=(a*F+f*z+w)/Z}}static squareToQuadrilateral(t,i,o,a,l,h,f,m){const x=t-o+l-f,w=i-a+h-m;if(x===0&&w===0)return new An(o-t,l-o,t,a-i,h-a,i,0,0,1);{const I=o-l,N=f-l,R=a-h,F=m-h,z=I*F-N*R,Z=(x*F-N*w)/z,X=(I*w-x*R)/z;return new An(o-t+Z*o,f-t+X*f,t,a-i+Z*a,m-i+X*m,i,Z,X,1)}}static quadrilateralToSquare(t,i,o,a,l,h,f,m){return An.squareToQuadrilateral(t,i,o,a,l,h,f,m).buildAdjoint()}buildAdjoint(){return new An(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new An(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class ho extends co{sampleGrid(t,i,o,a,l,h,f,m,x,w,I,N,R,F,z,Z,X,ue,ce){const oe=An.quadrilateralToQuadrilateral(a,l,h,f,m,x,w,I,N,R,F,z,Z,X,ue,ce);return this.sampleGridWithTransform(t,i,o,oe)}sampleGridWithTransform(t,i,o,a){if(i<=0||o<=0)throw new J;const l=new tt(i,o),h=new Float32Array(2*i);for(let f=0;f<o;f++){const m=h.length,x=f+.5;for(let w=0;w<m;w+=2)h[w]=w/2+.5,h[w+1]=x;a.transformPoints(h),co.checkAndNudgePoints(t,h);try{for(let w=0;w<m;w+=2)t.get(Math.floor(h[w]),Math.floor(h[w+1]))&&l.set(w/2,f)}catch{throw new J}}return l}}class yi{static setGridSampler(t){yi.gridSampler=t}static getInstance(){return yi.gridSampler}}yi.gridSampler=new ho;class dn{constructor(t,i){this.x=t,this.y=i}toResultPoint(){return new Se(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class fo{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let i=this.getMatrixCenter(),o=this.getBullsEyeCorners(i);if(t){let h=o[0];o[0]=o[2],o[2]=h}this.extractParameters(o);let a=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),l=this.getMatrixCornerPoints(o);return new uo(a,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new J;let i=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(t[0],t[1],i),this.sampleLine(t[1],t[2],i),this.sampleLine(t[2],t[3],i),this.sampleLine(t[3],t[0],i)]);this.shift=this.getRotation(o,i);let a=0;for(let h=0;h<4;h++){let f=o[(this.shift+h)%4];this.compact?(a<<=7,a+=f>>1&127):(a<<=10,a+=(f>>2&992)+(f>>1&31))}let l=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(t,i){let o=0;t.forEach((a,l,h)=>{let f=(a>>i-2<<1)+(a&1);o=(o<<3)+f}),o=((o&1)<<11)+(o>>1);for(let a=0;a<4;a++)if(P.bitCount(o^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new J}getCorrectedParameterData(t,i){let o,a;i?(o=7,a=2):(o=10,a=4);let l=o-a,h=new Int32Array(o);for(let m=o-1;m>=0;--m)h[m]=t&15,t>>=4;try{new gr(Je.AZTEC_PARAM).decode(h,l)}catch{throw new J}let f=0;for(let m=0;m<a;m++)f=(f<<4)+h[m];return f}getBullsEyeCorners(t){let i=t,o=t,a=t,l=t,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let I=this.getFirstDifferent(i,h,1,-1),N=this.getFirstDifferent(o,h,1,1),R=this.getFirstDifferent(a,h,-1,1),F=this.getFirstDifferent(l,h,-1,-1);if(this.nbCenterLayers>2){let z=this.distancePoint(F,I)*this.nbCenterLayers/(this.distancePoint(l,i)*(this.nbCenterLayers+2));if(z<.75||z>1.25||!this.isWhiteOrBlackRectangle(I,N,R,F))break}i=I,o=N,a=R,l=F,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new J;this.compact=this.nbCenterLayers===5;let f=new Se(i.getX()+.5,i.getY()-.5),m=new Se(o.getX()+.5,o.getY()+.5),x=new Se(a.getX()-.5,a.getY()+.5),w=new Se(l.getX()-.5,l.getY()-.5);return this.expandSquare([f,m,x,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,i,o,a;try{let f=new xi(this.image).detect();t=f[0],i=f[1],o=f[2],a=f[3]}catch{let m=this.image.getWidth()/2,x=this.image.getHeight()/2;t=this.getFirstDifferent(new dn(m+7,x-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new dn(m+7,x+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new dn(m-7,x+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new dn(m-7,x-7),!1,-1,-1).toResultPoint()}let l=$e.round((t.getX()+a.getX()+i.getX()+o.getX())/4),h=$e.round((t.getY()+a.getY()+i.getY()+o.getY())/4);try{let f=new xi(this.image,15,l,h).detect();t=f[0],i=f[1],o=f[2],a=f[3]}catch{t=this.getFirstDifferent(new dn(l+7,h-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new dn(l+7,h+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new dn(l-7,h+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new dn(l-7,h-7),!1,-1,-1).toResultPoint()}return l=$e.round((t.getX()+a.getX()+i.getX()+o.getX())/4),h=$e.round((t.getY()+a.getY()+i.getY()+o.getY())/4),new dn(l,h)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,i,o,a,l){let h=yi.getInstance(),f=this.getDimension(),m=f/2-this.nbCenterLayers,x=f/2+this.nbCenterLayers;return h.sampleGrid(t,f,f,m,m,x,m,x,x,m,x,i.getX(),i.getY(),o.getX(),o.getY(),a.getX(),a.getY(),l.getX(),l.getY())}sampleLine(t,i,o){let a=0,l=this.distanceResultPoint(t,i),h=l/o,f=t.getX(),m=t.getY(),x=h*(i.getX()-t.getX())/l,w=h*(i.getY()-t.getY())/l;for(let I=0;I<o;I++)this.image.get($e.round(f+I*x),$e.round(m+I*w))&&(a|=1<<o-I-1);return a}isWhiteOrBlackRectangle(t,i,o,a){let l=3;t=new dn(t.getX()-l,t.getY()+l),i=new dn(i.getX()-l,i.getY()-l),o=new dn(o.getX()+l,o.getY()-l),a=new dn(a.getX()+l,a.getY()+l);let h=this.getColor(a,t);if(h===0)return!1;let f=this.getColor(t,i);return f!==h||(f=this.getColor(i,o),f!==h)?!1:(f=this.getColor(o,a),f===h)}getColor(t,i){let o=this.distancePoint(t,i),a=(i.getX()-t.getX())/o,l=(i.getY()-t.getY())/o,h=0,f=t.getX(),m=t.getY(),x=this.image.get(t.getX(),t.getY()),w=Math.ceil(o);for(let N=0;N<w;N++)f+=a,m+=l,this.image.get($e.round(f),$e.round(m))!==x&&h++;let I=h/o;return I>.1&&I<.9?0:I<=.1===x?1:-1}getFirstDifferent(t,i,o,a){let l=t.getX()+o,h=t.getY()+a;for(;this.isValid(l,h)&&this.image.get(l,h)===i;)l+=o,h+=a;for(l-=o,h-=a;this.isValid(l,h)&&this.image.get(l,h)===i;)l+=o;for(l-=o;this.isValid(l,h)&&this.image.get(l,h)===i;)h+=a;return h-=a,new dn(l,h)}expandSquare(t,i,o){let a=o/(2*i),l=t[0].getX()-t[2].getX(),h=t[0].getY()-t[2].getY(),f=(t[0].getX()+t[2].getX())/2,m=(t[0].getY()+t[2].getY())/2,x=new Se(f+a*l,m+a*h),w=new Se(f-a*l,m-a*h);l=t[1].getX()-t[3].getX(),h=t[1].getY()-t[3].getY(),f=(t[1].getX()+t[3].getX())/2,m=(t[1].getY()+t[3].getY())/2;let I=new Se(f+a*l,m+a*h),N=new Se(f-a*l,m-a*h);return[x,I,w,N]}isValid(t,i){return t>=0&&t<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(t){let i=$e.round(t.getX()),o=$e.round(t.getY());return this.isValid(i,o)}distancePoint(t,i){return $e.distance(t.getX(),t.getY(),i.getX(),i.getY())}distanceResultPoint(t,i){return $e.distance(t.getX(),t.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(P.truncDivision(this.nbLayers-4,8)+1)+15}}class Kr{decode(t,i=null){let o=null,a=new fo(t.getBlackMatrix()),l=null,h=null;try{let w=a.detectMirror(!1);l=w.getPoints(),this.reportFoundResultPoints(i,l),h=new lt().decode(w)}catch(w){o=w}if(h==null)try{let w=a.detectMirror(!0);l=w.getPoints(),this.reportFoundResultPoints(i,l),h=new lt().decode(w)}catch(w){throw o??w}let f=new Be(h.getText(),h.getRawBytes(),h.getNumBits(),l,ae.AZTEC,U.currentTimeMillis()),m=h.getByteSegments();m!=null&&f.putMetadata(_e.BYTE_SEGMENTS,m);let x=h.getECLevel();return x!=null&&f.putMetadata(_e.ERROR_CORRECTION_LEVEL,x),f}reportFoundResultPoints(t,i){if(t!=null){let o=t.get(ie.NEED_RESULT_POINT_CALLBACK);o!=null&&i.forEach((a,l,h)=>{o.foundPossibleResultPoint(a)})}}reset(){}}class su extends ht{constructor(t=500){super(new Kr,t)}}class Lt{decode(t,i){try{return this.doDecode(t,i)}catch{if(i&&i.get(ie.TRY_HARDER)===!0&&t.isRotateSupported()){const l=t.rotateCounterClockwise(),h=this.doDecode(l,i),f=h.getResultMetadata();let m=270;f!==null&&f.get(_e.ORIENTATION)===!0&&(m=m+f.get(_e.ORIENTATION)%360),h.putMetadata(_e.ORIENTATION,m);const x=h.getResultPoints();if(x!==null){const w=l.getHeight();for(let I=0;I<x.length;I++)x[I]=new Se(w-x[I].getY()-1,x[I].getX())}return h}else throw new J}}reset(){}doDecode(t,i){const o=t.getWidth(),a=t.getHeight();let l=new q(o);const h=i&&i.get(ie.TRY_HARDER)===!0,f=Math.max(1,a>>(h?8:5));let m;h?m=a:m=15;const x=Math.trunc(a/2);for(let w=0;w<m;w++){const I=Math.trunc((w+1)/2),N=(w&1)===0,R=x+f*(N?I:-I);if(R<0||R>=a)break;try{l=t.getBlackRow(R,l)}catch{continue}for(let F=0;F<2;F++){if(F===1&&(l.reverse(),i&&i.get(ie.NEED_RESULT_POINT_CALLBACK)===!0)){const z=new Map;i.forEach((Z,X)=>z.set(X,Z)),z.delete(ie.NEED_RESULT_POINT_CALLBACK),i=z}try{const z=this.decodeRow(R,l,i);if(F===1){z.putMetadata(_e.ORIENTATION,180);const Z=z.getResultPoints();Z!==null&&(Z[0]=new Se(o-Z[0].getX()-1,Z[0].getY()),Z[1]=new Se(o-Z[1].getX()-1,Z[1].getY()))}return z}catch{}}}throw new J}static recordPattern(t,i,o){const a=o.length;for(let x=0;x<a;x++)o[x]=0;const l=t.getSize();if(i>=l)throw new J;let h=!t.get(i),f=0,m=i;for(;m<l;){if(t.get(m)!==h)o[f]++;else{if(++f===a)break;o[f]=1,h=!h}m++}if(!(f===a||f===a-1&&m===l))throw new J}static recordPatternInReverse(t,i,o){let a=o.length,l=t.get(i);for(;i>0&&a>=0;)t.get(--i)!==l&&(a--,l=!l);if(a>=0)throw new J;Lt.recordPattern(t,i+1,o)}static patternMatchVariance(t,i,o){const a=t.length;let l=0,h=0;for(let x=0;x<a;x++)l+=t[x],h+=i[x];if(l<h)return Number.POSITIVE_INFINITY;const f=l/h;o*=f;let m=0;for(let x=0;x<a;x++){const w=t[x],I=i[x]*f,N=w>I?w-I:I-w;if(N>o)return Number.POSITIVE_INFINITY;m+=N}return m/l}}class fe extends Lt{static findStartPattern(t){const i=t.getSize(),o=t.getNextSet(0);let a=0,l=Int32Array.from([0,0,0,0,0,0]),h=o,f=!1;const m=6;for(let x=o;x<i;x++)if(t.get(x)!==f)l[a]++;else{if(a===m-1){let w=fe.MAX_AVG_VARIANCE,I=-1;for(let N=fe.CODE_START_A;N<=fe.CODE_START_C;N++){const R=Lt.patternMatchVariance(l,fe.CODE_PATTERNS[N],fe.MAX_INDIVIDUAL_VARIANCE);R<w&&(w=R,I=N)}if(I>=0&&t.isRange(Math.max(0,h-(x-h)/2),h,!1))return Int32Array.from([h,x,I]);h+=l[0]+l[1],l=l.slice(2,l.length-1),l[a-1]=0,l[a]=0,a--}else a++;l[a]=1,f=!f}throw new J}static decodeCode(t,i,o){Lt.recordPattern(t,o,i);let a=fe.MAX_AVG_VARIANCE,l=-1;for(let h=0;h<fe.CODE_PATTERNS.length;h++){const f=fe.CODE_PATTERNS[h],m=this.patternMatchVariance(i,f,fe.MAX_INDIVIDUAL_VARIANCE);m<a&&(a=m,l=h)}if(l>=0)return l;throw new J}decodeRow(t,i,o){const a=o&&o.get(ie.ASSUME_GS1)===!0,l=fe.findStartPattern(i),h=l[2];let f=0;const m=new Uint8Array(20);m[f++]=h;let x;switch(h){case fe.CODE_START_A:x=fe.CODE_CODE_A;break;case fe.CODE_START_B:x=fe.CODE_CODE_B;break;case fe.CODE_START_C:x=fe.CODE_CODE_C;break;default:throw new V}let w=!1,I=!1,N="",R=l[0],F=l[1];const z=Int32Array.from([0,0,0,0,0,0]);let Z=0,X=0,ue=h,ce=0,oe=!0,Ge=!1,je=!1;for(;!w;){const ui=I;switch(I=!1,Z=X,X=fe.decodeCode(i,z,F),m[f++]=X,X!==fe.CODE_STOP&&(oe=!0),X!==fe.CODE_STOP&&(ce++,ue+=ce*X),R=F,F+=z.reduce((pu,Sr)=>pu+Sr,0),X){case fe.CODE_START_A:case fe.CODE_START_B:case fe.CODE_START_C:throw new V}switch(x){case fe.CODE_CODE_A:if(X<64)je===Ge?N+=String.fromCharCode(32+X):N+=String.fromCharCode(32+X+128),je=!1;else if(X<96)je===Ge?N+=String.fromCharCode(X-64):N+=String.fromCharCode(X+64),je=!1;else switch(X!==fe.CODE_STOP&&(oe=!1),X){case fe.CODE_FNC_1:a&&(N.length===0?N+="]C1":N+="");break;case fe.CODE_FNC_2:case fe.CODE_FNC_3:break;case fe.CODE_FNC_4_A:!Ge&&je?(Ge=!0,je=!1):Ge&&je?(Ge=!1,je=!1):je=!0;break;case fe.CODE_SHIFT:I=!0,x=fe.CODE_CODE_B;break;case fe.CODE_CODE_B:x=fe.CODE_CODE_B;break;case fe.CODE_CODE_C:x=fe.CODE_CODE_C;break;case fe.CODE_STOP:w=!0;break}break;case fe.CODE_CODE_B:if(X<96)je===Ge?N+=String.fromCharCode(32+X):N+=String.fromCharCode(32+X+128),je=!1;else switch(X!==fe.CODE_STOP&&(oe=!1),X){case fe.CODE_FNC_1:a&&(N.length===0?N+="]C1":N+="");break;case fe.CODE_FNC_2:case fe.CODE_FNC_3:break;case fe.CODE_FNC_4_B:!Ge&&je?(Ge=!0,je=!1):Ge&&je?(Ge=!1,je=!1):je=!0;break;case fe.CODE_SHIFT:I=!0,x=fe.CODE_CODE_A;break;case fe.CODE_CODE_A:x=fe.CODE_CODE_A;break;case fe.CODE_CODE_C:x=fe.CODE_CODE_C;break;case fe.CODE_STOP:w=!0;break}break;case fe.CODE_CODE_C:if(X<100)X<10&&(N+="0"),N+=X;else switch(X!==fe.CODE_STOP&&(oe=!1),X){case fe.CODE_FNC_1:a&&(N.length===0?N+="]C1":N+="");break;case fe.CODE_CODE_A:x=fe.CODE_CODE_A;break;case fe.CODE_CODE_B:x=fe.CODE_CODE_B;break;case fe.CODE_STOP:w=!0;break}break}ui&&(x=x===fe.CODE_CODE_A?fe.CODE_CODE_B:fe.CODE_CODE_A)}const It=F-R;if(F=i.getNextUnset(F),!i.isRange(F,Math.min(i.getSize(),F+(F-R)/2),!1))throw new J;if(ue-=ce*Z,ue%103!==Z)throw new Y;const xn=N.length;if(xn===0)throw new J;xn>0&&oe&&(x===fe.CODE_CODE_C?N=N.substring(0,xn-2):N=N.substring(0,xn-1));const yn=(l[1]+l[0])/2,at=R+It/2,Jt=m.length,_n=new Uint8Array(Jt);for(let ui=0;ui<Jt;ui++)_n[ui]=m[ui];const Ar=[new Se(yn,t),new Se(at,t)];return new Be(N,_n,0,Ar,ae.CODE_128,new Date().getTime())}}fe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],fe.MAX_AVG_VARIANCE=.25,fe.MAX_INDIVIDUAL_VARIANCE=.7,fe.CODE_SHIFT=98,fe.CODE_CODE_C=99,fe.CODE_CODE_B=100,fe.CODE_CODE_A=101,fe.CODE_FNC_1=102,fe.CODE_FNC_2=97,fe.CODE_FNC_3=96,fe.CODE_FNC_4_A=101,fe.CODE_FNC_4_B=100,fe.CODE_START_A=103,fe.CODE_START_B=104,fe.CODE_START_C=105,fe.CODE_STOP=106;class Ft extends Lt{constructor(t=!1,i=!1){super(),this.usingCheckDigit=t,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,i,o){let a=this.counters;a.fill(0),this.decodeRowResult="";let l=Ft.findAsteriskPattern(i,a),h=i.getNextSet(l[1]),f=i.getSize(),m,x;do{Ft.recordPattern(i,h,a);let z=Ft.toNarrowWidePattern(a);if(z<0)throw new J;m=Ft.patternToChar(z),this.decodeRowResult+=m,x=h;for(let Z of a)h+=Z;h=i.getNextSet(h)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let w=0;for(let z of a)w+=z;let I=h-x-w;if(h!==f&&I*2<w)throw new J;if(this.usingCheckDigit){let z=this.decodeRowResult.length-1,Z=0;for(let X=0;X<z;X++)Z+=Ft.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(X));if(this.decodeRowResult.charAt(z)!==Ft.ALPHABET_STRING.charAt(Z%43))throw new Y;this.decodeRowResult=this.decodeRowResult.substring(0,z)}if(this.decodeRowResult.length===0)throw new J;let N;this.extendedMode?N=Ft.decodeExtended(this.decodeRowResult):N=this.decodeRowResult;let R=(l[1]+l[0])/2,F=x+w/2;return new Be(N,null,0,[new Se(R,t),new Se(F,t)],ae.CODE_39,new Date().getTime())}static findAsteriskPattern(t,i){let o=t.getSize(),a=t.getNextSet(0),l=0,h=a,f=!1,m=i.length;for(let x=a;x<o;x++)if(t.get(x)!==f)i[l]++;else{if(l===m-1){if(this.toNarrowWidePattern(i)===Ft.ASTERISK_ENCODING&&t.isRange(Math.max(0,h-Math.floor((x-h)/2)),h,!1))return[h,x];h+=i[0]+i[1],i.copyWithin(0,2,2+l-1),i[l-1]=0,i[l]=0,l--}else l++;i[l]=1,f=!f}throw new J}static toNarrowWidePattern(t){let i=t.length,o=0,a;do{let l=2147483647;for(let m of t)m<l&&m>o&&(l=m);o=l,a=0;let h=0,f=0;for(let m=0;m<i;m++){let x=t[m];x>o&&(f|=1<<i-1-m,a++,h+=x)}if(a===3){for(let m=0;m<i&&a>0;m++){let x=t[m];if(x>o&&(a--,x*2>=h))return-1}return f}}while(a>3);return-1}static patternToChar(t){for(let i=0;i<Ft.CHARACTER_ENCODINGS.length;i++)if(Ft.CHARACTER_ENCODINGS[i]===t)return Ft.ALPHABET_STRING.charAt(i);if(t===Ft.ASTERISK_ENCODING)return"*";throw new J}static decodeExtended(t){let i=t.length,o="";for(let a=0;a<i;a++){let l=t.charAt(a);if(l==="+"||l==="$"||l==="%"||l==="/"){let h=t.charAt(a+1),f="\0";switch(l){case"+":if(h>="A"&&h<="Z")f=String.fromCharCode(h.charCodeAt(0)+32);else throw new V;break;case"$":if(h>="A"&&h<="Z")f=String.fromCharCode(h.charCodeAt(0)-64);else throw new V;break;case"%":if(h>="A"&&h<="E")f=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")f=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")f=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")f=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")f="\0";else if(h==="V")f="@";else if(h==="W")f="`";else if(h==="X"||h==="Y"||h==="Z")f="";else throw new V;break;case"/":if(h>="A"&&h<="O")f=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")f=":";else throw new V;break}o+=f,a++}else o+=l}return o}}Ft.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ft.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ft.ASTERISK_ENCODING=148;class dt extends Lt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,i,o){let a=this.decodeStart(i),l=this.decodeEnd(i),h=new Ze;dt.decodeMiddle(i,a[1],l[0],h);let f=h.toString(),m=null;o!=null&&(m=o.get(ie.ALLOWED_LENGTHS)),m==null&&(m=dt.DEFAULT_ALLOWED_LENGTHS);let x=f.length,w=!1,I=0;for(let F of m){if(x===F){w=!0;break}F>I&&(I=F)}if(!w&&x>I&&(w=!0),!w)throw new V;const N=[new Se(a[1],t),new Se(l[0],t)];return new Be(f,null,0,N,ae.ITF,new Date().getTime())}static decodeMiddle(t,i,o,a){let l=new Int32Array(10),h=new Int32Array(5),f=new Int32Array(5);for(l.fill(0),h.fill(0),f.fill(0);i<o;){Lt.recordPattern(t,i,l);for(let x=0;x<5;x++){let w=2*x;h[x]=l[w],f[x]=l[w+1]}let m=dt.decodeDigit(h);a.append(m.toString()),m=this.decodeDigit(f),a.append(m.toString()),l.forEach(function(x){i+=x})}}decodeStart(t){let i=dt.skipWhiteSpace(t),o=dt.findGuardPattern(t,i,dt.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(t,o[0]),o}validateQuietZone(t,i){let o=this.narrowLineWidth*10;o=o<i?o:i;for(let a=i-1;o>0&&a>=0&&!t.get(a);a--)o--;if(o!==0)throw new J}static skipWhiteSpace(t){const i=t.getSize(),o=t.getNextSet(0);if(o===i)throw new J;return o}decodeEnd(t){t.reverse();try{let i=dt.skipWhiteSpace(t),o;try{o=dt.findGuardPattern(t,i,dt.END_PATTERN_REVERSED[0])}catch(l){l instanceof J&&(o=dt.findGuardPattern(t,i,dt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,o[0]);let a=o[0];return o[0]=t.getSize()-o[1],o[1]=t.getSize()-a,o}finally{t.reverse()}}static findGuardPattern(t,i,o){let a=o.length,l=new Int32Array(a),h=t.getSize(),f=!1,m=0,x=i;l.fill(0);for(let w=i;w<h;w++)if(t.get(w)!==f)l[m]++;else{if(m===a-1){if(Lt.patternMatchVariance(l,o,dt.MAX_INDIVIDUAL_VARIANCE)<dt.MAX_AVG_VARIANCE)return[x,w];x+=l[0]+l[1],U.arraycopy(l,2,l,0,m-1),l[m-1]=0,l[m]=0,m--}else m++;l[m]=1,f=!f}throw new J}static decodeDigit(t){let i=dt.MAX_AVG_VARIANCE,o=-1,a=dt.PATTERNS.length;for(let l=0;l<a;l++){let h=dt.PATTERNS[l],f=Lt.patternMatchVariance(t,h,dt.MAX_INDIVIDUAL_VARIANCE);f<i?(i=f,o=l):f===i&&(o=-1)}if(o>=0)return o%10;throw new J}}dt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],dt.MAX_AVG_VARIANCE=.38,dt.MAX_INDIVIDUAL_VARIANCE=.5,dt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],dt.START_PATTERN=Int32Array.from([1,1,1,1]),dt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class mt extends Lt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let i=!1,o,a=0,l=Int32Array.from([0,0,0]);for(;!i;){l=Int32Array.from([0,0,0]),o=mt.findGuardPattern(t,a,!1,this.START_END_PATTERN,l);let h=o[0];a=o[1];let f=h-(a-h);f>=0&&(i=t.isRange(f,h,!1))}return o}static checkChecksum(t){return mt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let o=parseInt(t.charAt(i-1),10);return mt.getStandardUPCEANChecksum(t.substring(0,i-1))===o}static getStandardUPCEANChecksum(t){let i=t.length,o=0;for(let a=i-1;a>=0;a-=2){let l=t.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new V;o+=l}o*=3;for(let a=i-2;a>=0;a-=2){let l=t.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new V;o+=l}return(1e3-o)%10}static decodeEnd(t,i){return mt.findGuardPattern(t,i,!1,mt.START_END_PATTERN,new Int32Array(mt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,i,o,a){return this.findGuardPattern(t,i,o,a,new Int32Array(a.length))}static findGuardPattern(t,i,o,a,l){let h=t.getSize();i=o?t.getNextUnset(i):t.getNextSet(i);let f=0,m=i,x=a.length,w=o;for(let I=i;I<h;I++)if(t.get(I)!==w)l[f]++;else{if(f===x-1){if(Lt.patternMatchVariance(l,a,mt.MAX_INDIVIDUAL_VARIANCE)<mt.MAX_AVG_VARIANCE)return Int32Array.from([m,I]);m+=l[0]+l[1];let N=l.slice(2,l.length-1);for(let R=0;R<f-1;R++)l[R]=N[R];l[f-1]=0,l[f]=0,f--}else f++;l[f]=1,w=!w}throw new J}static decodeDigit(t,i,o,a){this.recordPattern(t,o,i);let l=this.MAX_AVG_VARIANCE,h=-1,f=a.length;for(let m=0;m<f;m++){let x=a[m],w=Lt.patternMatchVariance(i,x,mt.MAX_INDIVIDUAL_VARIANCE);w<l&&(l=w,h=m)}if(h>=0)return h;throw new J}}mt.MAX_AVG_VARIANCE=.48,mt.MAX_INDIVIDUAL_VARIANCE=.7,mt.START_END_PATTERN=Int32Array.from([1,1,1]),mt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),mt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),mt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class qr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,o){let a=this.decodeRowStringBuffer,l=this.decodeMiddle(i,o,a),h=a.toString(),f=qr.parseExtensionString(h),m=[new Se((o[0]+o[1])/2,t),new Se(l,t)],x=new Be(h,null,0,m,ae.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&x.putAllMetadata(f),x}decodeMiddle(t,i,o){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=t.getSize(),h=i[1],f=0;for(let x=0;x<5&&h<l;x++){let w=mt.decodeDigit(t,a,h,mt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+w%10);for(let I of a)h+=I;w>=10&&(f|=1<<4-x),x!==4&&(h=t.getNextSet(h),h=t.getNextUnset(h))}if(o.length!==5)throw new J;let m=this.determineCheckDigit(f);if(qr.extensionChecksum(o.toString())!==m)throw new J;return h}static extensionChecksum(t){let i=t.length,o=0;for(let a=i-2;a>=0;a-=2)o+=t.charAt(a).charCodeAt(0)-48;o*=3;for(let a=i-1;a>=0;a-=2)o+=t.charAt(a).charCodeAt(0)-48;return o*=3,o%10}determineCheckDigit(t){for(let i=0;i<10;i++)if(t===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new J}static parseExtensionString(t){if(t.length!==5)return null;let i=qr.parseExtension5String(t);return i==null?null:new Map([[_e.SUGGESTED_PRICE,i]])}static parseExtension5String(t){let i;switch(t.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let o=parseInt(t.substring(1)),a=(o/100).toString(),l=o%100,h=l<10?"0"+l:l.toString();return i+a+"."+h}}class go{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,o){let a=this.decodeRowStringBuffer,l=this.decodeMiddle(i,o,a),h=a.toString(),f=go.parseExtensionString(h),m=[new Se((o[0]+o[1])/2,t),new Se(l,t)],x=new Be(h,null,0,m,ae.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&x.putAllMetadata(f),x}decodeMiddle(t,i,o){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=t.getSize(),h=i[1],f=0;for(let m=0;m<2&&h<l;m++){let x=mt.decodeDigit(t,a,h,mt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+x%10);for(let w of a)h+=w;x>=10&&(f|=1<<1-m),m!==1&&(h=t.getNextSet(h),h=t.getNextUnset(h))}if(o.length!==2)throw new J;if(parseInt(o.toString())%4!==f)throw new J;return h}static parseExtensionString(t){return t.length!==2?null:new Map([[_e.ISSUE_NUMBER,parseInt(t)]])}}class po{static decodeRow(t,i,o){let a=mt.findGuardPattern(i,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new qr().decodeRow(t,i,a)}catch{return new go().decodeRow(t,i,a)}}}po.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class nt extends mt{constructor(){super(),this.decodeRowStringBuffer="",nt.L_AND_G_PATTERNS=nt.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let i=nt.L_PATTERNS[t-10],o=new Int32Array(i.length);for(let a=0;a<i.length;a++)o[a]=i[i.length-a-1];nt.L_AND_G_PATTERNS[t]=o}}decodeRow(t,i,o){let a=nt.findStartGuardPattern(i),l=o==null?null:o.get(ie.NEED_RESULT_POINT_CALLBACK);if(l!=null){const oe=new Se((a[0]+a[1])/2,t);l.foundPossibleResultPoint(oe)}let h=this.decodeMiddle(i,a,this.decodeRowStringBuffer),f=h.rowOffset,m=h.resultString;if(l!=null){const oe=new Se(f,t);l.foundPossibleResultPoint(oe)}let x=this.decodeEnd(i,f);if(l!=null){const oe=new Se((x[0]+x[1])/2,t);l.foundPossibleResultPoint(oe)}let w=x[1],I=w+(w-x[0]);if(I>=i.getSize()||!i.isRange(w,I,!1))throw new J;let N=m.toString();if(N.length<8)throw new V;if(!nt.checkChecksum(N))throw new Y;let R=(a[1]+a[0])/2,F=(x[1]+x[0])/2,z=this.getBarcodeFormat(),Z=[new Se(R,t),new Se(F,t)],X=new Be(N,null,0,Z,z,new Date().getTime()),ue=0;try{let oe=po.decodeRow(t,i,x[1]);X.putMetadata(_e.UPC_EAN_EXTENSION,oe.getText()),X.putAllMetadata(oe.getResultMetadata()),X.addResultPoints(oe.getResultPoints()),ue=oe.getText().length}catch{}let ce=o==null?null:o.get(ie.ALLOWED_EAN_EXTENSIONS);if(ce!=null){let oe=!1;for(let Ge in ce)if(ue.toString()===Ge){oe=!0;break}if(!oe)throw new J}return X}decodeEnd(t,i){return nt.findGuardPattern(t,i,!1,nt.START_END_PATTERN,new Int32Array(nt.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return nt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let o=parseInt(t.charAt(i-1),10);return nt.getStandardUPCEANChecksum(t.substring(0,i-1))===o}static getStandardUPCEANChecksum(t){let i=t.length,o=0;for(let a=i-1;a>=0;a-=2){let l=t.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new V;o+=l}o*=3;for(let a=i-2;a>=0;a-=2){let l=t.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new V;o+=l}return(1e3-o)%10}}class Ri extends nt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,o){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=t.getSize(),h=i[1],f=0;for(let x=0;x<6&&h<l;x++){let w=nt.decodeDigit(t,a,h,nt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+w%10);for(let I of a)h+=I;w>=10&&(f|=1<<5-x)}o=Ri.determineFirstDigit(o,f),h=nt.findGuardPattern(t,h,!0,nt.MIDDLE_PATTERN,new Int32Array(nt.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<6&&h<l;x++){let w=nt.decodeDigit(t,a,h,nt.L_PATTERNS);o+=String.fromCharCode(48+w);for(let I of a)h+=I}return{rowOffset:h,resultString:o}}getBarcodeFormat(){return ae.EAN_13}static determineFirstDigit(t,i){for(let o=0;o<10;o++)if(i===this.FIRST_DIGIT_ENCODINGS[o])return t=String.fromCharCode(48+o)+t,t;throw new J}}Ri.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Aa extends nt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,o){const a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=t.getSize(),h=i[1];for(let m=0;m<4&&h<l;m++){let x=nt.decodeDigit(t,a,h,nt.L_PATTERNS);o+=String.fromCharCode(48+x);for(let w of a)h+=w}h=nt.findGuardPattern(t,h,!0,nt.MIDDLE_PATTERN,new Int32Array(nt.MIDDLE_PATTERN.length).fill(0))[1];for(let m=0;m<4&&h<l;m++){let x=nt.decodeDigit(t,a,h,nt.L_PATTERNS);o+=String.fromCharCode(48+x);for(let w of a)h+=w}return{rowOffset:h,resultString:o}}getBarcodeFormat(){return ae.EAN_8}}class Sa extends nt{constructor(){super(...arguments),this.ean13Reader=new Ri}getBarcodeFormat(){return ae.UPC_A}decode(t,i){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,i,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,i,o))}decodeMiddle(t,i,o){return this.ean13Reader.decodeMiddle(t,i,o)}maybeReturnResult(t){let i=t.getText();if(i.charAt(0)==="0"){let o=new Be(i.substring(1),null,null,t.getResultPoints(),ae.UPC_A);return t.getResultMetadata()!=null&&o.putAllMetadata(t.getResultMetadata()),o}else throw new J}reset(){this.ean13Reader.reset()}}class Vn extends nt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,i,o){const a=this.decodeMiddleCounters.map(x=>x);a[0]=0,a[1]=0,a[2]=0,a[3]=0;const l=t.getSize();let h=i[1],f=0;for(let x=0;x<6&&h<l;x++){const w=Vn.decodeDigit(t,a,h,Vn.L_AND_G_PATTERNS);o+=String.fromCharCode(48+w%10);for(let I of a)h+=I;w>=10&&(f|=1<<5-x)}let m=Vn.determineNumSysAndCheckDigit(o,f);return{rowOffset:h,resultString:m}}decodeEnd(t,i){return Vn.findGuardPatternWithoutCounters(t,i,!0,Vn.MIDDLE_END_PATTERN)}checkChecksum(t){return nt.checkChecksum(Vn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,i){for(let o=0;o<=1;o++)for(let a=0;a<10;a++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][a]){let l=String.fromCharCode(48+o),h=String.fromCharCode(48+a);return l+t+h}throw J.getNotFoundInstance()}getBarcodeFormat(){return ae.UPC_E}static convertUPCEtoUPCA(t){const i=t.slice(1,7).split("").map(l=>l.charCodeAt(0)),o=new Ze;o.append(t.charAt(0));let a=i[5];switch(a){case 0:case 1:case 2:o.appendChars(i,0,2),o.append(a),o.append("0000"),o.appendChars(i,2,3);break;case 3:o.appendChars(i,0,3),o.append("00000"),o.appendChars(i,3,2);break;case 4:o.appendChars(i,0,4),o.append("00000"),o.append(i[4]);break;default:o.appendChars(i,0,5),o.append("0000"),o.append(a);break}return t.length>=8&&o.append(t.charAt(7)),o.toString()}}Vn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Vn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class mo extends Lt{constructor(t){super();let i=t==null?null:t.get(ie.POSSIBLE_FORMATS),o=[];c(i)?(o.push(new Ri),o.push(new Sa),o.push(new Aa),o.push(new Vn)):(i.indexOf(ae.EAN_13)>-1&&o.push(new Ri),i.indexOf(ae.UPC_A)>-1&&o.push(new Sa),i.indexOf(ae.EAN_8)>-1&&o.push(new Aa),i.indexOf(ae.UPC_E)>-1&&o.push(new Vn)),this.readers=o}decodeRow(t,i,o){for(let a of this.readers)try{const l=a.decodeRow(t,i,o),h=l.getBarcodeFormat()===ae.EAN_13&&l.getText().charAt(0)==="0",f=o==null?null:o.get(ie.POSSIBLE_FORMATS),m=f==null||f.includes(ae.UPC_A);if(h&&m){const x=l.getRawBytes(),w=new Be(l.getText().substring(1),x,x?x.length:null,l.getResultPoints(),ae.UPC_A);return w.putAllMetadata(l.getResultMetadata()),w}return l}catch{}throw new J}reset(){for(let t of this.readers)t.reset()}}class nn extends Lt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,i){for(let o=0;o<i.length;o++)if(Lt.patternMatchVariance(t,i[o],nn.MAX_INDIVIDUAL_VARIANCE)<nn.MAX_AVG_VARIANCE)return o;throw new J}static count(t){return $e.sum(new Int32Array(t))}static increment(t,i){let o=0,a=i[0];for(let l=1;l<t.length;l++)i[l]>a&&(a=i[l],o=l);t[o]++}static decrement(t,i){let o=0,a=i[0];for(let l=1;l<t.length;l++)i[l]<a&&(a=i[l],o=l);t[o]--}static isFinderPattern(t){let i=t[0]+t[1],o=i+t[2]+t[3],a=i/o;if(a>=nn.MIN_FINDER_PATTERN_RATIO&&a<=nn.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let f of t)f>h&&(h=f),f<l&&(l=f);return h<10*l}return!1}}nn.MAX_AVG_VARIANCE=.2,nn.MAX_INDIVIDUAL_VARIANCE=.45,nn.MIN_FINDER_PATTERN_RATIO=9.5/12,nn.MAX_FINDER_PATTERN_RATIO=12.5/14;class pr{constructor(t,i){this.value=t,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof pr))return!1;const i=t;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class mr{constructor(t,i,o,a,l){this.value=t,this.startEnd=i,this.value=t,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new Se(o,l)),this.resultPoints.push(new Se(a,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof mr))return!1;const i=t;return this.value===i.value}hashCode(){return this.value}}class ni{constructor(){}static getRSSvalue(t,i,o){let a=0;for(let m of t)a+=m;let l=0,h=0,f=t.length;for(let m=0;m<f-1;m++){let x;for(x=1,h|=1<<m;x<t[m];x++,h&=~(1<<m)){let w=ni.combins(a-x-1,f-m-2);if(o&&h===0&&a-x-(f-m-1)>=f-m-1&&(w-=ni.combins(a-x-(f-m),f-m-2)),f-m-1>1){let I=0;for(let N=a-x-(f-m-2);N>i;N--)I+=ni.combins(a-x-N-1,f-m-3);w-=I*(f-1-m)}else a-x>i&&w--;l+=w}a-=x}return l}static combins(t,i){let o,a;t-i>i?(a=i,o=t-i):(a=t-i,o=i);let l=1,h=1;for(let f=t;f>o;f--)l*=f,h<=a&&(l/=h,h++);for(;h<=a;)l/=h,h++;return l}}class ou{static buildBitArray(t){let i=t.length*2-1;t[t.length-1].getRightChar()==null&&(i-=1);let o=12*i,a=new q(o),l=0,f=t[0].getRightChar().getValue();for(let m=11;m>=0;--m)f&1<<m&&a.set(l),l++;for(let m=1;m<t.length;++m){let x=t[m],w=x.getLeftChar().getValue();for(let I=11;I>=0;--I)w&1<<I&&a.set(l),l++;if(x.getRightChar()!=null){let I=x.getRightChar().getValue();for(let N=11;N>=0;--N)I&1<<N&&a.set(l),l++}}return a}}class Yi{constructor(t,i){i?this.decodedInformation=null:(this.finished=t,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class xo{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class St extends xo{constructor(t,i){super(t),this.value=i}getValue(){return this.value}isFNC1(){return this.value===St.FNC1}}St.FNC1="$";class Te extends xo{constructor(t,i,o){super(t),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Sn extends xo{constructor(t,i,o){if(super(t),i<0||i>10||o<0||o>10)throw new V;this.firstDigit=i,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Sn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Sn.FNC1}isAnyFNC1(){return this.firstDigit===Sn.FNC1||this.secondDigit===Sn.FNC1}}Sn.FNC1=10;class we{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new J;let i=t.substring(0,2);for(let l of we.TWO_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===we.VARIABLE_LENGTH?we.processVariableAI(2,l[2],t):we.processFixedAI(2,l[1],t);if(t.length<3)throw new J;let o=t.substring(0,3);for(let l of we.THREE_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===we.VARIABLE_LENGTH?we.processVariableAI(3,l[2],t):we.processFixedAI(3,l[1],t);for(let l of we.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===we.VARIABLE_LENGTH?we.processVariableAI(4,l[2],t):we.processFixedAI(4,l[1],t);if(t.length<4)throw new J;let a=t.substring(0,4);for(let l of we.FOUR_DIGIT_DATA_LENGTH)if(l[0]===a)return l[1]===we.VARIABLE_LENGTH?we.processVariableAI(4,l[2],t):we.processFixedAI(4,l[1],t);throw new J}static processFixedAI(t,i,o){if(o.length<t)throw new J;let a=o.substring(0,t);if(o.length<t+i)throw new J;let l=o.substring(t,t+i),h=o.substring(t+i),f="("+a+")"+l,m=we.parseFieldsInGeneralPurpose(h);return m==null?f:f+m}static processVariableAI(t,i,o){let a=o.substring(0,t),l;o.length<t+i?l=o.length:l=t+i;let h=o.substring(t,l),f=o.substring(l),m="("+a+")"+h,x=we.parseFieldsInGeneralPurpose(f);return x==null?m:m+x}}we.VARIABLE_LENGTH=[],we.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",we.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",we.VARIABLE_LENGTH,20],["22",we.VARIABLE_LENGTH,29],["30",we.VARIABLE_LENGTH,8],["37",we.VARIABLE_LENGTH,8],["90",we.VARIABLE_LENGTH,30],["91",we.VARIABLE_LENGTH,30],["92",we.VARIABLE_LENGTH,30],["93",we.VARIABLE_LENGTH,30],["94",we.VARIABLE_LENGTH,30],["95",we.VARIABLE_LENGTH,30],["96",we.VARIABLE_LENGTH,30],["97",we.VARIABLE_LENGTH,3],["98",we.VARIABLE_LENGTH,30],["99",we.VARIABLE_LENGTH,30]],we.THREE_DIGIT_DATA_LENGTH=[["240",we.VARIABLE_LENGTH,30],["241",we.VARIABLE_LENGTH,30],["242",we.VARIABLE_LENGTH,6],["250",we.VARIABLE_LENGTH,30],["251",we.VARIABLE_LENGTH,30],["253",we.VARIABLE_LENGTH,17],["254",we.VARIABLE_LENGTH,20],["400",we.VARIABLE_LENGTH,30],["401",we.VARIABLE_LENGTH,30],["402",17],["403",we.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",we.VARIABLE_LENGTH,20],["421",we.VARIABLE_LENGTH,15],["422",3],["423",we.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],we.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",we.VARIABLE_LENGTH,15],["391",we.VARIABLE_LENGTH,18],["392",we.VARIABLE_LENGTH,15],["393",we.VARIABLE_LENGTH,18],["703",we.VARIABLE_LENGTH,30]],we.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",we.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",we.VARIABLE_LENGTH,20],["8003",we.VARIABLE_LENGTH,30],["8004",we.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",we.VARIABLE_LENGTH,30],["8008",we.VARIABLE_LENGTH,12],["8018",18],["8020",we.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",we.VARIABLE_LENGTH,70],["8200",we.VARIABLE_LENGTH,70]];class Xi{constructor(t){this.buffer=new Ze,this.information=t}decodeAllCodes(t,i){let o=i,a=null;do{let l=this.decodeGeneralPurposeField(o,a),h=we.parseFieldsInGeneralPurpose(l.getNewString());if(h!=null&&t.append(h),l.isRemaining()?a=""+l.getRemainingValue():a=null,o===l.getNewPosition())break;o=l.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let i=t;i<t+3;++i)if(this.information.get(i))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(t,4);return l===0?new Sn(this.information.getSize(),Sn.FNC1,Sn.FNC1):new Sn(this.information.getSize(),l-1,Sn.FNC1)}let i=this.extractNumericValueFromBitArray(t,7),o=(i-8)/11,a=(i-8)%11;return new Sn(t+7,o,a)}extractNumericValueFromBitArray(t,i){return Xi.extractNumericValueFromBitArray(this.information,t,i)}static extractNumericValueFromBitArray(t,i,o){let a=0;for(let l=0;l<o;++l)t.get(i+l)&&(a|=1<<o-l-1);return a}decodeGeneralPurposeField(t,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(t);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new Te(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new Te(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,i;do{let o=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),t=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),t=i.isFinished()):(i=this.parseNumericBlock(),t=i.isFinished()),!(o!==this.current.getPosition())&&!t)break}while(!t);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let i;return t.isSecondDigitFNC1()?i=new Te(this.current.getPosition(),this.buffer.toString()):i=new Te(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Yi(!0,i)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let i=new Te(this.current.getPosition(),this.buffer.toString());return new Yi(!0,i)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Yi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new Te(this.current.getPosition(),this.buffer.toString());return new Yi(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Yi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new Te(this.current.getPosition(),this.buffer.toString());return new Yi(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Yi(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,7);if(o>=64&&o<116)return!0;if(t+8>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,8);return a>=232&&a<253}decodeIsoIec646(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new St(t+5,St.FNC1);if(i>=5&&i<15)return new St(t+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(t,7);if(o>=64&&o<90)return new St(t+7,""+(o+1));if(o>=90&&o<116)return new St(t+7,""+(o+7));let a=this.extractNumericValueFromBitArray(t,8),l;switch(a){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new V}return new St(t+8,l)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,6);return o>=16&&o<63}decodeAlphanumeric(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new St(t+5,St.FNC1);if(i>=5&&i<15)return new St(t+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(t,6);if(o>=32&&o<58)return new St(t+6,""+(o+33));let a;switch(o){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new Hn("Decoding invalid alphanumeric value: "+o)}return new St(t+6,a)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<5&&i+t<this.information.getSize();++i)if(i===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+i))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let i=t;i<t+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<4&&i+t<this.information.getSize();++i)if(this.information.get(t+i))return!1;return!0}}class Cs{constructor(t){this.information=t,this.generalDecoder=new Xi(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class rn extends Cs{constructor(t){super(t)}encodeCompressedGtin(t,i){t.append("(01)");let o=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,i,o)}encodeCompressedGtinWithoutAI(t,i,o){for(let a=0;a<4;++a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*a,10);l/100===0&&t.append("0"),l/10===0&&t.append("0"),t.append(l)}rn.appendCheckDigit(t,o)}static appendCheckDigit(t,i){let o=0;for(let a=0;a<13;a++){let l=t.charAt(a+i).charCodeAt(0)-48;o+=a&1?l:3*l}o=10-o%10,o===10&&(o=0),t.append(o)}}rn.GTIN_SIZE=40;class Qi extends rn{constructor(t){super(t)}parseInformation(){let t=new Ze;t.append("(01)");let i=t.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(Qi.HEADER_SIZE,4);return t.append(o),this.encodeCompressedGtinWithoutAI(t,Qi.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(t,Qi.HEADER_SIZE+44)}}Qi.HEADER_SIZE=4;class _i extends Cs{constructor(t){super(t)}parseInformation(){let t=new Ze;return this.getGeneralDecoder().decodeAllCodes(t,_i.HEADER_SIZE)}}_i.HEADER_SIZE=5;class Jr extends rn{constructor(t){super(t)}encodeCompressedWeight(t,i,o){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(i,o);this.addWeightCode(t,a);let l=this.checkWeight(a),h=1e5;for(let f=0;f<5;++f)l/h===0&&t.append("0"),h/=10;t.append(l)}}class ii extends Jr{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=ii.HEADER_SIZE+Jr.GTIN_SIZE+ii.WEIGHT_SIZE)throw new J;let t=new Ze;return this.encodeCompressedGtin(t,ii.HEADER_SIZE),this.encodeCompressedWeight(t,ii.HEADER_SIZE+Jr.GTIN_SIZE,ii.WEIGHT_SIZE),t.toString()}}ii.HEADER_SIZE=5,ii.WEIGHT_SIZE=15;class au extends ii{constructor(t){super(t)}addWeightCode(t,i){t.append("(3103)")}checkWeight(t){return t}}class lu extends ii{constructor(t){super(t)}addWeightCode(t,i){i<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class ri extends rn{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<ri.HEADER_SIZE+rn.GTIN_SIZE)throw new J;let t=new Ze;this.encodeCompressedGtin(t,ri.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(ri.HEADER_SIZE+rn.GTIN_SIZE,ri.LAST_DIGIT_SIZE);t.append("(392"),t.append(i),t.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(ri.HEADER_SIZE+rn.GTIN_SIZE+ri.LAST_DIGIT_SIZE,null);return t.append(o.getNewString()),t.toString()}}ri.HEADER_SIZE=8,ri.LAST_DIGIT_SIZE=2;class sn extends rn{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<sn.HEADER_SIZE+rn.GTIN_SIZE)throw new J;let t=new Ze;this.encodeCompressedGtin(t,sn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(sn.HEADER_SIZE+rn.GTIN_SIZE,sn.LAST_DIGIT_SIZE);t.append("(393"),t.append(i),t.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(sn.HEADER_SIZE+rn.GTIN_SIZE+sn.LAST_DIGIT_SIZE,sn.FIRST_THREE_DIGITS_SIZE);o/100==0&&t.append("0"),o/10==0&&t.append("0"),t.append(o);let a=this.getGeneralDecoder().decodeGeneralPurposeField(sn.HEADER_SIZE+rn.GTIN_SIZE+sn.LAST_DIGIT_SIZE+sn.FIRST_THREE_DIGITS_SIZE,null);return t.append(a.getNewString()),t.toString()}}sn.HEADER_SIZE=8,sn.LAST_DIGIT_SIZE=2,sn.FIRST_THREE_DIGITS_SIZE=10;class wt extends Jr{constructor(t,i,o){super(t),this.dateCode=o,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=wt.HEADER_SIZE+wt.GTIN_SIZE+wt.WEIGHT_SIZE+wt.DATE_SIZE)throw new J;let t=new Ze;return this.encodeCompressedGtin(t,wt.HEADER_SIZE),this.encodeCompressedWeight(t,wt.HEADER_SIZE+wt.GTIN_SIZE,wt.WEIGHT_SIZE),this.encodeCompressedDate(t,wt.HEADER_SIZE+wt.GTIN_SIZE+wt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(i,wt.DATE_SIZE);if(o==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let a=o%32;o/=32;let l=o%12+1;o/=12;let h=o;h/10==0&&t.append("0"),t.append(h),l/10==0&&t.append("0"),t.append(l),a/10==0&&t.append("0"),t.append(a)}addWeightCode(t,i){t.append("("),t.append(this.firstAIdigits),t.append(i/1e5),t.append(")")}checkWeight(t){return t%1e5}}wt.HEADER_SIZE=8,wt.WEIGHT_SIZE=20,wt.DATE_SIZE=16;function $r(T){try{if(T.get(1))return new Qi(T);if(!T.get(2))return new _i(T);switch(Xi.extractNumericValueFromBitArray(T,1,4)){case 4:return new au(T);case 5:return new lu(T)}switch(Xi.extractNumericValueFromBitArray(T,1,5)){case 12:return new ri(T);case 13:return new sn(T)}switch(Xi.extractNumericValueFromBitArray(T,1,7)){case 56:return new wt(T,"310","11");case 57:return new wt(T,"320","11");case 58:return new wt(T,"310","13");case 59:return new wt(T,"320","13");case 60:return new wt(T,"310","15");case 61:return new wt(T,"320","15");case 62:return new wt(T,"310","17");case 63:return new wt(T,"320","17")}}catch(t){throw console.log(t),new Hn("unknown decoder: "+T)}}class Di{constructor(t,i,o,a){this.leftchar=t,this.rightchar=i,this.finderpattern=o,this.maybeLast=a}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,i){return t instanceof Di?Di.equalsOrNull(t.leftchar,i.leftchar)&&Di.equalsOrNull(t.rightchar,i.rightchar)&&Di.equalsOrNull(t.finderpattern,i.finderpattern):!1}static equalsOrNull(t,i){return t===null?i===null:Di.equals(t,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class yo{constructor(t,i,o){this.pairs=t,this.rowNumber=i,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,i){return t instanceof yo?this.checkEqualitity(t,i)&&t.wasReversed===i.wasReversed:!1}checkEqualitity(t,i){if(!t||!i)return;let o;return t.forEach((a,l)=>{i.forEach(h=>{a.getLeftChar().getValue()===h.getLeftChar().getValue()&&a.getRightChar().getValue()===h.getRightChar().getValue()&&a.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(o=!0)})}),o}}class re extends nn{constructor(t){super(...arguments),this.pairs=new Array(re.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,i,o){this.pairs.length=0,this.startFromEven=!1;try{return re.constructResult(this.decodeRow2pairs(t,i))}catch(a){this.verbose&&console.log(a)}return this.pairs.length=0,this.startFromEven=!0,re.constructResult(this.decodeRow2pairs(t,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,i){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,t))}catch(l){if(l instanceof J){if(!this.pairs.length)throw new J;o=!0}}if(this.checkChecksum())return this.pairs;let a;if(this.rows.length?a=!0:a=!1,this.storeRow(t,!1),a){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new J}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return t&&(this.rows=this.rows.reverse()),i}checkRows(t,i){for(let o=i;o<this.rows.length;o++){let a=this.rows[o];this.pairs.length=0;for(let h of t)this.pairs.push(h.getPairs());if(this.pairs.push(a.getPairs()),!re.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(t);l.push(a);try{return this.checkRows(l,o+1)}catch(h){this.verbose&&console.log(h)}}throw new J}static isValidSequence(t){for(let i of re.FINDER_PATTERN_SEQUENCES){if(t.length>i.length)continue;let o=!0;for(let a=0;a<t.length;a++)if(t[a].getFinderPattern().getValue()!=i[a]){o=!1;break}if(o)return!0}return!1}storeRow(t,i){let o=0,a=!1,l=!1;for(;o<this.rows.length;){let h=this.rows[o];if(h.getRowNumber()>t){l=h.isEquivalent(this.pairs);break}a=h.isEquivalent(this.pairs),o++}l||a||re.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new yo(this.pairs,t,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,i){for(let o of i)if(o.getPairs().length!==t.length){for(let a of o.getPairs())for(let l of t)if(Di.equals(a,l))break}}static isPartialRow(t,i){for(let o of i){let a=!0;for(let l of t){let h=!1;for(let f of o.getPairs())if(l.equals(f)){h=!0;break}if(!h){a=!1;break}}if(a)return!0}return!1}getRows(){return this.rows}static constructResult(t){let i=ou.buildBitArray(t),a=$r(i).parseInformation(),l=t[0].getFinderPattern().getResultPoints(),h=t[t.length-1].getFinderPattern().getResultPoints(),f=[l[0],l[1],h[0],h[1]];return new Be(a,null,null,f,ae.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),i=t.getLeftChar(),o=t.getRightChar();if(o==null)return!1;let a=o.getChecksumPortion(),l=2;for(let f=1;f<this.pairs.size();++f){let m=this.pairs.get(f);a+=m.getLeftChar().getChecksumPortion(),l++;let x=m.getRightChar();x!=null&&(a+=x.getChecksumPortion(),l++)}return a%=211,211*(l-4)+a==i.getValue()}static getNextSecondBar(t,i){let o;return t.get(i)?(o=t.getNextUnset(i),o=t.getNextSet(o)):(o=t.getNextSet(i),o=t.getNextUnset(o)),o}retrieveNextPair(t,i,o){let a=i.length%2==0;this.startFromEven&&(a=!a);let l,h=!0,f=-1;do this.findNextPair(t,i,f),l=this.parseFoundFinderPattern(t,o,a),l==null?f=re.getNextSecondBar(t,this.startEnd[0]):h=!1;while(h);let m=this.decodeDataCharacter(t,l,a,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new J;let x;try{x=this.decodeDataCharacter(t,l,a,!1)}catch(w){x=null,this.verbose&&console.log(w)}return new Di(m,x,l,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,i,o){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=t.getSize(),h;o>=0?h=o:this.isEmptyPair(i)?h=0:h=i[i.length-1].getFinderPattern().getStartEnd()[1];let f=i.length%2!=0;this.startFromEven&&(f=!f);let m=!1;for(;h<l&&(m=!t.get(h),!!m);)h++;let x=0,w=h;for(let I=h;I<l;I++)if(t.get(I)!=m)a[x]++;else{if(x==3){if(f&&re.reverseCounters(a),re.isFinderPattern(a)){this.startEnd[0]=w,this.startEnd[1]=I;return}f&&re.reverseCounters(a),w+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,x--}else x++;a[x]=1,m=!m}throw new J}static reverseCounters(t){let i=t.length;for(let o=0;o<i/2;++o){let a=t[o];t[o]=t[i-o-1],t[i-o-1]=a}}parseFoundFinderPattern(t,i,o){let a,l,h;if(o){let x=this.startEnd[0]-1;for(;x>=0&&!t.get(x);)x--;x++,a=this.startEnd[0]-x,l=x,h=this.startEnd[1]}else l=this.startEnd[0],h=t.getNextUnset(this.startEnd[1]+1),a=h-this.startEnd[1];let f=this.getDecodeFinderCounters();U.arraycopy(f,0,f,1,f.length-1),f[0]=a;let m;try{m=this.parseFinderValue(f,re.FINDER_PATTERNS)}catch{return null}return new mr(m,[l,h],l,h,i)}decodeDataCharacter(t,i,o,a){let l=this.getDataCharacterCounters();for(let at=0;at<l.length;at++)l[at]=0;if(a)re.recordPatternInReverse(t,i.getStartEnd()[0],l);else{re.recordPattern(t,i.getStartEnd()[1],l);for(let at=0,Jt=l.length-1;at<Jt;at++,Jt--){let _n=l[at];l[at]=l[Jt],l[Jt]=_n}}let h=17,f=$e.sum(new Int32Array(l))/h,m=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(f-m)/m>.3)throw new J;let x=this.getOddCounts(),w=this.getEvenCounts(),I=this.getOddRoundingErrors(),N=this.getEvenRoundingErrors();for(let at=0;at<l.length;at++){let Jt=1*l[at]/f,_n=Jt+.5;if(_n<1){if(Jt<.3)throw new J;_n=1}else if(_n>8){if(Jt>8.7)throw new J;_n=8}let Ar=at/2;at&1?(w[Ar]=_n,N[Ar]=Jt-_n):(x[Ar]=_n,I[Ar]=Jt-_n)}this.adjustOddEvenCounts(h);let R=4*i.getValue()+(o?0:2)+(a?0:1)-1,F=0,z=0;for(let at=x.length-1;at>=0;at--){if(re.isNotA1left(i,o,a)){let Jt=re.WEIGHTS[R][2*at];z+=x[at]*Jt}F+=x[at]}let Z=0;for(let at=w.length-1;at>=0;at--)if(re.isNotA1left(i,o,a)){let Jt=re.WEIGHTS[R][2*at+1];Z+=w[at]*Jt}let X=z+Z;if(F&1||F>13||F<4)throw new J;let ue=(13-F)/2,ce=re.SYMBOL_WIDEST[ue],oe=9-ce,Ge=ni.getRSSvalue(x,ce,!0),je=ni.getRSSvalue(w,oe,!1),It=re.EVEN_TOTAL_SUBSET[ue],xn=re.GSUM[ue],yn=Ge*It+je+xn;return new pr(yn,X)}static isNotA1left(t,i,o){return!(t.getValue()==0&&i&&o)}adjustOddEvenCounts(t){let i=$e.sum(new Int32Array(this.getOddCounts())),o=$e.sum(new Int32Array(this.getEvenCounts())),a=!1,l=!1;i>13?l=!0:i<4&&(a=!0);let h=!1,f=!1;o>13?f=!0:o<4&&(h=!0);let m=i+o-t,x=(i&1)==1,w=(o&1)==0;if(m==1)if(x){if(w)throw new J;l=!0}else{if(!w)throw new J;f=!0}else if(m==-1)if(x){if(w)throw new J;a=!0}else{if(!w)throw new J;h=!0}else if(m==0){if(x){if(!w)throw new J;i<o?(a=!0,f=!0):(l=!0,h=!0)}else if(w)throw new J}else throw new J;if(a){if(l)throw new J;re.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&re.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(f)throw new J;re.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&re.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}re.SYMBOL_WIDEST=[7,5,4,3,1],re.EVEN_TOTAL_SUBSET=[4,20,52,104,204],re.GSUM=[0,348,1388,2948,3988],re.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],re.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],re.FINDER_PAT_A=0,re.FINDER_PAT_B=1,re.FINDER_PAT_C=2,re.FINDER_PAT_D=3,re.FINDER_PAT_E=4,re.FINDER_PAT_F=5,re.FINDER_PATTERN_SEQUENCES=[[re.FINDER_PAT_A,re.FINDER_PAT_A],[re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B],[re.FINDER_PAT_A,re.FINDER_PAT_C,re.FINDER_PAT_B,re.FINDER_PAT_D],[re.FINDER_PAT_A,re.FINDER_PAT_E,re.FINDER_PAT_B,re.FINDER_PAT_D,re.FINDER_PAT_C],[re.FINDER_PAT_A,re.FINDER_PAT_E,re.FINDER_PAT_B,re.FINDER_PAT_D,re.FINDER_PAT_D,re.FINDER_PAT_F],[re.FINDER_PAT_A,re.FINDER_PAT_E,re.FINDER_PAT_B,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_F,re.FINDER_PAT_F],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_D],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_E],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_F,re.FINDER_PAT_F],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_E,re.FINDER_PAT_F,re.FINDER_PAT_F]],re.MAX_PAIRS=11;class uu extends pr{constructor(t,i,o){super(t,i),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Mt extends nn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,i,o){const a=this.decodePair(i,!1,t,o);Mt.addOrTally(this.possibleLeftPairs,a),i.reverse();let l=this.decodePair(i,!0,t,o);Mt.addOrTally(this.possibleRightPairs,l),i.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&Mt.checkChecksum(h,f))return Mt.constructResult(h,f)}throw new J}static addOrTally(t,i){if(i==null)return;let o=!1;for(let a of t)if(a.getValue()===i.getValue()){a.incrementCount(),o=!0;break}o||t.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,i){let o=4537077*t.getValue()+i.getValue(),a=new String(o).toString(),l=new Ze;for(let x=13-a.length;x>0;x--)l.append("0");l.append(a);let h=0;for(let x=0;x<13;x++){let w=l.charAt(x).charCodeAt(0)-48;h+=x&1?w:3*w}h=10-h%10,h===10&&(h=0),l.append(h.toString());let f=t.getFinderPattern().getResultPoints(),m=i.getFinderPattern().getResultPoints();return new Be(l.toString(),null,0,[f[0],f[1],m[0],m[1]],ae.RSS_14,new Date().getTime())}static checkChecksum(t,i){let o=(t.getChecksumPortion()+16*i.getChecksumPortion())%79,a=9*t.getFinderPattern().getValue()+i.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,o===a}decodePair(t,i,o,a){try{let l=this.findFinderPattern(t,i),h=this.parseFoundFinderPattern(t,o,i,l),f=a==null?null:a.get(ie.NEED_RESULT_POINT_CALLBACK);if(f!=null){let w=(l[0]+l[1])/2;i&&(w=t.getSize()-1-w),f.foundPossibleResultPoint(new Se(w,o))}let m=this.decodeDataCharacter(t,h,!0),x=this.decodeDataCharacter(t,h,!1);return new uu(1597*m.getValue()+x.getValue(),m.getChecksumPortion()+4*x.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(t,i,o){let a=this.getDataCharacterCounters();for(let Z=0;Z<a.length;Z++)a[Z]=0;if(o)Lt.recordPatternInReverse(t,i.getStartEnd()[0],a);else{Lt.recordPattern(t,i.getStartEnd()[1]+1,a);for(let Z=0,X=a.length-1;Z<X;Z++,X--){let ue=a[Z];a[Z]=a[X],a[X]=ue}}let l=o?16:15,h=$e.sum(new Int32Array(a))/l,f=this.getOddCounts(),m=this.getEvenCounts(),x=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors();for(let Z=0;Z<a.length;Z++){let X=a[Z]/h,ue=Math.floor(X+.5);ue<1?ue=1:ue>8&&(ue=8);let ce=Math.floor(Z/2);Z&1?(m[ce]=ue,w[ce]=X-ue):(f[ce]=ue,x[ce]=X-ue)}this.adjustOddEvenCounts(o,l);let I=0,N=0;for(let Z=f.length-1;Z>=0;Z--)N*=9,N+=f[Z],I+=f[Z];let R=0,F=0;for(let Z=m.length-1;Z>=0;Z--)R*=9,R+=m[Z],F+=m[Z];let z=N+3*R;if(o){if(I&1||I>12||I<4)throw new J;let Z=(12-I)/2,X=Mt.OUTSIDE_ODD_WIDEST[Z],ue=9-X,ce=ni.getRSSvalue(f,X,!1),oe=ni.getRSSvalue(m,ue,!0),Ge=Mt.OUTSIDE_EVEN_TOTAL_SUBSET[Z],je=Mt.OUTSIDE_GSUM[Z];return new pr(ce*Ge+oe+je,z)}else{if(F&1||F>10||F<4)throw new J;let Z=(10-F)/2,X=Mt.INSIDE_ODD_WIDEST[Z],ue=9-X,ce=ni.getRSSvalue(f,X,!0),oe=ni.getRSSvalue(m,ue,!1),Ge=Mt.INSIDE_ODD_TOTAL_SUBSET[Z],je=Mt.INSIDE_GSUM[Z];return new pr(oe*Ge+ce+je,z)}}findFinderPattern(t,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=t.getSize(),l=!1,h=0;for(;h<a&&(l=!t.get(h),i!==l);)h++;let f=0,m=h;for(let x=h;x<a;x++)if(t.get(x)!==l)o[f]++;else{if(f===3){if(nn.isFinderPattern(o))return[m,x];m+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,f--}else f++;o[f]=1,l=!l}throw new J}parseFoundFinderPattern(t,i,o,a){let l=t.get(a[0]),h=a[0]-1;for(;h>=0&&l!==t.get(h);)h--;h++;const f=a[0]-h,m=this.getDecodeFinderCounters(),x=new Int32Array(m.length);U.arraycopy(m,0,x,1,m.length-1),x[0]=f;const w=this.parseFinderValue(x,Mt.FINDER_PATTERNS);let I=h,N=a[1];return o&&(I=t.getSize()-1-I,N=t.getSize()-1-N),new mr(w,[h,a[1]],I,N,i)}adjustOddEvenCounts(t,i){let o=$e.sum(new Int32Array(this.getOddCounts())),a=$e.sum(new Int32Array(this.getEvenCounts())),l=!1,h=!1,f=!1,m=!1;t?(o>12?h=!0:o<4&&(l=!0),a>12?m=!0:a<4&&(f=!0)):(o>11?h=!0:o<5&&(l=!0),a>10?m=!0:a<4&&(f=!0));let x=o+a-i,w=(o&1)===(t?1:0),I=(a&1)===1;if(x===1)if(w){if(I)throw new J;h=!0}else{if(!I)throw new J;m=!0}else if(x===-1)if(w){if(I)throw new J;l=!0}else{if(!I)throw new J;f=!0}else if(x===0){if(w){if(!I)throw new J;o<a?(l=!0,m=!0):(h=!0,f=!0)}else if(I)throw new J}else throw new J;if(l){if(h)throw new J;nn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&nn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(m)throw new J;nn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&nn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Mt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Mt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Mt.OUTSIDE_GSUM=[0,161,961,2015,2715],Mt.INSIDE_GSUM=[0,336,1036,1516],Mt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Mt.INSIDE_ODD_WIDEST=[2,4,6,8],Mt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Pi extends Lt{constructor(t,i){super(),this.readers=[],this.verbose=i===!0;const o=t?t.get(ie.POSSIBLE_FORMATS):null,a=t&&t.get(ie.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(ae.EAN_13)||o.includes(ae.UPC_A)||o.includes(ae.EAN_8)||o.includes(ae.UPC_E))&&this.readers.push(new mo(t)),o.includes(ae.CODE_39)&&this.readers.push(new Ft(a)),o.includes(ae.CODE_128)&&this.readers.push(new fe),o.includes(ae.ITF)&&this.readers.push(new dt),o.includes(ae.RSS_14)&&this.readers.push(new Mt),o.includes(ae.RSS_EXPANDED)&&this.readers.push(new re(this.verbose))):(this.readers.push(new mo(t)),this.readers.push(new Ft),this.readers.push(new mo(t)),this.readers.push(new fe),this.readers.push(new dt),this.readers.push(new Mt),this.readers.push(new re(this.verbose)))}decodeRow(t,i,o){for(let a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(t,i,o)}catch{}throw new J}reset(){this.readers.forEach(t=>t.reset())}}class es extends ht{constructor(t=500,i){super(new Pi(i),t,i)}}class st{constructor(t,i,o){this.ecCodewords=t,this.ecBlocks=[i],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class it{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class He{constructor(t,i,o,a,l,h){this.versionNumber=t,this.symbolSizeRows=i,this.symbolSizeColumns=o,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=l,this.ecBlocks=h;let f=0;const m=h.getECCodewords(),x=h.getECBlocks();for(let w of x)f+=w.getCount()*(w.getDataCodewords()+m);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,i){if(t&1||i&1)throw new V;for(let o of He.VERSIONS)if(o.symbolSizeRows===t&&o.symbolSizeColumns===i)return o;throw new V}toString(){return""+this.versionNumber}static buildVersions(){return[new He(1,10,10,8,8,new st(5,new it(1,3))),new He(2,12,12,10,10,new st(7,new it(1,5))),new He(3,14,14,12,12,new st(10,new it(1,8))),new He(4,16,16,14,14,new st(12,new it(1,12))),new He(5,18,18,16,16,new st(14,new it(1,18))),new He(6,20,20,18,18,new st(18,new it(1,22))),new He(7,22,22,20,20,new st(20,new it(1,30))),new He(8,24,24,22,22,new st(24,new it(1,36))),new He(9,26,26,24,24,new st(28,new it(1,44))),new He(10,32,32,14,14,new st(36,new it(1,62))),new He(11,36,36,16,16,new st(42,new it(1,86))),new He(12,40,40,18,18,new st(48,new it(1,114))),new He(13,44,44,20,20,new st(56,new it(1,144))),new He(14,48,48,22,22,new st(68,new it(1,174))),new He(15,52,52,24,24,new st(42,new it(2,102))),new He(16,64,64,14,14,new st(56,new it(2,140))),new He(17,72,72,16,16,new st(36,new it(4,92))),new He(18,80,80,18,18,new st(48,new it(4,114))),new He(19,88,88,20,20,new st(56,new it(4,144))),new He(20,96,96,22,22,new st(68,new it(4,174))),new He(21,104,104,24,24,new st(56,new it(6,136))),new He(22,120,120,18,18,new st(68,new it(6,175))),new He(23,132,132,20,20,new st(62,new it(8,163))),new He(24,144,144,22,22,new st(62,new it(8,156),new it(2,155))),new He(25,8,18,6,16,new st(7,new it(1,5))),new He(26,8,32,6,14,new st(11,new it(1,10))),new He(27,12,26,10,24,new st(14,new it(1,16))),new He(28,12,36,10,16,new st(18,new it(1,22))),new He(29,16,36,14,16,new st(24,new it(1,32))),new He(30,16,48,14,22,new st(28,new it(1,49)))]}}He.VERSIONS=He.buildVersions();class qe{constructor(t){const i=t.getHeight();if(i<8||i>144||i&1)throw new V;this.version=qe.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new tt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const i=t.getHeight(),o=t.getWidth();return He.getVersionForDimensions(i,o)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let i=0,o=4,a=0;const l=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let f=!1,m=!1,x=!1,w=!1;do if(o===l&&a===0&&!f)t[i++]=this.readCorner1(l,h)&255,o-=2,a+=2,f=!0;else if(o===l-2&&a===0&&h&3&&!m)t[i++]=this.readCorner2(l,h)&255,o-=2,a+=2,m=!0;else if(o===l+4&&a===2&&!(h&7)&&!x)t[i++]=this.readCorner3(l,h)&255,o-=2,a+=2,x=!0;else if(o===l-2&&a===0&&(h&7)===4&&!w)t[i++]=this.readCorner4(l,h)&255,o-=2,a+=2,w=!0;else{do o<l&&a>=0&&!this.readMappingMatrix.get(a,o)&&(t[i++]=this.readUtah(o,a,l,h)&255),o-=2,a+=2;while(o>=0&&a<h);o+=1,a+=3;do o>=0&&a<h&&!this.readMappingMatrix.get(a,o)&&(t[i++]=this.readUtah(o,a,l,h)&255),o+=2,a-=2;while(o<l&&a>=0);o+=3,a+=1}while(o<l||a<h);if(i!==this.version.getTotalCodewords())throw new V;return t}readModule(t,i,o,a){return t<0&&(t+=o,i+=4-(o+4&7)),i<0&&(i+=a,t+=4-(a+4&7)),this.readMappingMatrix.set(i,t),this.mappingBitMatrix.get(i,t)}readUtah(t,i,o,a){let l=0;return this.readModule(t-2,i-2,o,a)&&(l|=1),l<<=1,this.readModule(t-2,i-1,o,a)&&(l|=1),l<<=1,this.readModule(t-1,i-2,o,a)&&(l|=1),l<<=1,this.readModule(t-1,i-1,o,a)&&(l|=1),l<<=1,this.readModule(t-1,i,o,a)&&(l|=1),l<<=1,this.readModule(t,i-2,o,a)&&(l|=1),l<<=1,this.readModule(t,i-1,o,a)&&(l|=1),l<<=1,this.readModule(t,i,o,a)&&(l|=1),l}readCorner1(t,i){let o=0;return this.readModule(t-1,0,t,i)&&(o|=1),o<<=1,this.readModule(t-1,1,t,i)&&(o|=1),o<<=1,this.readModule(t-1,2,t,i)&&(o|=1),o<<=1,this.readModule(0,i-2,t,i)&&(o|=1),o<<=1,this.readModule(0,i-1,t,i)&&(o|=1),o<<=1,this.readModule(1,i-1,t,i)&&(o|=1),o<<=1,this.readModule(2,i-1,t,i)&&(o|=1),o<<=1,this.readModule(3,i-1,t,i)&&(o|=1),o}readCorner2(t,i){let o=0;return this.readModule(t-3,0,t,i)&&(o|=1),o<<=1,this.readModule(t-2,0,t,i)&&(o|=1),o<<=1,this.readModule(t-1,0,t,i)&&(o|=1),o<<=1,this.readModule(0,i-4,t,i)&&(o|=1),o<<=1,this.readModule(0,i-3,t,i)&&(o|=1),o<<=1,this.readModule(0,i-2,t,i)&&(o|=1),o<<=1,this.readModule(0,i-1,t,i)&&(o|=1),o<<=1,this.readModule(1,i-1,t,i)&&(o|=1),o}readCorner3(t,i){let o=0;return this.readModule(t-1,0,t,i)&&(o|=1),o<<=1,this.readModule(t-1,i-1,t,i)&&(o|=1),o<<=1,this.readModule(0,i-3,t,i)&&(o|=1),o<<=1,this.readModule(0,i-2,t,i)&&(o|=1),o<<=1,this.readModule(0,i-1,t,i)&&(o|=1),o<<=1,this.readModule(1,i-3,t,i)&&(o|=1),o<<=1,this.readModule(1,i-2,t,i)&&(o|=1),o<<=1,this.readModule(1,i-1,t,i)&&(o|=1),o}readCorner4(t,i){let o=0;return this.readModule(t-3,0,t,i)&&(o|=1),o<<=1,this.readModule(t-2,0,t,i)&&(o|=1),o<<=1,this.readModule(t-1,0,t,i)&&(o|=1),o<<=1,this.readModule(0,i-2,t,i)&&(o|=1),o<<=1,this.readModule(0,i-1,t,i)&&(o|=1),o<<=1,this.readModule(1,i-1,t,i)&&(o|=1),o<<=1,this.readModule(2,i-1,t,i)&&(o|=1),o<<=1,this.readModule(3,i-1,t,i)&&(o|=1),o}extractDataRegion(t){const i=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(t.getHeight()!==i)throw new O("Dimension of bitMatrix must match the version size");const a=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),h=i/a|0,f=o/l|0,m=h*a,x=f*l,w=new tt(x,m);for(let I=0;I<h;++I){const N=I*a;for(let R=0;R<f;++R){const F=R*l;for(let z=0;z<a;++z){const Z=I*(a+2)+1+z,X=N+z;for(let ue=0;ue<l;++ue){const ce=R*(l+2)+1+ue;if(t.get(ce,Z)){const oe=F+ue;w.set(oe,X)}}}}}return w}}class yt{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i){const o=i.getECBlocks();let a=0;const l=o.getECBlocks();for(let z of l)a+=z.getCount();const h=new Array(a);let f=0;for(let z of l)for(let Z=0;Z<z.getCount();Z++){const X=z.getDataCodewords(),ue=o.getECCodewords()+X;h[f++]=new yt(X,new Uint8Array(ue))}const x=h[0].codewords.length-o.getECCodewords(),w=x-1;let I=0;for(let z=0;z<w;z++)for(let Z=0;Z<f;Z++)h[Z].codewords[z]=t[I++];const N=i.getVersionNumber()===24,R=N?8:f;for(let z=0;z<R;z++)h[z].codewords[x-1]=t[I++];const F=h[0].codewords.length;for(let z=x;z<F;z++)for(let Z=0;Z<f;Z++){const X=N?(Z+8)%f:Z,ue=N&&X>7?z-1:z;h[X].codewords[ue]=t[I++]}if(I!==t.length)throw new O;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class xr{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new O(""+t);let i=0,o=this.bitOffset,a=this.byteOffset;const l=this.bytes;if(o>0){const h=8-o,f=t<h?t:h,m=h-f,x=255>>8-f<<m;i=(l[a]&x)>>m,t-=f,o+=f,o===8&&(o=0,a++)}if(t>0){for(;t>=8;)i=i<<8|l[a]&255,a++,t-=8;if(t>0){const h=8-t,f=255>>h<<h;i=i<<t|(l[a]&f)>>h,o+=t}}return this.bitOffset=o,this.byteOffset=a,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var vt;(function(T){T[T.PAD_ENCODE=0]="PAD_ENCODE",T[T.ASCII_ENCODE=1]="ASCII_ENCODE",T[T.C40_ENCODE=2]="C40_ENCODE",T[T.TEXT_ENCODE=3]="TEXT_ENCODE",T[T.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",T[T.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",T[T.BASE256_ENCODE=6]="BASE256_ENCODE"})(vt||(vt={}));class Tn{static decode(t){const i=new xr(t),o=new Ze,a=new Ze,l=new Array;let h=vt.ASCII_ENCODE;do if(h===vt.ASCII_ENCODE)h=this.decodeAsciiSegment(i,o,a);else{switch(h){case vt.C40_ENCODE:this.decodeC40Segment(i,o);break;case vt.TEXT_ENCODE:this.decodeTextSegment(i,o);break;case vt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,o);break;case vt.EDIFACT_ENCODE:this.decodeEdifactSegment(i,o);break;case vt.BASE256_ENCODE:this.decodeBase256Segment(i,o,l);break;default:throw new V}h=vt.ASCII_ENCODE}while(h!==vt.PAD_ENCODE&&i.available()>0);return a.length()>0&&o.append(a.toString()),new rt(t,o.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(t,i,o){let a=!1;do{let l=t.readBits(8);if(l===0)throw new V;if(l<=128)return a&&(l+=128),i.append(String.fromCharCode(l-1)),vt.ASCII_ENCODE;if(l===129)return vt.PAD_ENCODE;if(l<=229){const h=l-130;h<10&&i.append("0"),i.append(""+h)}else switch(l){case 230:return vt.C40_ENCODE;case 231:return vt.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:a=!0;break;case 236:i.append("[)>05"),o.insert(0,"");break;case 237:i.append("[)>06"),o.insert(0,"");break;case 238:return vt.ANSIX12_ENCODE;case 239:return vt.TEXT_ENCODE;case 240:return vt.EDIFACT_ENCODE;case 241:break;default:if(l!==254||t.available()!==0)throw new V;break}}while(t.available()>0);return vt.ASCII_ENCODE}static decodeC40Segment(t,i){let o=!1;const a=[];let l=0;do{if(t.available()===8)return;const h=t.readBits(8);if(h===254)return;this.parseTwoBytes(h,t.readBits(8),a);for(let f=0;f<3;f++){const m=a[f];switch(l){case 0:if(m<3)l=m+1;else if(m<this.C40_BASIC_SET_CHARS.length){const x=this.C40_BASIC_SET_CHARS[m];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x)}else throw new V;break;case 1:o?(i.append(String.fromCharCode(m+128)),o=!1):i.append(String.fromCharCode(m)),l=0;break;case 2:if(m<this.C40_SHIFT2_SET_CHARS.length){const x=this.C40_SHIFT2_SET_CHARS[m];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x)}else switch(m){case 27:i.append("");break;case 30:o=!0;break;default:throw new V}l=0;break;case 3:o?(i.append(String.fromCharCode(m+224)),o=!1):i.append(String.fromCharCode(m+96)),l=0;break;default:throw new V}}}while(t.available()>0)}static decodeTextSegment(t,i){let o=!1,a=[],l=0;do{if(t.available()===8)return;const h=t.readBits(8);if(h===254)return;this.parseTwoBytes(h,t.readBits(8),a);for(let f=0;f<3;f++){const m=a[f];switch(l){case 0:if(m<3)l=m+1;else if(m<this.TEXT_BASIC_SET_CHARS.length){const x=this.TEXT_BASIC_SET_CHARS[m];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x)}else throw new V;break;case 1:o?(i.append(String.fromCharCode(m+128)),o=!1):i.append(String.fromCharCode(m)),l=0;break;case 2:if(m<this.TEXT_SHIFT2_SET_CHARS.length){const x=this.TEXT_SHIFT2_SET_CHARS[m];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x)}else switch(m){case 27:i.append("");break;case 30:o=!0;break;default:throw new V}l=0;break;case 3:if(m<this.TEXT_SHIFT3_SET_CHARS.length){const x=this.TEXT_SHIFT3_SET_CHARS[m];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x),l=0}else throw new V;break;default:throw new V}}}while(t.available()>0)}static decodeAnsiX12Segment(t,i){const o=[];do{if(t.available()===8)return;const a=t.readBits(8);if(a===254)return;this.parseTwoBytes(a,t.readBits(8),o);for(let l=0;l<3;l++){const h=o[l];switch(h){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(h<14)i.append(String.fromCharCode(h+44));else if(h<40)i.append(String.fromCharCode(h+51));else throw new V;break}}}while(t.available()>0)}static parseTwoBytes(t,i,o){let a=(t<<8)+i-1,l=Math.floor(a/1600);o[0]=l,a-=l*1600,l=Math.floor(a/40),o[1]=l,o[2]=a-l*40}static decodeEdifactSegment(t,i){do{if(t.available()<=16)return;for(let o=0;o<4;o++){let a=t.readBits(6);if(a===31){const l=8-t.getBitOffset();l!==8&&t.readBits(l);return}a&32||(a|=64),i.append(String.fromCharCode(a))}}while(t.available()>0)}static decodeBase256Segment(t,i,o){let a=1+t.getByteOffset();const l=this.unrandomize255State(t.readBits(8),a++);let h;if(l===0?h=t.available()/8|0:l<250?h=l:h=250*(l-249)+this.unrandomize255State(t.readBits(8),a++),h<0)throw new V;const f=new Uint8Array(h);for(let m=0;m<h;m++){if(t.available()<8)throw new V;f[m]=this.unrandomize255State(t.readBits(8),a++)}o.push(f);try{i.append(ze.decode(f,Ce.ISO88591))}catch(m){throw new Hn("Platform does not support required encoding: "+m.message)}}static unrandomize255State(t,i){const o=149*i%255+1,a=t-o;return a>=0?a:a+256}}Tn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Tn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Tn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Tn.TEXT_SHIFT2_SET_CHARS=Tn.C40_SHIFT2_SET_CHARS,Tn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class _o{constructor(){this.rsDecoder=new gr(Je.DATA_MATRIX_FIELD_256)}decode(t){const i=new qe(t),o=i.getVersion(),a=i.readCodewords(),l=yt.getDataBlocks(a,o);let h=0;for(let x of l)h+=x.getNumDataCodewords();const f=new Uint8Array(h),m=l.length;for(let x=0;x<m;x++){const w=l[x],I=w.getCodewords(),N=w.getNumDataCodewords();this.correctErrors(I,N);for(let R=0;R<N;R++)f[R*m+x]=I[R]}return Tn.decode(f)}correctErrors(t,i){const o=new Int32Array(t);try{this.rsDecoder.decode(o,t.length-i)}catch{throw new Y}for(let a=0;a<i;a++)t[a]=o[a]}}class Ie{constructor(t){this.image=t,this.rectangleDetector=new xi(this.image)}detect(){const t=this.rectangleDetector.detect();let i=this.detectSolid1(t);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new J;i=this.shiftToModuleCenter(i);const o=i[0],a=i[1],l=i[2],h=i[3];let f=this.transitionsBetween(o,h)+1,m=this.transitionsBetween(l,h)+1;(f&1)===1&&(f+=1),(m&1)===1&&(m+=1),4*f<7*m&&4*m<7*f&&(f=m=Math.max(f,m));let x=Ie.sampleGrid(this.image,o,a,l,h,f,m);return new Qr(x,[o,a,l,h])}static shiftPoint(t,i,o){let a=(i.getX()-t.getX())/(o+1),l=(i.getY()-t.getY())/(o+1);return new Se(t.getX()+a,t.getY()+l)}static moveAway(t,i,o){let a=t.getX(),l=t.getY();return a<i?a-=1:a+=1,l<o?l-=1:l+=1,new Se(a,l)}detectSolid1(t){let i=t[0],o=t[1],a=t[3],l=t[2],h=this.transitionsBetween(i,o),f=this.transitionsBetween(o,a),m=this.transitionsBetween(a,l),x=this.transitionsBetween(l,i),w=h,I=[l,i,o,a];return w>f&&(w=f,I[0]=i,I[1]=o,I[2]=a,I[3]=l),w>m&&(w=m,I[0]=o,I[1]=a,I[2]=l,I[3]=i),w>x&&(I[0]=a,I[1]=l,I[2]=i,I[3]=o),I}detectSolid2(t){let i=t[0],o=t[1],a=t[2],l=t[3],h=this.transitionsBetween(i,l),f=Ie.shiftPoint(o,a,(h+1)*4),m=Ie.shiftPoint(a,o,(h+1)*4),x=this.transitionsBetween(f,i),w=this.transitionsBetween(m,l);return x<w?(t[0]=i,t[1]=o,t[2]=a,t[3]=l):(t[0]=o,t[1]=a,t[2]=l,t[3]=i),t}correctTopRight(t){let i=t[0],o=t[1],a=t[2],l=t[3],h=this.transitionsBetween(i,l),f=this.transitionsBetween(o,l),m=Ie.shiftPoint(i,o,(f+1)*4),x=Ie.shiftPoint(a,o,(h+1)*4);h=this.transitionsBetween(m,l),f=this.transitionsBetween(x,l);let w=new Se(l.getX()+(a.getX()-o.getX())/(h+1),l.getY()+(a.getY()-o.getY())/(h+1)),I=new Se(l.getX()+(i.getX()-o.getX())/(f+1),l.getY()+(i.getY()-o.getY())/(f+1));if(!this.isValid(w))return this.isValid(I)?I:null;if(!this.isValid(I))return w;let N=this.transitionsBetween(m,w)+this.transitionsBetween(x,w),R=this.transitionsBetween(m,I)+this.transitionsBetween(x,I);return N>R?w:I}shiftToModuleCenter(t){let i=t[0],o=t[1],a=t[2],l=t[3],h=this.transitionsBetween(i,l)+1,f=this.transitionsBetween(a,l)+1,m=Ie.shiftPoint(i,o,f*4),x=Ie.shiftPoint(a,o,h*4);h=this.transitionsBetween(m,l)+1,f=this.transitionsBetween(x,l)+1,(h&1)===1&&(h+=1),(f&1)===1&&(f+=1);let w=(i.getX()+o.getX()+a.getX()+l.getX())/4,I=(i.getY()+o.getY()+a.getY()+l.getY())/4;i=Ie.moveAway(i,w,I),o=Ie.moveAway(o,w,I),a=Ie.moveAway(a,w,I),l=Ie.moveAway(l,w,I);let N,R;return m=Ie.shiftPoint(i,o,f*4),m=Ie.shiftPoint(m,l,h*4),N=Ie.shiftPoint(o,i,f*4),N=Ie.shiftPoint(N,a,h*4),x=Ie.shiftPoint(a,l,f*4),x=Ie.shiftPoint(x,o,h*4),R=Ie.shiftPoint(l,a,f*4),R=Ie.shiftPoint(R,i,h*4),[m,N,x,R]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,i,o,a,l,h,f){return yi.getInstance().sampleGrid(t,h,f,.5,.5,h-.5,.5,h-.5,f-.5,.5,f-.5,i.getX(),i.getY(),l.getX(),l.getY(),a.getX(),a.getY(),o.getX(),o.getY())}transitionsBetween(t,i){let o=Math.trunc(t.getX()),a=Math.trunc(t.getY()),l=Math.trunc(i.getX()),h=Math.trunc(i.getY()),f=Math.abs(h-a)>Math.abs(l-o);if(f){let z=o;o=a,a=z,z=l,l=h,h=z}let m=Math.abs(l-o),x=Math.abs(h-a),w=-m/2,I=a<h?1:-1,N=o<l?1:-1,R=0,F=this.image.get(f?a:o,f?o:a);for(let z=o,Z=a;z!==l;z+=N){let X=this.image.get(f?Z:z,f?z:Z);if(X!==F&&(R++,F=X),w+=x,w>0){if(Z===h)break;Z+=I,w-=m}}return R}}class ut{constructor(){this.decoder=new _o}decode(t,i=null){let o,a;if(i!=null&&i.has(ie.PURE_BARCODE)){const x=ut.extractPureBits(t.getBlackMatrix());o=this.decoder.decode(x),a=ut.NO_POINTS}else{const x=new Ie(t.getBlackMatrix()).detect();o=this.decoder.decode(x.getBits()),a=x.getPoints()}const l=o.getRawBytes(),h=new Be(o.getText(),l,8*l.length,a,ae.DATA_MATRIX,U.currentTimeMillis()),f=o.getByteSegments();f!=null&&h.putMetadata(_e.BYTE_SEGMENTS,f);const m=o.getECLevel();return m!=null&&h.putMetadata(_e.ERROR_CORRECTION_LEVEL,m),h}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),o=t.getBottomRightOnBit();if(i==null||o==null)throw new J;const a=this.moduleSize(i,t);let l=i[1];const h=o[1];let f=i[0];const x=(o[0]-f+1)/a,w=(h-l+1)/a;if(x<=0||w<=0)throw new J;const I=a/2;l+=I,f+=I;const N=new tt(x,w);for(let R=0;R<w;R++){const F=l+R*a;for(let z=0;z<x;z++)t.get(f+z*a,F)&&N.set(z,R)}return N}static moduleSize(t,i){const o=i.getWidth();let a=t[0];const l=t[1];for(;a<o&&i.get(a,l);)a++;if(a===o)throw new J;const h=a-t[0];if(h===0)throw new J;return h}}ut.NO_POINTS=[];class wo extends ht{constructor(t=500){super(new ut,t)}}var wi;(function(T){T[T.L=0]="L",T[T.M=1]="M",T[T.Q=2]="Q",T[T.H=3]="H"})(wi||(wi={}));class We{constructor(t,i,o){this.value=t,this.stringValue=i,this.bits=o,We.FOR_BITS.set(o,this),We.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return We.L;case"M":return We.M;case"Q":return We.Q;case"H":return We.H;default:throw new k(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof We))return!1;const i=t;return this.value===i.value}static forBits(t){if(t<0||t>=We.FOR_BITS.size)throw new O;return We.FOR_BITS.get(t)}}We.FOR_BITS=new Map,We.FOR_VALUE=new Map,We.L=new We(wi.L,"L",1),We.M=new We(wi.M,"M",0),We.Q=new We(wi.Q,"Q",3),We.H=new We(wi.H,"H",2);class on{constructor(t){this.errorCorrectionLevel=We.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,i){return P.bitCount(t^i)}static decodeFormatInformation(t,i){const o=on.doDecodeFormatInformation(t,i);return o!==null?o:on.doDecodeFormatInformation(t^on.FORMAT_INFO_MASK_QR,i^on.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,i){let o=Number.MAX_SAFE_INTEGER,a=0;for(const l of on.FORMAT_INFO_DECODE_LOOKUP){const h=l[0];if(h===t||h===i)return new on(l[1]);let f=on.numBitsDiffering(t,h);f<o&&(a=l[1],o=f),t!==i&&(f=on.numBitsDiffering(i,h),f<o&&(a=l[1],o=f))}return o<=3?new on(a):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof on))return!1;const i=t;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}on.FORMAT_INFO_MASK_QR=21522,on.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class W{constructor(t,...i){this.ecCodewordsPerBlock=t,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const i=this.ecBlocks;for(const o of i)t+=o.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class M{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class xe{constructor(t,i,...o){this.versionNumber=t,this.alignmentPatternCenters=i,this.ecBlocks=o;let a=0;const l=o[0].getECCodewordsPerBlock(),h=o[0].getECBlocks();for(const f of h)a+=f.getCount()*(f.getDataCodewords()+l);this.totalCodewords=a}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new V;try{return this.getVersionForNumber((t-17)/4)}catch{throw new V}}static getVersionForNumber(t){if(t<1||t>40)throw new O;return xe.VERSIONS[t-1]}static decodeVersionInformation(t){let i=Number.MAX_SAFE_INTEGER,o=0;for(let a=0;a<xe.VERSION_DECODE_INFO.length;a++){const l=xe.VERSION_DECODE_INFO[a];if(l===t)return xe.getVersionForNumber(a+7);const h=on.numBitsDiffering(t,l);h<i&&(o=a+7,i=h)}return i<=3?xe.getVersionForNumber(o):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),i=new tt(t);i.setRegion(0,0,9,9),i.setRegion(t-8,0,8,9),i.setRegion(0,t-8,9,8);const o=this.alignmentPatternCenters.length;for(let a=0;a<o;a++){const l=this.alignmentPatternCenters[a]-2;for(let h=0;h<o;h++)a===0&&(h===0||h===o-1)||a===o-1&&h===0||i.setRegion(this.alignmentPatternCenters[h]-2,l,5,5)}return i.setRegion(6,9,1,t-17),i.setRegion(9,6,t-17,1),this.versionNumber>6&&(i.setRegion(t-11,0,3,6),i.setRegion(0,t-11,6,3)),i}toString(){return""+this.versionNumber}}xe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),xe.VERSIONS=[new xe(1,new Int32Array(0),new W(7,new M(1,19)),new W(10,new M(1,16)),new W(13,new M(1,13)),new W(17,new M(1,9))),new xe(2,Int32Array.from([6,18]),new W(10,new M(1,34)),new W(16,new M(1,28)),new W(22,new M(1,22)),new W(28,new M(1,16))),new xe(3,Int32Array.from([6,22]),new W(15,new M(1,55)),new W(26,new M(1,44)),new W(18,new M(2,17)),new W(22,new M(2,13))),new xe(4,Int32Array.from([6,26]),new W(20,new M(1,80)),new W(18,new M(2,32)),new W(26,new M(2,24)),new W(16,new M(4,9))),new xe(5,Int32Array.from([6,30]),new W(26,new M(1,108)),new W(24,new M(2,43)),new W(18,new M(2,15),new M(2,16)),new W(22,new M(2,11),new M(2,12))),new xe(6,Int32Array.from([6,34]),new W(18,new M(2,68)),new W(16,new M(4,27)),new W(24,new M(4,19)),new W(28,new M(4,15))),new xe(7,Int32Array.from([6,22,38]),new W(20,new M(2,78)),new W(18,new M(4,31)),new W(18,new M(2,14),new M(4,15)),new W(26,new M(4,13),new M(1,14))),new xe(8,Int32Array.from([6,24,42]),new W(24,new M(2,97)),new W(22,new M(2,38),new M(2,39)),new W(22,new M(4,18),new M(2,19)),new W(26,new M(4,14),new M(2,15))),new xe(9,Int32Array.from([6,26,46]),new W(30,new M(2,116)),new W(22,new M(3,36),new M(2,37)),new W(20,new M(4,16),new M(4,17)),new W(24,new M(4,12),new M(4,13))),new xe(10,Int32Array.from([6,28,50]),new W(18,new M(2,68),new M(2,69)),new W(26,new M(4,43),new M(1,44)),new W(24,new M(6,19),new M(2,20)),new W(28,new M(6,15),new M(2,16))),new xe(11,Int32Array.from([6,30,54]),new W(20,new M(4,81)),new W(30,new M(1,50),new M(4,51)),new W(28,new M(4,22),new M(4,23)),new W(24,new M(3,12),new M(8,13))),new xe(12,Int32Array.from([6,32,58]),new W(24,new M(2,92),new M(2,93)),new W(22,new M(6,36),new M(2,37)),new W(26,new M(4,20),new M(6,21)),new W(28,new M(7,14),new M(4,15))),new xe(13,Int32Array.from([6,34,62]),new W(26,new M(4,107)),new W(22,new M(8,37),new M(1,38)),new W(24,new M(8,20),new M(4,21)),new W(22,new M(12,11),new M(4,12))),new xe(14,Int32Array.from([6,26,46,66]),new W(30,new M(3,115),new M(1,116)),new W(24,new M(4,40),new M(5,41)),new W(20,new M(11,16),new M(5,17)),new W(24,new M(11,12),new M(5,13))),new xe(15,Int32Array.from([6,26,48,70]),new W(22,new M(5,87),new M(1,88)),new W(24,new M(5,41),new M(5,42)),new W(30,new M(5,24),new M(7,25)),new W(24,new M(11,12),new M(7,13))),new xe(16,Int32Array.from([6,26,50,74]),new W(24,new M(5,98),new M(1,99)),new W(28,new M(7,45),new M(3,46)),new W(24,new M(15,19),new M(2,20)),new W(30,new M(3,15),new M(13,16))),new xe(17,Int32Array.from([6,30,54,78]),new W(28,new M(1,107),new M(5,108)),new W(28,new M(10,46),new M(1,47)),new W(28,new M(1,22),new M(15,23)),new W(28,new M(2,14),new M(17,15))),new xe(18,Int32Array.from([6,30,56,82]),new W(30,new M(5,120),new M(1,121)),new W(26,new M(9,43),new M(4,44)),new W(28,new M(17,22),new M(1,23)),new W(28,new M(2,14),new M(19,15))),new xe(19,Int32Array.from([6,30,58,86]),new W(28,new M(3,113),new M(4,114)),new W(26,new M(3,44),new M(11,45)),new W(26,new M(17,21),new M(4,22)),new W(26,new M(9,13),new M(16,14))),new xe(20,Int32Array.from([6,34,62,90]),new W(28,new M(3,107),new M(5,108)),new W(26,new M(3,41),new M(13,42)),new W(30,new M(15,24),new M(5,25)),new W(28,new M(15,15),new M(10,16))),new xe(21,Int32Array.from([6,28,50,72,94]),new W(28,new M(4,116),new M(4,117)),new W(26,new M(17,42)),new W(28,new M(17,22),new M(6,23)),new W(30,new M(19,16),new M(6,17))),new xe(22,Int32Array.from([6,26,50,74,98]),new W(28,new M(2,111),new M(7,112)),new W(28,new M(17,46)),new W(30,new M(7,24),new M(16,25)),new W(24,new M(34,13))),new xe(23,Int32Array.from([6,30,54,78,102]),new W(30,new M(4,121),new M(5,122)),new W(28,new M(4,47),new M(14,48)),new W(30,new M(11,24),new M(14,25)),new W(30,new M(16,15),new M(14,16))),new xe(24,Int32Array.from([6,28,54,80,106]),new W(30,new M(6,117),new M(4,118)),new W(28,new M(6,45),new M(14,46)),new W(30,new M(11,24),new M(16,25)),new W(30,new M(30,16),new M(2,17))),new xe(25,Int32Array.from([6,32,58,84,110]),new W(26,new M(8,106),new M(4,107)),new W(28,new M(8,47),new M(13,48)),new W(30,new M(7,24),new M(22,25)),new W(30,new M(22,15),new M(13,16))),new xe(26,Int32Array.from([6,30,58,86,114]),new W(28,new M(10,114),new M(2,115)),new W(28,new M(19,46),new M(4,47)),new W(28,new M(28,22),new M(6,23)),new W(30,new M(33,16),new M(4,17))),new xe(27,Int32Array.from([6,34,62,90,118]),new W(30,new M(8,122),new M(4,123)),new W(28,new M(22,45),new M(3,46)),new W(30,new M(8,23),new M(26,24)),new W(30,new M(12,15),new M(28,16))),new xe(28,Int32Array.from([6,26,50,74,98,122]),new W(30,new M(3,117),new M(10,118)),new W(28,new M(3,45),new M(23,46)),new W(30,new M(4,24),new M(31,25)),new W(30,new M(11,15),new M(31,16))),new xe(29,Int32Array.from([6,30,54,78,102,126]),new W(30,new M(7,116),new M(7,117)),new W(28,new M(21,45),new M(7,46)),new W(30,new M(1,23),new M(37,24)),new W(30,new M(19,15),new M(26,16))),new xe(30,Int32Array.from([6,26,52,78,104,130]),new W(30,new M(5,115),new M(10,116)),new W(28,new M(19,47),new M(10,48)),new W(30,new M(15,24),new M(25,25)),new W(30,new M(23,15),new M(25,16))),new xe(31,Int32Array.from([6,30,56,82,108,134]),new W(30,new M(13,115),new M(3,116)),new W(28,new M(2,46),new M(29,47)),new W(30,new M(42,24),new M(1,25)),new W(30,new M(23,15),new M(28,16))),new xe(32,Int32Array.from([6,34,60,86,112,138]),new W(30,new M(17,115)),new W(28,new M(10,46),new M(23,47)),new W(30,new M(10,24),new M(35,25)),new W(30,new M(19,15),new M(35,16))),new xe(33,Int32Array.from([6,30,58,86,114,142]),new W(30,new M(17,115),new M(1,116)),new W(28,new M(14,46),new M(21,47)),new W(30,new M(29,24),new M(19,25)),new W(30,new M(11,15),new M(46,16))),new xe(34,Int32Array.from([6,34,62,90,118,146]),new W(30,new M(13,115),new M(6,116)),new W(28,new M(14,46),new M(23,47)),new W(30,new M(44,24),new M(7,25)),new W(30,new M(59,16),new M(1,17))),new xe(35,Int32Array.from([6,30,54,78,102,126,150]),new W(30,new M(12,121),new M(7,122)),new W(28,new M(12,47),new M(26,48)),new W(30,new M(39,24),new M(14,25)),new W(30,new M(22,15),new M(41,16))),new xe(36,Int32Array.from([6,24,50,76,102,128,154]),new W(30,new M(6,121),new M(14,122)),new W(28,new M(6,47),new M(34,48)),new W(30,new M(46,24),new M(10,25)),new W(30,new M(2,15),new M(64,16))),new xe(37,Int32Array.from([6,28,54,80,106,132,158]),new W(30,new M(17,122),new M(4,123)),new W(28,new M(29,46),new M(14,47)),new W(30,new M(49,24),new M(10,25)),new W(30,new M(24,15),new M(46,16))),new xe(38,Int32Array.from([6,32,58,84,110,136,162]),new W(30,new M(4,122),new M(18,123)),new W(28,new M(13,46),new M(32,47)),new W(30,new M(48,24),new M(14,25)),new W(30,new M(42,15),new M(32,16))),new xe(39,Int32Array.from([6,26,54,82,110,138,166]),new W(30,new M(20,117),new M(4,118)),new W(28,new M(40,47),new M(7,48)),new W(30,new M(43,24),new M(22,25)),new W(30,new M(10,15),new M(67,16))),new xe(40,Int32Array.from([6,30,58,86,114,142,170]),new W(30,new M(19,118),new M(6,119)),new W(28,new M(18,47),new M(31,48)),new W(30,new M(34,24),new M(34,25)),new W(30,new M(20,15),new M(61,16)))];var Ct;(function(T){T[T.DATA_MASK_000=0]="DATA_MASK_000",T[T.DATA_MASK_001=1]="DATA_MASK_001",T[T.DATA_MASK_010=2]="DATA_MASK_010",T[T.DATA_MASK_011=3]="DATA_MASK_011",T[T.DATA_MASK_100=4]="DATA_MASK_100",T[T.DATA_MASK_101=5]="DATA_MASK_101",T[T.DATA_MASK_110=6]="DATA_MASK_110",T[T.DATA_MASK_111=7]="DATA_MASK_111"})(Ct||(Ct={}));class an{constructor(t,i){this.value=t,this.isMasked=i}unmaskBitMatrix(t,i){for(let o=0;o<i;o++)for(let a=0;a<i;a++)this.isMasked(o,a)&&t.flip(a,o)}}an.values=new Map([[Ct.DATA_MASK_000,new an(Ct.DATA_MASK_000,(T,t)=>(T+t&1)===0)],[Ct.DATA_MASK_001,new an(Ct.DATA_MASK_001,(T,t)=>(T&1)===0)],[Ct.DATA_MASK_010,new an(Ct.DATA_MASK_010,(T,t)=>t%3===0)],[Ct.DATA_MASK_011,new an(Ct.DATA_MASK_011,(T,t)=>(T+t)%3===0)],[Ct.DATA_MASK_100,new an(Ct.DATA_MASK_100,(T,t)=>(Math.floor(T/2)+Math.floor(t/3)&1)===0)],[Ct.DATA_MASK_101,new an(Ct.DATA_MASK_101,(T,t)=>T*t%6===0)],[Ct.DATA_MASK_110,new an(Ct.DATA_MASK_110,(T,t)=>T*t%6<3)],[Ct.DATA_MASK_111,new an(Ct.DATA_MASK_111,(T,t)=>(T+t+T*t%3&1)===0)]]);class ts{constructor(t){const i=t.getHeight();if(i<21||(i&3)!==1)throw new V;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let l=0;l<6;l++)t=this.copyBit(l,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let l=5;l>=0;l--)t=this.copyBit(8,l,t);const i=this.bitMatrix.getHeight();let o=0;const a=i-7;for(let l=i-1;l>=a;l--)o=this.copyBit(8,l,o);for(let l=i-8;l<i;l++)o=this.copyBit(l,8,o);if(this.parsedFormatInfo=on.decodeFormatInformation(t,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new V}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),i=Math.floor((t-17)/4);if(i<=6)return xe.getVersionForNumber(i);let o=0;const a=t-11;for(let h=5;h>=0;h--)for(let f=t-9;f>=a;f--)o=this.copyBit(f,h,o);let l=xe.decodeVersionInformation(o);if(l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;o=0;for(let h=5;h>=0;h--)for(let f=t-9;f>=a;f--)o=this.copyBit(h,f,o);if(l=xe.decodeVersionInformation(o),l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;throw new V}copyBit(t,i,o){return(this.isMirror?this.bitMatrix.get(i,t):this.bitMatrix.get(t,i))?o<<1|1:o<<1}readCodewords(){const t=this.readFormatInformation(),i=this.readVersion(),o=an.values.get(t.getDataMask()),a=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,a);const l=i.buildFunctionPattern();let h=!0;const f=new Uint8Array(i.getTotalCodewords());let m=0,x=0,w=0;for(let I=a-1;I>0;I-=2){I===6&&I--;for(let N=0;N<a;N++){const R=h?a-1-N:N;for(let F=0;F<2;F++)l.get(I-F,R)||(w++,x<<=1,this.bitMatrix.get(I-F,R)&&(x|=1),w===8&&(f[m++]=x,w=0,x=0))}h=!h}if(m!==i.getTotalCodewords())throw new V;return f}remask(){if(this.parsedFormatInfo===null)return;const t=an.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,i)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let i=0,o=t.getWidth();i<o;i++)for(let a=i+1,l=t.getHeight();a<l;a++)t.get(i,a)!==t.get(a,i)&&(t.flip(a,i),t.flip(i,a))}}class ns{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i,o){if(t.length!==i.getTotalCodewords())throw new O;const a=i.getECBlocksForLevel(o);let l=0;const h=a.getECBlocks();for(const F of h)l+=F.getCount();const f=new Array(l);let m=0;for(const F of h)for(let z=0;z<F.getCount();z++){const Z=F.getDataCodewords(),X=a.getECCodewordsPerBlock()+Z;f[m++]=new ns(Z,new Uint8Array(X))}const x=f[0].codewords.length;let w=f.length-1;for(;w>=0&&f[w].codewords.length!==x;)w--;w++;const I=x-a.getECCodewordsPerBlock();let N=0;for(let F=0;F<I;F++)for(let z=0;z<m;z++)f[z].codewords[F]=t[N++];for(let F=w;F<m;F++)f[F].codewords[I]=t[N++];const R=f[0].codewords.length;for(let F=I;F<R;F++)for(let z=0;z<m;z++){const Z=z<w?F:F+1;f[z].codewords[Z]=t[N++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ln;(function(T){T[T.TERMINATOR=0]="TERMINATOR",T[T.NUMERIC=1]="NUMERIC",T[T.ALPHANUMERIC=2]="ALPHANUMERIC",T[T.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",T[T.BYTE=4]="BYTE",T[T.ECI=5]="ECI",T[T.KANJI=6]="KANJI",T[T.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",T[T.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",T[T.HANZI=9]="HANZI"})(ln||(ln={}));class Ne{constructor(t,i,o,a){this.value=t,this.stringValue=i,this.characterCountBitsForVersions=o,this.bits=a,Ne.FOR_BITS.set(a,this),Ne.FOR_VALUE.set(t,this)}static forBits(t){const i=Ne.FOR_BITS.get(t);if(i===void 0)throw new O;return i}getCharacterCountBits(t){const i=t.getVersionNumber();let o;return i<=9?o=0:i<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof Ne))return!1;const i=t;return this.value===i.value}toString(){return this.stringValue}}Ne.FOR_BITS=new Map,Ne.FOR_VALUE=new Map,Ne.TERMINATOR=new Ne(ln.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ne.NUMERIC=new Ne(ln.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ne.ALPHANUMERIC=new Ne(ln.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ne.STRUCTURED_APPEND=new Ne(ln.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ne.BYTE=new Ne(ln.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ne.ECI=new Ne(ln.ECI,"ECI",Int32Array.from([0,0,0]),7),Ne.KANJI=new Ne(ln.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ne.FNC1_FIRST_POSITION=new Ne(ln.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ne.FNC1_SECOND_POSITION=new Ne(ln.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ne.HANZI=new Ne(ln.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class _t{static decode(t,i,o,a){const l=new xr(t);let h=new Ze;const f=new Array;let m=-1,x=-1;try{let w=null,I=!1,N;do{if(l.available()<4)N=Ne.TERMINATOR;else{const R=l.readBits(4);N=Ne.forBits(R)}switch(N){case Ne.TERMINATOR:break;case Ne.FNC1_FIRST_POSITION:case Ne.FNC1_SECOND_POSITION:I=!0;break;case Ne.STRUCTURED_APPEND:if(l.available()<16)throw new V;m=l.readBits(8),x=l.readBits(8);break;case Ne.ECI:const R=_t.parseECIValue(l);if(w=$.getCharacterSetECIByValue(R),w===null)throw new V;break;case Ne.HANZI:const F=l.readBits(4),z=l.readBits(N.getCharacterCountBits(i));F===_t.GB2312_SUBSET&&_t.decodeHanziSegment(l,h,z);break;default:const Z=l.readBits(N.getCharacterCountBits(i));switch(N){case Ne.NUMERIC:_t.decodeNumericSegment(l,h,Z);break;case Ne.ALPHANUMERIC:_t.decodeAlphanumericSegment(l,h,Z,I);break;case Ne.BYTE:_t.decodeByteSegment(l,h,Z,w,f,a);break;case Ne.KANJI:_t.decodeKanjiSegment(l,h,Z);break;default:throw new V}break}}while(N!==Ne.TERMINATOR)}catch{throw new V}return new rt(t,h.toString(),f.length===0?null:f,o===null?null:o.toString(),m,x)}static decodeHanziSegment(t,i,o){if(o*13>t.available())throw new V;const a=new Uint8Array(2*o);let l=0;for(;o>0;){const h=t.readBits(13);let f=h/96<<8&4294967295|h%96;f<959?f+=41377:f+=42657,a[l]=f>>8&255,a[l+1]=f&255,l+=2,o--}try{i.append(ze.decode(a,Ce.GB2312))}catch(h){throw new V(h)}}static decodeKanjiSegment(t,i,o){if(o*13>t.available())throw new V;const a=new Uint8Array(2*o);let l=0;for(;o>0;){const h=t.readBits(13);let f=h/192<<8&4294967295|h%192;f<7936?f+=33088:f+=49472,a[l]=f>>8,a[l+1]=f,l+=2,o--}try{i.append(ze.decode(a,Ce.SHIFT_JIS))}catch(h){throw new V(h)}}static decodeByteSegment(t,i,o,a,l,h){if(8*o>t.available())throw new V;const f=new Uint8Array(o);for(let x=0;x<o;x++)f[x]=t.readBits(8);let m;a===null?m=Ce.guessEncoding(f,h):m=a.getName();try{i.append(ze.decode(f,m))}catch(x){throw new V(x)}l.push(f)}static toAlphaNumericChar(t){if(t>=_t.ALPHANUMERIC_CHARS.length)throw new V;return _t.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,i,o,a){const l=i.length();for(;o>1;){if(t.available()<11)throw new V;const h=t.readBits(11);i.append(_t.toAlphaNumericChar(Math.floor(h/45))),i.append(_t.toAlphaNumericChar(h%45)),o-=2}if(o===1){if(t.available()<6)throw new V;i.append(_t.toAlphaNumericChar(t.readBits(6)))}if(a)for(let h=l;h<i.length();h++)i.charAt(h)==="%"&&(h<i.length()-1&&i.charAt(h+1)==="%"?i.deleteCharAt(h+1):i.setCharAt(h,""))}static decodeNumericSegment(t,i,o){for(;o>=3;){if(t.available()<10)throw new V;const a=t.readBits(10);if(a>=1e3)throw new V;i.append(_t.toAlphaNumericChar(Math.floor(a/100))),i.append(_t.toAlphaNumericChar(Math.floor(a/10)%10)),i.append(_t.toAlphaNumericChar(a%10)),o-=3}if(o===2){if(t.available()<7)throw new V;const a=t.readBits(7);if(a>=100)throw new V;i.append(_t.toAlphaNumericChar(Math.floor(a/10))),i.append(_t.toAlphaNumericChar(a%10))}else if(o===1){if(t.available()<4)throw new V;const a=t.readBits(4);if(a>=10)throw new V;i.append(_t.toAlphaNumericChar(a))}}static parseECIValue(t){const i=t.readBits(8);if(!(i&128))return i&127;if((i&192)===128){const o=t.readBits(8);return(i&63)<<8&4294967295|o}if((i&224)===192){const o=t.readBits(16);return(i&31)<<16&4294967295|o}throw new V}}_t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",_t.GB2312_SUBSET=1;class is{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const i=t[0];t[0]=t[2],t[2]=i}}class vo{constructor(){this.rsDecoder=new gr(Je.QR_CODE_FIELD_256)}decodeBooleanArray(t,i){return this.decodeBitMatrix(tt.parseFromBooleanArray(t),i)}decodeBitMatrix(t,i){const o=new ts(t);let a=null;try{return this.decodeBitMatrixParser(o,i)}catch(l){a=l}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const l=this.decodeBitMatrixParser(o,i);return l.setOther(new is(!0)),l}catch(l){throw a!==null?a:l}}decodeBitMatrixParser(t,i){const o=t.readVersion(),a=t.readFormatInformation().getErrorCorrectionLevel(),l=t.readCodewords(),h=ns.getDataBlocks(l,o,a);let f=0;for(const w of h)f+=w.getNumDataCodewords();const m=new Uint8Array(f);let x=0;for(const w of h){const I=w.getCodewords(),N=w.getNumDataCodewords();this.correctErrors(I,N);for(let R=0;R<N;R++)m[x++]=I[R]}return _t.decode(m,o,a,i)}correctErrors(t,i){const o=new Int32Array(t);try{this.rsDecoder.decode(o,t.length-i)}catch{throw new Y}for(let a=0;a<i;a++)t[a]=o[a]}}class rs extends Se{constructor(t,i,o){super(t,i),this.estimatedModuleSize=o}aboutEquals(t,i,o){if(Math.abs(i-this.getY())<=t&&Math.abs(o-this.getX())<=t){const a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(t,i,o){const a=(this.getX()+i)/2,l=(this.getY()+t)/2,h=(this.estimatedModuleSize+o)/2;return new rs(a,l,h)}}class Ki{constructor(t,i,o,a,l,h,f){this.image=t,this.startX=i,this.startY=o,this.width=a,this.height=l,this.moduleSize=h,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,i=this.height,o=this.width,a=t+o,l=this.startY+i/2,h=new Int32Array(3),f=this.image;for(let m=0;m<i;m++){const x=l+(m&1?-Math.floor((m+1)/2):Math.floor((m+1)/2));h[0]=0,h[1]=0,h[2]=0;let w=t;for(;w<a&&!f.get(w,x);)w++;let I=0;for(;w<a;){if(f.get(w,x))if(I===1)h[1]++;else if(I===2){if(this.foundPatternCross(h)){const N=this.handlePossibleCenter(h,x,w);if(N!==null)return N}h[0]=h[2],h[1]=1,h[2]=0,I=1}else h[++I]++;else I===1&&I++,h[I]++;w++}if(this.foundPatternCross(h)){const N=this.handlePossibleCenter(h,x,a);if(N!==null)return N}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new J}static centerFromEnd(t,i){return i-t[2]-t[1]/2}foundPatternCross(t){const i=this.moduleSize,o=i/2;for(let a=0;a<3;a++)if(Math.abs(i-t[a])>=o)return!1;return!0}crossCheckVertical(t,i,o,a){const l=this.image,h=l.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let m=t;for(;m>=0&&l.get(i,m)&&f[1]<=o;)f[1]++,m--;if(m<0||f[1]>o)return NaN;for(;m>=0&&!l.get(i,m)&&f[0]<=o;)f[0]++,m--;if(f[0]>o)return NaN;for(m=t+1;m<h&&l.get(i,m)&&f[1]<=o;)f[1]++,m++;if(m===h||f[1]>o)return NaN;for(;m<h&&!l.get(i,m)&&f[2]<=o;)f[2]++,m++;if(f[2]>o)return NaN;const x=f[0]+f[1]+f[2];return 5*Math.abs(x-a)>=2*a?NaN:this.foundPatternCross(f)?Ki.centerFromEnd(f,m):NaN}handlePossibleCenter(t,i,o){const a=t[0]+t[1]+t[2],l=Ki.centerFromEnd(t,o),h=this.crossCheckVertical(i,l,2*t[1],a);if(!isNaN(h)){const f=(t[0]+t[1]+t[2])/3;for(const x of this.possibleCenters)if(x.aboutEquals(f,h,l))return x.combineEstimate(h,l,f);const m=new rs(l,h,f);this.possibleCenters.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return null}}class Es extends Se{constructor(t,i,o,a){super(t,i),this.estimatedModuleSize=o,this.count=a,a===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,i,o){if(Math.abs(i-this.getY())<=t&&Math.abs(o-this.getX())<=t){const a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(t,i,o){const a=this.count+1,l=(this.count*this.getX()+i)/a,h=(this.count*this.getY()+t)/a,f=(this.count*this.estimatedModuleSize+o)/a;return new Es(l,h,f,a)}}class Co{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Zt{constructor(t,i){this.image=t,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const i=t!=null&&t.get(ie.TRY_HARDER)!==void 0,o=t!=null&&t.get(ie.PURE_BARCODE)!==void 0,a=this.image,l=a.getHeight(),h=a.getWidth();let f=Math.floor(3*l/(4*Zt.MAX_MODULES));(f<Zt.MIN_SKIP||i)&&(f=Zt.MIN_SKIP);let m=!1;const x=new Int32Array(5);for(let I=f-1;I<l&&!m;I+=f){x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0;let N=0;for(let R=0;R<h;R++)if(a.get(R,I))(N&1)===1&&N++,x[N]++;else if(N&1)x[N]++;else if(N===4)if(Zt.foundPatternCross(x)){if(this.handlePossibleCenter(x,I,R,o)===!0)if(f=2,this.hasSkipped===!0)m=this.haveMultiplyConfirmedCenters();else{const z=this.findRowSkip();z>x[2]&&(I+=z-x[2]-f,R=h-1)}else{x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,N=3;continue}N=0,x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0}else x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,N=3;else x[++N]++;Zt.foundPatternCross(x)&&this.handlePossibleCenter(x,I,h,o)===!0&&(f=x[0],this.hasSkipped&&(m=this.haveMultiplyConfirmedCenters()))}const w=this.selectBestPatterns();return Se.orderBestPatterns(w),new Co(w)}static centerFromEnd(t,i){return i-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let i=0;for(let l=0;l<5;l++){const h=t[l];if(h===0)return!1;i+=h}if(i<7)return!1;const o=i/7,a=o/2;return Math.abs(o-t[0])<a&&Math.abs(o-t[1])<a&&Math.abs(3*o-t[2])<3*a&&Math.abs(o-t[3])<a&&Math.abs(o-t[4])<a}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,i,o,a){const l=this.getCrossCheckStateCount();let h=0;const f=this.image;for(;t>=h&&i>=h&&f.get(i-h,t-h);)l[2]++,h++;if(t<h||i<h)return!1;for(;t>=h&&i>=h&&!f.get(i-h,t-h)&&l[1]<=o;)l[1]++,h++;if(t<h||i<h||l[1]>o)return!1;for(;t>=h&&i>=h&&f.get(i-h,t-h)&&l[0]<=o;)l[0]++,h++;if(l[0]>o)return!1;const m=f.getHeight(),x=f.getWidth();for(h=1;t+h<m&&i+h<x&&f.get(i+h,t+h);)l[2]++,h++;if(t+h>=m||i+h>=x)return!1;for(;t+h<m&&i+h<x&&!f.get(i+h,t+h)&&l[3]<o;)l[3]++,h++;if(t+h>=m||i+h>=x||l[3]>=o)return!1;for(;t+h<m&&i+h<x&&f.get(i+h,t+h)&&l[4]<o;)l[4]++,h++;if(l[4]>=o)return!1;const w=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(w-a)<2*a&&Zt.foundPatternCross(l)}crossCheckVertical(t,i,o,a){const l=this.image,h=l.getHeight(),f=this.getCrossCheckStateCount();let m=t;for(;m>=0&&l.get(i,m);)f[2]++,m--;if(m<0)return NaN;for(;m>=0&&!l.get(i,m)&&f[1]<=o;)f[1]++,m--;if(m<0||f[1]>o)return NaN;for(;m>=0&&l.get(i,m)&&f[0]<=o;)f[0]++,m--;if(f[0]>o)return NaN;for(m=t+1;m<h&&l.get(i,m);)f[2]++,m++;if(m===h)return NaN;for(;m<h&&!l.get(i,m)&&f[3]<o;)f[3]++,m++;if(m===h||f[3]>=o)return NaN;for(;m<h&&l.get(i,m)&&f[4]<o;)f[4]++,m++;if(f[4]>=o)return NaN;const x=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(x-a)>=2*a?NaN:Zt.foundPatternCross(f)?Zt.centerFromEnd(f,m):NaN}crossCheckHorizontal(t,i,o,a){const l=this.image,h=l.getWidth(),f=this.getCrossCheckStateCount();let m=t;for(;m>=0&&l.get(m,i);)f[2]++,m--;if(m<0)return NaN;for(;m>=0&&!l.get(m,i)&&f[1]<=o;)f[1]++,m--;if(m<0||f[1]>o)return NaN;for(;m>=0&&l.get(m,i)&&f[0]<=o;)f[0]++,m--;if(f[0]>o)return NaN;for(m=t+1;m<h&&l.get(m,i);)f[2]++,m++;if(m===h)return NaN;for(;m<h&&!l.get(m,i)&&f[3]<o;)f[3]++,m++;if(m===h||f[3]>=o)return NaN;for(;m<h&&l.get(m,i)&&f[4]<o;)f[4]++,m++;if(f[4]>=o)return NaN;const x=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(x-a)>=a?NaN:Zt.foundPatternCross(f)?Zt.centerFromEnd(f,m):NaN}handlePossibleCenter(t,i,o,a){const l=t[0]+t[1]+t[2]+t[3]+t[4];let h=Zt.centerFromEnd(t,o),f=this.crossCheckVertical(i,Math.floor(h),t[2],l);if(!isNaN(f)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(f),t[2],l),!isNaN(h)&&(!a||this.crossCheckDiagonal(Math.floor(f),Math.floor(h),t[2],l)))){const m=l/7;let x=!1;const w=this.possibleCenters;for(let I=0,N=w.length;I<N;I++){const R=w[I];if(R.aboutEquals(m,f,h)){w[I]=R.combineEstimate(f,h,m),x=!0;break}}if(!x){const I=new Es(h,f,m);w.push(I),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(I)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const o of this.possibleCenters)if(o.getCount()>=Zt.CENTER_QUORUM)if(i==null)i=o;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-o.getX())-Math.abs(i.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,i=0;const o=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=Zt.CENTER_QUORUM&&(t++,i+=h.getEstimatedModuleSize());if(t<3)return!1;const a=i/o;let l=0;for(const h of this.possibleCenters)l+=Math.abs(h.getEstimatedModuleSize()-a);return l<=.05*i}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new J;const i=this.possibleCenters;let o;if(t>3){let a=0,l=0;for(const m of this.possibleCenters){const x=m.getEstimatedModuleSize();a+=x,l+=x*x}o=a/t;let h=Math.sqrt(l/t-o*o);i.sort((m,x)=>{const w=Math.abs(x.getEstimatedModuleSize()-o),I=Math.abs(m.getEstimatedModuleSize()-o);return w<I?-1:w>I?1:0});const f=Math.max(.2*o,h);for(let m=0;m<i.length&&i.length>3;m++){const x=i[m];Math.abs(x.getEstimatedModuleSize()-o)>f&&(i.splice(m,1),m--)}}if(i.length>3){let a=0;for(const l of i)a+=l.getEstimatedModuleSize();o=a/i.length,i.sort((l,h)=>{if(h.getCount()===l.getCount()){const f=Math.abs(h.getEstimatedModuleSize()-o),m=Math.abs(l.getEstimatedModuleSize()-o);return f<m?1:f>m?-1:0}else return h.getCount()-l.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}Zt.CENTER_QUORUM=2,Zt.MIN_SKIP=3,Zt.MAX_MODULES=57;class Pe{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(ie.NEED_RESULT_POINT_CALLBACK);const o=new Zt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(o)}processFinderPatternInfo(t){const i=t.getTopLeft(),o=t.getTopRight(),a=t.getBottomLeft(),l=this.calculateModuleSize(i,o,a);if(l<1)throw new J("No pattern found in proccess finder.");const h=Pe.computeDimension(i,o,a,l),f=xe.getProvisionalVersionForDimension(h),m=f.getDimensionForVersion()-7;let x=null;if(f.getAlignmentPatternCenters().length>0){const R=o.getX()-i.getX()+a.getX(),F=o.getY()-i.getY()+a.getY(),z=1-3/m,Z=Math.floor(i.getX()+z*(R-i.getX())),X=Math.floor(i.getY()+z*(F-i.getY()));for(let ue=4;ue<=16;ue<<=1)try{x=this.findAlignmentInRegion(l,Z,X,ue);break}catch(ce){if(!(ce instanceof J))throw ce}}const w=Pe.createTransform(i,o,a,x,h),I=Pe.sampleGrid(this.image,w,h);let N;return x===null?N=[a,i,o]:N=[a,i,o,x],new Qr(I,N)}static createTransform(t,i,o,a,l){const h=l-3.5;let f,m,x,w;return a!==null?(f=a.getX(),m=a.getY(),x=h-3,w=x):(f=i.getX()-t.getX()+o.getX(),m=i.getY()-t.getY()+o.getY(),x=h,w=h),An.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,x,w,3.5,h,t.getX(),t.getY(),i.getX(),i.getY(),f,m,o.getX(),o.getY())}static sampleGrid(t,i,o){return yi.getInstance().sampleGridWithTransform(t,o,o,i)}static computeDimension(t,i,o,a){const l=$e.round(Se.distance(t,i)/a),h=$e.round(Se.distance(t,o)/a);let f=Math.floor((l+h)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new J("Dimensions could be not found.")}return f}calculateModuleSize(t,i,o){return(this.calculateModuleSizeOneWay(t,i)+this.calculateModuleSizeOneWay(t,o))/2}calculateModuleSizeOneWay(t,i){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(i.getX()),Math.floor(i.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(o)?a/7:isNaN(a)?o/7:(o+a)/14}sizeOfBlackWhiteBlackRunBothWays(t,i,o,a){let l=this.sizeOfBlackWhiteBlackRun(t,i,o,a),h=1,f=t-(o-t);f<0?(h=t/(t-f),f=0):f>=this.image.getWidth()&&(h=(this.image.getWidth()-1-t)/(f-t),f=this.image.getWidth()-1);let m=Math.floor(i-(a-i)*h);return h=1,m<0?(h=i/(i-m),m=0):m>=this.image.getHeight()&&(h=(this.image.getHeight()-1-i)/(m-i),m=this.image.getHeight()-1),f=Math.floor(t+(f-t)*h),l+=this.sizeOfBlackWhiteBlackRun(t,i,f,m),l-1}sizeOfBlackWhiteBlackRun(t,i,o,a){const l=Math.abs(a-i)>Math.abs(o-t);if(l){let R=t;t=i,i=R,R=o,o=a,a=R}const h=Math.abs(o-t),f=Math.abs(a-i);let m=-h/2;const x=t<o?1:-1,w=i<a?1:-1;let I=0;const N=o+x;for(let R=t,F=i;R!==N;R+=x){const z=l?F:R,Z=l?R:F;if(I===1===this.image.get(z,Z)){if(I===2)return $e.distance(R,F,t,i);I++}if(m+=f,m>0){if(F===a)break;F+=w,m-=h}}return I===2?$e.distance(o+x,a,t,i):NaN}findAlignmentInRegion(t,i,o,a){const l=Math.floor(a*t),h=Math.max(0,i-l),f=Math.min(this.image.getWidth()-1,i+l);if(f-h<t*3)throw new J("Alignment top exceeds estimated module size.");const m=Math.max(0,o-l),x=Math.min(this.image.getHeight()-1,o+l);if(x-m<t*3)throw new J("Alignment bottom exceeds estimated module size.");return new Ki(this.image,h,m,f-h,x-m,t,this.resultPointCallback).find()}}class Qt{constructor(){this.decoder=new vo}getDecoder(){return this.decoder}decode(t,i){let o,a;if(i!=null&&i.get(ie.PURE_BARCODE)!==void 0){const m=Qt.extractPureBits(t.getBlackMatrix());o=this.decoder.decodeBitMatrix(m,i),a=Qt.NO_POINTS}else{const m=new Pe(t.getBlackMatrix()).detect(i);o=this.decoder.decodeBitMatrix(m.getBits(),i),a=m.getPoints()}o.getOther()instanceof is&&o.getOther().applyMirroredCorrection(a);const l=new Be(o.getText(),o.getRawBytes(),void 0,a,ae.QR_CODE,void 0),h=o.getByteSegments();h!==null&&l.putMetadata(_e.BYTE_SEGMENTS,h);const f=o.getECLevel();return f!==null&&l.putMetadata(_e.ERROR_CORRECTION_LEVEL,f),o.hasStructuredAppend()&&(l.putMetadata(_e.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),l.putMetadata(_e.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),l}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),o=t.getBottomRightOnBit();if(i===null||o===null)throw new J;const a=this.moduleSize(i,t);let l=i[1],h=o[1],f=i[0],m=o[0];if(f>=m||l>=h)throw new J;if(h-l!==m-f&&(m=f+(h-l),m>=t.getWidth()))throw new J;const x=Math.round((m-f+1)/a),w=Math.round((h-l+1)/a);if(x<=0||w<=0)throw new J;if(w!==x)throw new J;const I=Math.floor(a/2);l+=I,f+=I;const N=f+Math.floor((x-1)*a)-m;if(N>0){if(N>I)throw new J;f-=N}const R=l+Math.floor((w-1)*a)-h;if(R>0){if(R>I)throw new J;l-=R}const F=new tt(x,w);for(let z=0;z<w;z++){const Z=l+Math.floor(z*a);for(let X=0;X<x;X++)t.get(f+Math.floor(X*a),Z)&&F.set(X,z)}return F}static moduleSize(t,i){const o=i.getHeight(),a=i.getWidth();let l=t[0],h=t[1],f=!0,m=0;for(;l<a&&h<o;){if(f!==i.get(l,h)){if(++m===5)break;f=!f}l++,h++}if(l===a||h===o)throw new J;return(l-t[0])/7}}Qt.NO_POINTS=new Array;class ye{PDF417Common(){}static getBitCountSum(t){return $e.sum(t)}static toIntArray(t){if(t==null||!t.length)return ye.EMPTY_INT_ARRAY;const i=new Int32Array(t.length);let o=0;for(const a of t)i[o++]=a;return i}static getCodeword(t){const i=D.binarySearch(ye.SYMBOL_TABLE,t&262143);return i<0?-1:(ye.CODEWORD_TABLE[i]-1)%ye.NUMBER_OF_CODEWORDS}}ye.NUMBER_OF_CODEWORDS=929,ye.MAX_CODEWORDS_IN_BARCODE=ye.NUMBER_OF_CODEWORDS-1,ye.MIN_ROWS_IN_BARCODE=3,ye.MAX_ROWS_IN_BARCODE=90,ye.MODULES_IN_CODEWORD=17,ye.MODULES_IN_STOP_PATTERN=18,ye.BARS_IN_MODULE=8,ye.EMPTY_INT_ARRAY=new Int32Array([]),ye.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ye.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ta{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Fe{static detectMultiple(t,i,o){let a=t.getBlackMatrix(),l=Fe.detect(o,a);return l.length||(a=a.clone(),a.rotate180(),l=Fe.detect(o,a)),new Ta(a,l)}static detect(t,i){const o=new Array;let a=0,l=0,h=!1;for(;a<i.getHeight();){const f=Fe.findVertices(i,a,l);if(f[0]==null&&f[3]==null){if(!h)break;h=!1,l=0;for(const m of o)m[1]!=null&&(a=Math.trunc(Math.max(a,m[1].getY()))),m[3]!=null&&(a=Math.max(a,Math.trunc(m[3].getY())));a+=Fe.ROW_STEP;continue}if(h=!0,o.push(f),!t)break;f[2]!=null?(l=Math.trunc(f[2].getX()),a=Math.trunc(f[2].getY())):(l=Math.trunc(f[4].getX()),a=Math.trunc(f[4].getY()))}return o}static findVertices(t,i,o){const a=t.getHeight(),l=t.getWidth(),h=new Array(8);return Fe.copyToResult(h,Fe.findRowsWithPattern(t,a,l,i,o,Fe.START_PATTERN),Fe.INDEXES_START_PATTERN),h[4]!=null&&(o=Math.trunc(h[4].getX()),i=Math.trunc(h[4].getY())),Fe.copyToResult(h,Fe.findRowsWithPattern(t,a,l,i,o,Fe.STOP_PATTERN),Fe.INDEXES_STOP_PATTERN),h}static copyToResult(t,i,o){for(let a=0;a<o.length;a++)t[o[a]]=i[a]}static findRowsWithPattern(t,i,o,a,l,h){const f=new Array(4);let m=!1;const x=new Int32Array(h.length);for(;a<i;a+=Fe.ROW_STEP){let I=Fe.findGuardPattern(t,l,a,o,!1,h,x);if(I!=null){for(;a>0;){const N=Fe.findGuardPattern(t,l,--a,o,!1,h,x);if(N!=null)I=N;else{a++;break}}f[0]=new Se(I[0],a),f[1]=new Se(I[1],a),m=!0;break}}let w=a+1;if(m){let I=0,N=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;w<i;w++){const R=Fe.findGuardPattern(t,N[0],w,o,!1,h,x);if(R!=null&&Math.abs(N[0]-R[0])<Fe.MAX_PATTERN_DRIFT&&Math.abs(N[1]-R[1])<Fe.MAX_PATTERN_DRIFT)N=R,I=0;else{if(I>Fe.SKIPPED_ROW_COUNT_MAX)break;I++}}w-=I+1,f[2]=new Se(N[0],w),f[3]=new Se(N[1],w)}return w-a<Fe.BARCODE_MIN_HEIGHT&&D.fill(f,null),f}static findGuardPattern(t,i,o,a,l,h,f){D.fillWithin(f,0,f.length,0);let m=i,x=0;for(;t.get(m,o)&&m>0&&x++<Fe.MAX_PIXEL_DRIFT;)m--;let w=m,I=0,N=h.length;for(let R=l;w<a;w++)if(t.get(w,o)!==R)f[I]++;else{if(I===N-1){if(Fe.patternMatchVariance(f,h,Fe.MAX_INDIVIDUAL_VARIANCE)<Fe.MAX_AVG_VARIANCE)return new Int32Array([m,w]);m+=f[0]+f[1],U.arraycopy(f,2,f,0,I-1),f[I-1]=0,f[I]=0,I--}else I++;f[I]=1,R=!R}return I===N-1&&Fe.patternMatchVariance(f,h,Fe.MAX_INDIVIDUAL_VARIANCE)<Fe.MAX_AVG_VARIANCE?new Int32Array([m,w-1]):null}static patternMatchVariance(t,i,o){let a=t.length,l=0,h=0;for(let x=0;x<a;x++)l+=t[x],h+=i[x];if(l<h)return 1/0;let f=l/h;o*=f;let m=0;for(let x=0;x<a;x++){let w=t[x],I=i[x]*f,N=w>I?w-I:I-w;if(N>o)return 1/0;m+=N}return m/l}}Fe.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Fe.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Fe.MAX_AVG_VARIANCE=.42,Fe.MAX_INDIVIDUAL_VARIANCE=.8,Fe.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Fe.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Fe.MAX_PIXEL_DRIFT=3,Fe.MAX_PATTERN_DRIFT=5,Fe.SKIPPED_ROW_COUNT_MAX=25,Fe.ROW_STEP=5,Fe.BARCODE_MIN_HEIGHT=10;class Ht{constructor(t,i){if(i.length===0)throw new O;this.field=t;let o=i.length;if(o>1&&i[0]===0){let a=1;for(;a<o&&i[a]===0;)a++;a===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-a),U.arraycopy(i,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let a=0;for(let l of this.coefficients)a=this.field.add(a,l);return a}let i=this.coefficients[0],o=this.coefficients.length;for(let a=1;a<o;a++)i=this.field.add(this.field.multiply(t,i),this.coefficients[a]);return i}add(t){if(!this.field.equals(t.field))throw new O("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,o=t.coefficients;if(i.length>o.length){let h=i;i=o,o=h}let a=new Int32Array(o.length),l=o.length-i.length;U.arraycopy(o,0,a,0,l);for(let h=l;h<o.length;h++)a[h]=this.field.add(i[h-l],o[h]);return new Ht(this.field,a)}subtract(t){if(!this.field.equals(t.field))throw new O("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Ht?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new O("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Ht(this.field,new Int32Array([0]));let i=this.coefficients,o=i.length,a=t.coefficients,l=a.length,h=new Int32Array(o+l-1);for(let f=0;f<o;f++){let m=i[f];for(let x=0;x<l;x++)h[f+x]=this.field.add(h[f+x],this.field.multiply(m,a[x]))}return new Ht(this.field,h)}negative(){let t=this.coefficients.length,i=new Int32Array(t);for(let o=0;o<t;o++)i[o]=this.field.subtract(0,this.coefficients[o]);return new Ht(this.field,i)}multiplyScalar(t){if(t===0)return new Ht(this.field,new Int32Array([0]));if(t===1)return this;let i=this.coefficients.length,o=new Int32Array(i);for(let a=0;a<i;a++)o[a]=this.field.multiply(this.coefficients[a],t);return new Ht(this.field,o)}multiplyByMonomial(t,i){if(t<0)throw new O;if(i===0)return new Ht(this.field,new Int32Array([0]));let o=this.coefficients.length,a=new Int32Array(o+t);for(let l=0;l<o;l++)a[l]=this.field.multiply(this.coefficients[l],i);return new Ht(this.field,a)}toString(){let t=new Ze;for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);o!==0&&(o<0?(t.append(" - "),o=-o):t.length()>0&&t.append(" + "),(i===0||o!==1)&&t.append(o),i!==0&&(i===1?t.append("x"):(t.append("x^"),t.append(i))))}return t.toString()}}class Eo{add(t,i){return(t+i)%this.modulus}subtract(t,i){return(this.modulus+t-i)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new O;return this.logTable[t]}inverse(t){if(t===0)throw new ki;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class vi extends Eo{constructor(t,i){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let o=1;for(let a=0;a<t;a++)this.expTable[a]=o,o=o*i%t;for(let a=0;a<t-1;a++)this.logTable[this.expTable[a]]=a;this.zero=new Ht(this,new Int32Array([0])),this.one=new Ht(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new O;if(i===0)return this.zero;let o=new Int32Array(t+1);return o[0]=i,new Ht(this,o)}}vi.PDF417_GF=new vi(ye.NUMBER_OF_CODEWORDS,3);class As{constructor(){this.field=vi.PDF417_GF}decode(t,i,o){let a=new Ht(this.field,t),l=new Int32Array(i),h=!1;for(let F=i;F>0;F--){let z=a.evaluateAt(this.field.exp(F));l[i-F]=z,z!==0&&(h=!0)}if(!h)return 0;let f=this.field.getOne();if(o!=null)for(const F of o){let z=this.field.exp(t.length-1-F),Z=new Ht(this.field,new Int32Array([this.field.subtract(0,z),1]));f=f.multiply(Z)}let m=new Ht(this.field,l),x=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),m,i),w=x[0],I=x[1],N=this.findErrorLocations(w),R=this.findErrorMagnitudes(I,w,N);for(let F=0;F<N.length;F++){let z=t.length-1-this.field.log(N[F]);if(z<0)throw Y.getChecksumInstance();t[z]=this.field.subtract(t[z],R[F])}return N.length}runEuclideanAlgorithm(t,i,o){if(t.getDegree()<i.getDegree()){let N=t;t=i,i=N}let a=t,l=i,h=this.field.getZero(),f=this.field.getOne();for(;l.getDegree()>=Math.round(o/2);){let N=a,R=h;if(a=l,h=f,a.isZero())throw Y.getChecksumInstance();l=N;let F=this.field.getZero(),z=a.getCoefficient(a.getDegree()),Z=this.field.inverse(z);for(;l.getDegree()>=a.getDegree()&&!l.isZero();){let X=l.getDegree()-a.getDegree(),ue=this.field.multiply(l.getCoefficient(l.getDegree()),Z);F=F.add(this.field.buildMonomial(X,ue)),l=l.subtract(a.multiplyByMonomial(X,ue))}f=F.multiply(h).subtract(R).negative()}let m=f.getCoefficient(0);if(m===0)throw Y.getChecksumInstance();let x=this.field.inverse(m),w=f.multiply(x),I=l.multiply(x);return[w,I]}findErrorLocations(t){let i=t.getDegree(),o=new Int32Array(i),a=0;for(let l=1;l<this.field.getSize()&&a<i;l++)t.evaluateAt(l)===0&&(o[a]=this.field.inverse(l),a++);if(a!==i)throw Y.getChecksumInstance();return o}findErrorMagnitudes(t,i,o){let a=i.getDegree(),l=new Int32Array(a);for(let x=1;x<=a;x++)l[a-x]=this.field.multiply(x,i.getCoefficient(x));let h=new Ht(this.field,l),f=o.length,m=new Int32Array(f);for(let x=0;x<f;x++){let w=this.field.inverse(o[x]),I=this.field.subtract(0,t.evaluateAt(w)),N=this.field.inverse(h.evaluateAt(w));m[x]=this.field.multiply(I,N)}return m}}class Zn{constructor(t,i,o,a,l){t instanceof Zn?this.constructor_2(t):this.constructor_1(t,i,o,a,l)}constructor_1(t,i,o,a,l){const h=i==null||o==null,f=a==null||l==null;if(h&&f)throw new J;h?(i=new Se(0,a.getY()),o=new Se(0,l.getY())):f&&(a=new Se(t.getWidth()-1,i.getY()),l=new Se(t.getWidth()-1,o.getY())),this.image=t,this.topLeft=i,this.bottomLeft=o,this.topRight=a,this.bottomRight=l,this.minX=Math.trunc(Math.min(i.getX(),o.getX())),this.maxX=Math.trunc(Math.max(a.getX(),l.getX())),this.minY=Math.trunc(Math.min(i.getY(),a.getY())),this.maxY=Math.trunc(Math.max(o.getY(),l.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,i){return t==null?i:i==null?t:new Zn(t.image,t.topLeft,t.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(t,i,o){let a=this.topLeft,l=this.bottomLeft,h=this.topRight,f=this.bottomRight;if(t>0){let m=o?this.topLeft:this.topRight,x=Math.trunc(m.getY()-t);x<0&&(x=0);let w=new Se(m.getX(),x);o?a=w:h=w}if(i>0){let m=o?this.bottomLeft:this.bottomRight,x=Math.trunc(m.getY()+i);x>=this.image.getHeight()&&(x=this.image.getHeight()-1);let w=new Se(m.getX(),x);o?l=w:f=w}return new Zn(this.image,a,l,h,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Kt{constructor(t,i,o,a){this.columnCount=t,this.errorCorrectionLevel=a,this.rowCountUpperPart=i,this.rowCountLowerPart=o,this.rowCount=i+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Wn{constructor(){this.buffer=""}static form(t,i){let o=-1;function a(h,f,m,x,w,I){if(h==="%%")return"%";if(i[++o]===void 0)return;h=x?parseInt(x.substr(1)):void 0;let N=w?parseInt(w.substr(1)):void 0,R;switch(I){case"s":R=i[o];break;case"c":R=i[o][0];break;case"f":R=parseFloat(i[o]).toFixed(h);break;case"p":R=parseFloat(i[o]).toPrecision(h);break;case"e":R=parseFloat(i[o]).toExponential(h);break;case"x":R=parseInt(i[o]).toString(N||16);break;case"d":R=parseFloat(parseInt(i[o],N||10).toPrecision(h)).toFixed(0);break}R=typeof R=="object"?JSON.stringify(R):(+R).toString(N);let F=parseInt(m),z=m&&m[0]+""=="0"?"0":" ";for(;R.length<F;)R=f!==void 0?R+z:z+R;return R}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,a)}format(t,...i){this.buffer+=Wn.form(t,i)}toString(){return this.buffer}}class yr{constructor(t){this.boundingBox=new Zn(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let i=this.getCodeword(t);if(i!=null)return i;for(let o=1;o<yr.MAX_NEARBY_DISTANCE;o++){let a=this.imageRowToCodewordIndex(t)-o;if(a>=0&&(i=this.codewords[a],i!=null)||(a=this.imageRowToCodewordIndex(t)+o,a<this.codewords.length&&(i=this.codewords[a],i!=null)))return i}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,i){this.codewords[this.imageRowToCodewordIndex(t)]=i}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Wn;let i=0;for(const o of this.codewords){if(o==null){t.format("%3d:    |   %n",i++);continue}t.format("%3d: %3d|%3d%n",i++,o.getRowNumber(),o.getValue())}return t.toString()}}yr.MAX_NEARBY_DISTANCE=5;class _r{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let i=this.values.get(t);i==null&&(i=0),i++,this.values.set(t,i)}getValue(){let t=-1,i=new Array;for(const[o,a]of this.values.entries()){const l={getKey:()=>o,getValue:()=>a};l.getValue()>t?(t=l.getValue(),i=[],i.push(l.getKey())):l.getValue()===t&&i.push(l.getKey())}return ye.toIntArray(i)}getConfidence(t){return this.values.get(t)}}class Ia extends yr{constructor(t,i){super(t),this._isLeft=i}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,t);let o=this.getBoundingBox(),a=this._isLeft?o.getTopLeft():o.getTopRight(),l=this._isLeft?o.getBottomLeft():o.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),m=-1,x=1,w=0;for(let I=h;I<f;I++){if(i[I]==null)continue;let N=i[I],R=N.getRowNumber()-m;if(R===0)w++;else if(R===1)x=Math.max(x,w),w=1,m=N.getRowNumber();else if(R<0||N.getRowNumber()>=t.getRowCount()||R>I)i[I]=null;else{let F;x>2?F=(x-2)*R:F=R;let z=F>=I;for(let Z=1;Z<=F&&!z;Z++)z=i[I-Z]!=null;z?i[I]=null:(m=N.getRowNumber(),w=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let i=new Int32Array(t.getRowCount());for(let o of this.getCodewords())if(o!=null){let a=o.getRowNumber();if(a>=i.length)continue;i[a]++}return i}adjustIncompleteIndicatorColumnRowNumbers(t){let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),a=this._isLeft?i.getBottomLeft():i.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),h=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.getCodewords(),m=-1;for(let x=l;x<h;x++){if(f[x]==null)continue;let w=f[x];w.setRowNumberAsRowIndicatorColumn();let I=w.getRowNumber()-m;I===0||(I===1?m=w.getRowNumber():w.getRowNumber()>=t.getRowCount()?f[x]=null:m=w.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),i=new _r,o=new _r,a=new _r,l=new _r;for(let f of t){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let m=f.getValue()%30,x=f.getRowNumber();switch(this._isLeft||(x+=2),x%3){case 0:o.setValue(m*3+1);break;case 1:l.setValue(m/3),a.setValue(m%3);break;case 2:i.setValue(m+1);break}}if(i.getValue().length===0||o.getValue().length===0||a.getValue().length===0||l.getValue().length===0||i.getValue()[0]<1||o.getValue()[0]+a.getValue()[0]<ye.MIN_ROWS_IN_BARCODE||o.getValue()[0]+a.getValue()[0]>ye.MAX_ROWS_IN_BARCODE)return null;let h=new Kt(i.getValue()[0],o.getValue()[0],a.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(t,h),h}removeIncorrectCodewords(t,i){for(let o=0;o<t.length;o++){let a=t[o];if(t[o]==null)continue;let l=a.getValue()%30,h=a.getRowNumber();if(h>i.getRowCount()){t[o]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:l*3+1!==i.getRowCountUpperPart()&&(t[o]=null);break;case 1:(Math.trunc(l/3)!==i.getErrorCorrectionLevel()||l%3!==i.getRowCountLowerPart())&&(t[o]=null);break;case 2:l+1!==i.getColumnCount()&&(t[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class wr{constructor(t,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=ye.MAX_CODEWORDS_IN_BARCODE,i;do i=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let o=this.detectionResultColumns[i].getCodewords();for(let a=0;a<o.length;a++)o[a]!=null&&(o[a].hasValidRowNumber()||this.adjustRowNumbers(i,a,o))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<t.length;o++)if(t[o]!=null&&i[o]!=null&&t[o].getRowNumber()===i[o].getRowNumber())for(let a=1;a<=this.barcodeColumnCount;a++){let l=this.detectionResultColumns[a].getCodewords()[o];l!=null&&(l.setRowNumber(t[o].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let a=i[o].getRowNumber(),l=0;for(let h=this.barcodeColumnCount+1;h>0&&l<this.ADJUST_ROW_NUMBER_SKIP;h--){let f=this.detectionResultColumns[h].getCodewords()[o];f!=null&&(l=wr.adjustRowNumberIfValid(a,l,f),f.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,i=this.detectionResultColumns[0].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let a=i[o].getRowNumber(),l=0;for(let h=1;h<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;h++){let f=this.detectionResultColumns[h].getCodewords()[o];f!=null&&(l=wr.adjustRowNumberIfValid(a,l,f),f.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,i,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(t)?(o.setRowNumber(t),i=0):++i),i}adjustRowNumbers(t,i,o){if(!this.detectionResultColumns[t-1])return;let a=o[i],l=this.detectionResultColumns[t-1].getCodewords(),h=l;this.detectionResultColumns[t+1]!=null&&(h=this.detectionResultColumns[t+1].getCodewords());let f=new Array(14);f[2]=l[i],f[3]=h[i],i>0&&(f[0]=o[i-1],f[4]=l[i-1],f[5]=h[i-1]),i>1&&(f[8]=o[i-2],f[10]=l[i-2],f[11]=h[i-2]),i<o.length-1&&(f[1]=o[i+1],f[6]=l[i+1],f[7]=h[i+1]),i<o.length-2&&(f[9]=o[i+2],f[12]=l[i+2],f[13]=h[i+2]);for(let m of f)if(wr.adjustRowNumber(a,m))return}static adjustRowNumber(t,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===t.getBucket()?(t.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,i){this.detectionResultColumns[t]=i}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Wn;for(let o=0;o<t.getCodewords().length;o++){i.format("CW %3d:",o);for(let a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){i.format("    |   ");continue}let l=this.detectionResultColumns[a].getCodewords()[o];if(l==null){i.format("    |   ");continue}i.format(" %3d|%3d",l.getRowNumber(),l.getValue())}i.format("%n")}return i.toString()}}class qi{constructor(t,i,o,a){this.rowNumber=qi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(i),this.bucket=Math.trunc(o),this.value=Math.trunc(a)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==qi.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}qi.BARCODE_ROW_UNKNOWN=-1;class mn{static initialize(){for(let t=0;t<ye.SYMBOL_TABLE.length;t++){let i=ye.SYMBOL_TABLE[t],o=i&1;for(let a=0;a<ye.BARS_IN_MODULE;a++){let l=0;for(;(i&1)===o;)l+=1,i>>=1;o=i&1,mn.RATIOS_TABLE[t]||(mn.RATIOS_TABLE[t]=new Array(ye.BARS_IN_MODULE)),mn.RATIOS_TABLE[t][ye.BARS_IN_MODULE-a-1]=Math.fround(l/ye.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let i=mn.getDecodedCodewordValue(mn.sampleBitCounts(t));return i!==-1?i:mn.getClosestDecodedValue(t)}static sampleBitCounts(t){let i=$e.sum(t),o=new Int32Array(ye.BARS_IN_MODULE),a=0,l=0;for(let h=0;h<ye.MODULES_IN_CODEWORD;h++){let f=i/(2*ye.MODULES_IN_CODEWORD)+h*i/ye.MODULES_IN_CODEWORD;l+t[a]<=f&&(l+=t[a],a++),o[a]++}return o}static getDecodedCodewordValue(t){let i=mn.getBitValue(t);return ye.getCodeword(i)===-1?-1:i}static getBitValue(t){let i=0;for(let o=0;o<t.length;o++)for(let a=0;a<t[o];a++)i=i<<1|(o%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(t){let i=$e.sum(t),o=new Array(ye.BARS_IN_MODULE);if(i>1)for(let h=0;h<o.length;h++)o[h]=Math.fround(t[h]/i);let a=Xr.MAX_VALUE,l=-1;this.bSymbolTableReady||mn.initialize();for(let h=0;h<mn.RATIOS_TABLE.length;h++){let f=0,m=mn.RATIOS_TABLE[h];for(let x=0;x<ye.BARS_IN_MODULE;x++){let w=Math.fround(m[x]-o[x]);if(f+=Math.fround(w*w),f>=a)break}f<a&&(a=f,l=ye.SYMBOL_TABLE[h])}return l}}mn.bSymbolTableReady=!1,mn.RATIOS_TABLE=new Array(ye.SYMBOL_TABLE.length).map(T=>new Array(ye.BARS_IN_MODULE));class Ao{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Qe{static parseLong(t,i=void 0){return parseInt(t,i)}}class Na extends v{}Na.kind="NullPointerException";class Gn{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,i,o){if(t==null)throw new Na;if(i<0||i>t.length||o<0||i+o>t.length||i+o<0)throw new me;if(o===0)return;for(let a=0;a<o;a++)this.write(t[i+a])}flush(){}close(){}}class ss extends v{}class ba extends Gn{constructor(t=32){if(super(),this.count=0,t<0)throw new O("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let o=this.buf.length<<1;if(o-t<0&&(o=t),o<0){if(t<0)throw new ss;o=P.MAX_VALUE}this.buf=D.copyOfUint8Array(this.buf,o)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,i,o){if(i<0||i>t.length||o<0||i+o-t.length>0)throw new me;this.ensureCapacity(this.count+o),U.arraycopy(t,i,this.buf,this.count,o),this.count+=o}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return D.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var ct;(function(T){T[T.ALPHA=0]="ALPHA",T[T.LOWER=1]="LOWER",T[T.MIXED=2]="MIXED",T[T.PUNCT=3]="PUNCT",T[T.ALPHA_SHIFT=4]="ALPHA_SHIFT",T[T.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ct||(ct={}));function Ss(){if(typeof window<"u")return window.BigInt||null;if(typeof Os<"u")return Os.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ts;function Ci(T){if(typeof Ts>"u"&&(Ts=Ss()),Ts===null)throw new Error("BigInt is not supported!");return Ts(T)}function cu(){let T=[];T[0]=Ci(1);let t=Ci(900);T[1]=t;for(let i=2;i<16;i++)T[i]=T[i-1]*t;return T}class Q{static decode(t,i){let o=new Ze(""),a=$.ISO8859_1;o.enableDecoding(a);let l=1,h=t[l++],f=new Ao;for(;l<t[0];){switch(h){case Q.TEXT_COMPACTION_MODE_LATCH:l=Q.textCompaction(t,l,o);break;case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:l=Q.byteCompaction(h,t,a,l,o);break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(t[l++]);break;case Q.NUMERIC_COMPACTION_MODE_LATCH:l=Q.numericCompaction(t,l,o);break;case Q.ECI_CHARSET:$.getCharacterSetECIByValue(t[l++]);break;case Q.ECI_GENERAL_PURPOSE:l+=2;break;case Q.ECI_USER_DEFINED:l++;break;case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=Q.decodeMacroBlock(t,l,f);break;case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:throw new V;default:l--,l=Q.textCompaction(t,l,o);break}if(l<t.length)h=t[l++];else throw V.getFormatInstance()}if(o.length()===0)throw V.getFormatInstance();let m=new rt(null,o.toString(),null,i);return m.setOther(f),m}static decodeMacroBlock(t,i,o){if(i+Q.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw V.getFormatInstance();let a=new Int32Array(Q.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<Q.NUMBER_OF_SEQUENCE_CODEWORDS;f++,i++)a[f]=t[i];o.setSegmentIndex(P.parseInt(Q.decodeBase900toBase10(a,Q.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new Ze;i=Q.textCompaction(t,i,l),o.setFileId(l.toString());let h=-1;for(t[i]===Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=i+1);i<t[0];)switch(t[i]){case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,t[i]){case Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new Ze;i=Q.textCompaction(t,i+1,f),o.setFileName(f.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let m=new Ze;i=Q.textCompaction(t,i+1,m),o.setSender(m.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let x=new Ze;i=Q.textCompaction(t,i+1,x),o.setAddressee(x.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let w=new Ze;i=Q.numericCompaction(t,i+1,w),o.setSegmentCount(P.parseInt(w.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let I=new Ze;i=Q.numericCompaction(t,i+1,I),o.setTimestamp(Qe.parseLong(I.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let N=new Ze;i=Q.numericCompaction(t,i+1,N),o.setChecksum(P.parseInt(N.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let R=new Ze;i=Q.numericCompaction(t,i+1,R),o.setFileSize(Qe.parseLong(R.toString()));break;default:throw V.getFormatInstance()}break;case Q.MACRO_PDF417_TERMINATOR:i++,o.setLastSegment(!0);break;default:throw V.getFormatInstance()}if(h!==-1){let f=i-h;o.isLastSegment()&&f--,o.setOptionalData(D.copyOfRange(t,h,h+f))}return i}static textCompaction(t,i,o){let a=new Int32Array((t[0]-i)*2),l=new Int32Array((t[0]-i)*2),h=0,f=!1;for(;i<t[0]&&!f;){let m=t[i++];if(m<Q.TEXT_COMPACTION_MODE_LATCH)a[h]=m/30,a[h+1]=m%30,h+=2;else switch(m){case Q.TEXT_COMPACTION_MODE_LATCH:a[h++]=Q.TEXT_COMPACTION_MODE_LATCH;break;case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:i--,f=!0;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[h]=Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,m=t[i++],l[h]=m,h++;break}}return Q.decodeTextCompaction(a,l,h,o),i}static decodeTextCompaction(t,i,o,a){let l=ct.ALPHA,h=ct.ALPHA,f=0;for(;f<o;){let m=t[f],x="";switch(l){case ct.ALPHA:if(m<26)x=String.fromCharCode(65+m);else switch(m){case 26:x=" ";break;case Q.LL:l=ct.LOWER;break;case Q.ML:l=ct.MIXED;break;case Q.PS:h=l,l=ct.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case Q.TEXT_COMPACTION_MODE_LATCH:l=ct.ALPHA;break}break;case ct.LOWER:if(m<26)x=String.fromCharCode(97+m);else switch(m){case 26:x=" ";break;case Q.AS:h=l,l=ct.ALPHA_SHIFT;break;case Q.ML:l=ct.MIXED;break;case Q.PS:h=l,l=ct.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case Q.TEXT_COMPACTION_MODE_LATCH:l=ct.ALPHA;break}break;case ct.MIXED:if(m<Q.PL)x=Q.MIXED_CHARS[m];else switch(m){case Q.PL:l=ct.PUNCT;break;case 26:x=" ";break;case Q.LL:l=ct.LOWER;break;case Q.AL:l=ct.ALPHA;break;case Q.PS:h=l,l=ct.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case Q.TEXT_COMPACTION_MODE_LATCH:l=ct.ALPHA;break}break;case ct.PUNCT:if(m<Q.PAL)x=Q.PUNCT_CHARS[m];else switch(m){case Q.PAL:l=ct.ALPHA;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case Q.TEXT_COMPACTION_MODE_LATCH:l=ct.ALPHA;break}break;case ct.ALPHA_SHIFT:if(l=h,m<26)x=String.fromCharCode(65+m);else switch(m){case 26:x=" ";break;case Q.TEXT_COMPACTION_MODE_LATCH:l=ct.ALPHA;break}break;case ct.PUNCT_SHIFT:if(l=h,m<Q.PAL)x=Q.PUNCT_CHARS[m];else switch(m){case Q.PAL:l=ct.ALPHA;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case Q.TEXT_COMPACTION_MODE_LATCH:l=ct.ALPHA;break}break}x!==""&&a.append(x),f++}}static byteCompaction(t,i,o,a,l){let h=new ba,f=0,m=0,x=!1;switch(t){case Q.BYTE_COMPACTION_MODE_LATCH:let w=new Int32Array(6),I=i[a++];for(;a<i[0]&&!x;)switch(w[f++]=I,m=900*m+I,I=i[a++],I){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:a--,x=!0;break;default:if(f%5===0&&f>0){for(let N=0;N<6;++N)h.write(Number(Ci(m)>>Ci(8*(5-N))));m=0,f=0}break}a===i[0]&&I<Q.TEXT_COMPACTION_MODE_LATCH&&(w[f++]=I);for(let N=0;N<f;N++)h.write(w[N]);break;case Q.BYTE_COMPACTION_MODE_LATCH_6:for(;a<i[0]&&!x;){let N=i[a++];if(N<Q.TEXT_COMPACTION_MODE_LATCH)f++,m=900*m+N;else switch(N){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:a--,x=!0;break}if(f%5===0&&f>0){for(let R=0;R<6;++R)h.write(Number(Ci(m)>>Ci(8*(5-R))));m=0,f=0}}break}return l.append(ze.decode(h.toByteArray(),o)),a}static numericCompaction(t,i,o){let a=0,l=!1,h=new Int32Array(Q.MAX_NUMERIC_CODEWORDS);for(;i<t[0]&&!l;){let f=t[i++];if(i===t[0]&&(l=!0),f<Q.TEXT_COMPACTION_MODE_LATCH)h[a]=f,a++;else switch(f){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:i--,l=!0;break}(a%Q.MAX_NUMERIC_CODEWORDS===0||f===Q.NUMERIC_COMPACTION_MODE_LATCH||l)&&a>0&&(o.append(Q.decodeBase900toBase10(h,a)),a=0)}return i}static decodeBase900toBase10(t,i){let o=Ci(0);for(let l=0;l<i;l++)o+=Q.EXP900[i-l-1]*Ci(t[l]);let a=o.toString();if(a.charAt(0)!=="1")throw new V;return a.substring(1)}}Q.TEXT_COMPACTION_MODE_LATCH=900,Q.BYTE_COMPACTION_MODE_LATCH=901,Q.NUMERIC_COMPACTION_MODE_LATCH=902,Q.BYTE_COMPACTION_MODE_LATCH_6=924,Q.ECI_USER_DEFINED=925,Q.ECI_GENERAL_PURPOSE=926,Q.ECI_CHARSET=927,Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Q.MACRO_PDF417_TERMINATOR=922,Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Q.MAX_NUMERIC_CODEWORDS=15,Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Q.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Q.PL=25,Q.LL=27,Q.AS=27,Q.ML=28,Q.AL=28,Q.PS=29,Q.PAL=29,Q.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Q.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Q.EXP900=Ss()?cu():[],Q.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ue{constructor(){}static decode(t,i,o,a,l,h,f){let m=new Zn(t,i,o,a,l),x=null,w=null,I;for(let F=!0;;F=!1){if(i!=null&&(x=Ue.getRowIndicatorColumn(t,m,i,!0,h,f)),a!=null&&(w=Ue.getRowIndicatorColumn(t,m,a,!1,h,f)),I=Ue.merge(x,w),I==null)throw J.getNotFoundInstance();let z=I.getBoundingBox();if(F&&z!=null&&(z.getMinY()<m.getMinY()||z.getMaxY()>m.getMaxY()))m=z;else break}I.setBoundingBox(m);let N=I.getBarcodeColumnCount()+1;I.setDetectionResultColumn(0,x),I.setDetectionResultColumn(N,w);let R=x!=null;for(let F=1;F<=N;F++){let z=R?F:N-F;if(I.getDetectionResultColumn(z)!==void 0)continue;let Z;z===0||z===N?Z=new Ia(m,z===0):Z=new yr(m),I.setDetectionResultColumn(z,Z);let X=-1,ue=X;for(let ce=m.getMinY();ce<=m.getMaxY();ce++){if(X=Ue.getStartColumn(I,z,ce,R),X<0||X>m.getMaxX()){if(ue===-1)continue;X=ue}let oe=Ue.detectCodeword(t,m.getMinX(),m.getMaxX(),R,X,ce,h,f);oe!=null&&(Z.setCodeword(ce,oe),ue=X,h=Math.min(h,oe.getWidth()),f=Math.max(f,oe.getWidth()))}}return Ue.createDecoderResult(I)}static merge(t,i){if(t==null&&i==null)return null;let o=Ue.getBarcodeMetadata(t,i);if(o==null)return null;let a=Zn.merge(Ue.adjustBoundingBox(t),Ue.adjustBoundingBox(i));return new wr(o,a)}static adjustBoundingBox(t){if(t==null)return null;let i=t.getRowHeights();if(i==null)return null;let o=Ue.getMax(i),a=0;for(let f of i)if(a+=o-f,f>0)break;let l=t.getCodewords();for(let f=0;a>0&&l[f]==null;f++)a--;let h=0;for(let f=i.length-1;f>=0&&(h+=o-i[f],!(i[f]>0));f--);for(let f=l.length-1;h>0&&l[f]==null;f--)h--;return t.getBoundingBox().addMissingRows(a,h,t.isLeft())}static getMax(t){let i=-1;for(let o of t)i=Math.max(i,o);return i}static getBarcodeMetadata(t,i){let o;if(t==null||(o=t.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let a;return i==null||(a=i.getBarcodeMetadata())==null?o:o.getColumnCount()!==a.getColumnCount()&&o.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&o.getRowCount()!==a.getRowCount()?null:o}static getRowIndicatorColumn(t,i,o,a,l,h){let f=new Ia(i,a);for(let m=0;m<2;m++){let x=m===0?1:-1,w=Math.trunc(Math.trunc(o.getX()));for(let I=Math.trunc(Math.trunc(o.getY()));I<=i.getMaxY()&&I>=i.getMinY();I+=x){let N=Ue.detectCodeword(t,0,t.getWidth(),a,w,I,l,h);N!=null&&(f.setCodeword(I,N),a?w=N.getStartX():w=N.getEndX())}}return f}static adjustCodewordCount(t,i){let o=i[0][1],a=o.getValue(),l=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-Ue.getNumberOfECCodeWords(t.getBarcodeECLevel());if(a.length===0){if(l<1||l>ye.MAX_CODEWORDS_IN_BARCODE)throw J.getNotFoundInstance();o.setValue(l)}else a[0]!==l&&o.setValue(l)}static createDecoderResult(t){let i=Ue.createBarcodeMatrix(t);Ue.adjustCodewordCount(t,i);let o=new Array,a=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),l=[],h=new Array;for(let m=0;m<t.getBarcodeRowCount();m++)for(let x=0;x<t.getBarcodeColumnCount();x++){let w=i[m][x+1].getValue(),I=m*t.getBarcodeColumnCount()+x;w.length===0?o.push(I):w.length===1?a[I]=w[0]:(h.push(I),l.push(w))}let f=new Array(l.length);for(let m=0;m<f.length;m++)f[m]=l[m];return Ue.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),a,ye.toIntArray(o),ye.toIntArray(h),f)}static createDecoderResultFromAmbiguousValues(t,i,o,a,l){let h=new Int32Array(a.length),f=100;for(;f-- >0;){for(let m=0;m<h.length;m++)i[a[m]]=l[m][h[m]];try{return Ue.decodeCodewords(i,t,o)}catch(m){if(!(m instanceof Y))throw m}if(h.length===0)throw Y.getChecksumInstance();for(let m=0;m<h.length;m++)if(h[m]<l[m].length-1){h[m]++;break}else if(h[m]=0,m===h.length-1)throw Y.getChecksumInstance()}throw Y.getChecksumInstance()}static createBarcodeMatrix(t){let i=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let a=0;a<i.length;a++)for(let l=0;l<i[a].length;l++)i[a][l]=new _r;let o=0;for(let a of t.getDetectionResultColumns()){if(a!=null){for(let l of a.getCodewords())if(l!=null){let h=l.getRowNumber();if(h>=0){if(h>=i.length)continue;i[h][o].setValue(l.getValue())}}}o++}return i}static isValidBarcodeColumn(t,i){return i>=0&&i<=t.getBarcodeColumnCount()+1}static getStartColumn(t,i,o,a){let l=a?1:-1,h=null;if(Ue.isValidBarcodeColumn(t,i-l)&&(h=t.getDetectionResultColumn(i-l).getCodeword(o)),h!=null)return a?h.getEndX():h.getStartX();if(h=t.getDetectionResultColumn(i).getCodewordNearby(o),h!=null)return a?h.getStartX():h.getEndX();if(Ue.isValidBarcodeColumn(t,i-l)&&(h=t.getDetectionResultColumn(i-l).getCodewordNearby(o)),h!=null)return a?h.getEndX():h.getStartX();let f=0;for(;Ue.isValidBarcodeColumn(t,i-l);){i-=l;for(let m of t.getDetectionResultColumn(i).getCodewords())if(m!=null)return(a?m.getEndX():m.getStartX())+l*f*(m.getEndX()-m.getStartX());f++}return a?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,i,o,a,l,h,f,m){l=Ue.adjustCodewordStartColumn(t,i,o,a,l,h);let x=Ue.getModuleBitCount(t,i,o,a,l,h);if(x==null)return null;let w,I=$e.sum(x);if(a)w=l+I;else{for(let F=0;F<x.length/2;F++){let z=x[F];x[F]=x[x.length-1-F],x[x.length-1-F]=z}w=l,l=w-I}if(!Ue.checkCodewordSkew(I,f,m))return null;let N=mn.getDecodedValue(x),R=ye.getCodeword(N);return R===-1?null:new qi(l,w,Ue.getCodewordBucketNumber(N),R)}static getModuleBitCount(t,i,o,a,l,h){let f=l,m=new Int32Array(8),x=0,w=a?1:-1,I=a;for(;(a?f<o:f>=i)&&x<m.length;)t.get(f,h)===I?(m[x]++,f+=w):(x++,I=!I);return x===m.length||f===(a?o:i)&&x===m.length-1?m:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,i,o,a,l,h){let f=l,m=a?-1:1;for(let x=0;x<2;x++){for(;(a?f>=i:f<o)&&a===t.get(f,h);){if(Math.abs(l-f)>Ue.CODEWORD_SKEW_SIZE)return l;f+=m}m=-m,a=!a}return f}static checkCodewordSkew(t,i,o){return i-Ue.CODEWORD_SKEW_SIZE<=t&&t<=o+Ue.CODEWORD_SKEW_SIZE}static decodeCodewords(t,i,o){if(t.length===0)throw V.getFormatInstance();let a=1<<i+1,l=Ue.correctErrors(t,o,a);Ue.verifyCodewordCount(t,a);let h=Q.decode(t,""+i);return h.setErrorsCorrected(l),h.setErasures(o.length),h}static correctErrors(t,i,o){if(i!=null&&i.length>o/2+Ue.MAX_ERRORS||o<0||o>Ue.MAX_EC_CODEWORDS)throw Y.getChecksumInstance();return Ue.errorCorrection.decode(t,o,i)}static verifyCodewordCount(t,i){if(t.length<4)throw V.getFormatInstance();let o=t[0];if(o>t.length)throw V.getFormatInstance();if(o===0)if(i<t.length)t[0]=t.length-i;else throw V.getFormatInstance()}static getBitCountForCodeword(t){let i=new Int32Array(8),o=0,a=i.length-1;for(;!((t&1)!==o&&(o=t&1,a--,a<0));)i[a]++,t>>=1;return i}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return Ue.getCodewordBucketNumber(Ue.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let i=new Wn;for(let o=0;o<t.length;o++){i.format("Row %2d: ",o);for(let a=0;a<t[o].length;a++){let l=t[o][a];l.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}i.format("%n")}return i.toString()}}Ue.CODEWORD_SKEW_SIZE=2,Ue.MAX_ERRORS=3,Ue.MAX_EC_CODEWORDS=512,Ue.errorCorrection=new As;class qt{decode(t,i=null){let o=qt.decode(t,i,!1);if(o==null||o.length===0||o[0]==null)throw J.getNotFoundInstance();return o[0]}decodeMultiple(t,i=null){try{return qt.decode(t,i,!0)}catch(o){throw o instanceof V||o instanceof Y?J.getNotFoundInstance():o}}static decode(t,i,o){const a=new Array,l=Fe.detectMultiple(t,i,o);for(const h of l.getPoints()){const f=Ue.decode(l.getBits(),h[4],h[5],h[6],h[7],qt.getMinCodewordWidth(h),qt.getMaxCodewordWidth(h)),m=new Be(f.getText(),f.getRawBytes(),void 0,h,ae.PDF_417);m.putMetadata(_e.ERROR_CORRECTION_LEVEL,f.getECLevel());const x=f.getOther();x!=null&&m.putMetadata(_e.PDF417_EXTRA_METADATA,x),a.push(m)}return a.map(h=>h)}static getMaxWidth(t,i){return t==null||i==null?0:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMinWidth(t,i){return t==null||i==null?P.MAX_VALUE:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(qt.getMaxWidth(t[0],t[4]),qt.getMaxWidth(t[6],t[2])*ye.MODULES_IN_CODEWORD/ye.MODULES_IN_STOP_PATTERN),Math.max(qt.getMaxWidth(t[1],t[5]),qt.getMaxWidth(t[7],t[3])*ye.MODULES_IN_CODEWORD/ye.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(qt.getMinWidth(t[0],t[4]),qt.getMinWidth(t[6],t[2])*ye.MODULES_IN_CODEWORD/ye.MODULES_IN_STOP_PATTERN),Math.min(qt.getMinWidth(t[1],t[5]),qt.getMinWidth(t[7],t[3])*ye.MODULES_IN_CODEWORD/ye.MODULES_IN_STOP_PATTERN)))}reset(){}}class In extends v{}In.kind="ReaderException";class Ma{constructor(t,i){this.verbose=t===!0,i&&this.setHints(i)}decode(t,i){return i&&this.setHints(i),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const i=!c(t)&&t.get(ie.TRY_HARDER)===!0,o=c(t)?null:t.get(ie.POSSIBLE_FORMATS),a=new Array;if(!c(o)){const l=o.some(h=>h===ae.UPC_A||h===ae.UPC_E||h===ae.EAN_13||h===ae.EAN_8||h===ae.CODABAR||h===ae.CODE_39||h===ae.CODE_93||h===ae.CODE_128||h===ae.ITF||h===ae.RSS_14||h===ae.RSS_EXPANDED);l&&!i&&a.push(new Pi(t,this.verbose)),o.includes(ae.QR_CODE)&&a.push(new Qt),o.includes(ae.DATA_MATRIX)&&a.push(new ut),o.includes(ae.AZTEC)&&a.push(new Kr),o.includes(ae.PDF_417)&&a.push(new qt),l&&i&&a.push(new Pi(t,this.verbose))}a.length===0&&(i||a.push(new Pi(t,this.verbose)),a.push(new Qt),a.push(new ut),a.push(new Kr),a.push(new qt),i&&a.push(new Pi(t,this.verbose))),this.readers=a}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new In("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(t,this.hints)}catch(o){if(o instanceof In)continue}throw new J("No MultiFormat Readers were able to detect the code.")}}class Oa extends ht{constructor(t=null,i=500){const o=new Ma;o.setHints(t),super(o,i)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class Bi extends ht{constructor(t=500){super(new qt,t)}}class La extends ht{constructor(t=500){super(new Qt,t)}}var Is;(function(T){T[T.ERROR_CORRECTION=0]="ERROR_CORRECTION",T[T.CHARACTER_SET=1]="CHARACTER_SET",T[T.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",T[T.MIN_SIZE=3]="MIN_SIZE",T[T.MAX_SIZE=4]="MAX_SIZE",T[T.MARGIN=5]="MARGIN",T[T.PDF417_COMPACT=6]="PDF417_COMPACT",T[T.PDF417_COMPACTION=7]="PDF417_COMPACTION",T[T.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",T[T.AZTEC_LAYERS=9]="AZTEC_LAYERS",T[T.QR_VERSION=10]="QR_VERSION"})(Is||(Is={}));var kt=Is;class So{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new tn(t,Int32Array.from([1])))}buildGenerator(t){const i=this.cachedGenerators;if(t>=i.length){let o=i[i.length-1];const a=this.field;for(let l=i.length;l<=t;l++){const h=o.multiply(new tn(a,Int32Array.from([1,a.exp(l-1+a.getGeneratorBase())])));i.push(h),o=h}}return i[t]}encode(t,i){if(i===0)throw new O("No error correction bytes");const o=t.length-i;if(o<=0)throw new O("No data bytes provided");const a=this.buildGenerator(i),l=new Int32Array(o);U.arraycopy(t,0,l,0,o);let h=new tn(this.field,l);h=h.multiplyByMonomial(i,1);const m=h.divide(a)[1].getCoefficients(),x=i-m.length;for(let w=0;w<x;w++)t[o+w]=0;U.arraycopy(m,0,t,o+x,m.length)}}class Tt{constructor(){}static applyMaskPenaltyRule1(t){return Tt.applyMaskPenaltyRule1Internal(t,!0)+Tt.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let i=0;const o=t.getArray(),a=t.getWidth(),l=t.getHeight();for(let h=0;h<l-1;h++){const f=o[h];for(let m=0;m<a-1;m++){const x=f[m];x===f[m+1]&&x===o[h+1][m]&&x===o[h+1][m+1]&&i++}}return Tt.N2*i}static applyMaskPenaltyRule3(t){let i=0;const o=t.getArray(),a=t.getWidth(),l=t.getHeight();for(let h=0;h<l;h++)for(let f=0;f<a;f++){const m=o[h];f+6<a&&m[f]===1&&m[f+1]===0&&m[f+2]===1&&m[f+3]===1&&m[f+4]===1&&m[f+5]===0&&m[f+6]===1&&(Tt.isWhiteHorizontal(m,f-4,f)||Tt.isWhiteHorizontal(m,f+7,f+11))&&i++,h+6<l&&o[h][f]===1&&o[h+1][f]===0&&o[h+2][f]===1&&o[h+3][f]===1&&o[h+4][f]===1&&o[h+5][f]===0&&o[h+6][f]===1&&(Tt.isWhiteVertical(o,f,h-4,h)||Tt.isWhiteVertical(o,f,h+7,h+11))&&i++}return i*Tt.N3}static isWhiteHorizontal(t,i,o){i=Math.max(i,0),o=Math.min(o,t.length);for(let a=i;a<o;a++)if(t[a]===1)return!1;return!0}static isWhiteVertical(t,i,o,a){o=Math.max(o,0),a=Math.min(a,t.length);for(let l=o;l<a;l++)if(t[l][i]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let i=0;const o=t.getArray(),a=t.getWidth(),l=t.getHeight();for(let m=0;m<l;m++){const x=o[m];for(let w=0;w<a;w++)x[w]===1&&i++}const h=t.getHeight()*t.getWidth();return Math.floor(Math.abs(i*2-h)*10/h)*Tt.N4}static getDataMaskBit(t,i,o){let a,l;switch(t){case 0:a=o+i&1;break;case 1:a=o&1;break;case 2:a=i%3;break;case 3:a=(o+i)%3;break;case 4:a=Math.floor(o/2)+Math.floor(i/3)&1;break;case 5:l=o*i,a=(l&1)+l%3;break;case 6:l=o*i,a=(l&1)+l%3&1;break;case 7:l=o*i,a=l%3+(o+i&1)&1;break;default:throw new O("Invalid mask pattern: "+t)}return a===0}static applyMaskPenaltyRule1Internal(t,i){let o=0;const a=i?t.getHeight():t.getWidth(),l=i?t.getWidth():t.getHeight(),h=t.getArray();for(let f=0;f<a;f++){let m=0,x=-1;for(let w=0;w<l;w++){const I=i?h[f][w]:h[w][f];I===x?m++:(m>=5&&(o+=Tt.N1+(m-5)),m=1,x=I)}m>=5&&(o+=Tt.N1+(m-5))}return o}}Tt.N1=3,Tt.N2=3,Tt.N3=40,Tt.N4=10;class os{constructor(t,i){this.width=t,this.height=i;const o=new Array(i);for(let a=0;a!==i;a++)o[a]=new Uint8Array(t);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(t,i){return this.bytes[i][t]}getArray(){return this.bytes}setNumber(t,i,o){this.bytes[i][t]=o}setBoolean(t,i,o){this.bytes[i][t]=o?1:0}clear(t){for(const i of this.bytes)D.fill(i,t)}equals(t){if(!(t instanceof os))return!1;const i=t;if(this.width!==i.width||this.height!==i.height)return!1;for(let o=0,a=this.height;o<a;++o){const l=this.bytes[o],h=i.bytes[o];for(let f=0,m=this.width;f<m;++f)if(l[f]!==h[f])return!1}return!0}toString(){const t=new Ze;for(let i=0,o=this.height;i<o;++i){const a=this.bytes[i];for(let l=0,h=this.width;l<h;++l)switch(a[l]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class Ji{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Ze;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Ji.NUM_MASK_PATTERNS}}Ji.NUM_MASK_PATTERNS=8;class ft extends v{}ft.kind="WriterException";class Oe{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,i,o,a,l){Oe.clearMatrix(l),Oe.embedBasicPatterns(o,l),Oe.embedTypeInfo(i,a,l),Oe.maybeEmbedVersionInfo(o,l),Oe.embedDataBits(t,a,l)}static embedBasicPatterns(t,i){Oe.embedPositionDetectionPatternsAndSeparators(i),Oe.embedDarkDotAtLeftBottomCorner(i),Oe.maybeEmbedPositionAdjustmentPatterns(t,i),Oe.embedTimingPatterns(i)}static embedTypeInfo(t,i,o){const a=new q;Oe.makeTypeInfoBits(t,i,a);for(let l=0,h=a.getSize();l<h;++l){const f=a.get(a.getSize()-1-l),m=Oe.TYPE_INFO_COORDINATES[l],x=m[0],w=m[1];if(o.setBoolean(x,w,f),l<8){const I=o.getWidth()-l-1;o.setBoolean(I,8,f)}else{const N=o.getHeight()-7+(l-8);o.setBoolean(8,N,f)}}}static maybeEmbedVersionInfo(t,i){if(t.getVersionNumber()<7)return;const o=new q;Oe.makeVersionInfoBits(t,o);let a=6*3-1;for(let l=0;l<6;++l)for(let h=0;h<3;++h){const f=o.get(a);a--,i.setBoolean(l,i.getHeight()-11+h,f),i.setBoolean(i.getHeight()-11+h,l,f)}}static embedDataBits(t,i,o){let a=0,l=-1,h=o.getWidth()-1,f=o.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);f>=0&&f<o.getHeight();){for(let m=0;m<2;++m){const x=h-m;if(!Oe.isEmpty(o.get(x,f)))continue;let w;a<t.getSize()?(w=t.get(a),++a):w=!1,i!==255&&Tt.getDataMaskBit(i,x,f)&&(w=!w),o.setBoolean(x,f,w)}f+=l}l=-l,f+=l,h-=2}if(a!==t.getSize())throw new ft("Not all bits consumed: "+a+"/"+t.getSize())}static findMSBSet(t){return 32-P.numberOfLeadingZeros(t)}static calculateBCHCode(t,i){if(i===0)throw new O("0 polynomial");const o=Oe.findMSBSet(i);for(t<<=o-1;Oe.findMSBSet(t)>=o;)t^=i<<Oe.findMSBSet(t)-o;return t}static makeTypeInfoBits(t,i,o){if(!Ji.isValidMaskPattern(i))throw new ft("Invalid mask pattern");const a=t.getBits()<<3|i;o.appendBits(a,5);const l=Oe.calculateBCHCode(a,Oe.TYPE_INFO_POLY);o.appendBits(l,10);const h=new q;if(h.appendBits(Oe.TYPE_INFO_MASK_PATTERN,15),o.xor(h),o.getSize()!==15)throw new ft("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(t,i){i.appendBits(t.getVersionNumber(),6);const o=Oe.calculateBCHCode(t.getVersionNumber(),Oe.VERSION_INFO_POLY);if(i.appendBits(o,12),i.getSize()!==18)throw new ft("should not happen but we got: "+i.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let i=8;i<t.getWidth()-8;++i){const o=(i+1)%2;Oe.isEmpty(t.get(i,6))&&t.setNumber(i,6,o),Oe.isEmpty(t.get(6,i))&&t.setNumber(6,i,o)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new ft;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,i,o){for(let a=0;a<8;++a){if(!Oe.isEmpty(o.get(t+a,i)))throw new ft;o.setNumber(t+a,i,0)}}static embedVerticalSeparationPattern(t,i,o){for(let a=0;a<7;++a){if(!Oe.isEmpty(o.get(t,i+a)))throw new ft;o.setNumber(t,i+a,0)}}static embedPositionAdjustmentPattern(t,i,o){for(let a=0;a<5;++a){const l=Oe.POSITION_ADJUSTMENT_PATTERN[a];for(let h=0;h<5;++h)o.setNumber(t+h,i+a,l[h])}}static embedPositionDetectionPattern(t,i,o){for(let a=0;a<7;++a){const l=Oe.POSITION_DETECTION_PATTERN[a];for(let h=0;h<7;++h)o.setNumber(t+h,i+a,l[h])}}static embedPositionDetectionPatternsAndSeparators(t){const i=Oe.POSITION_DETECTION_PATTERN[0].length;Oe.embedPositionDetectionPattern(0,0,t),Oe.embedPositionDetectionPattern(t.getWidth()-i,0,t),Oe.embedPositionDetectionPattern(0,t.getWidth()-i,t);const o=8;Oe.embedHorizontalSeparationPattern(0,o-1,t),Oe.embedHorizontalSeparationPattern(t.getWidth()-o,o-1,t),Oe.embedHorizontalSeparationPattern(0,t.getWidth()-o,t);const a=7;Oe.embedVerticalSeparationPattern(a,0,t),Oe.embedVerticalSeparationPattern(t.getHeight()-a-1,0,t),Oe.embedVerticalSeparationPattern(a,t.getHeight()-a,t)}static maybeEmbedPositionAdjustmentPatterns(t,i){if(t.getVersionNumber()<2)return;const o=t.getVersionNumber()-1,a=Oe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let l=0,h=a.length;l!==h;l++){const f=a[l];if(f>=0)for(let m=0;m!==h;m++){const x=a[m];x>=0&&Oe.isEmpty(i.get(x,f))&&Oe.embedPositionAdjustmentPattern(x-2,f-2,i)}}}}Oe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Oe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Oe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Oe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Oe.VERSION_INFO_POLY=7973,Oe.TYPE_INFO_POLY=1335,Oe.TYPE_INFO_MASK_PATTERN=21522;class hu{constructor(t,i){this.dataBytes=t,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class xt{constructor(){}static calculateMaskPenalty(t){return Tt.applyMaskPenaltyRule1(t)+Tt.applyMaskPenaltyRule2(t)+Tt.applyMaskPenaltyRule3(t)+Tt.applyMaskPenaltyRule4(t)}static encode(t,i,o=null){let a=xt.DEFAULT_BYTE_MODE_ENCODING;const l=o!==null&&o.get(kt.CHARACTER_SET)!==void 0;l&&(a=o.get(kt.CHARACTER_SET).toString());const h=this.chooseMode(t,a),f=new q;if(h===Ne.BYTE&&(l||xt.DEFAULT_BYTE_MODE_ENCODING!==a)){const ce=$.getCharacterSetECIByName(a);ce!==void 0&&this.appendECI(ce,f)}this.appendModeInfo(h,f);const m=new q;this.appendBytes(t,h,m,a);let x;if(o!==null&&o.get(kt.QR_VERSION)!==void 0){const ce=Number.parseInt(o.get(kt.QR_VERSION).toString(),10);x=xe.getVersionForNumber(ce);const oe=this.calculateBitsNeeded(h,f,m,x);if(!this.willFit(oe,x,i))throw new ft("Data too big for requested version")}else x=this.recommendVersion(i,h,f,m);const w=new q;w.appendBitArray(f);const I=h===Ne.BYTE?m.getSizeInBytes():t.length;this.appendLengthInfo(I,x,h,w),w.appendBitArray(m);const N=x.getECBlocksForLevel(i),R=x.getTotalCodewords()-N.getTotalECCodewords();this.terminateBits(R,w);const F=this.interleaveWithECBytes(w,x.getTotalCodewords(),R,N.getNumBlocks()),z=new Ji;z.setECLevel(i),z.setMode(h),z.setVersion(x);const Z=x.getDimensionForVersion(),X=new os(Z,Z),ue=this.chooseMaskPattern(F,i,x,X);return z.setMaskPattern(ue),Oe.buildMatrix(F,i,x,ue,X),z.setMatrix(X),z}static recommendVersion(t,i,o,a){const l=this.calculateBitsNeeded(i,o,a,xe.getVersionForNumber(1)),h=this.chooseVersion(l,t),f=this.calculateBitsNeeded(i,o,a,h);return this.chooseVersion(f,t)}static calculateBitsNeeded(t,i,o,a){return i.getSize()+t.getCharacterCountBits(a)+o.getSize()}static getAlphanumericCode(t){return t<xt.ALPHANUMERIC_TABLE.length?xt.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,i=null){if($.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(t))return Ne.KANJI;let o=!1,a=!1;for(let l=0,h=t.length;l<h;++l){const f=t.charAt(l);if(xt.isDigit(f))o=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)a=!0;else return Ne.BYTE}return a?Ne.ALPHANUMERIC:o?Ne.NUMERIC:Ne.BYTE}static isOnlyDoubleByteKanji(t){let i;try{i=ze.encode(t,$.SJIS)}catch{return!1}const o=i.length;if(o%2!==0)return!1;for(let a=0;a<o;a+=2){const l=i[a]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(t,i,o,a){let l=Number.MAX_SAFE_INTEGER,h=-1;for(let f=0;f<Ji.NUM_MASK_PATTERNS;f++){Oe.buildMatrix(t,i,o,f,a);let m=this.calculateMaskPenalty(a);m<l&&(l=m,h=f)}return h}static chooseVersion(t,i){for(let o=1;o<=40;o++){const a=xe.getVersionForNumber(o);if(xt.willFit(t,a,i))return a}throw new ft("Data too big")}static willFit(t,i,o){const a=i.getTotalCodewords(),h=i.getECBlocksForLevel(o).getTotalECCodewords(),f=a-h,m=(t+7)/8;return f>=m}static terminateBits(t,i){const o=t*8;if(i.getSize()>o)throw new ft("data bits cannot fit in the QR Code"+i.getSize()+" > "+o);for(let h=0;h<4&&i.getSize()<o;++h)i.appendBit(!1);const a=i.getSize()&7;if(a>0)for(let h=a;h<8;h++)i.appendBit(!1);const l=t-i.getSizeInBytes();for(let h=0;h<l;++h)i.appendBits(h&1?17:236,8);if(i.getSize()!==o)throw new ft("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,i,o,a,l,h){if(a>=o)throw new ft("Block ID too large");const f=t%o,m=o-f,x=Math.floor(t/o),w=x+1,I=Math.floor(i/o),N=I+1,R=x-I,F=w-N;if(R!==F)throw new ft("EC bytes mismatch");if(o!==m+f)throw new ft("RS blocks mismatch");if(t!==(I+R)*m+(N+F)*f)throw new ft("Total bytes mismatch");a<m?(l[0]=I,h[0]=R):(l[0]=N,h[0]=F)}static interleaveWithECBytes(t,i,o,a){if(t.getSizeInBytes()!==o)throw new ft("Number of bits and data bytes does not match");let l=0,h=0,f=0;const m=new Array;for(let w=0;w<a;++w){const I=new Int32Array(1),N=new Int32Array(1);xt.getNumDataBytesAndNumECBytesForBlockID(i,o,a,w,I,N);const R=I[0],F=new Uint8Array(R);t.toBytes(8*l,F,0,R);const z=xt.generateECBytes(F,N[0]);m.push(new hu(F,z)),h=Math.max(h,R),f=Math.max(f,z.length),l+=I[0]}if(o!==l)throw new ft("Data bytes does not match offset");const x=new q;for(let w=0;w<h;++w)for(const I of m){const N=I.getDataBytes();w<N.length&&x.appendBits(N[w],8)}for(let w=0;w<f;++w)for(const I of m){const N=I.getErrorCorrectionBytes();w<N.length&&x.appendBits(N[w],8)}if(i!==x.getSizeInBytes())throw new ft("Interleaving error: "+i+" and "+x.getSizeInBytes()+" differ.");return x}static generateECBytes(t,i){const o=t.length,a=new Int32Array(o+i);for(let h=0;h<o;h++)a[h]=t[h]&255;new So(Je.QR_CODE_FIELD_256).encode(a,i);const l=new Uint8Array(i);for(let h=0;h<i;h++)l[h]=a[o+h];return l}static appendModeInfo(t,i){i.appendBits(t.getBits(),4)}static appendLengthInfo(t,i,o,a){const l=o.getCharacterCountBits(i);if(t>=1<<l)throw new ft(t+" is bigger than "+((1<<l)-1));a.appendBits(t,l)}static appendBytes(t,i,o,a){switch(i){case Ne.NUMERIC:xt.appendNumericBytes(t,o);break;case Ne.ALPHANUMERIC:xt.appendAlphanumericBytes(t,o);break;case Ne.BYTE:xt.append8BitBytes(t,o,a);break;case Ne.KANJI:xt.appendKanjiBytes(t,o);break;default:throw new ft("Invalid mode: "+i)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const i=xt.getDigit(t);return i>=0&&i<=9}static appendNumericBytes(t,i){const o=t.length;let a=0;for(;a<o;){const l=xt.getDigit(t.charAt(a));if(a+2<o){const h=xt.getDigit(t.charAt(a+1)),f=xt.getDigit(t.charAt(a+2));i.appendBits(l*100+h*10+f,10),a+=3}else if(a+1<o){const h=xt.getDigit(t.charAt(a+1));i.appendBits(l*10+h,7),a+=2}else i.appendBits(l,4),a++}}static appendAlphanumericBytes(t,i){const o=t.length;let a=0;for(;a<o;){const l=xt.getAlphanumericCode(t.charCodeAt(a));if(l===-1)throw new ft;if(a+1<o){const h=xt.getAlphanumericCode(t.charCodeAt(a+1));if(h===-1)throw new ft;i.appendBits(l*45+h,11),a+=2}else i.appendBits(l,6),a++}}static append8BitBytes(t,i,o){let a;try{a=ze.encode(t,o)}catch(l){throw new ft(l)}for(let l=0,h=a.length;l!==h;l++){const f=a[l];i.appendBits(f,8)}}static appendKanjiBytes(t,i){let o;try{o=ze.encode(t,$.SJIS)}catch(l){throw new ft(l)}const a=o.length;for(let l=0;l<a;l+=2){const h=o[l]&255,f=o[l+1]&255,m=h<<8&4294967295|f;let x=-1;if(m>=33088&&m<=40956?x=m-33088:m>=57408&&m<=60351&&(x=m-49472),x===-1)throw new ft("Invalid byte sequence");const w=(x>>8)*192+(x&255);i.appendBits(w,13)}}static appendECI(t,i){i.appendBits(Ne.ECI.getBits(),4),i.appendBits(t.getValue(),8)}}xt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),xt.DEFAULT_BYTE_MODE_ENCODING=$.UTF8.getName();class Fi{write(t,i,o,a=null){if(t.length===0)throw new O("Found empty contents");if(i<0||o<0)throw new O("Requested dimensions are too small: "+i+"x"+o);let l=We.L,h=Fi.QUIET_ZONE_SIZE;a!==null&&(a.get(kt.ERROR_CORRECTION)!==void 0&&(l=We.fromString(a.get(kt.ERROR_CORRECTION).toString())),a.get(kt.MARGIN)!==void 0&&(h=Number.parseInt(a.get(kt.MARGIN).toString(),10)));const f=xt.encode(t,l,a);return this.renderResult(f,i,o,h)}writeToDom(t,i,o,a,l=null){typeof t=="string"&&(t=document.querySelector(t));const h=this.write(i,o,a,l);t&&t.appendChild(h)}renderResult(t,i,o,a){const l=t.getMatrix();if(l===null)throw new Hn;const h=l.getWidth(),f=l.getHeight(),m=h+a*2,x=f+a*2,w=Math.max(i,m),I=Math.max(o,x),N=Math.min(Math.floor(w/m),Math.floor(I/x)),R=Math.floor((w-h*N)/2),F=Math.floor((I-f*N)/2),z=this.createSVGElement(w,I);for(let Z=0,X=F;Z<f;Z++,X+=N)for(let ue=0,ce=R;ue<h;ue++,ce+=N)if(l.get(ue,Z)===1){const oe=this.createSvgRectElement(ce,X,N,N);z.appendChild(oe)}return z}createSVGElement(t,i){const o=document.createElementNS(Fi.SVG_NS,"svg");return o.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width",i.toString()),o}createSvgRectElement(t,i,o,a){const l=document.createElementNS(Fi.SVG_NS,"rect");return l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",i.toString()),l.setAttributeNS(null,"height",o.toString()),l.setAttributeNS(null,"width",a.toString()),l.setAttributeNS(null,"fill","#000000"),l}}Fi.QUIET_ZONE_SIZE=4,Fi.SVG_NS="http://www.w3.org/2000/svg";class Ei{encode(t,i,o,a,l){if(t.length===0)throw new O("Found empty contents");if(i!==ae.QR_CODE)throw new O("Can only encode QR_CODE, but got "+i);if(o<0||a<0)throw new O(`Requested dimensions are too small: ${o}x${a}`);let h=We.L,f=Ei.QUIET_ZONE_SIZE;l!==null&&(l.get(kt.ERROR_CORRECTION)!==void 0&&(h=We.fromString(l.get(kt.ERROR_CORRECTION).toString())),l.get(kt.MARGIN)!==void 0&&(f=Number.parseInt(l.get(kt.MARGIN).toString(),10)));const m=xt.encode(t,h,l);return Ei.renderResult(m,o,a,f)}static renderResult(t,i,o,a){const l=t.getMatrix();if(l===null)throw new Hn;const h=l.getWidth(),f=l.getHeight(),m=h+a*2,x=f+a*2,w=Math.max(i,m),I=Math.max(o,x),N=Math.min(Math.floor(w/m),Math.floor(I/x)),R=Math.floor((w-h*N)/2),F=Math.floor((I-f*N)/2),z=new tt(w,I);for(let Z=0,X=F;Z<f;Z++,X+=N)for(let ue=0,ce=R;ue<h;ue++,ce+=N)l.get(ue,Z)===1&&z.setRegion(ce,X,N,N);return z}}Ei.QUIET_ZONE_SIZE=4;class $i{encode(t,i,o,a,l){let h;switch(i){case ae.QR_CODE:h=new Ei;break;default:throw new O("No encoder available for format "+i)}return h.encode(t,i,o,a,l)}}class si extends te{constructor(t,i,o,a,l,h,f,m){if(super(h,f),this.yuvData=t,this.dataWidth=i,this.dataHeight=o,this.left=a,this.top=l,a+h>i||l+f>o)throw new O("Crop rectangle does not fit within image data.");m&&this.reverseHorizontal(h,f)}getRow(t,i){if(t<0||t>=this.getHeight())throw new O("Requested row is outside the image: "+t);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const a=(t+this.top)*this.dataWidth+this.left;return U.arraycopy(this.yuvData,a,i,0,o),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.yuvData;const o=t*i,a=new Uint8ClampedArray(o);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return U.arraycopy(this.yuvData,l,a,0,o),a;for(let h=0;h<i;h++){const f=h*t;U.arraycopy(this.yuvData,l,a,f,t),l+=this.dataWidth}return a}isCropSupported(){return!0}crop(t,i,o,a){return new si(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+i,o,a,!1)}renderThumbnail(){const t=this.getWidth()/si.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/si.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(t*i),a=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let h=0;h<i;h++){const f=h*t;for(let m=0;m<t;m++){const x=a[l+m*si.THUMBNAIL_SCALE_FACTOR]&255;o[f+m]=4278190080|x*65793}l+=this.dataWidth*si.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/si.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/si.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,i){const o=this.yuvData;for(let a=0,l=this.top*this.dataWidth+this.left;a<i;a++,l+=this.dataWidth){const h=l+t/2;for(let f=l,m=l+t-1;f<h;f++,m--){const x=o[f];o[f]=o[m],o[m]=x}}}invert(){return new Me(this)}}si.THUMBNAIL_SCALE_FACTOR=2;class er extends te{constructor(t,i,o,a,l,h,f){if(super(i,o),this.dataWidth=a,this.dataHeight=l,this.left=h,this.top=f,t.BYTES_PER_ELEMENT===4){const m=i*o,x=new Uint8ClampedArray(m);for(let w=0;w<m;w++){const I=t[w],N=I>>16&255,R=I>>7&510,F=I&255;x[w]=(N+R+F)/4&255}this.luminances=x}else this.luminances=t;if(a===void 0&&(this.dataWidth=i),l===void 0&&(this.dataHeight=o),h===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+o>this.dataHeight)throw new O("Crop rectangle does not fit within image data.")}getRow(t,i){if(t<0||t>=this.getHeight())throw new O("Requested row is outside the image: "+t);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const a=(t+this.top)*this.dataWidth+this.left;return U.arraycopy(this.luminances,a,i,0,o),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.luminances;const o=t*i,a=new Uint8ClampedArray(o);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return U.arraycopy(this.luminances,l,a,0,o),a;for(let h=0;h<i;h++){const f=h*t;U.arraycopy(this.luminances,l,a,f,t),l+=this.dataWidth}return a}isCropSupported(){return!0}crop(t,i,o,a){return new er(this.luminances,o,a,this.dataWidth,this.dataHeight,this.left+t,this.top+i)}invert(){return new Me(this)}}class Nn extends ${static forName(t){return this.getCharacterSetECIByName(t)}}class Ns{}Ns.ISO_8859_1=$.ISO8859_1;class To{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class ka{static singletonList(t){return[t]}static min(t,i){return t.sort(i)[0]}}class Io{constructor(t){this.previous=t}getPrevious(){return this.previous}}class ji extends Io{constructor(t,i,o){super(t),this.value=i,this.bitCount=o}appendTo(t,i){t.appendBits(this.value,this.bitCount)}add(t,i){return new ji(this,t,i)}addBinaryShift(t,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ji(this,t,i)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+P.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class No extends ji{constructor(t,i,o){super(t,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=o}appendTo(t,i){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):o===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(i[this.binaryShiftStart+o],8)}addBinaryShift(t,i){return new No(this,t,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function du(T,t,i){return new No(T,t,i)}function vr(T,t,i){return new ji(T,t,i)}const fu=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Wt=0,Ai=1,Dn=2,oi=3,ai=4,Cr=new ji(null,0,0),bo=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function as(T){for(let t of T)D.fill(t,-1);return T[Wt][ai]=0,T[Ai][ai]=0,T[Ai][Wt]=28,T[oi][ai]=0,T[Dn][ai]=0,T[Dn][Wt]=15,T}const Mo=as(D.createInt32Array(6,6));class bn{constructor(t,i,o,a){this.token=t,this.mode=i,this.binaryShiftByteCount=o,this.bitCount=a}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,i){let o=this.bitCount,a=this.token;if(t!==this.mode){let h=bo[this.mode][t];a=vr(a,h&65535,h>>16),o+=h>>16}let l=t===Dn?4:5;return a=vr(a,i,l),new bn(a,t,0,o+l)}shiftAndAppend(t,i){let o=this.token,a=this.mode===Dn?4:5;return o=vr(o,Mo[this.mode][t],a),o=vr(o,i,5),new bn(o,this.mode,0,this.bitCount+a+5)}addBinaryShiftChar(t){let i=this.token,o=this.mode,a=this.bitCount;if(this.mode===ai||this.mode===Dn){let f=bo[o][Wt];i=vr(i,f&65535,f>>16),a+=f>>16,o=Wt}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new bn(i,o,this.binaryShiftByteCount+1,a+l);return h.binaryShiftByteCount===2078&&(h=h.endBinaryShift(t+1)),h}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=du(i,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new bn(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let i=this.bitCount+(bo[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?i+=bn.calculateBinaryShiftCost(t)-bn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(i+=10),i<=t.bitCount}toBitArray(t){let i=[];for(let a=this.endBinaryShift(t.length).token;a!==null;a=a.getPrevious())i.unshift(a);let o=new q;for(const a of i)a.appendTo(o,t);return o}toString(){return Ce.format("%s bits=%d bytes=%d",fu[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}bn.INITIAL_STATE=new bn(Cr,Wt,0,0);function gu(T){const t=Ce.getCharCode(" "),i=Ce.getCharCode("."),o=Ce.getCharCode(",");T[Wt][t]=1;const a=Ce.getCharCode("Z"),l=Ce.getCharCode("A");for(let N=l;N<=a;N++)T[Wt][N]=N-l+2;T[Ai][t]=1;const h=Ce.getCharCode("z"),f=Ce.getCharCode("a");for(let N=f;N<=h;N++)T[Ai][N]=N-f+2;T[Dn][t]=1;const m=Ce.getCharCode("9"),x=Ce.getCharCode("0");for(let N=x;N<=m;N++)T[Dn][N]=N-x+2;T[Dn][o]=12,T[Dn][i]=13;const w=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let N=0;N<w.length;N++)T[oi][Ce.getCharCode(w[N])]=N;const I=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let N=0;N<I.length;N++)Ce.getCharCode(I[N])>0&&(T[ai][Ce.getCharCode(I[N])]=N);return T}const li=gu(D.createInt32Array(5,256));class zi{constructor(t){this.text=t}encode(){const t=Ce.getCharCode(" "),i=Ce.getCharCode(`
`);let o=ka.singletonList(bn.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let h,f=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case Ce.getCharCode("\r"):h=f===i?2:0;break;case Ce.getCharCode("."):h=f===t?3:0;break;case Ce.getCharCode(","):h=f===t?4:0;break;case Ce.getCharCode(":"):h=f===t?5:0;break;default:h=0}h>0?(o=zi.updateStateListForPair(o,l,h),l++):o=this.updateStateListForChar(o,l)}return ka.min(o,(l,h)=>l.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,i){const o=[];for(let a of t)this.updateStateForChar(a,i,o);return zi.simplifyStates(o)}updateStateForChar(t,i,o){let a=this.text[i]&255,l=li[t.getMode()][a]>0,h=null;for(let f=0;f<=ai;f++){let m=li[f][a];if(m>0){if(h==null&&(h=t.endBinaryShift(i)),!l||f===t.getMode()||f===Dn){const x=h.latchAndAppend(f,m);o.push(x)}if(!l&&Mo[t.getMode()][f]>=0){const x=h.shiftAndAppend(f,m);o.push(x)}}}if(t.getBinaryShiftByteCount()>0||li[t.getMode()][a]===0){let f=t.addBinaryShiftChar(i);o.push(f)}}static updateStateListForPair(t,i,o){const a=[];for(let l of t)this.updateStateForPair(l,i,o,a);return this.simplifyStates(a)}static updateStateForPair(t,i,o,a){let l=t.endBinaryShift(i);if(a.push(l.latchAndAppend(ai,o)),t.getMode()!==ai&&a.push(l.shiftAndAppend(ai,o)),o===3||o===4){let h=l.latchAndAppend(Dn,16-o).latchAndAppend(Dn,1);a.push(h)}if(t.getBinaryShiftByteCount()>0){let h=t.addBinaryShiftChar(i).addBinaryShiftChar(i+1);a.push(h)}}static simplifyStates(t){let i=[];for(const o of t){let a=!0;for(const l of i){if(l.isBetterThanOrEqualTo(o)){a=!1;break}o.isBetterThanOrEqualTo(l)&&(i=i.filter(h=>h!==l))}a&&i.push(o)}return i}}class et{constructor(){}static encodeBytes(t){return et.encode(t,et.DEFAULT_EC_PERCENT,et.DEFAULT_AZTEC_LAYERS)}static encode(t,i,o){let a=new zi(t).encode(),l=P.truncDivision(a.getSize()*i,100)+11,h=a.getSize()+l,f,m,x,w,I;if(o!==et.DEFAULT_AZTEC_LAYERS){if(f=o<0,m=Math.abs(o),m>(f?et.MAX_NB_BITS_COMPACT:et.MAX_NB_BITS))throw new O(Ce.format("Illegal value %s for layers",o));x=et.totalBitsInLayer(m,f),w=et.WORD_SIZE[m];let oe=x-x%w;if(I=et.stuffBits(a,w),I.getSize()+l>oe)throw new O("Data to large for user specified layer");if(f&&I.getSize()>w*64)throw new O("Data to large for user specified layer")}else{w=0,I=null;for(let oe=0;;oe++){if(oe>et.MAX_NB_BITS)throw new O("Data too large for an Aztec code");if(f=oe<=3,m=f?oe+1:oe,x=et.totalBitsInLayer(m,f),h>x)continue;(I==null||w!==et.WORD_SIZE[m])&&(w=et.WORD_SIZE[m],I=et.stuffBits(a,w));let Ge=x-x%w;if(!(f&&I.getSize()>w*64)&&I.getSize()+l<=Ge)break}}let N=et.generateCheckWords(I,x,w),R=I.getSize()/w,F=et.generateModeMessage(f,m,R),z=(f?11:14)+m*4,Z=new Int32Array(z),X;if(f){X=z;for(let oe=0;oe<Z.length;oe++)Z[oe]=oe}else{X=z+1+2*P.truncDivision(P.truncDivision(z,2)-1,15);let oe=P.truncDivision(z,2),Ge=P.truncDivision(X,2);for(let je=0;je<oe;je++){let It=je+P.truncDivision(je,15);Z[oe-je-1]=Ge-It-1,Z[oe+je]=Ge+It+1}}let ue=new tt(X);for(let oe=0,Ge=0;oe<m;oe++){let je=(m-oe)*4+(f?9:12);for(let It=0;It<je;It++){let xn=It*2;for(let yn=0;yn<2;yn++)N.get(Ge+xn+yn)&&ue.set(Z[oe*2+yn],Z[oe*2+It]),N.get(Ge+je*2+xn+yn)&&ue.set(Z[oe*2+It],Z[z-1-oe*2-yn]),N.get(Ge+je*4+xn+yn)&&ue.set(Z[z-1-oe*2-yn],Z[z-1-oe*2-It]),N.get(Ge+je*6+xn+yn)&&ue.set(Z[z-1-oe*2-It],Z[oe*2+yn])}Ge+=je*8}if(et.drawModeMessage(ue,f,X,F),f)et.drawBullsEye(ue,P.truncDivision(X,2),5);else{et.drawBullsEye(ue,P.truncDivision(X,2),7);for(let oe=0,Ge=0;oe<P.truncDivision(z,2)-1;oe+=15,Ge+=16)for(let je=P.truncDivision(X,2)&1;je<X;je+=2)ue.set(P.truncDivision(X,2)-Ge,je),ue.set(P.truncDivision(X,2)+Ge,je),ue.set(je,P.truncDivision(X,2)-Ge),ue.set(je,P.truncDivision(X,2)+Ge)}let ce=new To;return ce.setCompact(f),ce.setSize(X),ce.setLayers(m),ce.setCodeWords(R),ce.setMatrix(ue),ce}static drawBullsEye(t,i,o){for(let a=0;a<o;a+=2)for(let l=i-a;l<=i+a;l++)t.set(l,i-a),t.set(l,i+a),t.set(i-a,l),t.set(i+a,l);t.set(i-o,i-o),t.set(i-o+1,i-o),t.set(i-o,i-o+1),t.set(i+o,i-o),t.set(i+o,i-o+1),t.set(i+o,i+o-1)}static generateModeMessage(t,i,o){let a=new q;return t?(a.appendBits(i-1,2),a.appendBits(o-1,6),a=et.generateCheckWords(a,28,4)):(a.appendBits(i-1,5),a.appendBits(o-1,11),a=et.generateCheckWords(a,40,4)),a}static drawModeMessage(t,i,o,a){let l=P.truncDivision(o,2);if(i)for(let h=0;h<7;h++){let f=l-3+h;a.get(h)&&t.set(f,l-5),a.get(h+7)&&t.set(l+5,f),a.get(20-h)&&t.set(f,l+5),a.get(27-h)&&t.set(l-5,f)}else for(let h=0;h<10;h++){let f=l-5+h+P.truncDivision(h,5);a.get(h)&&t.set(f,l-7),a.get(h+10)&&t.set(l+7,f),a.get(29-h)&&t.set(f,l+7),a.get(39-h)&&t.set(l-7,f)}}static generateCheckWords(t,i,o){let a=t.getSize()/o,l=new So(et.getGF(o)),h=P.truncDivision(i,o),f=et.bitsToWords(t,o,h);l.encode(f,h-a);let m=i%o,x=new q;x.appendBits(0,m);for(const w of Array.from(f))x.appendBits(w,o);return x}static bitsToWords(t,i,o){let a=new Int32Array(o),l,h;for(l=0,h=t.getSize()/i;l<h;l++){let f=0;for(let m=0;m<i;m++)f|=t.get(l*i+m)?1<<i-m-1:0;a[l]=f}return a}static getGF(t){switch(t){case 4:return Je.AZTEC_PARAM;case 6:return Je.AZTEC_DATA_6;case 8:return Je.AZTEC_DATA_8;case 10:return Je.AZTEC_DATA_10;case 12:return Je.AZTEC_DATA_12;default:throw new O("Unsupported word size "+t)}}static stuffBits(t,i){let o=new q,a=t.getSize(),l=(1<<i)-2;for(let h=0;h<a;h+=i){let f=0;for(let m=0;m<i;m++)(h+m>=a||t.get(h+m))&&(f|=1<<i-1-m);(f&l)===l?(o.appendBits(f&l,i),h--):f&l?o.appendBits(f,i):(o.appendBits(f|1,i),h--)}return o}static totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}et.DEFAULT_EC_PERCENT=33,et.DEFAULT_AZTEC_LAYERS=0,et.MAX_NB_BITS=32,et.MAX_NB_BITS_COMPACT=4,et.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Er{encode(t,i,o,a){return this.encodeWithHints(t,i,o,a,null)}encodeWithHints(t,i,o,a,l){let h=Ns.ISO_8859_1,f=et.DEFAULT_EC_PERCENT,m=et.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(kt.CHARACTER_SET)&&(h=Nn.forName(l.get(kt.CHARACTER_SET).toString())),l.has(kt.ERROR_CORRECTION)&&(f=P.parseInt(l.get(kt.ERROR_CORRECTION).toString())),l.has(kt.AZTEC_LAYERS)&&(m=P.parseInt(l.get(kt.AZTEC_LAYERS).toString()))),Er.encodeLayers(t,i,o,a,h,f,m)}static encodeLayers(t,i,o,a,l,h,f){if(i!==ae.AZTEC)throw new O("Can only encode AZTEC, but got "+i);let m=et.encode(Ce.getBytes(t,l),h,f);return Er.renderResult(m,o,a)}static renderResult(t,i,o){let a=t.getMatrix();if(a==null)throw new Hn;let l=a.getWidth(),h=a.getHeight(),f=Math.max(i,l),m=Math.max(o,h),x=Math.min(f/l,m/h),w=(f-l*x)/2,I=(m-h*x)/2,N=new tt(f,m);for(let R=0,F=I;R<h;R++,F+=x)for(let z=0,Z=w;z<l;z++,Z+=x)a.get(z,R)&&N.setRegion(Z,F,x,x);return N}}s.AbstractExpandedDecoder=Cs,s.ArgumentException=k,s.ArithmeticException=ki,s.AztecCode=To,s.AztecCodeReader=Kr,s.AztecCodeWriter=Er,s.AztecDecoder=lt,s.AztecDetector=fo,s.AztecDetectorResult=uo,s.AztecEncoder=et,s.AztecHighLevelEncoder=zi,s.AztecPoint=dn,s.BarcodeFormat=ae,s.Binarizer=ee,s.BinaryBitmap=H,s.BitArray=q,s.BitMatrix=tt,s.BitSource=xr,s.BrowserAztecCodeReader=su,s.BrowserBarcodeReader=es,s.BrowserCodeReader=ht,s.BrowserDatamatrixCodeReader=wo,s.BrowserMultiFormatReader=Oa,s.BrowserPDF417Reader=Bi,s.BrowserQRCodeReader=La,s.BrowserQRCodeSvgWriter=Fi,s.CharacterSetECI=$,s.ChecksumException=Y,s.Code128Reader=fe,s.Code39Reader=Ft,s.DataMatrixDecodedBitStreamParser=Tn,s.DataMatrixReader=ut,s.DecodeHintType=ie,s.DecoderResult=rt,s.DefaultGridSampler=ho,s.DetectorResult=Qr,s.EAN13Reader=Ri,s.EncodeHintType=kt,s.Exception=v,s.FormatException=V,s.GenericGF=Je,s.GenericGFPoly=tn,s.GlobalHistogramBinarizer=Ye,s.GridSampler=co,s.GridSamplerInstance=yi,s.HTMLCanvasElementLuminanceSource=le,s.HybridBinarizer=Le,s.ITFReader=dt,s.IllegalArgumentException=O,s.IllegalStateException=Hn,s.InvertedLuminanceSource=Me,s.LuminanceSource=te,s.MathUtils=$e,s.MultiFormatOneDReader=Pi,s.MultiFormatReader=Ma,s.MultiFormatWriter=$i,s.NotFoundException=J,s.OneDReader=Lt,s.PDF417DecodedBitStreamParser=Q,s.PDF417DecoderErrorCorrection=As,s.PDF417Reader=qt,s.PDF417ResultMetadata=Ao,s.PerspectiveTransform=An,s.PlanarYUVLuminanceSource=si,s.QRCodeByteMatrix=os,s.QRCodeDataMask=an,s.QRCodeDecodedBitStreamParser=_t,s.QRCodeDecoderErrorCorrectionLevel=We,s.QRCodeDecoderFormatInformation=on,s.QRCodeEncoder=xt,s.QRCodeEncoderQRCode=Ji,s.QRCodeMaskUtil=Tt,s.QRCodeMatrixUtil=Oe,s.QRCodeMode=Ne,s.QRCodeReader=Qt,s.QRCodeVersion=xe,s.QRCodeWriter=Ei,s.RGBLuminanceSource=er,s.RSS14Reader=Mt,s.RSSExpandedReader=re,s.ReaderException=In,s.ReedSolomonDecoder=gr,s.ReedSolomonEncoder=So,s.ReedSolomonException=fr,s.Result=Be,s.ResultMetadataType=_e,s.ResultPoint=Se,s.StringUtils=Ce,s.UnsupportedOperationException=be,s.VideoInputDevice=Re,s.WhiteRectangleDetector=xi,s.WriterException=ft,s.ZXingArrays=D,s.ZXingCharset=Nn,s.ZXingInteger=P,s.ZXingStandardCharsets=Ns,s.ZXingStringBuilder=Ze,s.ZXingStringEncoding=ze,s.ZXingSystem=U,s.createAbstractExpandedDecoder=$r,Object.defineProperty(s,"__esModule",{value:!0})})})(Zc,Zc.exports);var Rt=Zc.exports;const Hx=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var Af=function(){function e(n,s,c){if(this.formatMap=new Map([[Ee.QR_CODE,Rt.BarcodeFormat.QR_CODE],[Ee.AZTEC,Rt.BarcodeFormat.AZTEC],[Ee.CODABAR,Rt.BarcodeFormat.CODABAR],[Ee.CODE_39,Rt.BarcodeFormat.CODE_39],[Ee.CODE_93,Rt.BarcodeFormat.CODE_93],[Ee.CODE_128,Rt.BarcodeFormat.CODE_128],[Ee.DATA_MATRIX,Rt.BarcodeFormat.DATA_MATRIX],[Ee.MAXICODE,Rt.BarcodeFormat.MAXICODE],[Ee.ITF,Rt.BarcodeFormat.ITF],[Ee.EAN_13,Rt.BarcodeFormat.EAN_13],[Ee.EAN_8,Rt.BarcodeFormat.EAN_8],[Ee.PDF_417,Rt.BarcodeFormat.PDF_417],[Ee.RSS_14,Rt.BarcodeFormat.RSS_14],[Ee.RSS_EXPANDED,Rt.BarcodeFormat.RSS_EXPANDED],[Ee.UPC_A,Rt.BarcodeFormat.UPC_A],[Ee.UPC_E,Rt.BarcodeFormat.UPC_E],[Ee.UPC_EAN_EXTENSION,Rt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Hx)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=s,this.logger=c;var d=this.createZXingFormats(n),g=new Map;g.set(Rt.DecodeHintType.POSSIBLE_FORMATS,d),g.set(Rt.DecodeHintType.TRY_HARDER,!1),this.hints=g}return e.prototype.decodeAsync=function(n){var s=this;return new Promise(function(c,d){try{c(s.decode(n))}catch(g){d(g)}})},e.prototype.decode=function(n){var s=new Rt.MultiFormatReader(this.verbose,this.hints),c=new Rt.HTMLCanvasElementLuminanceSource(n),d=new Rt.BinaryBitmap(new Rt.HybridBinarizer(c)),g=s.decode(d);return{text:g.text,format:sg.create(this.toHtml5QrcodeSupportedFormats(g.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(s,c,d){n.set(s,c)}),n},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createZXingFormats=function(n){for(var s=[],c=0,d=n;c<d.length;c++){var g=d[c];this.formatMap.has(g)?s.push(this.formatMap.get(g)):this.logger.logError("".concat(g," is not supported by")+"ZXingHtml5QrcodeShim")}return s},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Vx=function(e,n,s,c){function d(g){return g instanceof s?g:new s(function(_){_(g)})}return new(s||(s=Promise))(function(g,_){function A(k){try{v(c.next(k))}catch(O){_(O)}}function S(k){try{v(c.throw(k))}catch(O){_(O)}}function v(k){k.done?g(k.value):d(k.value).then(A,S)}v((c=c.apply(e,n||[])).next())})},Zx=function(e,n){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,d,g,_;return _={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function A(v){return function(k){return S([v,k])}}function S(v){if(c)throw new TypeError("Generator is already executing.");for(;_&&(_=0,v[0]&&(s=0)),s;)try{if(c=1,d&&(g=v[0]&2?d.return:v[0]?d.throw||((g=d.return)&&g.call(d),0):d.next)&&!(g=g.call(d,v[1])).done)return g;switch(d=0,g&&(v=[v[0]&2,g.value]),v[0]){case 0:case 1:g=v;break;case 4:return s.label++,{value:v[1],done:!1};case 5:s.label++,d=v[1],v=[0];continue;case 7:v=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(v[0]===6||v[0]===2)){s=0;continue}if(v[0]===3&&(!g||v[1]>g[0]&&v[1]<g[3])){s.label=v[1];break}if(v[0]===6&&s.label<g[1]){s.label=g[1],g=v;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(v);break}g[2]&&s.ops.pop(),s.trys.pop();continue}v=n.call(e,s)}catch(k){v=[6,k],d=0}finally{c=g=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Sf=function(){function e(n,s,c){if(this.formatMap=new Map([[Ee.QR_CODE,"qr_code"],[Ee.AZTEC,"aztec"],[Ee.CODABAR,"codabar"],[Ee.CODE_39,"code_39"],[Ee.CODE_93,"code_93"],[Ee.CODE_128,"code_128"],[Ee.DATA_MATRIX,"data_matrix"],[Ee.ITF,"itf"],[Ee.EAN_13,"ean_13"],[Ee.EAN_8,"ean_8"],[Ee.PDF_417,"pdf417"],[Ee.UPC_A,"upc_a"],[Ee.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=s,this.logger=c;var d=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(d),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var n=new BarcodeDetector({formats:["qr_code"]});return typeof n<"u"},e.prototype.decodeAsync=function(n){return Vx(this,void 0,void 0,function(){var s,c;return Zx(this,function(d){switch(d.label){case 0:return[4,this.detector.detect(n)];case 1:if(s=d.sent(),!s||s.length===0)throw"No barcode or QR code detected.";return c=this.selectLargestBarcode(s),[2,{text:c.rawValue,format:sg.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(n){for(var s=null,c=0,d=0,g=n;d<g.length;d++){var _=g[d],A=_.boundingBox.width*_.boundingBox.height;A>c&&(c=A,s=_)}if(!s)throw"No largest barcode found";return s},e.prototype.createBarcodeDetectorFormats=function(n){for(var s=[],c=0,d=n;c<d.length;c++){var g=d[c];this.formatMap.has(g)?s.push(this.formatMap.get(g)):this.logger.warn("".concat(g," is not supported by")+"BarcodeDetectorDelegate")}return{formats:s}},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(s,c,d){n.set(s,c)}),n},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Tf=function(e,n,s,c){function d(g){return g instanceof s?g:new s(function(_){_(g)})}return new(s||(s=Promise))(function(g,_){function A(k){try{v(c.next(k))}catch(O){_(O)}}function S(k){try{v(c.throw(k))}catch(O){_(O)}}function v(k){k.done?g(k.value):d(k.value).then(A,S)}v((c=c.apply(e,n||[])).next())})},If=function(e,n){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,d,g,_;return _={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function A(v){return function(k){return S([v,k])}}function S(v){if(c)throw new TypeError("Generator is already executing.");for(;_&&(_=0,v[0]&&(s=0)),s;)try{if(c=1,d&&(g=v[0]&2?d.return:v[0]?d.throw||((g=d.return)&&g.call(d),0):d.next)&&!(g=g.call(d,v[1])).done)return g;switch(d=0,g&&(v=[v[0]&2,g.value]),v[0]){case 0:case 1:g=v;break;case 4:return s.label++,{value:v[1],done:!1};case 5:s.label++,d=v[1],v=[0];continue;case 7:v=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(v[0]===6||v[0]===2)){s=0;continue}if(v[0]===3&&(!g||v[1]>g[0]&&v[1]<g[3])){s.label=v[1];break}if(v[0]===6&&s.label<g[1]){s.label=g[1],g=v;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(v);break}g[2]&&s.ops.pop(),s.trys.pop();continue}v=n.call(e,s)}catch(k){v=[6,k],d=0}finally{c=g=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Wx=function(){function e(n,s,c,d){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=c,s&&Sf.isSupported()?(this.primaryDecoder=new Sf(n,c,d),this.secondaryDecoder=new Af(n,c,d)):this.primaryDecoder=new Af(n,c,d)}return e.prototype.decodeAsync=function(n){return Tf(this,void 0,void 0,function(){var s;return If(this,function(c){switch(c.label){case 0:s=performance.now(),c.label=1;case 1:return c.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,c.sent()];case 3:return this.possiblyLogPerformance(s),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(n){return Tf(this,void 0,void 0,function(){var s,c;return If(this,function(d){switch(d.label){case 0:s=performance.now(),d.label=1;case 1:return d.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,d.sent()];case 3:if(c=d.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw c;case 4:return this.possiblyLogPerformance(s),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(n){if(this.verbose){var s=performance.now()-n;this.executionResults.push(s),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,s=0,c=this.executionResults;s<c.length;s++){var d=c[s];n+=d}var g=n/this.executionResults.length;console.log("".concat(g," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Hh=function(){var e=function(n,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(c[g]=d[g])},e(n,s)};return function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(n,s);function c(){this.constructor=n}n.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}}(),Bl=function(e,n,s,c){function d(g){return g instanceof s?g:new s(function(_){_(g)})}return new(s||(s=Promise))(function(g,_){function A(k){try{v(c.next(k))}catch(O){_(O)}}function S(k){try{v(c.throw(k))}catch(O){_(O)}}function v(k){k.done?g(k.value):d(k.value).then(A,S)}v((c=c.apply(e,n||[])).next())})},Fl=function(e,n){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,d,g,_;return _={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function A(v){return function(k){return S([v,k])}}function S(v){if(c)throw new TypeError("Generator is already executing.");for(;_&&(_=0,v[0]&&(s=0)),s;)try{if(c=1,d&&(g=v[0]&2?d.return:v[0]?d.throw||((g=d.return)&&g.call(d),0):d.next)&&!(g=g.call(d,v[1])).done)return g;switch(d=0,g&&(v=[v[0]&2,g.value]),v[0]){case 0:case 1:g=v;break;case 4:return s.label++,{value:v[1],done:!1};case 5:s.label++,d=v[1],v=[0];continue;case 7:v=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(v[0]===6||v[0]===2)){s=0;continue}if(v[0]===3&&(!g||v[1]>g[0]&&v[1]<g[3])){s.label=v[1];break}if(v[0]===6&&s.label<g[1]){s.label=g[1],g=v;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(v);break}g[2]&&s.ops.pop(),s.trys.pop();continue}v=n.call(e,s)}catch(k){v=[6,k],d=0}finally{c=g=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},ug=function(){function e(n,s){this.name=n,this.track=s}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(n){var s={};s[this.name]=n;var c={advanced:[s]};return this.track.applyConstraints(c)},e.prototype.value=function(){var n=this.track.getSettings();if(this.name in n){var s=n[this.name];return s}return null},e}(),Gx=function(e){Hh(n,e);function n(s,c){return e.call(this,s,c)||this}return n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(s){var c={};c[this.name]=s;var d={advanced:[c]};return this.track.applyConstraints(d)},n.prototype.getCapabilities=function(){this.failIfNotSupported();var s=this.track.getCapabilities(),c=s[this.name];return{min:c.min,max:c.max,step:c.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},n}(ug),Yx=function(e){Hh(n,e);function n(s){return e.call(this,"zoom",s)||this}return n}(Gx),Xx=function(e){Hh(n,e);function n(s){return e.call(this,"torch",s)||this}return n}(ug),Qx=function(){function e(n){this.track=n}return e.prototype.zoomFeature=function(){return new Yx(this.track)},e.prototype.torchFeature=function(){return new Xx(this.track)},e}(),Kx=function(){function e(n,s,c){this.isClosed=!1,this.parentElement=n,this.mediaStream=s,this.callbacks=c,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return e.prototype.createVideoElement=function(n){var s=document.createElement("video");return s.style.width="".concat(n,"px"),s.style.display="block",s.muted=!0,s.setAttribute("muted","true"),s.playsInline=!0,s},e.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var s=function(){var c=n.surface.clientWidth,d=n.surface.clientHeight;n.callbacks.onRenderSurfaceReady(c,d),n.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(n,s,c,d){return Bl(this,void 0,void 0,function(){var g,_;return Fl(this,function(A){switch(A.label){case 0:return g=new e(n,s,d),c.aspectRatio?(_={aspectRatio:c.aspectRatio},[4,g.getFirstTrackOrFail().applyConstraints(_)]):[3,2];case 1:A.sent(),A.label=2;case 2:return g.setupSurface(),[2,g]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(n){this.failIfClosed();var s=this,c=function(){setTimeout(n,200),s.surface.removeEventListener("playing",c)};this.surface.addEventListener("playing",c),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(n){return Bl(this,void 0,void 0,function(){return Fl(this,function(s){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(s,c){var d=n.mediaStream.getVideoTracks(),g=d.length,_=0;n.mediaStream.getVideoTracks().forEach(function(A){n.mediaStream.removeTrack(A),A.stop(),++_,_>=g&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),s())})})},e.prototype.getCapabilities=function(){return new Qx(this.getFirstTrackOrFail())},e}(),qx=function(){function e(n){this.mediaStream=n}return e.prototype.render=function(n,s,c){return Bl(this,void 0,void 0,function(){return Fl(this,function(d){return[2,Kx.create(n,this.mediaStream,s,c)]})})},e.create=function(n){return Bl(this,void 0,void 0,function(){var s,c;return Fl(this,function(d){switch(d.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return s={audio:!1,video:n},[4,navigator.mediaDevices.getUserMedia(s)];case 1:return c=d.sent(),[2,new e(c)]}})})},e}(),Nf=function(e,n,s,c){function d(g){return g instanceof s?g:new s(function(_){_(g)})}return new(s||(s=Promise))(function(g,_){function A(k){try{v(c.next(k))}catch(O){_(O)}}function S(k){try{v(c.throw(k))}catch(O){_(O)}}function v(k){k.done?g(k.value):d(k.value).then(A,S)}v((c=c.apply(e,n||[])).next())})},bf=function(e,n){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,d,g,_;return _={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function A(v){return function(k){return S([v,k])}}function S(v){if(c)throw new TypeError("Generator is already executing.");for(;_&&(_=0,v[0]&&(s=0)),s;)try{if(c=1,d&&(g=v[0]&2?d.return:v[0]?d.throw||((g=d.return)&&g.call(d),0):d.next)&&!(g=g.call(d,v[1])).done)return g;switch(d=0,g&&(v=[v[0]&2,g.value]),v[0]){case 0:case 1:g=v;break;case 4:return s.label++,{value:v[1],done:!1};case 5:s.label++,d=v[1],v=[0];continue;case 7:v=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(v[0]===6||v[0]===2)){s=0;continue}if(v[0]===3&&(!g||v[1]>g[0]&&v[1]<g[3])){s.label=v[1];break}if(v[0]===6&&s.label<g[1]){s.label=g[1],g=v;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(v);break}g[2]&&s.ops.pop(),s.trys.pop();continue}v=n.call(e,s)}catch(k){v=[6,k],d=0}finally{c=g=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Jx=function(){function e(){}return e.failIfNotSupported=function(){return Nf(this,void 0,void 0,function(){return bf(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(n){return Nf(this,void 0,void 0,function(){return bf(this,function(s){return[2,qx.create(n)]})})},e}(),$x=function(e,n,s,c){function d(g){return g instanceof s?g:new s(function(_){_(g)})}return new(s||(s=Promise))(function(g,_){function A(k){try{v(c.next(k))}catch(O){_(O)}}function S(k){try{v(c.throw(k))}catch(O){_(O)}}function v(k){k.done?g(k.value):d(k.value).then(A,S)}v((c=c.apply(e,n||[])).next())})},e2=function(e,n){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,d,g,_;return _={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function A(v){return function(k){return S([v,k])}}function S(v){if(c)throw new TypeError("Generator is already executing.");for(;_&&(_=0,v[0]&&(s=0)),s;)try{if(c=1,d&&(g=v[0]&2?d.return:v[0]?d.throw||((g=d.return)&&g.call(d),0):d.next)&&!(g=g.call(d,v[1])).done)return g;switch(d=0,g&&(v=[v[0]&2,g.value]),v[0]){case 0:case 1:g=v;break;case 4:return s.label++,{value:v[1],done:!1};case 5:s.label++,d=v[1],v=[0];continue;case 7:v=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(v[0]===6||v[0]===2)){s=0;continue}if(v[0]===3&&(!g||v[1]>g[0]&&v[1]<g[3])){s.label=v[1];break}if(v[0]===6&&s.label<g[1]){s.label=g[1],g=v;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(v);break}g[2]&&s.ops.pop(),s.trys.pop();continue}v=n.call(e,s)}catch(k){v=[6,k],d=0}finally{c=g=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},t2=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var n=Ws.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(n=Ws.insecureContextCameraQueryError()),Promise.reject(n)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var n=location.host.split(":")[0];return n==="127.0.0.1"||n==="localhost"},e.getCamerasFromMediaDevices=function(){return $x(this,void 0,void 0,function(){var n,s,c,d,g,_,A;return e2(this,function(S){switch(S.label){case 0:return n=function(v){for(var k=v.getVideoTracks(),O=0,H=k;O<H.length;O++){var Y=H[O];Y.enabled=!1,Y.stop(),v.removeTrack(Y)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return s=S.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(c=S.sent(),d=[],g=0,_=c;g<_.length;g++)A=_[g],A.kind==="videoinput"&&d.push({id:A.deviceId,label:A.label});return n(s),[2,d]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,s){var c=function(g){for(var _=[],A=0,S=g;A<S.length;A++){var v=S[A];v.kind==="video"&&_.push({id:v.id,label:v.label})}n(_)},d=MediaStreamTrack;d.getSources(c)})},e}(),jt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(jt||(jt={}));var n2=function(){function e(){this.state=jt.NOT_STARTED,this.onGoingTransactionNewState=jt.UNKNOWN}return e.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},e.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===jt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=jt.UNKNOWN,this.directTransition(n)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===jt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=jt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==jt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(n){switch(this.state){case jt.UNKNOWN:throw"Transition from unknown is not allowed";case jt.NOT_STARTED:this.failIfNewStateIs(n,[jt.PAUSED]);break;case jt.SCANNING:break;case jt.PAUSED:break}},e.prototype.failIfNewStateIs=function(n,s){for(var c=0,d=s;c<d.length;c++){var g=d[c];if(n===g)throw"Cannot transition from ".concat(this.state," to ").concat(n)}},e}(),i2=function(){function e(n){this.stateManager=n}return e.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},e.prototype.directTransition=function(n){this.stateManager.directTransition(n)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===jt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==jt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===jt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===jt.PAUSED},e}(),r2=function(){function e(){}return e.create=function(){return new i2(new n2)},e}(),s2=function(){var e=function(n,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(c[g]=d[g])},e(n,s)};return function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(n,s);function c(){this.constructor=n}n.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}}(),Yn=function(e){s2(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n}(Ni),o2=function(){function e(n,s){this.logger=s,this.fps=Yn.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=n.disableFlip===!0,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=Yn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?lg.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Vi(this.qrbox)},e.create=function(n,s){return new e(n,s)},e}(),Mf=function(){function e(n,s){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.elementId=n,this.verbose=!1;var c;typeof s=="boolean"?this.verbose=s===!0:s&&(c=s,this.verbose=c.verbose===!0,c.experimentalFeatures),this.logger=new ag(this.verbose),this.qrcode=new Wx(this.getSupportedFormats(s),this.getUseBarCodeDetectorIfSupported(c),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=r2.create()}return e.prototype.start=function(n,s,c,d){var g=this;if(!n)throw"cameraIdOrConfig is required";if(!c||typeof c!="function")throw"qrCodeSuccessCallback is required and should be a function.";var _;d?_=d:_=this.verbose?this.logger.log:function(){};var A=o2.create(s,this.logger);this.clearElement();var S=!1;A.videoConstraints&&(A.isMediaStreamConstraintsValid()?S=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var v=S,k=document.getElementById(this.elementId);k.clientWidth?k.clientWidth:Yn.DEFAULT_WIDTH,k.style.position="relative",this.shouldScan=!0,this.element=k;var O=this,H=this.stateManagerProxy.startTransition(jt.SCANNING);return new Promise(function(Y,ee){var U=v?A.videoConstraints:O.createVideoConstraints(n);if(!U){H.cancel(),ee("videoConstraints should be defined");return}var me={};(!v||A.aspectRatio)&&(me.aspectRatio=A.aspectRatio);var j={onRenderSurfaceReady:function(D,P){O.setupUi(D,P,A),O.isScanning=!0,O.foreverScan(A,c,_)}};Jx.failIfNotSupported().then(function(D){D.create(U).then(function(P){return P.render(g.element,me,j).then(function(q){O.renderedCamera=q,H.execute(),Y(null)}).catch(function(q){H.cancel(),ee(q)})}).catch(function(P){H.cancel(),ee(Ws.errorGettingUserMedia(P))})}).catch(function(D){H.cancel(),ee(Ws.cameraStreamingNotSupported())})})},e.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(jt.PAUSED),this.showPausedState(),(Vi(n)||n!==!0)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,s=function(){n.stateManagerProxy.directTransition(jt.SCANNING),n.hidePausedState()};if(!this.renderedCamera.isPaused()){s();return}this.renderedCamera.resume(function(){s()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var s=this.stateManagerProxy.startTransition(jt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var c=function(){if(n.element){var g=document.getElementById(Yn.SHADED_REGION_ELEMENT_ID);g&&n.element.removeChild(g)}},d=this;return this.renderedCamera.close().then(function(){return d.renderedCamera=null,d.element&&(d.element.removeChild(d.canvasElement),d.canvasElement=null),c(),d.qrRegion&&(d.qrRegion=null),d.context&&(d.context=null),s.execute(),d.hidePausedState(),d.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(n,s){return this.scanFileV2(n,s).then(function(c){return c.decodedText})},e.prototype.scanFileV2=function(n,s){var c=this;if(!n||!(n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Vi(s)&&(s=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(d,g){c.possiblyCloseLastScanImageFile(),c.clearElement(),c.lastScanImageFile=URL.createObjectURL(n);var _=new Image;_.onload=function(){var A=_.width,S=_.height,v=document.getElementById(c.elementId),k=v.clientWidth?v.clientWidth:Yn.DEFAULT_WIDTH,O=Math.max(v.clientHeight?v.clientHeight:S,Yn.FILE_SCAN_MIN_HEIGHT),H=c.computeCanvasDrawConfig(A,S,k,O);if(s){var Y=c.createCanvasElement(k,O,"qr-canvas-visible");Y.style.display="inline-block",v.appendChild(Y);var ee=Y.getContext("2d");if(!ee)throw"Unable to get 2d context from canvas";ee.canvas.width=k,ee.canvas.height=O,ee.drawImage(_,0,0,A,S,H.x,H.y,H.width,H.height)}var U=Yn.FILE_SCAN_HIDDEN_CANVAS_PADDING,me=Math.max(_.width,H.width),j=Math.max(_.height,H.height),D=me+2*U,P=j+2*U,q=c.createCanvasElement(D,P);v.appendChild(q);var de=q.getContext("2d");if(!de)throw"Unable to get 2d context from canvas";de.canvas.width=D,de.canvas.height=P,de.drawImage(_,0,0,A,S,U,U,me,j);try{c.qrcode.decodeRobustlyAsync(q).then(function(ie){d(Cf.createFromQrcodeResult(ie))}).catch(g)}catch(ie){g("QR code parse error, error = ".concat(ie))}},_.onerror=g,_.onabort=g,_.onstalled=g,_.onsuspend=g,_.src=URL.createObjectURL(n)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return t2.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(n){if(n){if(!lg.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(n){var s=[Ee.QR_CODE,Ee.AZTEC,Ee.CODABAR,Ee.CODE_39,Ee.CODE_93,Ee.CODE_128,Ee.DATA_MATRIX,Ee.MAXICODE,Ee.ITF,Ee.EAN_13,Ee.EAN_8,Ee.PDF_417,Ee.RSS_14,Ee.RSS_EXPANDED,Ee.UPC_A,Ee.UPC_E,Ee.UPC_EAN_EXTENSION];if(!n||typeof n=="boolean"||!n.formatsToSupport)return s;if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(n.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var c=[],d=0,g=n.formatsToSupport;d<g.length;d++){var _=g[d];zx(_)?c.push(_):this.logger.warn("Invalid format: ".concat(_," passed in config, ignoring."))}if(c.length===0)throw"None of formatsToSupport match supported values.";return c},e.prototype.getUseBarCodeDetectorIfSupported=function(n){if(Vi(n))return!0;if(!Vi(n.useBarCodeDetectorIfSupported))return n.useBarCodeDetectorIfSupported!==!1;if(Vi(n.experimentalFeatures))return!0;var s=n.experimentalFeatures;return Vi(s.useBarCodeDetectorIfSupported)?!0:s.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(n,s,c){var d=this,g=c.qrbox;this.validateQrboxConfig(g);var _=this.toQrdimensions(n,s,g),A=function(v){if(v<Yn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Yn.MIN_QR_BOX_SIZE,"px.")},S=function(v){return v>n&&(d.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),v=n),v};A(_.width),A(_.height),_.width=S(_.width)},e.prototype.validateQrboxConfig=function(n){if(typeof n!="number"&&typeof n!="function"&&(n.width===void 0||n.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(n,s,c){if(typeof c=="number")return{width:c,height:c};if(typeof c=="function")try{return c(n,s)}catch(d){throw new Error("qrbox config was passed as a function but it failed with unknown error"+d)}return c},e.prototype.setupUi=function(n,s,c){c.isShadedBoxEnabled()&&this.validateQrboxSize(n,s,c);var d=Vi(c.qrbox)?{width:n,height:s}:c.qrbox;this.validateQrboxConfig(d);var g=this.toQrdimensions(n,s,d);g.height>s&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var _=c.isShadedBoxEnabled()&&g.height<=s,A={x:0,y:0,width:n,height:s},S=_?this.getShadedRegionBounds(n,s,g):A,v=this.createCanvasElement(S.width,S.height),k={willReadFrequently:!0},O=v.getContext("2d",k);O.canvas.width=S.width,O.canvas.height=S.height,this.element.append(v),_&&this.possiblyInsertShadingElement(this.element,n,s,g),this.createScannerPausedUiElement(this.element),this.qrRegion=S,this.context=O,this.canvasElement=v},e.prototype.createScannerPausedUiElement=function(n){var s=document.createElement("div");s.innerText=Ws.scannerPaused(),s.style.display="none",s.style.position="absolute",s.style.top="0px",s.style.zIndex="1",s.style.background="rgba(9, 9, 9, 0.46)",s.style.color="#FFECEC",s.style.textAlign="center",s.style.width="100%",n.appendChild(s),this.scannerPausedUiElement=s},e.prototype.scanContext=function(n,s){var c=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(d){return n(d.text,Cf.createFromQrcodeResult(d)),c.possiblyUpdateShaders(!0),!0}).catch(function(d){c.possiblyUpdateShaders(!1);var g=Ws.codeParseError(d);return s(g,og.createFrom(g)),!1})},e.prototype.foreverScan=function(n,s,c){var d=this;if(this.shouldScan&&this.renderedCamera){var g=this.renderedCamera.getSurface(),_=g.videoWidth/g.clientWidth,A=g.videoHeight/g.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var S=this.qrRegion.width*_,v=this.qrRegion.height*A,k=this.qrRegion.x*_,O=this.qrRegion.y*A;this.context.drawImage(g,k,O,S,v,0,0,this.qrRegion.width,this.qrRegion.height);var H=function(){d.foreverScanTimeout=setTimeout(function(){d.foreverScan(n,s,c)},d.getTimeoutFps(n.fps))};this.scanContext(s,c).then(function(Y){!Y&&n.disableFlip!==!0?(d.context.translate(d.context.canvas.width,0),d.context.scale(-1,1),d.scanContext(s,c).finally(function(){H()})):H()}).catch(function(Y){d.logger.logError("Error happend while scanning context",Y),H()})}},e.prototype.createVideoConstraints=function(n){if(typeof n=="string")return{deviceId:{exact:n}};if(typeof n=="object"){var s="facingMode",c="deviceId",d={user:!0,environment:!0},g="exact",_=function(ee){if(ee in d)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(ee,"'")},A=Object.keys(n);if(A.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(A.length," keys");var S=Object.keys(n)[0];if(S!==s&&S!==c)throw"Only '".concat(s,"' and '").concat(c,"' ")+" are supported for 'cameraIdOrConfig'";if(S===s){var v=n.facingMode;if(typeof v=="string"){if(_(v))return{facingMode:v}}else if(typeof v=="object")if(g in v){if(_(v["".concat(g)]))return{facingMode:{exact:v["".concat(g)]}}}else throw"'facingMode' should be string or object with"+" ".concat(g," as key.");else{var k=typeof v;throw"Invalid type of 'facingMode' = ".concat(k)}}else{var O=n.deviceId;if(typeof O=="string")return{deviceId:O};if(typeof O=="object"){if(g in O)return{deviceId:{exact:O["".concat(g)]}};throw"'deviceId' should be string or object with"+" ".concat(g," as key.")}else{var H=typeof O;throw"Invalid type of 'deviceId' = ".concat(H)}}}var Y=typeof n;throw"Invalid type of 'cameraIdOrConfig' = ".concat(Y)},e.prototype.computeCanvasDrawConfig=function(n,s,c,d){if(n<=c&&s<=d){var g=(c-n)/2,_=(d-s)/2;return{x:g,y:_,width:n,height:s}}else{var A=n,S=s;return n>c&&(s=c/n*s,n=c),s>d&&(n=d/s*n,s=d),this.logger.log("Image downsampled from "+"".concat(A,"X").concat(S)+" to ".concat(n,"X").concat(s,".")),this.computeCanvasDrawConfig(n,s,c,d)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},e.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(s){s.style.backgroundColor=n?Yn.BORDER_SHADER_MATCH_COLOR:Yn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(n,s,c){var d=n,g=s,_=document.createElement("canvas");return _.style.width="".concat(d,"px"),_.style.height="".concat(g,"px"),_.style.display="none",_.id=Vi(c)?"qr-canvas":c,_},e.prototype.getShadedRegionBounds=function(n,s,c){if(c.width>n||c.height>s)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-c.width)/2,y:(s-c.height)/2,width:c.width,height:c.height}},e.prototype.possiblyInsertShadingElement=function(n,s,c,d){if(!(s-d.width<1||c-d.height<1)){var g=document.createElement("div");g.style.position="absolute";var _=(s-d.width)/2,A=(c-d.height)/2;if(g.style.borderLeft="".concat(_,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderRight="".concat(_,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderTop="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderBottom="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),g.style.boxSizing="border-box",g.style.top="0px",g.style.bottom="0px",g.style.left="0px",g.style.right="0px",g.id="".concat(Yn.SHADED_REGION_ELEMENT_ID),s-d.width<11||c-d.height<11)this.hasBorderShaders=!1;else{var S=5,v=40;this.insertShaderBorders(g,v,S,-S,null,0,!0),this.insertShaderBorders(g,v,S,-S,null,0,!1),this.insertShaderBorders(g,v,S,null,-S,0,!0),this.insertShaderBorders(g,v,S,null,-S,0,!1),this.insertShaderBorders(g,S,v+S,-S,null,-S,!0),this.insertShaderBorders(g,S,v+S,null,-S,-S,!0),this.insertShaderBorders(g,S,v+S,-S,null,-S,!1),this.insertShaderBorders(g,S,v+S,null,-S,-S,!1),this.hasBorderShaders=!0}n.append(g)}},e.prototype.insertShaderBorders=function(n,s,c,d,g,_,A){var S=document.createElement("div");S.style.position="absolute",S.style.backgroundColor=Yn.BORDER_SHADER_DEFAULT_COLOR,S.style.width="".concat(s,"px"),S.style.height="".concat(c,"px"),d!==null&&(S.style.top="".concat(d,"px")),g!==null&&(S.style.bottom="".concat(g,"px")),A?S.style.left="".concat(_,"px"):S.style.right="".concat(_,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(S),n.appendChild(S)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(n){return 1e3/n},e}(),Vh="data:image/svg+xml;base64,",a2=Vh+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",l2=Vh+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Of=Vh+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",u2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Lf=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),c2=function(){function e(){this.data=Lf.createDefault();var n=localStorage.getItem(e.LOCAL_STORAGE_KEY);n?this.data=JSON.parse(n):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(n){this.data.hasPermission=n,this.flush()},e.prototype.setLastUsedCameraId=function(n){this.data.lastUsedCameraId=n,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Lf.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),h2=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(n){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Ef.poweredBy();var s=document.createElement("a");s.innerText="ScanApp",s.href="https://scanapp.org",s.target="new",s.style.color="white",this.infoDiv.appendChild(s);var c=document.createElement("br"),d=document.createElement("br");this.infoDiv.appendChild(c),this.infoDiv.appendChild(d);var g=document.createElement("a");g.innerText=Ef.reportIssues(),g.href="https://github.com/mebjas/html5-qrcode/issues",g.target="new",g.style.color="white",this.infoDiv.appendChild(g),n.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),d2=function(){function e(n,s){this.isShowingInfoIcon=!0,this.onTapIn=n,this.onTapOut=s,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(n){var s=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Of,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(c){return s.onHoverIn()},this.infoIcon.onmouseout=function(c){return s.onHoverOut()},this.infoIcon.onclick=function(c){return s.onClick()},n.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=u2,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Of,this.infoIcon.style.opacity="0.6")},e}(),f2=function(){function e(){var n=this;this.infoDiv=new h2,this.infoIcon=new d2(function(){n.infoDiv.show()},function(){n.infoDiv.hide()})}return e.prototype.renderInto=function(n){this.infoDiv.renderInto(n),this.infoIcon.renderInto(n)},e}(),g2=function(e,n,s,c){function d(g){return g instanceof s?g:new s(function(_){_(g)})}return new(s||(s=Promise))(function(g,_){function A(k){try{v(c.next(k))}catch(O){_(O)}}function S(k){try{v(c.throw(k))}catch(O){_(O)}}function v(k){k.done?g(k.value):d(k.value).then(A,S)}v((c=c.apply(e,n||[])).next())})},p2=function(e,n){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,d,g,_;return _={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function A(v){return function(k){return S([v,k])}}function S(v){if(c)throw new TypeError("Generator is already executing.");for(;_&&(_=0,v[0]&&(s=0)),s;)try{if(c=1,d&&(g=v[0]&2?d.return:v[0]?d.throw||((g=d.return)&&g.call(d),0):d.next)&&!(g=g.call(d,v[1])).done)return g;switch(d=0,g&&(v=[v[0]&2,g.value]),v[0]){case 0:case 1:g=v;break;case 4:return s.label++,{value:v[1],done:!1};case 5:s.label++,d=v[1],v=[0];continue;case 7:v=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(v[0]===6||v[0]===2)){s=0;continue}if(v[0]===3&&(!g||v[1]>g[0]&&v[1]<g[3])){s.label=v[1];break}if(v[0]===6&&s.label<g[1]){s.label=g[1],g=v;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(v);break}g[2]&&s.ops.pop(),s.trys.pop();continue}v=n.call(e,s)}catch(k){v=[6,k],d=0}finally{c=g=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},kf=function(){function e(){}return e.hasPermissions=function(){return g2(this,void 0,void 0,function(){var n,s,c,d;return p2(this,function(g){switch(g.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(n=g.sent(),s=0,c=n;s<c.length;s++)if(d=c[s],d.kind==="videoinput"&&d.label)return[2,!0];return[2,!1]}})})},e}(),Ir=function(){function e(n){this.supportedScanTypes=this.validateAndReturnScanTypes(n)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var n=0,s=this.supportedScanTypes;n<s.length;n++){var c=s[n];if(e.isCameraScanType(c))return!0}return!1},e.isCameraScanType=function(n){return n===Zr.SCAN_TYPE_CAMERA},e.isFileScanType=function(n){return n===Zr.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(n){if(!n||n.length===0)return Ni.DEFAULT_SUPPORTED_SCAN_TYPE;var s=Ni.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(n.length>s)throw"Max ".concat(s," values expected for ")+"supportedScanTypes";for(var c=0,d=n;c<d.length;c++){var g=d[c];if(!Ni.DEFAULT_SUPPORTED_SCAN_TYPE.includes(g))throw"Unsupported scan type ".concat(g)}return n},e}(),Kn=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),or=function(){function e(){}return e.createElement=function(n,s){var c=document.createElement(n);return c.id=s,c.classList.add(Kn.ALL_ELEMENT_CLASS),n==="button"&&c.setAttribute("type","button"),c},e}(),cg=function(e,n,s,c){function d(g){return g instanceof s?g:new s(function(_){_(g)})}return new(s||(s=Promise))(function(g,_){function A(k){try{v(c.next(k))}catch(O){_(O)}}function S(k){try{v(c.throw(k))}catch(O){_(O)}}function v(k){k.done?g(k.value):d(k.value).then(A,S)}v((c=c.apply(e,n||[])).next())})},hg=function(e,n){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,d,g,_;return _={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function A(v){return function(k){return S([v,k])}}function S(v){if(c)throw new TypeError("Generator is already executing.");for(;_&&(_=0,v[0]&&(s=0)),s;)try{if(c=1,d&&(g=v[0]&2?d.return:v[0]?d.throw||((g=d.return)&&g.call(d),0):d.next)&&!(g=g.call(d,v[1])).done)return g;switch(d=0,g&&(v=[v[0]&2,g.value]),v[0]){case 0:case 1:g=v;break;case 4:return s.label++,{value:v[1],done:!1};case 5:s.label++,d=v[1],v=[0];continue;case 7:v=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(v[0]===6||v[0]===2)){s=0;continue}if(v[0]===3&&(!g||v[1]>g[0]&&v[1]<g[3])){s.label=v[1];break}if(v[0]===6&&s.label<g[1]){s.label=g[1],g=v;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(v);break}g[2]&&s.ops.pop(),s.trys.pop();continue}v=n.call(e,s)}catch(k){v=[6,k],d=0}finally{c=g=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Rf=function(){function e(n,s,c){this.isTorchOn=!1,this.torchCapability=n,this.buttonController=s,this.onTorchActionFailureCallback=c}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return cg(this,void 0,void 0,function(){var n,s;return hg(this,function(c){switch(c.label){case 0:this.buttonController.disable(),n=!this.isTorchOn,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.torchCapability.apply(n)];case 2:return c.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),n),[3,4];case 3:return s=c.sent(),this.propagateFailure(n,s),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(n,s){n===s?(this.buttonController.setText(s?gt.torchOffButton():gt.torchOnButton()),this.isTorchOn=s):this.propagateFailure(s),this.buttonController.enable()},e.prototype.propagateFailure=function(n,s){var c=n?gt.torchOnFailedMessage():gt.torchOffFailedMessage();s&&(c+="; Error = "+s),this.onTorchActionFailureCallback(c)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),m2=function(){function e(n,s){this.onTorchActionFailureCallback=s,this.torchButton=or.createElement("button",Kn.TORCH_BUTTON_ID),this.torchController=new Rf(n,this,s)}return e.prototype.render=function(n,s){var c=this;this.torchButton.innerText=gt.torchOnButton(),this.torchButton.style.display=s.display,this.torchButton.style.marginLeft=s.marginLeft;var d=this;this.torchButton.addEventListener("click",function(g){return cg(c,void 0,void 0,function(){return hg(this,function(_){switch(_.label){case 0:return[4,d.torchController.flipState()];case 1:return _.sent(),d.torchController.isTorchEnabled()?(d.torchButton.classList.remove(Kn.TORCH_BUTTON_CLASS_TORCH_OFF),d.torchButton.classList.add(Kn.TORCH_BUTTON_CLASS_TORCH_ON)):(d.torchButton.classList.remove(Kn.TORCH_BUTTON_CLASS_TORCH_ON),d.torchButton.classList.add(Kn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),n.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(n){this.torchController=new Rf(n,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(n){this.torchButton.innerText=n},e.prototype.reset=function(){this.torchButton.innerText=gt.torchOnButton(),this.torchController.reset()},e.create=function(n,s,c,d){var g=new e(s,d);return g.render(n,c),g},e}(),x2=function(){function e(n,s,c){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=s?"block":"none",n.appendChild(this.fileBasedScanRegion);var d=document.createElement("label");d.setAttribute("for",this.getFileScanInputId()),d.style.display="inline-block",this.fileBasedScanRegion.appendChild(d),this.fileSelectionButton=or.createElement("button",Kn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(A){d.click()}),d.append(this.fileSelectionButton),this.fileScanInput=or.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",d.appendChild(this.fileScanInput);var g=this;this.fileScanInput.addEventListener("change",function(A){if(!(A==null||A.target==null)){var S=A.target;if(!(S.files&&S.files.length===0)){var v=S.files,k=v[0],O=k.name;g.setImageNameToButton(O),c(k)}}});var _=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(_),this.fileBasedScanRegion.addEventListener("dragenter",function(A){g.fileBasedScanRegion.style.border=g.fileBasedScanRegionActiveBorder(),A.stopPropagation(),A.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(A){g.fileBasedScanRegion.style.border=g.fileBasedScanRegionDefaultBorder(),A.stopPropagation(),A.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(A){g.fileBasedScanRegion.style.border=g.fileBasedScanRegionActiveBorder(),A.stopPropagation(),A.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(A){A.stopPropagation(),A.preventDefault(),g.fileBasedScanRegion.style.border=g.fileBasedScanRegionDefaultBorder();var S=A.dataTransfer;if(S){var v=S.files;if(!v||v.length===0)return;for(var k=!1,O=0;O<v.length;++O){var H=v.item(O);if(H){var Y=/image.*/;if(H.type.match(Y)){k=!0;var ee=H.name;g.setImageNameToButton(ee),c(H),_.innerText=gt.dragAndDropMessage();break}}}k||(_.innerText=gt.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var n=document.createElement("div");return n.style.textAlign="center",n.style.margin="auto",n.style.width="80%",n.style.maxWidth="600px",n.style.border=this.fileBasedScanRegionDefaultBorder(),n.style.padding="10px",n.style.marginBottom="10px",n},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var n=document.createElement("div");return n.innerText=gt.dragAndDropMessage(),n.style.fontWeight="400",n},e.prototype.setImageNameToButton=function(n){var s=20;if(n.length>s){var c=n.substring(0,8),d=n.length,g=n.substring(d-8,d);n="".concat(c,"....").concat(g)}var _=gt.fileSelectionChooseAnother()+" - "+n;this.fileSelectionButton.innerText=_},e.prototype.setInitialValueToButton=function(){var n=gt.fileSelectionChooseImage()+" - "+gt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=n},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(n,s,c){var d=new e(n,s,c);return d},e}(),y2=function(){function e(n){this.selectElement=or.createElement("select",Kn.CAMERA_SELECTION_SELECT_ID),this.cameras=n,this.options=[]}return e.prototype.render=function(n){var s=document.createElement("span");s.style.marginRight="10px";var c=this.cameras.length;if(c===0)throw new Error("No cameras found");if(c===1)s.style.display="none";else{var d=gt.selectCamera();s.innerText="".concat(d," (").concat(this.cameras.length,")  ")}for(var g=1,_=0,A=this.cameras;_<A.length;_++){var S=A[_],v=S.id,k=S.label==null?v:S.label;(!k||k==="")&&(k=[gt.anonymousCameraPrefix(),g++].join(" "));var O=document.createElement("option");O.value=v,O.innerText=k,this.options.push(O),this.selectElement.appendChild(O)}s.appendChild(this.selectElement),n.appendChild(s)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(n){for(var s=0,c=this.options;s<c.length;s++){var d=c[s];if(d.value===n)return!0}return!1},e.prototype.setValue=function(n){if(!this.hasValue(n))throw new Error("".concat(n," is not present in the camera list."));this.selectElement.value=n},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(n,s){var c=new e(s);return c.render(n),c},e}(),_2=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=or.createElement("input",Kn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(n,s){this.zoomElementContainer.style.display=s?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",n.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var c=gt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(c),this.rangeText.style.marginRight="10px";var d=this;this.rangeInput.addEventListener("input",function(){return d.onValueChange()}),this.rangeInput.addEventListener("change",function(){return d.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var n=gt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(n,s,c,d){this.rangeInput.min=n.toString(),this.rangeInput.max=s.toString(),this.rangeInput.step=d.toString(),this.rangeInput.value=c.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(n){this.onChangeCallback=n},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(n,s){var c=new e;return c.render(n,s),c},e}(),Xn;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Xn||(Xn={}));function w2(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function v2(e,n){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:n}}var C2=function(){function e(n,s,c){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=n,this.config=this.createConfig(s),this.verbose=c===!0,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.scanTypeSelector=new Ir(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new ag(this.verbose),this.persistedDataManager=new c2,s.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(n,s){var c=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(g,_){if(n)n(g,_);else{if(c.lastMatchFound===g)return;c.lastMatchFound=g,c.setHeaderMessage(gt.lastMatch(g),Xn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(g,_){s&&s(g,_)};var d=document.getElementById(this.elementId);if(!d)throw"HTML Element with id=".concat(this.elementId," not found");d.innerHTML="",this.createBasicLayout(d),this.html5Qrcode=new Mf(this.getScanRegionId(),v2(this.config,this.verbose))},e.prototype.pause=function(n){(Vi(n)||n!==!0)&&(n=!1),this.getHtml5QrcodeOrFail().pause(n)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var n=this,s=function(){var c=document.getElementById(n.elementId);c&&(c.innerHTML="",n.resetBasicLayout(c))};return this.html5Qrcode?new Promise(function(c,d){if(!n.html5Qrcode){c();return}n.html5Qrcode.isScanning?n.html5Qrcode.stop().then(function(g){if(!n.html5Qrcode){c();return}n.html5Qrcode.clear(),s(),c()}).catch(function(g){n.verbose&&n.logger.logError("Unable to stop qrcode scanner",g),d(g)}):(n.html5Qrcode.clear(),s(),c())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(n){return this.getHtml5QrcodeOrFail().applyVideoConstraints(n)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(n){return n?(n.fps||(n.fps=Ni.SCAN_DEFAULT_FPS),n.rememberLastUsedCamera!==!Ni.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(n.rememberLastUsedCamera=Ni.DEFAULT_REMEMBER_LAST_CAMERA_USED),n.supportedScanTypes||(n.supportedScanTypes=Ni.DEFAULT_SUPPORTED_SCAN_TYPE),n):{fps:Ni.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Ni.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Ni.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(n){n.style.position="relative",n.style.padding="0px",n.style.border="1px solid silver",this.createHeader(n);var s=document.createElement("div"),c=this.getScanRegionId();s.id=c,s.style.width="100%",s.style.minHeight="100px",s.style.textAlign="center",n.appendChild(s),Ir.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var d=document.createElement("div"),g=this.getDashboardId();d.id=g,d.style.width="100%",n.appendChild(d),this.setupInitialDashboard(d)},e.prototype.resetBasicLayout=function(n){n.style.border="none"},e.prototype.setupInitialDashboard=function(n){this.createSection(n),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(n){var s=document.createElement("div");s.style.textAlign="left",s.style.margin="0px",n.appendChild(s);var c=new f2;c.renderInto(s);var d=document.createElement("div");d.id=this.getHeaderMessageContainerId(),d.style.display="none",d.style.textAlign="center",d.style.fontSize="14px",d.style.padding="2px 10px",d.style.margin="4px",d.style.borderTop="1px solid #f6f6f6",s.appendChild(d)},e.prototype.createSection=function(n){var s=document.createElement("div");s.id=this.getDashboardSectionId(),s.style.width="100%",s.style.padding="10px 0px 10px 0px",s.style.textAlign="left",n.appendChild(s)},e.prototype.createCameraListUi=function(n,s,c){var d=this;d.showHideScanTypeSwapLink(!1),d.setHeaderMessage(gt.cameraPermissionRequesting());var g=function(){c||d.createPermissionButton(n,s)};Mf.getCameras().then(function(_){d.persistedDataManager.setHasPermission(!0),d.showHideScanTypeSwapLink(!0),d.resetHeaderMessage(),_&&_.length>0?(n.removeChild(s),d.renderCameraSelection(_)):(d.setHeaderMessage(gt.noCameraFound(),Xn.STATUS_WARNING),g())}).catch(function(_){d.persistedDataManager.setHasPermission(!1),c?c.disabled=!1:g(),d.setHeaderMessage(_,Xn.STATUS_WARNING),d.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(n,s){var c=this,d=or.createElement("button",this.getCameraPermissionButtonId());d.innerText=gt.cameraPermissionTitle(),d.addEventListener("click",function(){d.disabled=!0,c.createCameraListUi(n,s,d)}),s.appendChild(d)},e.prototype.createPermissionsUi=function(n,s){var c=this;if(Ir.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){kf.hasPermissions().then(function(d){d?c.createCameraListUi(n,s):(c.persistedDataManager.setHasPermission(!1),c.createPermissionButton(n,s))}).catch(function(d){c.persistedDataManager.setHasPermission(!1),c.createPermissionButton(n,s)});return}this.createPermissionButton(n,s)},e.prototype.createSectionControlPanel=function(){var n=document.getElementById(this.getDashboardSectionId()),s=document.createElement("div");n.appendChild(s);var c=document.createElement("div");c.id=this.getDashboardSectionCameraScanRegionId(),c.style.display=Ir.isCameraScanType(this.currentScanType)?"block":"none",s.appendChild(c);var d=document.createElement("div");d.style.textAlign="center",c.appendChild(d),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(c,d),this.renderFileScanUi(s)},e.prototype.renderFileScanUi=function(n){var s=Ir.isFileScanType(this.currentScanType),c=this,d=function(g){if(!c.html5Qrcode)throw"html5Qrcode not defined";Ir.isFileScanType(c.currentScanType)&&(c.setHeaderMessage(gt.loadingImage()),c.html5Qrcode.scanFileV2(g,!0).then(function(_){c.resetHeaderMessage(),c.qrCodeSuccessCallback(_.decodedText,_)}).catch(function(_){c.setHeaderMessage(_,Xn.STATUS_WARNING),c.qrCodeErrorCallback(_,og.createFrom(_))}))};this.fileSelectionUi=x2.create(n,s,d)},e.prototype.renderCameraSelection=function(n){var s=this,c=this,d=document.getElementById(this.getDashboardSectionCameraScanRegionId());d.style.textAlign="center";var g=_2.create(d,!1),_=function(U){var me=U.zoomFeature();if(me.isSupported()){g.setOnCameraZoomValueChangeCallback(function(D){me.apply(D)});var j=1;s.config.defaultZoomValueIfSupported&&(j=s.config.defaultZoomValueIfSupported),j=Ux(j,me.min(),me.max()),g.setValues(me.min(),me.max(),j,me.step()),g.show()}},A=y2.create(d,n),S=document.createElement("span"),v=or.createElement("button",Kn.CAMERA_START_BUTTON_ID);v.innerText=gt.scanButtonStartScanningText(),S.appendChild(v);var k=or.createElement("button",Kn.CAMERA_STOP_BUTTON_ID);k.innerText=gt.scanButtonStopScanningText(),k.style.display="none",k.disabled=!0,S.appendChild(k);var O,H=function(U){if(!U.torchFeature().isSupported()){O&&O.hide();return}O?O.updateTorchCapability(U.torchFeature()):O=m2.create(S,U.torchFeature(),{display:"none",marginLeft:"5px"},function(me){c.setHeaderMessage(me,Xn.STATUS_WARNING)}),O.show()};d.appendChild(S);var Y=function(U){U||(v.style.display="none"),v.innerText=gt.scanButtonStartScanningText(),v.style.opacity="1",v.disabled=!1,U&&(v.style.display="inline-block")};if(v.addEventListener("click",function(U){v.innerText=gt.scanButtonScanningStarting(),A.disable(),v.disabled=!0,v.style.opacity="0.5",s.scanTypeSelector.hasMoreThanOneScanType()&&c.showHideScanTypeSwapLink(!1),c.resetHeaderMessage();var me=A.getValue();c.persistedDataManager.setLastUsedCameraId(me),c.html5Qrcode.start(me,w2(c.config),c.qrCodeSuccessCallback,c.qrCodeErrorCallback).then(function(j){k.disabled=!1,k.style.display="inline-block",Y(!1);var D=c.html5Qrcode.getRunningTrackCameraCapabilities();s.config.showTorchButtonIfSupported===!0&&H(D),s.config.showZoomSliderIfSupported===!0&&_(D)}).catch(function(j){c.showHideScanTypeSwapLink(!0),A.enable(),Y(!0),c.setHeaderMessage(j,Xn.STATUS_WARNING)})}),A.hasSingleItem()&&v.click(),k.addEventListener("click",function(U){if(!c.html5Qrcode)throw"html5Qrcode not defined";k.disabled=!0,c.html5Qrcode.stop().then(function(me){s.scanTypeSelector.hasMoreThanOneScanType()&&c.showHideScanTypeSwapLink(!0),A.enable(),v.disabled=!1,k.style.display="none",v.style.display="inline-block",O&&(O.reset(),O.hide()),g.removeOnCameraZoomValueChangeCallback(),g.hide(),c.insertCameraScanImageToScanRegion()}).catch(function(me){k.disabled=!1,c.setHeaderMessage(me,Xn.STATUS_WARNING)})}),c.persistedDataManager.getLastUsedCameraId()){var ee=c.persistedDataManager.getLastUsedCameraId();A.hasValue(ee)?(A.setValue(ee),v.click()):c.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var n=this,s=gt.textIfCameraScanSelected(),c=gt.textIfFileScanSelected(),d=document.getElementById(this.getDashboardSectionId()),g=document.createElement("div");g.style.textAlign="center";var _=or.createElement("span",this.getDashboardSectionSwapLinkId());_.style.textDecoration="underline",_.style.cursor="pointer",_.innerText=Ir.isCameraScanType(this.currentScanType)?s:c,_.addEventListener("click",function(){if(!n.sectionSwapAllowed){n.verbose&&n.logger.logError("Section swap called when not allowed");return}n.resetHeaderMessage(),n.fileSelectionUi.resetValue(),n.sectionSwapAllowed=!1,Ir.isCameraScanType(n.currentScanType)?(n.clearScanRegion(),n.getCameraScanRegion().style.display="none",n.fileSelectionUi.show(),_.innerText=c,n.currentScanType=Zr.SCAN_TYPE_FILE,n.insertFileScanImageToScanRegion()):(n.clearScanRegion(),n.getCameraScanRegion().style.display="block",n.fileSelectionUi.hide(),_.innerText=s,n.currentScanType=Zr.SCAN_TYPE_CAMERA,n.insertCameraScanImageToScanRegion(),n.startCameraScanIfPermissionExistsOnSwap()),n.sectionSwapAllowed=!0}),g.appendChild(_),d.appendChild(g)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var n=this,s=this;if(this.persistedDataManager.hasCameraPermissions()){kf.hasPermissions().then(function(c){if(c){var d=document.getElementById(s.getCameraPermissionButtonId());if(!d)throw n.logger.logError("Permission button not found, fail;"),"Permission button not found";d.click()}else s.persistedDataManager.setHasPermission(!1)}).catch(function(c){s.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var n=document.getElementById(this.getHeaderMessageContainerId());n.style.display="none"},e.prototype.setHeaderMessage=function(n,s){s||(s=Xn.STATUS_DEFAULT);var c=this.getHeaderMessageDiv();switch(c.innerText=n,c.style.display="block",s){case Xn.STATUS_SUCCESS:c.style.background="rgba(106, 175, 80, 0.26)",c.style.color="#477735";break;case Xn.STATUS_WARNING:c.style.background="rgba(203, 36, 49, 0.14)",c.style.color="#cb2431";break;case Xn.STATUS_DEFAULT:default:c.style.background="rgba(0, 0, 0, 0)",c.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(n){this.scanTypeSelector.hasMoreThanOneScanType()&&(n!==!0&&(n=!1),this.sectionSwapAllowed=n,this.getDashboardSectionSwapLink().style.display=n?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var n=this,s=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){s.innerHTML="<br>",s.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(c){s.innerHTML="<br>",s.appendChild(n.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=a2,this.cameraScanImage.alt=gt.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var n=this,s=document.getElementById(this.getScanRegionId());if(this.fileScanImage){s.innerHTML="<br>",s.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(c){s.innerHTML="<br>",s.appendChild(n.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=l2,this.fileScanImage.alt=gt.fileScanAltText()},e.prototype.clearScanRegion=function(){var n=document.getElementById(this.getScanRegionId());n.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Kn.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Kn.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();function E2(){const[e,n]=ge.useState("barcode"),[s,c]=ge.useState(""),[d,g]=ge.useState(null),[_,A]=ge.useState(!1),[S,v]=ge.useState(""),[k,O]=ge.useState(null),[H,Y]=ge.useState(null),ee=ge.useRef(null),U=ge.useRef(null);ge.useEffect(()=>{me()},[]),ge.useEffect(()=>{e==="barcode"&&ee.current&&ee.current.focus()},[e,H]),ge.useEffect(()=>{if(e==="camera"&&!U.current){const V=new C2("qr-reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1});V.render(ne=>{j(ne),V.pause(!0),setTimeout(()=>V.resume(),2e3)},ne=>{console.warn("Erro scanner:",ne)}),U.current=V}return()=>{U.current&&(U.current.clear(),U.current=null)}},[e]);const me=async()=>{try{const V=await fetch("/api/separation/start",{method:"POST"}),ne=await V.json();if(!V.ok)throw new Error(ne.detail);O(ne.session),g(ne)}catch(V){v(V.message)}},j=async V=>{if(V.trim()){A(!0),v("");try{const ne=await fetch("/api/separation/scan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({barcode:V.trim()})}),$=await ne.json();if(!ne.ok)throw new Error($.detail);Y($),$.progress&&O(be=>({...be,scanned_packages:$.progress.scanned,progress:$.progress.percentage})),c(""),q("success")}catch(ne){v(ne.message),q("error")}finally{A(!1)}}},D=V=>{V.preventDefault(),j(s)},P=async()=>{try{const V=await fetch("/api/separation/complete",{method:"POST"}),ne=await V.json();if(!V.ok)throw new Error(ne.detail);alert("Separao concluda! Agora voc pode enviar as rotas aos entregadores."),window.location.href="/route-analysis"}catch(V){alert(V.message)}},q=V=>{const ne=new(window.AudioContext||window.webkitAudioContext),$=ne.createOscillator(),be=ne.createGain();$.connect(be),be.connect(ne.destination),V==="success"?($.frequency.value=800,be.gain.value=.3):($.frequency.value=300,be.gain.value=.5),$.start(),$.stop(ne.currentTime+.1)},de=(k==null?void 0:k.progress)||0,ie=(k==null?void 0:k.scanned_packages)>=(k==null?void 0:k.total_packages);return E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-indigo-900 to-blue-900 p-8",children:E.jsxs("div",{className:"max-w-4xl mx-auto",children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:" Modo Separao"}),E.jsx("p",{className:"text-indigo-200",children:"Bipe cada pacote para identificar rota e entregador"})]}),E.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-6 mb-6",children:[E.jsx("label",{className:"text-white font-semibold block mb-3",children:"Mtodo de Bipagem:"}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx("button",{onClick:()=>n("barcode"),className:`flex-1 py-3 px-6 rounded-lg font-semibold transition ${e==="barcode"?"bg-green-500 text-white":"bg-white/20 text-white hover:bg-white/30"}`,children:" Bipadora"}),E.jsx("button",{onClick:()=>n("camera"),className:`flex-1 py-3 px-6 rounded-lg font-semibold transition ${e==="camera"?"bg-green-500 text-white":"bg-white/20 text-white hover:bg-white/30"}`,children:" Cmera"})]})]}),k&&E.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-6 mb-6",children:[E.jsxs("div",{className:"flex justify-between mb-2",children:[E.jsx("span",{className:"text-white font-semibold",children:"Progresso"}),E.jsxs("span",{className:"text-white",children:[k.scanned_packages," / ",k.total_packages," pacotes"]})]}),E.jsx("div",{className:"w-full bg-white/20 rounded-full h-4 overflow-hidden",children:E.jsx("div",{className:"bg-gradient-to-r from-green-400 to-emerald-500 h-full transition-all duration-500",style:{width:`${de}%`}})}),E.jsxs("p",{className:"text-indigo-200 text-sm mt-2",children:[de.toFixed(1),"% completo"]})]}),E.jsx("div",{className:"bg-white/10 backdrop-blur rounded-xl p-6 mb-6",children:e==="barcode"?E.jsxs("form",{onSubmit:D,children:[E.jsx("label",{className:"text-white font-semibold block mb-3",children:"Escaneie o cdigo de barras:"}),E.jsx("input",{ref:ee,type:"text",value:s,onChange:V=>c(V.target.value),placeholder:"Posicione o cursor aqui e bipe...",className:"w-full px-4 py-3 rounded-lg bg-white/90 text-gray-900 font-mono text-lg focus:outline-none focus:ring-4 focus:ring-green-400",disabled:_||ie,autoFocus:!0}),E.jsx("button",{type:"submit",className:"w-full mt-4 py-3 bg-green-500 hover:bg-green-600 text-white font-bold rounded-lg transition",disabled:_||!s.trim()||ie,children:_?"Processando...":"Confirmar Bipagem"})]}):E.jsxs("div",{children:[E.jsx("label",{className:"text-white font-semibold block mb-3",children:"Aponte a cmera para o cdigo:"}),E.jsx("div",{id:"qr-reader",className:"rounded-lg overflow-hidden"})]})}),H&&E.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-6 mb-6 border-4 animate-pulse",style:{borderColor:H.route_color||"#fff"},children:[E.jsx("h3",{className:"text-white font-bold text-xl mb-4",children:" Pacote Identificado!"}),E.jsxs("div",{className:"grid grid-cols-2 gap-4 text-white",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-indigo-200 text-sm",children:"Entregador:"}),E.jsx("p",{className:"font-bold text-lg",children:H.deliverer_name})]}),E.jsxs("div",{children:[E.jsx("span",{className:"text-indigo-200 text-sm",children:"Cor da Rota:"}),E.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[E.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white",style:{backgroundColor:H.route_color}}),E.jsx("span",{className:"font-bold",children:H.route_color})]})]}),E.jsxs("div",{children:[E.jsx("span",{className:"text-indigo-200 text-sm",children:"Sequncia:"}),E.jsxs("p",{className:"font-bold text-lg",children:["#",H.sequence," de ",H.total_in_route]})]}),E.jsxs("div",{children:[E.jsx("span",{className:"text-indigo-200 text-sm",children:"Endereo:"}),E.jsx("p",{className:"text-sm",children:H.address})]})]})]}),S&&E.jsx("div",{className:"bg-red-500/20 border-2 border-red-500 rounded-xl p-4 mb-6",children:E.jsxs("p",{className:"text-white font-semibold",children:[" ",S]})}),ie&&E.jsx("button",{onClick:P,className:"w-full py-4 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-bold text-xl rounded-xl shadow-2xl transition transform hover:scale-105",children:" Finalizar Separao e Enviar Rotas"})]})})}function A2(){const[e,n]=ge.useState("dashboard"),[s,c]=ge.useState(null),[d,g]=ge.useState({role:"loading"}),[_,A]=ge.useState(null),[S,v]=ge.useState(null),[k,O]=ge.useState(null),[H,Y]=ge.useState(!1);ge.useEffect(()=>{var de;let P=null;const q=new URLSearchParams(window.location.search);if(q.get("tab")&&n(q.get("tab")),window.Telegram&&window.Telegram.WebApp){const ie=window.Telegram.WebApp;ie.ready(),ie.expand(),(de=ie.initDataUnsafe)!=null&&de.user&&(c(ie.initDataUnsafe.user),P=ie.initDataUnsafe.user.id),ie.colorScheme==="dark"&&document.documentElement.classList.add("dark")}if(!P){const ie=new URLSearchParams(window.location.search);ie.get("user_id")&&(P=parseInt(ie.get("user_id")),c({id:P,first_name:"Dev User"}))}P?ee(P):g({role:"guest"})},[]);const ee=async P=>{Y(!0);try{const de=await(await fetch(`/api/auth/me?user_id=${P}`)).json();g(de);const ie=[];ie.push(fetch(`/api/financial/balance?user_id=${P}`).then(V=>V.json()).then(V=>O(V)).catch(V=>console.error("Erro Finanas",V))),de.role==="admin"?ie.push(fetch("/api/admin/stats").then(V=>V.json()).then(V=>v(V))):de.role==="deliverer"&&ie.push(fetch(`/api/deliverer/route?user_id=${P}`).then(V=>V.json()).then(V=>A(V))),await Promise.all(ie)}catch(q){console.error("Erro fetching data",q)}finally{Y(!1)}},U=()=>{s!=null&&s.id&&ee(s.id)},me=()=>E.jsxs("div",{className:"space-y-5 animate-fade-in",children:[E.jsxs("div",{className:"relative overflow-hidden gradient-primary rounded-3xl p-6 text-white shadow-glass",children:[E.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/10 rounded-full blur-3xl -mr-20 -mt-20"}),E.jsxs("div",{className:"relative z-10",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-sm font-medium text-white/80 mb-1",children:"Painel Administrativo"}),E.jsx("p",{className:"text-2xl font-bold",children:"Viso Geral "})]}),E.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center",children:E.jsx(zc,{className:"w-6 h-6"})})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-6",children:[E.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[E.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-xs mb-2",children:[E.jsx(Vu,{className:"w-3.5 h-3.5"}),E.jsx("span",{children:"Pacotes Hoje"})]}),E.jsx("p",{className:"text-3xl font-black",children:(S==null?void 0:S.packages_total)||0})]}),E.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[E.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-xs mb-2",children:[E.jsx(Zu,{className:"w-3.5 h-3.5"}),E.jsx("span",{children:"Entregues"})]}),E.jsx("p",{className:"text-3xl font-black text-green-300",children:(S==null?void 0:S.delivered)||0})]})]})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[E.jsx(Df,{icon:E.jsx(ea,{className:"w-5 h-5"}),label:"Financeiro",sublabel:"Ver receitas",color:"green",onClick:()=>n("financial")}),E.jsx(Df,{icon:E.jsx(ta,{className:"w-5 h-5"}),label:"Equipe",sublabel:"Gerenciar",color:"blue",onClick:()=>n("team")})]}),E.jsxs("button",{onClick:()=>n("analysis"),className:"w-full group relative overflow-hidden",children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 via-indigo-600 to-blue-600 rounded-2xl"}),E.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/0 via-white/20 to-purple-600/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),E.jsxs("div",{className:"relative p-5 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:E.jsx(zc,{className:"w-6 h-6 text-white"})}),E.jsxs("div",{className:"text-left",children:[E.jsx("p",{className:"text-white font-bold text-lg",children:"Anlise Inteligente"}),E.jsx("p",{className:"text-purple-100 text-xs font-medium",children:"Upload & Otimizao IA"})]})]}),E.jsx("div",{className:"text-white/70 group-hover:text-white group-hover:translate-x-1 transition-all",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),E.jsxs("div",{className:"card-premium p-5",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[E.jsx("div",{className:"w-10 h-10 rounded-full gradient-primary flex items-center justify-center",children:E.jsx(xf,{className:`w-5 h-5 text-white ${H?"animate-spin":""}`})}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Status da Sesso"}),E.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Monitoramento em tempo real"})]})]}),S!=null&&S.active_session?E.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800",children:[E.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse-soft"}),E.jsxs("div",{className:"flex-1",children:[E.jsx("p",{className:"font-semibold text-green-700 dark:text-green-400 text-sm",children:"Sesso Ativa"}),E.jsx("p",{className:"text-xs text-green-600 dark:text-green-500",children:S.session_name})]})]}):E.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800/50 rounded-xl",children:[E.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),E.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:"Nenhuma sesso ativa"})]})]})]}),j=()=>{var P;return E.jsxs("div",{className:"space-y-5 animate-fade-in",children:[E.jsxs("div",{className:"relative overflow-hidden gradient-success rounded-3xl p-6 text-white shadow-glass",children:[E.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl"}),E.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full blur-2xl"}),E.jsx("div",{className:"relative z-10",children:E.jsxs("div",{className:"flex justify-between items-start mb-3",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-sm font-medium text-white/80 mb-1",children:"Bem-vindo de volta "}),E.jsx("h2",{className:"text-2xl font-black",children:(P=d.name)==null?void 0:P.split(" ")[0]})]}),E.jsxs("div",{className:"flex flex-col items-end gap-2",children:[E.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center",children:E.jsx(Vu,{className:"w-6 h-6"})}),d.is_partner&&E.jsxs("span",{className:"badge bg-yellow-400/30 text-yellow-100 border-yellow-400/50 text-[10px] px-2 py-0.5",children:[E.jsx(ex,{className:"w-3 h-3"})," SCIO"]})]})]})})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[E.jsx(Pf,{icon:E.jsx(ea,{className:"w-5 h-5"}),label:"Saldo Semana",value:`R$ ${k!=null&&k.balance?k.balance.toFixed(0):"..."}`,color:"green",onClick:()=>n("financial")}),E.jsx(Pf,{icon:E.jsx(Zs,{className:"w-5 h-5"}),label:"Rota Atual",value:_!=null&&_.has_route?"Ativa":"Sem rota",color:"blue",isDisabled:!(_!=null&&_.has_route),onClick:()=>n("routes")})]}),(_==null?void 0:_.has_route)&&E.jsxs("div",{className:"card-premium overflow-hidden animate-slide-up",children:[E.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 px-5 py-3 border-b border-gray-100 dark:border-gray-700/50",children:E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"Rota em Andamento"}),E.jsxs("span",{className:"badge badge-info",children:[E.jsx(Vu,{className:"w-3 h-3"}),_.summary.total_packages," volumes"]})]})}),E.jsxs("div",{className:"grid grid-cols-3 divide-x divide-gray-100 dark:divide-gray-700/50",children:[E.jsx(Gu,{icon:E.jsx(mf,{className:"w-4 h-4"}),value:_.summary.total_stops,label:"Paradas"}),E.jsx(Gu,{icon:E.jsx(jh,{className:"w-4 h-4"}),value:`${_.summary.distance_km} km`,label:"Distncia"}),E.jsx(Gu,{icon:E.jsx(Zu,{className:"w-4 h-4"}),value:`${_.summary.estimated_time_min}m`,label:"Tempo"})]}),E.jsx("div",{className:"p-4",children:E.jsxs("button",{onClick:()=>n("routes"),className:"btn-primary w-full flex items-center justify-center gap-2",children:[E.jsx(mf,{className:"w-5 h-5"}),E.jsx("span",{children:"Abrir Navegao"})]})})]}),!(_!=null&&_.has_route)&&E.jsxs("div",{className:"card-premium p-8 text-center",children:[E.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:E.jsx(Zs,{className:"w-8 h-8 text-gray-400"})}),E.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:"Nenhuma rota ativa"}),E.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Aguardando designao de entregas"})]})]})},D=()=>d.role==="loading"?E.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[E.jsxs("div",{className:"relative w-16 h-16 mb-6",children:[E.jsx("div",{className:"absolute inset-0 border-4 border-primary-200 dark:border-primary-900 rounded-full"}),E.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-primary-600 rounded-full animate-spin"})]}),E.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Carregando..."}),E.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Preparando o ambiente"})]}):e==="dashboard"?d.role==="admin"?me():d.role==="deliverer"?j():E.jsxs("div",{className:"card-premium p-8 text-center",children:[E.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:E.jsx(ta,{className:"w-8 h-8 text-gray-400"})}),E.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:"Acesso Restrito"}),E.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Voc no tem permisso para acessar"})]}):e==="analysis"?E.jsx("div",{className:"h-full overflow-y-auto",children:E.jsx(jx,{})}):e==="separation"?E.jsx("div",{className:"h-full overflow-y-auto",children:E.jsx(E2,{})}):e==="routes"?d.role==="deliverer"&&(_!=null&&_.has_route)?E.jsxs("div",{className:"h-[calc(100vh-140px)] w-full rounded-2xl overflow-hidden shadow-glass border border-gray-200 dark:border-gray-700 relative",children:[E.jsx(Rx,{stops:_.stops}),E.jsxs("div",{className:"absolute top-3 left-3 right-3 glass-strong p-3 rounded-xl shadow-lg z-[1000] flex justify-between items-center",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse-soft"}),E.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Modo Navegao"})]}),E.jsxs("span",{className:"badge badge-info text-[10px]",children:[_.stops.length," pontos"]})]})]}):E.jsxs("div",{className:"card-premium p-10 text-center",children:[E.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:E.jsx(Zs,{className:"w-10 h-10 text-gray-400"})}),E.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:"Nenhuma rota disponvel"}),E.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No h rotas para exibir no mapa"})]}):e==="financial"?E.jsx(Dx,{data:k,adminStats:S}):e==="team"?E.jsx(Fx,{}):E.jsxs("div",{className:"card-premium p-10 text-center",children:[E.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:E.jsx(Zu,{className:"w-8 h-8 text-gray-400"})}),E.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:"Em Desenvolvimento"}),E.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Esta funcionalidade estar disponvel em breve "})]});return E.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950 text-gray-900 dark:text-gray-100 flex flex-col font-sans",children:[E.jsx("header",{className:"glass-strong sticky top-0 z-20 border-b border-gray-200/50 dark:border-gray-700/50",children:E.jsxs("div",{className:"max-w-lg mx-auto px-5 py-4 flex justify-between items-center",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"w-10 h-10 gradient-primary rounded-xl flex items-center justify-center shadow-lg shadow-primary-500/30",children:E.jsx("span",{className:"text-white font-black text-sm",children:"BE"})}),E.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white dark:border-gray-900 animate-pulse-soft"})]}),E.jsxs("div",{children:[E.jsx("h1",{className:"text-lg font-black text-gray-900 dark:text-white leading-none",children:"Bot Entregador"}),E.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 font-medium",children:"Sistema de Rotas"})]})]}),E.jsx("button",{onClick:U,className:"relative w-10 h-10 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 flex items-center justify-center transition-all active:scale-90 group",children:E.jsx(xf,{size:18,className:`${H?"animate-spin text-primary-600":"text-gray-500 dark:text-gray-400 group-hover:text-primary-600"} transition-colors`})})]})}),E.jsx("main",{className:"flex-1 overflow-auto pb-24 pt-5 scrollbar-premium",children:E.jsx("div",{className:"max-w-lg mx-auto px-4",children:D()})}),E.jsx("nav",{className:"fixed bottom-0 left-0 right-0 glass-strong border-t border-gray-200/50 dark:border-gray-700/50 pb-safe z-30 shadow-glass",children:E.jsx("div",{className:"max-w-lg mx-auto",children:E.jsxs("div",{className:"flex justify-around items-center h-16 px-2",children:[E.jsx($a,{icon:E.jsx(sx,{size:22}),label:"Incio",isActive:e==="dashboard",onClick:()=>n("dashboard")}),E.jsx($a,{icon:E.jsx(Zs,{size:22}),label:"Mapa",isActive:e==="routes",onClick:()=>n("routes")}),E.jsx($a,{icon:E.jsx(ea,{size:22}),label:"Ganhos",isActive:e==="financial",onClick:()=>n("financial")}),E.jsx($a,{icon:E.jsx(ta,{size:22}),label:"Perfil",isActive:e==="profile",onClick:()=>n("dashboard")})]})})})]})}function $a({icon:e,label:n,isActive:s,onClick:c}){return E.jsxs("button",{onClick:c,className:`relative flex flex-col items-center justify-center w-full h-full transition-all duration-300 ${s?"text-primary-600 dark:text-primary-400":"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300"}`,children:[s&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"absolute -top-[1px] left-1/2 -translate-x-1/2 w-12 h-1 gradient-primary rounded-b-full shadow-lg shadow-primary-500/30"}),E.jsx("div",{className:"absolute inset-0 bg-primary-50/50 dark:bg-primary-900/10 rounded-2xl mx-2"})]}),E.jsx("div",{className:`relative z-10 transition-all duration-300 ${s?"scale-110 -translate-y-0.5":""}`,children:E.jsx("div",{className:`p-1.5 rounded-xl transition-all ${s?"bg-primary-100 dark:bg-primary-900/30":""}`,children:e})}),E.jsx("span",{className:`relative z-10 text-[10px] font-semibold mt-1 transition-all ${s?"font-bold":""}`,children:n})]})}function Df({icon:e,label:n,sublabel:s,color:c,onClick:d}){const g={green:"from-green-500 to-emerald-600 shadow-green-500/30",blue:"from-blue-500 to-indigo-600 shadow-blue-500/30",purple:"from-purple-500 to-indigo-600 shadow-purple-500/30"};return E.jsxs("button",{onClick:d,className:"group relative overflow-hidden",children:[E.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${g[c]} rounded-2xl shadow-lg transition-all group-hover:shadow-xl group-active:scale-95`}),E.jsxs("div",{className:"relative p-4 flex flex-col items-center text-center text-white",children:[E.jsx("div",{className:"w-10 h-10 mb-2 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:e}),E.jsx("p",{className:"font-bold text-sm",children:n}),E.jsx("p",{className:"text-[10px] text-white/70 font-medium",children:s})]})]})}function Pf({icon:e,label:n,value:s,color:c,isDisabled:d,onClick:g}){const _={green:"from-green-500 to-emerald-600 text-green-700 dark:text-green-400 bg-green-100 dark:bg-green-900/30",blue:"from-blue-500 to-indigo-600 text-blue-700 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30"};return E.jsxs("button",{onClick:g,disabled:d,className:`card-premium p-4 flex items-center gap-3 text-left transition-all active:scale-95 ${d?"opacity-50 cursor-not-allowed":""}`,children:[E.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${_[c].split("text-")[1]}`,children:e}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium mb-0.5",children:n}),E.jsx("p",{className:"font-bold text-lg text-gray-900 dark:text-white truncate",children:s})]})]})}function Gu({icon:e,value:n,label:s}){return E.jsxs("div",{className:"py-4 text-center",children:[E.jsxs("div",{className:"flex items-center justify-center gap-1 text-gray-400 dark:text-gray-500 mb-2",children:[e,E.jsx("span",{className:"text-xs font-medium",children:s})]}),E.jsx("p",{className:"text-xl font-black text-gray-900 dark:text-white",children:n})]})}Yu.createRoot(document.getElementById("root")).render(E.jsx(dl.StrictMode,{children:E.jsx(A2,{})}));
